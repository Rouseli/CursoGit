(function(){function resolve(){document.body.removeAttribute("unresolved")}if(window.WebComponents)addEventListener("WebComponentsReady",resolve);else if(document.readyState==="interactive"||document.readyState==="complete")resolve();else addEventListener("DOMContentLoaded",resolve)})();
window.Polymer={Settings:function(){var settings=window.Polymer||{};if(!settings.noUrlSettings){var parts=location.search.slice(1).split("&");for(var i=0,o;i<parts.length&&(o=parts[i]);i++){o=o.split("=");o[0]&&(settings[o[0]]=o[1]||true)}}settings.wantShadow=settings.dom==="shadow";settings.hasShadow=Boolean(Element.prototype.createShadowRoot);settings.nativeShadow=settings.hasShadow&&!window.ShadowDOMPolyfill;settings.useShadow=settings.wantShadow&&settings.hasShadow;settings.hasNativeImports=Boolean("import"in
document.createElement("link"));settings.useNativeImports=settings.hasNativeImports;settings.useNativeCustomElements=!window.CustomElements||window.CustomElements.useNative;settings.useNativeShadow=settings.useShadow&&settings.nativeShadow;settings.usePolyfillProto=!settings.useNativeCustomElements&&!Object.__proto__;settings.hasNativeCSSProperties=!navigator.userAgent.match("AppleWebKit/601")&&window.CSS&&CSS.supports&&CSS.supports("box-shadow","0 0 0 var(--foo)");settings.useNativeCSSProperties=
settings.hasNativeCSSProperties&&settings.lazyRegister&&settings.useNativeCSSProperties;settings.isIE=navigator.userAgent.match("Trident");return settings}()};
(function(){var userPolymer=window.Polymer;window.Polymer=function(prototype){if(typeof prototype==="function")prototype=prototype.prototype;if(!prototype)prototype={};prototype=desugar(prototype);var customCtor=prototype===prototype.constructor.prototype?prototype.constructor:null;var options={prototype:prototype};if(prototype["extends"])options["extends"]=prototype["extends"];Polymer.telemetry._registrate(prototype);var ctor=document.registerElement(prototype.is,options);return customCtor||ctor};
var desugar=function(prototype){var base=Polymer.Base;if(prototype["extends"])base=Polymer.Base._getExtendedPrototype(prototype["extends"]);prototype=Polymer.Base.chainObject(prototype,base);prototype.registerCallback();return prototype};if(userPolymer)for(var i in userPolymer)Polymer[i]=userPolymer[i];Polymer.Class=function(prototype){if(!prototype.factoryImpl)prototype.factoryImpl=function(){};return desugar(prototype).constructor}})();
Polymer.telemetry={registrations:[],_regLog:function(prototype){console.log("["+prototype.is+"]: registered")},_registrate:function(prototype){this.registrations.push(prototype);Polymer.log&&this._regLog(prototype)},dumpRegistrations:function(){this.registrations.forEach(this._regLog)}};Object.defineProperty(window,"currentImport",{enumerable:true,configurable:true,get:function(){return(document._currentScript||document.currentScript||{}).ownerDocument}});
Polymer.RenderStatus={_ready:false,_callbacks:[],whenReady:function(cb){if(this._ready)cb();else this._callbacks.push(cb)},_makeReady:function(){this._ready=true;for(var i=0;i<this._callbacks.length;i++)this._callbacks[i]();this._callbacks=[]},_catchFirstRender:function(){requestAnimationFrame(function(){Polymer.RenderStatus._makeReady()})},_afterNextRenderQueue:[],_waitingNextRender:false,afterNextRender:function(element,fn,args){this._watchNextRender();this._afterNextRenderQueue.push([element,fn,
args])},hasRendered:function(){return this._ready},_watchNextRender:function(){if(!this._waitingNextRender){this._waitingNextRender=true;var fn=function(){Polymer.RenderStatus._flushNextRender()};if(!this._ready)this.whenReady(fn);else requestAnimationFrame(fn)}},_flushNextRender:function(){var self=this;setTimeout(function(){self._flushRenderCallbacks(self._afterNextRenderQueue);self._afterNextRenderQueue=[];self._waitingNextRender=false})},_flushRenderCallbacks:function(callbacks){for(var i=0,h;i<
callbacks.length;i++){h=callbacks[i];h[1].apply(h[0],h[2]||Polymer.nar)}}};if(window.HTMLImports)HTMLImports.whenReady(function(){Polymer.RenderStatus._catchFirstRender()});else Polymer.RenderStatus._catchFirstRender();Polymer.ImportStatus=Polymer.RenderStatus;Polymer.ImportStatus.whenLoaded=Polymer.ImportStatus.whenReady;
(function(){var settings=Polymer.Settings;Polymer.Base={__isPolymerInstance__:true,_addFeature:function(feature){this.mixin(this,feature)},registerCallback:function(){if(settings.lazyRegister==="max"){if(this.beforeRegister)this.beforeRegister()}else{this._desugarBehaviors();for(var i=0,b;i<this.behaviors.length;i++){b=this.behaviors[i];if(b.beforeRegister)b.beforeRegister.call(this)}if(this.beforeRegister)this.beforeRegister()}this._registerFeatures();if(!settings.lazyRegister)this.ensureRegisterFinished()},
createdCallback:function(){if(settings.disableUpgradeEnabled)if(this.hasAttribute("disable-upgrade")){this._propertySetter=disableUpgradePropertySetter;this._configValue=null;this.__data__={};return}else this.__hasInitialized=true;this.__initialize()},__initialize:function(){if(!this.__hasRegisterFinished)this._ensureRegisterFinished(this.__proto__);Polymer.telemetry.instanceCount++;this.root=this;for(var i=0,b;i<this.behaviors.length;i++){b=this.behaviors[i];if(b.created)b.created.call(this)}if(this.created)this.created();
this._initFeatures()},ensureRegisterFinished:function(){this._ensureRegisterFinished(this)},_ensureRegisterFinished:function(proto){if(proto.__hasRegisterFinished!==proto.is||!proto.is){if(settings.lazyRegister==="max"){proto._desugarBehaviors();for(var i=0,b;i<proto.behaviors.length;i++){b=proto.behaviors[i];if(b.beforeRegister)b.beforeRegister.call(proto)}}proto.__hasRegisterFinished=proto.is;if(proto._finishRegisterFeatures)proto._finishRegisterFeatures();for(var j=0,pb;j<proto.behaviors.length;j++){pb=
proto.behaviors[j];if(pb.registered)pb.registered.call(proto)}if(proto.registered)proto.registered();if(settings.usePolyfillProto&&proto!==this)proto.extend(this,proto)}},attachedCallback:function(){var self=this;Polymer.RenderStatus.whenReady(function(){self.isAttached=true;for(var i=0,b;i<self.behaviors.length;i++){b=self.behaviors[i];if(b.attached)b.attached.call(self)}if(self.attached)self.attached()})},detachedCallback:function(){var self=this;Polymer.RenderStatus.whenReady(function(){self.isAttached=
false;for(var i=0,b;i<self.behaviors.length;i++){b=self.behaviors[i];if(b.detached)b.detached.call(self)}if(self.detached)self.detached()})},attributeChangedCallback:function(name,oldValue,newValue){this._attributeChangedImpl(name);for(var i=0,b;i<this.behaviors.length;i++){b=this.behaviors[i];if(b.attributeChanged)b.attributeChanged.call(this,name,oldValue,newValue)}if(this.attributeChanged)this.attributeChanged(name,oldValue,newValue)},_attributeChangedImpl:function(name){this._setAttributeToProperty(this,
name)},extend:function(target,source){if(target&&source){var n$=Object.getOwnPropertyNames(source);for(var i=0,n;i<n$.length&&(n=n$[i]);i++)this.copyOwnProperty(n,source,target)}return target||source},mixin:function(target,source){for(var i in source)target[i]=source[i];return target},copyOwnProperty:function(name,source,target){var pd=Object.getOwnPropertyDescriptor(source,name);if(pd)Object.defineProperty(target,name,pd)},_logger:function(level,args){if(args.length===1&&Array.isArray(args[0]))args=
args[0];switch(level){case "log":case "warn":case "error":console[level].apply(console,args);break}},_log:function(){var args=Array.prototype.slice.call(arguments,0);this._logger("log",args)},_warn:function(){var args=Array.prototype.slice.call(arguments,0);this._logger("warn",args)},_error:function(){var args=Array.prototype.slice.call(arguments,0);this._logger("error",args)},_logf:function(){return this._logPrefix.concat(this.is).concat(Array.prototype.slice.call(arguments,0))}};Polymer.Base._logPrefix=
function(){var color=window.chrome&&!/edge/i.test(navigator.userAgent)||/firefox/i.test(navigator.userAgent);return color?["%c[%s::%s]:","font-weight: bold; background-color:#EEEE00;"]:["[%s::%s]:"]}();Polymer.Base.chainObject=function(object,inherited){if(object&&inherited&&object!==inherited){if(!Object.__proto__)object=Polymer.Base.extend(Object.create(inherited),object);object.__proto__=inherited}return object};Polymer.Base=Polymer.Base.chainObject(Polymer.Base,HTMLElement.prototype);Polymer.BaseDescriptors=
{};var disableUpgradePropertySetter;if(settings.disableUpgradeEnabled){disableUpgradePropertySetter=function(property,value){this.__data__[property]=value};var origAttributeChangedCallback=Polymer.Base.attributeChangedCallback;Polymer.Base.attributeChangedCallback=function(name,oldValue,newValue){if(!this.__hasInitialized&&name==="disable-upgrade"){this.__hasInitialized=true;this._propertySetter=Polymer.Bind._modelApi._propertySetter;this._configValue=Polymer.Base._configValue;this.__initialize()}origAttributeChangedCallback.call(this,
name,oldValue,newValue)}}if(window.CustomElements)Polymer["instanceof"]=CustomElements["instanceof"];else Polymer["instanceof"]=function(obj,ctor){return obj instanceof ctor};Polymer.isInstance=function(obj){return Boolean(obj&&obj.__isPolymerInstance__)};Polymer.telemetry.instanceCount=0})();
(function(){var modules={};var lcModules={};var findModule=function(id){return modules[id]||lcModules[id.toLowerCase()]};var DomModule=function(){return document.createElement("dom-module")};DomModule.prototype=Object.create(HTMLElement.prototype);Polymer.Base.mixin(DomModule.prototype,{createdCallback:function(){this.register()},register:function(id){id=id||this.id||this.getAttribute("name")||this.getAttribute("is");if(id){this.id=id;modules[id]=this;lcModules[id.toLowerCase()]=this}},"import":function(id,
selector){if(id){var m=findModule(id);if(!m){forceDomModulesUpgrade();m=findModule(id)}if(m&&selector)m=m.querySelector(selector);return m}}});Object.defineProperty(DomModule.prototype,"constructor",{value:DomModule,configurable:true,writable:true});var cePolyfill=window.CustomElements&&!CustomElements.useNative;document.registerElement("dom-module",DomModule);function forceDomModulesUpgrade(){if(cePolyfill){var script=document._currentScript||document.currentScript;var doc=script&&script.ownerDocument||
document;var modules=doc.querySelectorAll("dom-module");for(var i=modules.length-1,m;i>=0&&(m=modules[i]);i--)if(m.__upgraded__)return;else CustomElements.upgrade(m)}}})();Polymer.Base._addFeature({_prepIs:function(){if(!this.is){var module=(document._currentScript||document.currentScript).parentNode;if(module.localName==="dom-module"){var id=module.id||module.getAttribute("name")||module.getAttribute("is");this.is=id}}if(this.is)this.is=this.is.toLowerCase()}});
Polymer.Base._addFeature({behaviors:[],_desugarBehaviors:function(){if(this.behaviors.length)this.behaviors=this._desugarSomeBehaviors(this.behaviors)},_desugarSomeBehaviors:function(behaviors){var behaviorSet=[];behaviors=this._flattenBehaviorsList(behaviors);for(var i=behaviors.length-1;i>=0;i--){var b=behaviors[i];if(behaviorSet.indexOf(b)===-1){this._mixinBehavior(b);behaviorSet.unshift(b)}}return behaviorSet},_flattenBehaviorsList:function(behaviors){var flat=[];for(var i=0;i<behaviors.length;i++){var b=
behaviors[i];if(b instanceof Array)flat=flat.concat(this._flattenBehaviorsList(b));else if(b)flat.push(b);else this._warn(this._logf("_flattenBehaviorsList","behavior is null, check for missing or 404 import"))}return flat},_mixinBehavior:function(b){var n$=Object.getOwnPropertyNames(b);var useAssignment=b._noAccessors;for(var i=0,n;i<n$.length&&(n=n$[i]);i++)if(!Polymer.Base._behaviorProperties[n]&&!this.hasOwnProperty(n))if(useAssignment)this[n]=b[n];else this.copyOwnProperty(n,b,this)},_prepBehaviors:function(){this._prepFlattenedBehaviors(this.behaviors)},
_prepFlattenedBehaviors:function(behaviors){for(var i=0,l=behaviors.length;i<l;i++)this._prepBehavior(behaviors[i]);this._prepBehavior(this)},_marshalBehaviors:function(){for(var i=0;i<this.behaviors.length;i++)this._marshalBehavior(this.behaviors[i]);this._marshalBehavior(this)}});Polymer.Base._behaviorProperties={hostAttributes:true,beforeRegister:true,registered:true,properties:true,observers:true,listeners:true,created:true,attached:true,detached:true,attributeChanged:true,ready:true,_noAccessors:true};
Polymer.Base._addFeature({_getExtendedPrototype:function(tag){return this._getExtendedNativePrototype(tag)},_nativePrototypes:{},_getExtendedNativePrototype:function(tag){var p=this._nativePrototypes[tag];if(!p){p=Object.create(this.getNativePrototype(tag));var p$=Object.getOwnPropertyNames(Polymer.Base);for(var i=0,n;i<p$.length&&(n=p$[i]);i++)if(!Polymer.BaseDescriptors[n])p[n]=Polymer.Base[n];Object.defineProperties(p,Polymer.BaseDescriptors);this._nativePrototypes[tag]=p}return p},getNativePrototype:function(tag){return Object.getPrototypeOf(document.createElement(tag))}});
Polymer.Base._addFeature({_prepConstructor:function(){this._factoryArgs=this["extends"]?[this["extends"],this.is]:[this.is];var ctor=function(){return this._factory(arguments)};if(this.hasOwnProperty("extends"))ctor["extends"]=this["extends"];Object.defineProperty(this,"constructor",{value:ctor,writable:true,configurable:true});ctor.prototype=this},_factory:function(args){var elt=document.createElement.apply(document,this._factoryArgs);if(this.factoryImpl)this.factoryImpl.apply(elt,args);return elt}});
Polymer.nob=Object.create(null);
Polymer.Base._addFeature({getPropertyInfo:function(property){var info=this._getPropertyInfo(property,this.properties);if(!info)for(var i=0;i<this.behaviors.length;i++){info=this._getPropertyInfo(property,this.behaviors[i].properties);if(info)return info}return info||Polymer.nob},_getPropertyInfo:function(property,properties){var p=properties&&properties[property];if(typeof p==="function")p=properties[property]={type:p};if(p)p.defined=true;return p},_prepPropertyInfo:function(){this._propertyInfo={};
for(var i=0;i<this.behaviors.length;i++)this._addPropertyInfo(this._propertyInfo,this.behaviors[i].properties);this._addPropertyInfo(this._propertyInfo,this.properties);this._addPropertyInfo(this._propertyInfo,this._propertyEffects)},_addPropertyInfo:function(target,source){if(source){var t,s;for(var i in source){t=target[i];s=source[i];if(i[0]==="_"&&!s.readOnly)continue;if(!target[i])target[i]={type:typeof s==="function"?s:s.type,readOnly:s.readOnly,attribute:Polymer.CaseMap.camelToDashCase(i)};
else{if(!t.type)t.type=s.type;if(!t.readOnly)t.readOnly=s.readOnly}}}}});(function(){var propertiesDesc={configurable:true,writable:true,enumerable:true,value:{}};Polymer.BaseDescriptors.properties=propertiesDesc;Object.defineProperty(Polymer.Base,"properties",propertiesDesc)})();
Polymer.CaseMap={_caseMap:{},_rx:{dashToCamel:/-[a-z]/g,camelToDash:/([A-Z])/g},dashToCamelCase:function(dash){return this._caseMap[dash]||(this._caseMap[dash]=dash.indexOf("-")<0?dash:dash.replace(this._rx.dashToCamel,function(m){return m[1].toUpperCase()}))},camelToDashCase:function(camel){return this._caseMap[camel]||(this._caseMap[camel]=camel.replace(this._rx.camelToDash,"-$1").toLowerCase())}};
Polymer.Base._addFeature({_addHostAttributes:function(attributes){if(!this._aggregatedAttributes)this._aggregatedAttributes={};if(attributes)this.mixin(this._aggregatedAttributes,attributes)},_marshalHostAttributes:function(){if(this._aggregatedAttributes)this._applyAttributes(this,this._aggregatedAttributes)},_applyAttributes:function(node,attr$){for(var n in attr$)if(!this.hasAttribute(n)&&n!=="class"){var v=attr$[n];this.serializeValueToAttribute(v,n,this)}},_marshalAttributes:function(){this._takeAttributesToModel(this)},
_takeAttributesToModel:function(model){if(this.hasAttributes())for(var i in this._propertyInfo){var info=this._propertyInfo[i];if(this.hasAttribute(info.attribute))this._setAttributeToProperty(model,info.attribute,i,info)}},_setAttributeToProperty:function(model,attribute,property,info){if(!this._serializing){property=property||Polymer.CaseMap.dashToCamelCase(attribute);info=info||this._propertyInfo&&this._propertyInfo[property];if(info&&!info.readOnly){var v=this.getAttribute(attribute);model[property]=
this.deserialize(v,info.type)}}},_serializing:false,reflectPropertyToAttribute:function(property,attribute,value){this._serializing=true;value=value===undefined?this[property]:value;this.serializeValueToAttribute(value,attribute||Polymer.CaseMap.camelToDashCase(property));this._serializing=false},serializeValueToAttribute:function(value,attribute,node){var str=this.serialize(value);node=node||this;if(str===undefined)node.removeAttribute(attribute);else node.setAttribute(attribute,str)},deserialize:function(value,
type){switch(type){case Number:value=Number(value);break;case Boolean:value=value!=null;break;case Object:try{value=JSON.parse(value)}catch(x){}break;case Array:try{value=JSON.parse(value)}catch(x$0){value=null;console.warn("Polymer::Attributes: couldn`t decode Array as JSON")}break;case Date:value=new Date(value);break;case String:default:break}return value},serialize:function(value){switch(typeof value){case "boolean":return value?"":undefined;case "object":if(value instanceof Date)return value.toString();
else if(value)try{return JSON.stringify(value)}catch(x){return""}default:return value!=null?value:undefined}}});Polymer.version="1.9.1";Polymer.Base._addFeature({_registerFeatures:function(){this._prepIs();this._prepBehaviors();this._prepConstructor();this._prepPropertyInfo()},_prepBehavior:function(b){this._addHostAttributes(b.hostAttributes)},_marshalBehavior:function(b){},_initFeatures:function(){this._marshalHostAttributes();this._marshalBehaviors()}});(function(){function resolveCss(cssText,ownerDocument){return cssText.replace(CSS_URL_RX,function(m,pre,url,post){return pre+"'"+resolve(url.replace(/["']/g,""),ownerDocument)+"'"+post})}function resolveAttrs(element,ownerDocument){for(var name in URL_ATTRS){var a$=URL_ATTRS[name];for(var i=0,l=a$.length,a,at,v;i<l&&(a=a$[i]);i++)if(name==="*"||element.localName===name){at=element.attributes[a];v=at&&at.value;if(v&&v.search(BINDING_RX)<0)at.value=a==="style"?resolveCss(v,ownerDocument):resolve(v,
ownerDocument)}}}function resolve(url,ownerDocument){if(url&&ABS_URL.test(url))return url;var resolver=getUrlResolver(ownerDocument);resolver.href=url;return resolver.href||url}var tempDoc;var tempDocBase;function resolveUrl(url,baseUri){if(!tempDoc){tempDoc=document.implementation.createHTMLDocument("temp");tempDocBase=tempDoc.createElement("base");tempDoc.head.appendChild(tempDocBase)}tempDocBase.href=baseUri;return resolve(url,tempDoc)}function getUrlResolver(ownerDocument){return ownerDocument.body.__urlResolver||
(ownerDocument.body.__urlResolver=ownerDocument.createElement("a"))}function pathFromUrl(url){return url.substring(0,url.lastIndexOf("/")+1)}var CSS_URL_RX=/(url\()([^)]*)(\))/g;var URL_ATTRS={"*":["href","src","style","url"],form:["action"]};var ABS_URL=/(^\/)|(^#)|(^[\w-\d]*:)/;var BINDING_RX=/\{\{|\[\[/;Polymer.ResolveUrl={resolveCss:resolveCss,resolveAttrs:resolveAttrs,resolveUrl:resolveUrl,pathFromUrl:pathFromUrl};Polymer.rootPath=Polymer.Settings.rootPath||pathFromUrl(document.baseURI||window.location.href)})();
Polymer.Base._addFeature({_prepTemplate:function(){var module;if(this._template===undefined){module=Polymer.DomModule["import"](this.is);this._template=module&&module.querySelector("template")}if(module){var assetPath=module.getAttribute("assetpath")||"";var importURL=Polymer.ResolveUrl.resolveUrl(assetPath,module.ownerDocument.baseURI);this._importPath=Polymer.ResolveUrl.pathFromUrl(importURL)}else this._importPath="";if(this._template&&this._template.hasAttribute("is"))this._warn(this._logf("_prepTemplate",
"top-level Polymer template "+"must not be a type-extension, found",this._template,"Move inside simple <template>."));if(this._template&&!this._template.content&&window.HTMLTemplateElement&&HTMLTemplateElement.decorate)HTMLTemplateElement.decorate(this._template)},_stampTemplate:function(){if(this._template)this.root=this.instanceTemplate(this._template)},instanceTemplate:function(template){var dom=document.importNode(template._content||template.content,true);return dom}});
(function(){var baseAttachedCallback=Polymer.Base.attachedCallback;Polymer.Base._addFeature({_hostStack:[],ready:function(){},_registerHost:function(host){this.dataHost=host=host||Polymer.Base._hostStack[Polymer.Base._hostStack.length-1];if(host&&host._clients)host._clients.push(this);this._clients=null;this._clientsReadied=false},_beginHosting:function(){Polymer.Base._hostStack.push(this);if(!this._clients)this._clients=[]},_endHosting:function(){Polymer.Base._hostStack.pop()},_tryReady:function(){this._readied=
false;if(this._canReady())this._ready()},_canReady:function(){return!this.dataHost||this.dataHost._clientsReadied},_ready:function(){this._beforeClientsReady();if(this._template){this._setupRoot();this._readyClients()}this._clientsReadied=true;this._clients=null;this._afterClientsReady();this._readySelf()},_readyClients:function(){this._beginDistribute();var c$=this._clients;if(c$)for(var i=0,l=c$.length,c;i<l&&(c=c$[i]);i++)c._ready();this._finishDistribute()},_readySelf:function(){for(var i=0,b;i<
this.behaviors.length;i++){b=this.behaviors[i];if(b.ready)b.ready.call(this)}if(this.ready)this.ready();this._readied=true;if(this._attachedPending){this._attachedPending=false;this.attachedCallback()}},_beforeClientsReady:function(){},_afterClientsReady:function(){},_beforeAttached:function(){},attachedCallback:function(){if(this._readied){this._beforeAttached();baseAttachedCallback.call(this)}else this._attachedPending=true}})})();
Polymer.ArraySplice=function(){function newSplice(index,removed,addedCount){return{index:index,removed:removed,addedCount:addedCount}}var EDIT_LEAVE=0;var EDIT_UPDATE=1;var EDIT_ADD=2;var EDIT_DELETE=3;function ArraySplice(){}ArraySplice.prototype={calcEditDistances:function(current,currentStart,currentEnd,old,oldStart,oldEnd){var rowCount=oldEnd-oldStart+1;var columnCount=currentEnd-currentStart+1;var distances=new Array(rowCount);for(var i=0;i<rowCount;i++){distances[i]=new Array(columnCount);distances[i][0]=
i}for(var j=0;j<columnCount;j++)distances[0][j]=j;for(i=1;i<rowCount;i++)for(j=1;j<columnCount;j++)if(this.equals(current[currentStart+j-1],old[oldStart+i-1]))distances[i][j]=distances[i-1][j-1];else{var north=distances[i-1][j]+1;var west=distances[i][j-1]+1;distances[i][j]=north<west?north:west}return distances},spliceOperationsFromEditDistances:function(distances){var i=distances.length-1;var j=distances[0].length-1;var current=distances[i][j];var edits=[];while(i>0||j>0){if(i==0){edits.push(EDIT_ADD);
j--;continue}if(j==0){edits.push(EDIT_DELETE);i--;continue}var northWest=distances[i-1][j-1];var west=distances[i-1][j];var north=distances[i][j-1];var min;if(west<north)min=west<northWest?west:northWest;else min=north<northWest?north:northWest;if(min==northWest){if(northWest==current)edits.push(EDIT_LEAVE);else{edits.push(EDIT_UPDATE);current=northWest}i--;j--}else if(min==west){edits.push(EDIT_DELETE);i--;current=west}else{edits.push(EDIT_ADD);j--;current=north}}edits.reverse();return edits},calcSplices:function(current,
currentStart,currentEnd,old,oldStart,oldEnd){var prefixCount=0;var suffixCount=0;var minLength=Math.min(currentEnd-currentStart,oldEnd-oldStart);if(currentStart==0&&oldStart==0)prefixCount=this.sharedPrefix(current,old,minLength);if(currentEnd==current.length&&oldEnd==old.length)suffixCount=this.sharedSuffix(current,old,minLength-prefixCount);currentStart+=prefixCount;oldStart+=prefixCount;currentEnd-=suffixCount;oldEnd-=suffixCount;if(currentEnd-currentStart==0&&oldEnd-oldStart==0)return[];if(currentStart==
currentEnd){var splice=newSplice(currentStart,[],0);while(oldStart<oldEnd)splice.removed.push(old[oldStart++]);return[splice]}else if(oldStart==oldEnd)return[newSplice(currentStart,[],currentEnd-currentStart)];var ops=this.spliceOperationsFromEditDistances(this.calcEditDistances(current,currentStart,currentEnd,old,oldStart,oldEnd));splice=undefined;var splices=[];var index=currentStart;var oldIndex=oldStart;for(var i=0;i<ops.length;i++)switch(ops[i]){case EDIT_LEAVE:if(splice){splices.push(splice);
splice=undefined}index++;oldIndex++;break;case EDIT_UPDATE:if(!splice)splice=newSplice(index,[],0);splice.addedCount++;index++;splice.removed.push(old[oldIndex]);oldIndex++;break;case EDIT_ADD:if(!splice)splice=newSplice(index,[],0);splice.addedCount++;index++;break;case EDIT_DELETE:if(!splice)splice=newSplice(index,[],0);splice.removed.push(old[oldIndex]);oldIndex++;break}if(splice)splices.push(splice);return splices},sharedPrefix:function(current,old,searchLength){for(var i=0;i<searchLength;i++)if(!this.equals(current[i],
old[i]))return i;return searchLength},sharedSuffix:function(current,old,searchLength){var index1=current.length;var index2=old.length;var count=0;while(count<searchLength&&this.equals(current[--index1],old[--index2]))count++;return count},calculateSplices:function(current,previous){return this.calcSplices(current,0,current.length,previous,0,previous.length)},equals:function(currentValue,previousValue){return currentValue===previousValue}};return new ArraySplice}();
Polymer.domInnerHTML=function(){var escapeAttrRegExp=/[&\u00A0"]/g;var escapeDataRegExp=/[&\u00A0<>]/g;function escapeReplace(c){switch(c){case "&":return"&amp;";case "<":return"&lt;";case ">":return"&gt;";case '"':return"&quot;";case "\u00a0":return"&nbsp;"}}function escapeAttr(s){return s.replace(escapeAttrRegExp,escapeReplace)}function escapeData(s){return s.replace(escapeDataRegExp,escapeReplace)}function makeSet(arr){var set={};for(var i=0;i<arr.length;i++)set[arr[i]]=true;return set}var voidElements=
makeSet(["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"]);var plaintextParents=makeSet(["style","script","xmp","iframe","noembed","noframes","plaintext","noscript"]);function getOuterHTML(node,parentNode,composed){switch(node.nodeType){case Node.ELEMENT_NODE:var tagName=node.localName;var s="<"+tagName;var attrs=node.attributes;for(var i=0,attr;attr=attrs[i];i++)s+=" "+attr.name+'="'+escapeAttr(attr.value)+'"';s+=">";if(voidElements[tagName])return s;
return s+getInnerHTML(node,composed)+"</"+tagName+">";case Node.TEXT_NODE:var data=node.data;if(parentNode&&plaintextParents[parentNode.localName])return data;return escapeData(data);case Node.COMMENT_NODE:return"\x3c!--"+node.data+"--\x3e";default:console.error(node);throw new Error("not implemented");}}function getInnerHTML(node,composed){if(node instanceof HTMLTemplateElement)node=node.content;var s="";var c$=Polymer.dom(node).childNodes;for(var i=0,l=c$.length,child;i<l&&(child=c$[i]);i++)s+=
getOuterHTML(child,node,composed);return s}return{getInnerHTML:getInnerHTML}}();
(function(){var nativeInsertBefore=Element.prototype.insertBefore;var nativeAppendChild=Element.prototype.appendChild;var nativeRemoveChild=Element.prototype.removeChild;Polymer.TreeApi={arrayCopyChildNodes:function(parent){var copy=[],i=0;for(var n=parent.firstChild;n;n=n.nextSibling)copy[i++]=n;return copy},arrayCopyChildren:function(parent){var copy=[],i=0;for(var n=parent.firstElementChild;n;n=n.nextElementSibling)copy[i++]=n;return copy},arrayCopy:function(a$){var l=a$.length;var copy=new Array(l);
for(var i=0;i<l;i++)copy[i]=a$[i];return copy}};Polymer.TreeApi.Logical={hasParentNode:function(node){return Boolean(node.__dom&&node.__dom.parentNode)},hasChildNodes:function(node){return Boolean(node.__dom&&node.__dom.childNodes!==undefined)},getChildNodes:function(node){return this.hasChildNodes(node)?this._getChildNodes(node):node.childNodes},_getChildNodes:function(node){if(!node.__dom.childNodes){node.__dom.childNodes=[];for(var n=node.__dom.firstChild;n;n=n.__dom.nextSibling)node.__dom.childNodes.push(n)}return node.__dom.childNodes},
getParentNode:function(node){return node.__dom&&node.__dom.parentNode!==undefined?node.__dom.parentNode:node.parentNode},getFirstChild:function(node){return node.__dom&&node.__dom.firstChild!==undefined?node.__dom.firstChild:node.firstChild},getLastChild:function(node){return node.__dom&&node.__dom.lastChild!==undefined?node.__dom.lastChild:node.lastChild},getNextSibling:function(node){return node.__dom&&node.__dom.nextSibling!==undefined?node.__dom.nextSibling:node.nextSibling},getPreviousSibling:function(node){return node.__dom&&
node.__dom.previousSibling!==undefined?node.__dom.previousSibling:node.previousSibling},getFirstElementChild:function(node){return node.__dom&&node.__dom.firstChild!==undefined?this._getFirstElementChild(node):node.firstElementChild},_getFirstElementChild:function(node){var n=node.__dom.firstChild;while(n&&n.nodeType!==Node.ELEMENT_NODE)n=n.__dom.nextSibling;return n},getLastElementChild:function(node){return node.__dom&&node.__dom.lastChild!==undefined?this._getLastElementChild(node):node.lastElementChild},
_getLastElementChild:function(node){var n=node.__dom.lastChild;while(n&&n.nodeType!==Node.ELEMENT_NODE)n=n.__dom.previousSibling;return n},getNextElementSibling:function(node){return node.__dom&&node.__dom.nextSibling!==undefined?this._getNextElementSibling(node):node.nextElementSibling},_getNextElementSibling:function(node){var n=node.__dom.nextSibling;while(n&&n.nodeType!==Node.ELEMENT_NODE)n=n.__dom.nextSibling;return n},getPreviousElementSibling:function(node){return node.__dom&&node.__dom.previousSibling!==
undefined?this._getPreviousElementSibling(node):node.previousElementSibling},_getPreviousElementSibling:function(node){var n=node.__dom.previousSibling;while(n&&n.nodeType!==Node.ELEMENT_NODE)n=n.__dom.previousSibling;return n},saveChildNodes:function(node){if(!this.hasChildNodes(node)){node.__dom=node.__dom||{};node.__dom.firstChild=node.firstChild;node.__dom.lastChild=node.lastChild;node.__dom.childNodes=[];for(var n=node.firstChild;n;n=n.nextSibling){n.__dom=n.__dom||{};n.__dom.parentNode=node;
node.__dom.childNodes.push(n);n.__dom.nextSibling=n.nextSibling;n.__dom.previousSibling=n.previousSibling}}},recordInsertBefore:function(node,container,ref_node){container.__dom.childNodes=null;if(node.nodeType===Node.DOCUMENT_FRAGMENT_NODE)for(var n=node.firstChild;n;n=n.nextSibling)this._linkNode(n,container,ref_node);else this._linkNode(node,container,ref_node)},_linkNode:function(node,container,ref_node){node.__dom=node.__dom||{};container.__dom=container.__dom||{};if(ref_node)ref_node.__dom=
ref_node.__dom||{};node.__dom.previousSibling=ref_node?ref_node.__dom.previousSibling:container.__dom.lastChild;if(node.__dom.previousSibling)node.__dom.previousSibling.__dom.nextSibling=node;node.__dom.nextSibling=ref_node||null;if(node.__dom.nextSibling)node.__dom.nextSibling.__dom.previousSibling=node;node.__dom.parentNode=container;if(ref_node){if(ref_node===container.__dom.firstChild)container.__dom.firstChild=node}else{container.__dom.lastChild=node;if(!container.__dom.firstChild)container.__dom.firstChild=
node}container.__dom.childNodes=null},recordRemoveChild:function(node,container){node.__dom=node.__dom||{};container.__dom=container.__dom||{};if(node===container.__dom.firstChild)container.__dom.firstChild=node.__dom.nextSibling;if(node===container.__dom.lastChild)container.__dom.lastChild=node.__dom.previousSibling;var p=node.__dom.previousSibling;var n=node.__dom.nextSibling;if(p)p.__dom.nextSibling=n;if(n)n.__dom.previousSibling=p;node.__dom.parentNode=node.__dom.previousSibling=node.__dom.nextSibling=
undefined;container.__dom.childNodes=null}};Polymer.TreeApi.Composed={getChildNodes:function(node){return Polymer.TreeApi.arrayCopyChildNodes(node)},getParentNode:function(node){return node.parentNode},clearChildNodes:function(node){node.textContent=""},insertBefore:function(parentNode,newChild,refChild){return nativeInsertBefore.call(parentNode,newChild,refChild||null)},appendChild:function(parentNode,newChild){return nativeAppendChild.call(parentNode,newChild)},removeChild:function(parentNode,node){return nativeRemoveChild.call(parentNode,
node)}}})();
Polymer.DomApi=function(){var Settings=Polymer.Settings;var TreeApi=Polymer.TreeApi;var DomApi=function(node){this.node=needsToWrap?DomApi.wrap(node):node};var needsToWrap=Settings.hasShadow&&!Settings.nativeShadow;DomApi.wrap=window.wrap?window.wrap:function(node){return node};DomApi.prototype={flush:function(){Polymer.dom.flush()},deepContains:function(node){if(this.node.contains(node))return true;var n=node;var doc=node.ownerDocument;while(n&&n!==doc&&n!==this.node)n=Polymer.dom(n).parentNode||n.host;
return n===this.node},queryDistributedElements:function(selector){var c$=this.getEffectiveChildNodes();var list=[];for(var i=0,l=c$.length,c;i<l&&(c=c$[i]);i++)if(c.nodeType===Node.ELEMENT_NODE&&DomApi.matchesSelector.call(c,selector))list.push(c);return list},getEffectiveChildNodes:function(){var list=[];var c$=this.childNodes;for(var i=0,l=c$.length,c;i<l&&(c=c$[i]);i++)if(c.localName===CONTENT){var d$=dom(c).getDistributedNodes();for(var j=0;j<d$.length;j++)list.push(d$[j])}else list.push(c);return list},
observeNodes:function(callback){if(callback){if(!this.observer)this.observer=this.node.localName===CONTENT?new DomApi.DistributedNodesObserver(this):new DomApi.EffectiveNodesObserver(this);return this.observer.addListener(callback)}},unobserveNodes:function(handle){if(this.observer)this.observer.removeListener(handle)},notifyObserver:function(){if(this.observer)this.observer.notify()},_query:function(matcher,node,halter){node=node||this.node;var list=[];this._queryElements(TreeApi.Logical.getChildNodes(node),
matcher,halter,list);return list},_queryElements:function(elements,matcher,halter,list){for(var i=0,l=elements.length,c;i<l&&(c=elements[i]);i++)if(c.nodeType===Node.ELEMENT_NODE)if(this._queryElement(c,matcher,halter,list))return true},_queryElement:function(node,matcher,halter,list){var result=matcher(node);if(result)list.push(node);if(halter&&halter(result))return result;this._queryElements(TreeApi.Logical.getChildNodes(node),matcher,halter,list)}};var CONTENT=DomApi.CONTENT="content";var dom=
DomApi.factory=function(node){node=node||document;if(!node.__domApi)node.__domApi=new DomApi.ctor(node);return node.__domApi};DomApi.hasApi=function(node){return Boolean(node.__domApi)};DomApi.ctor=DomApi;Polymer.dom=function(obj,patch){if(obj instanceof Event)return Polymer.EventApi.factory(obj);else return DomApi.factory(obj,patch)};var p=Element.prototype;DomApi.matchesSelector=p.matches||p.matchesSelector||p.mozMatchesSelector||p.msMatchesSelector||p.oMatchesSelector||p.webkitMatchesSelector;
return DomApi}();
(function(){var Settings=Polymer.Settings;var DomApi=Polymer.DomApi;var dom=DomApi.factory;var TreeApi=Polymer.TreeApi;var getInnerHTML=Polymer.domInnerHTML.getInnerHTML;var CONTENT=DomApi.CONTENT;if(Settings.useShadow)return;var nativeCloneNode=Element.prototype.cloneNode;var nativeImportNode=Document.prototype.importNode;Polymer.Base.mixin(DomApi.prototype,{_lazyDistribute:function(host){if(host.shadyRoot&&host.shadyRoot._distributionClean){host.shadyRoot._distributionClean=false;Polymer.dom.addDebouncer(host.debounce("_distribute",
host._distributeContent))}},appendChild:function(node){return this.insertBefore(node)},insertBefore:function(node,ref_node){if(ref_node&&TreeApi.Logical.getParentNode(ref_node)!==this.node)throw Error("The ref_node to be inserted before is not a child "+"of this node");if(node.nodeType!==Node.DOCUMENT_FRAGMENT_NODE){var parent=TreeApi.Logical.getParentNode(node);if(parent){if(DomApi.hasApi(parent))dom(parent).notifyObserver();this._removeNode(node)}else this._removeOwnerShadyRoot(node)}if(!this._addNode(node,
ref_node)){if(ref_node)ref_node=ref_node.localName===CONTENT?this._firstComposedNode(ref_node):ref_node;var container=this.node._isShadyRoot?this.node.host:this.node;if(ref_node)TreeApi.Composed.insertBefore(container,node,ref_node);else TreeApi.Composed.appendChild(container,node)}this.notifyObserver();return node},_addNode:function(node,ref_node){var root=this.getOwnerRoot();if(root){var ipAdded=this._maybeAddInsertionPoint(node,this.node);if(!root._invalidInsertionPoints)root._invalidInsertionPoints=
ipAdded;this._addNodeToHost(root.host,node)}if(TreeApi.Logical.hasChildNodes(this.node))TreeApi.Logical.recordInsertBefore(node,this.node,ref_node);var handled=this._maybeDistribute(node)||this.node.shadyRoot;if(handled)if(node.nodeType===Node.DOCUMENT_FRAGMENT_NODE)while(node.firstChild)TreeApi.Composed.removeChild(node,node.firstChild);else{var parent=TreeApi.Composed.getParentNode(node);if(parent)TreeApi.Composed.removeChild(parent,node)}return handled},removeChild:function(node){if(TreeApi.Logical.getParentNode(node)!==
this.node)throw Error("The node to be removed is not a child of this node: "+node);if(!this._removeNode(node)){var container=this.node._isShadyRoot?this.node.host:this.node;var parent=TreeApi.Composed.getParentNode(node);if(container===parent)TreeApi.Composed.removeChild(container,node)}this.notifyObserver();return node},_removeNode:function(node){var logicalParent=TreeApi.Logical.hasParentNode(node)&&TreeApi.Logical.getParentNode(node);var distributed;var root=this._ownerShadyRootForNode(node);if(logicalParent){distributed=
dom(node)._maybeDistributeParent();TreeApi.Logical.recordRemoveChild(node,logicalParent);if(root&&this._removeDistributedChildren(root,node)){root._invalidInsertionPoints=true;this._lazyDistribute(root.host)}}this._removeOwnerShadyRoot(node);if(root)this._removeNodeFromHost(root.host,node);return distributed},replaceChild:function(node,ref_node){this.insertBefore(node,ref_node);this.removeChild(ref_node);return node},_hasCachedOwnerRoot:function(node){return Boolean(node._ownerShadyRoot!==undefined)},
getOwnerRoot:function(){return this._ownerShadyRootForNode(this.node)},_ownerShadyRootForNode:function(node){if(!node)return;var root=node._ownerShadyRoot;if(root===undefined){if(node._isShadyRoot)root=node;else{var parent=TreeApi.Logical.getParentNode(node);if(parent)root=parent._isShadyRoot?parent:this._ownerShadyRootForNode(parent);else root=null}if(root||document.documentElement.contains(node))node._ownerShadyRoot=root}return root},_maybeDistribute:function(node){var fragContent=node.nodeType===
Node.DOCUMENT_FRAGMENT_NODE&&!node.__noContent&&dom(node).querySelector(CONTENT);var wrappedContent=fragContent&&TreeApi.Logical.getParentNode(fragContent).nodeType!==Node.DOCUMENT_FRAGMENT_NODE;var hasContent=fragContent||node.localName===CONTENT;if(hasContent){var root=this.getOwnerRoot();if(root)this._lazyDistribute(root.host)}var needsDist=this._nodeNeedsDistribution(this.node);if(needsDist)this._lazyDistribute(this.node);return needsDist||hasContent&&!wrappedContent},_maybeAddInsertionPoint:function(node,
parent){var added;if(node.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&!node.__noContent){var c$=dom(node).querySelectorAll(CONTENT);for(var i=0,n,np,na;i<c$.length&&(n=c$[i]);i++){np=TreeApi.Logical.getParentNode(n);if(np===node)np=parent;na=this._maybeAddInsertionPoint(n,np);added=added||na}}else if(node.localName===CONTENT){TreeApi.Logical.saveChildNodes(parent);TreeApi.Logical.saveChildNodes(node);added=true}return added},_updateInsertionPoints:function(host){var i$=host.shadyRoot._insertionPoints=
dom(host.shadyRoot).querySelectorAll(CONTENT);for(var i=0,c;i<i$.length;i++){c=i$[i];TreeApi.Logical.saveChildNodes(c);TreeApi.Logical.saveChildNodes(TreeApi.Logical.getParentNode(c))}},_nodeNeedsDistribution:function(node){return node&&node.shadyRoot&&DomApi.hasInsertionPoint(node.shadyRoot)},_addNodeToHost:function(host,node){if(host._elementAdd)host._elementAdd(node)},_removeNodeFromHost:function(host,node){if(host._elementRemove)host._elementRemove(node)},_removeDistributedChildren:function(root,
container){var hostNeedsDist;var ip$=root._insertionPoints;for(var i=0;i<ip$.length;i++){var content=ip$[i];if(this._contains(container,content)){var dc$=dom(content).getDistributedNodes();for(var j=0;j<dc$.length;j++){hostNeedsDist=true;var node=dc$[j];var parent=TreeApi.Composed.getParentNode(node);if(parent)TreeApi.Composed.removeChild(parent,node)}}}return hostNeedsDist},_contains:function(container,node){while(node){if(node==container)return true;node=TreeApi.Logical.getParentNode(node)}},_removeOwnerShadyRoot:function(node){if(this._hasCachedOwnerRoot(node)){var c$=
TreeApi.Logical.getChildNodes(node);for(var i=0,l=c$.length,n;i<l&&(n=c$[i]);i++)this._removeOwnerShadyRoot(n)}node._ownerShadyRoot=undefined},_firstComposedNode:function(content){var n$=dom(content).getDistributedNodes();for(var i=0,l=n$.length,n,p$;i<l&&(n=n$[i]);i++){p$=dom(n).getDestinationInsertionPoints();if(p$[p$.length-1]===content)return n}},querySelector:function(selector){var result=this._query(function(n){return DomApi.matchesSelector.call(n,selector)},this.node,function(n){return Boolean(n)})[0];
return result||null},querySelectorAll:function(selector){return this._query(function(n){return DomApi.matchesSelector.call(n,selector)},this.node)},getDestinationInsertionPoints:function(){return this.node._destinationInsertionPoints||[]},getDistributedNodes:function(){return this.node._distributedNodes||[]},_clear:function(){while(this.childNodes.length)this.removeChild(this.childNodes[0])},setAttribute:function(name,value){this.node.setAttribute(name,value);this._maybeDistributeParent()},removeAttribute:function(name){this.node.removeAttribute(name);
this._maybeDistributeParent()},_maybeDistributeParent:function(){if(this._nodeNeedsDistribution(this.parentNode)){this._lazyDistribute(this.parentNode);return true}},cloneNode:function(deep){var n=nativeCloneNode.call(this.node,false);if(deep){var c$=this.childNodes;var d=dom(n);for(var i=0,nc;i<c$.length;i++){nc=dom(c$[i]).cloneNode(true);d.appendChild(nc)}}return n},importNode:function(externalNode,deep){var doc=this.node instanceof Document?this.node:this.node.ownerDocument;var n=nativeImportNode.call(doc,
externalNode,false);if(deep){var c$=TreeApi.Logical.getChildNodes(externalNode);var d=dom(n);for(var i=0,nc;i<c$.length;i++){nc=dom(doc).importNode(c$[i],true);d.appendChild(nc)}}return n},_getComposedInnerHTML:function(){return getInnerHTML(this.node,true)}});Object.defineProperties(DomApi.prototype,{activeElement:{get:function(){var active=document.activeElement;if(!active)return null;var isShadyRoot=!!this.node._isShadyRoot;if(this.node!==document){if(!isShadyRoot)return null;if(this.node.host===
active||!this.node.host.contains(active))return null}var activeRoot=dom(active).getOwnerRoot();while(activeRoot&&activeRoot!==this.node){active=activeRoot.host;activeRoot=dom(active).getOwnerRoot()}if(this.node===document)return activeRoot?null:active;else return activeRoot===this.node?active:null},configurable:true},childNodes:{get:function(){var c$=TreeApi.Logical.getChildNodes(this.node);return Array.isArray(c$)?c$:TreeApi.arrayCopyChildNodes(this.node)},configurable:true},children:{get:function(){if(TreeApi.Logical.hasChildNodes(this.node))return Array.prototype.filter.call(this.childNodes,
function(n){return n.nodeType===Node.ELEMENT_NODE});else return TreeApi.arrayCopyChildren(this.node)},configurable:true},parentNode:{get:function(){return TreeApi.Logical.getParentNode(this.node)},configurable:true},firstChild:{get:function(){return TreeApi.Logical.getFirstChild(this.node)},configurable:true},lastChild:{get:function(){return TreeApi.Logical.getLastChild(this.node)},configurable:true},nextSibling:{get:function(){return TreeApi.Logical.getNextSibling(this.node)},configurable:true},
previousSibling:{get:function(){return TreeApi.Logical.getPreviousSibling(this.node)},configurable:true},firstElementChild:{get:function(){return TreeApi.Logical.getFirstElementChild(this.node)},configurable:true},lastElementChild:{get:function(){return TreeApi.Logical.getLastElementChild(this.node)},configurable:true},nextElementSibling:{get:function(){return TreeApi.Logical.getNextElementSibling(this.node)},configurable:true},previousElementSibling:{get:function(){return TreeApi.Logical.getPreviousElementSibling(this.node)},
configurable:true},textContent:{get:function(){var nt=this.node.nodeType;if(nt===Node.TEXT_NODE||nt===Node.COMMENT_NODE)return this.node.textContent;else{var tc=[];for(var i=0,cn=this.childNodes,c;c=cn[i];i++)if(c.nodeType!==Node.COMMENT_NODE)tc.push(c.textContent);return tc.join("")}},set:function(text){var nt=this.node.nodeType;if(nt===Node.TEXT_NODE||nt===Node.COMMENT_NODE)this.node.textContent=text;else{this._clear();if(text)this.appendChild(document.createTextNode(text))}},configurable:true},
innerHTML:{get:function(){var nt=this.node.nodeType;if(nt===Node.TEXT_NODE||nt===Node.COMMENT_NODE)return null;else return getInnerHTML(this.node)},set:function(text){var nt=this.node.nodeType;if(nt!==Node.TEXT_NODE||nt!==Node.COMMENT_NODE){this._clear();var d=document.createElement("div");d.innerHTML=text;var c$=TreeApi.arrayCopyChildNodes(d);for(var i=0;i<c$.length;i++)this.appendChild(c$[i])}},configurable:true}});DomApi.hasInsertionPoint=function(root){return Boolean(root&&root._insertionPoints.length)}})();
(function(){var Settings=Polymer.Settings;var TreeApi=Polymer.TreeApi;var DomApi=Polymer.DomApi;if(!Settings.useShadow)return;Polymer.Base.mixin(DomApi.prototype,{querySelectorAll:function(selector){return TreeApi.arrayCopy(this.node.querySelectorAll(selector))},getOwnerRoot:function(){var n=this.node;while(n){if(n.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&n.host)return n;n=n.parentNode}},importNode:function(externalNode,deep){var doc=this.node instanceof Document?this.node:this.node.ownerDocument;
return doc.importNode(externalNode,deep)},getDestinationInsertionPoints:function(){var n$=this.node.getDestinationInsertionPoints&&this.node.getDestinationInsertionPoints();return n$?TreeApi.arrayCopy(n$):[]},getDistributedNodes:function(){var n$=this.node.getDistributedNodes&&this.node.getDistributedNodes();return n$?TreeApi.arrayCopy(n$):[]}});Object.defineProperties(DomApi.prototype,{activeElement:{get:function(){var node=DomApi.wrap(this.node);var activeElement=node.activeElement;return node.contains(activeElement)?
activeElement:null},configurable:true},childNodes:{get:function(){return TreeApi.arrayCopyChildNodes(this.node)},configurable:true},children:{get:function(){return TreeApi.arrayCopyChildren(this.node)},configurable:true},textContent:{get:function(){return this.node.textContent},set:function(value){return this.node.textContent=value},configurable:true},innerHTML:{get:function(){return this.node.innerHTML},set:function(value){return this.node.innerHTML=value},configurable:true}});var forwardMethods=
function(m$){for(var i=0;i<m$.length;i++)forwardMethod(m$[i])};var forwardMethod=function(method){DomApi.prototype[method]=function(){return this.node[method].apply(this.node,arguments)}};forwardMethods(["cloneNode","appendChild","insertBefore","removeChild","replaceChild","setAttribute","removeAttribute","querySelector"]);var forwardProperties=function(f$){for(var i=0;i<f$.length;i++)forwardProperty(f$[i])};var forwardProperty=function(name){Object.defineProperty(DomApi.prototype,name,{get:function(){return this.node[name]},
configurable:true})};forwardProperties(["parentNode","firstChild","lastChild","nextSibling","previousSibling","firstElementChild","lastElementChild","nextElementSibling","previousElementSibling"])})();
Polymer.Base.mixin(Polymer.dom,{_flushGuard:0,_FLUSH_MAX:100,_needsTakeRecords:!Polymer.Settings.useNativeCustomElements,_debouncers:[],_staticFlushList:[],_finishDebouncer:null,flush:function(){this._flushGuard=0;this._prepareFlush();while(this._debouncers.length&&this._flushGuard<this._FLUSH_MAX){while(this._debouncers.length)this._debouncers.shift().complete();if(this._finishDebouncer)this._finishDebouncer.complete();this._prepareFlush();this._flushGuard++}if(this._flushGuard>=this._FLUSH_MAX)console.warn("Polymer.dom.flush aborted. Flush may not be complete.")},
_prepareFlush:function(){if(this._needsTakeRecords)CustomElements.takeRecords();for(var i=0;i<this._staticFlushList.length;i++)this._staticFlushList[i]()},addStaticFlush:function(fn){this._staticFlushList.push(fn)},removeStaticFlush:function(fn){var i=this._staticFlushList.indexOf(fn);if(i>=0)this._staticFlushList.splice(i,1)},addDebouncer:function(debouncer){this._debouncers.push(debouncer);this._finishDebouncer=Polymer.Debounce(this._finishDebouncer,this._finishFlush)},_finishFlush:function(){Polymer.dom._debouncers=
[]}});
Polymer.EventApi=function(){var DomApi=Polymer.DomApi.ctor;var Settings=Polymer.Settings;DomApi.Event=function(event){this.event=event};if(Settings.useShadow)DomApi.Event.prototype={get rootTarget(){return this.event.path[0]},get localTarget(){return this.event.target},get path(){var path=this.event.path;if(!Array.isArray(path))path=Array.prototype.slice.call(path);return path}};else DomApi.Event.prototype={get rootTarget(){return this.event.target},get localTarget(){var current=this.event.currentTarget;var currentRoot=
current&&Polymer.dom(current).getOwnerRoot();var p$=this.path;for(var i=0;i<p$.length;i++)if(Polymer.dom(p$[i]).getOwnerRoot()===currentRoot)return p$[i]},get path(){if(!this.event._path){var path=[];var current=this.rootTarget;while(current){path.push(current);var insertionPoints=Polymer.dom(current).getDestinationInsertionPoints();if(insertionPoints.length){for(var i=0;i<insertionPoints.length-1;i++)path.push(insertionPoints[i]);current=insertionPoints[insertionPoints.length-1]}else current=Polymer.dom(current).parentNode||
current.host}path.push(window);this.event._path=path}return this.event._path}};var factory=function(event){if(!event.__eventApi)event.__eventApi=new DomApi.Event(event);return event.__eventApi};return{factory:factory}}();
(function(){var DomApi=Polymer.DomApi.ctor;var useShadow=Polymer.Settings.useShadow;Object.defineProperty(DomApi.prototype,"classList",{get:function(){if(!this._classList)this._classList=new DomApi.ClassList(this);return this._classList},configurable:true});DomApi.ClassList=function(host){this.domApi=host;this.node=host.node};DomApi.ClassList.prototype={add:function(){this.node.classList.add.apply(this.node.classList,arguments);this._distributeParent()},remove:function(){this.node.classList.remove.apply(this.node.classList,
arguments);this._distributeParent()},toggle:function(){this.node.classList.toggle.apply(this.node.classList,arguments);this._distributeParent()},_distributeParent:function(){if(!useShadow)this.domApi._maybeDistributeParent()},contains:function(){return this.node.classList.contains.apply(this.node.classList,arguments)}}})();
(function(){var DomApi=Polymer.DomApi.ctor;var Settings=Polymer.Settings;DomApi.EffectiveNodesObserver=function(domApi){this.domApi=domApi;this.node=this.domApi.node;this._listeners=[]};DomApi.EffectiveNodesObserver.prototype={addListener:function(callback){if(!this._isSetup){this._setup();this._isSetup=true}var listener={fn:callback,_nodes:[]};this._listeners.push(listener);this._scheduleNotify();return listener},removeListener:function(handle){var i=this._listeners.indexOf(handle);if(i>=0){this._listeners.splice(i,
1);handle._nodes=[]}if(!this._hasListeners()){this._cleanup();this._isSetup=false}},_setup:function(){this._observeContentElements(this.domApi.childNodes)},_cleanup:function(){this._unobserveContentElements(this.domApi.childNodes)},_hasListeners:function(){return Boolean(this._listeners.length)},_scheduleNotify:function(){if(this._debouncer)this._debouncer.stop();this._debouncer=Polymer.Debounce(this._debouncer,this._notify);this._debouncer.context=this;Polymer.dom.addDebouncer(this._debouncer)},
notify:function(){if(this._hasListeners())this._scheduleNotify()},_notify:function(){this._beforeCallListeners();this._callListeners()},_beforeCallListeners:function(){this._updateContentElements()},_updateContentElements:function(){this._observeContentElements(this.domApi.childNodes)},_observeContentElements:function(elements){for(var i=0,n;i<elements.length&&(n=elements[i]);i++)if(this._isContent(n)){n.__observeNodesMap=n.__observeNodesMap||new WeakMap;if(!n.__observeNodesMap.has(this))n.__observeNodesMap.set(this,
this._observeContent(n))}},_observeContent:function(content){var self=this;var h=Polymer.dom(content).observeNodes(function(){self._scheduleNotify()});h._avoidChangeCalculation=true;return h},_unobserveContentElements:function(elements){for(var i=0,n,h;i<elements.length&&(n=elements[i]);i++)if(this._isContent(n)){h=n.__observeNodesMap.get(this);if(h){Polymer.dom(n).unobserveNodes(h);n.__observeNodesMap["delete"](this)}}},_isContent:function(node){return node.localName==="content"},_callListeners:function(){var o$=
this._listeners;var nodes=this._getEffectiveNodes();for(var i=0,o;i<o$.length&&(o=o$[i]);i++){var info=this._generateListenerInfo(o,nodes);if(info||o._alwaysNotify)this._callListener(o,info)}},_getEffectiveNodes:function(){return this.domApi.getEffectiveChildNodes()},_generateListenerInfo:function(listener,newNodes){if(listener._avoidChangeCalculation)return true;var oldNodes=listener._nodes;var info={target:this.node,addedNodes:[],removedNodes:[]};var splices=Polymer.ArraySplice.calculateSplices(newNodes,
oldNodes);for(var i=0,s;i<splices.length&&(s=splices[i]);i++)for(var j=0,n;j<s.removed.length&&(n=s.removed[j]);j++)info.removedNodes.push(n);for(i=0,s;i<splices.length&&(s=splices[i]);i++)for(j=s.index;j<s.index+s.addedCount;j++)info.addedNodes.push(newNodes[j]);listener._nodes=newNodes;if(info.addedNodes.length||info.removedNodes.length)return info},_callListener:function(listener,info){return listener.fn.call(this.node,info)},enableShadowAttributeTracking:function(){}};if(Settings.useShadow){var baseSetup=
DomApi.EffectiveNodesObserver.prototype._setup;var baseCleanup=DomApi.EffectiveNodesObserver.prototype._cleanup;Polymer.Base.mixin(DomApi.EffectiveNodesObserver.prototype,{_setup:function(){if(!this._observer){var self=this;this._mutationHandler=function(mxns){if(mxns&&mxns.length)self._scheduleNotify()};this._observer=new MutationObserver(this._mutationHandler);this._boundFlush=function(){self._flush()};Polymer.dom.addStaticFlush(this._boundFlush);this._observer.observe(this.node,{childList:true})}baseSetup.call(this)},
_cleanup:function(){this._observer.disconnect();this._observer=null;this._mutationHandler=null;Polymer.dom.removeStaticFlush(this._boundFlush);baseCleanup.call(this)},_flush:function(){if(this._observer)this._mutationHandler(this._observer.takeRecords())},enableShadowAttributeTracking:function(){if(this._observer){this._makeContentListenersAlwaysNotify();this._observer.disconnect();this._observer.observe(this.node,{childList:true,attributes:true,subtree:true});var root=this.domApi.getOwnerRoot();
var host=root&&root.host;if(host&&Polymer.dom(host).observer)Polymer.dom(host).observer.enableShadowAttributeTracking()}},_makeContentListenersAlwaysNotify:function(){for(var i=0,h;i<this._listeners.length;i++){h=this._listeners[i];h._alwaysNotify=h._isContentListener}}})}})();
(function(){var DomApi=Polymer.DomApi.ctor;var Settings=Polymer.Settings;DomApi.DistributedNodesObserver=function(domApi){DomApi.EffectiveNodesObserver.call(this,domApi)};DomApi.DistributedNodesObserver.prototype=Object.create(DomApi.EffectiveNodesObserver.prototype);Polymer.Base.mixin(DomApi.DistributedNodesObserver.prototype,{_setup:function(){},_cleanup:function(){},_beforeCallListeners:function(){},_getEffectiveNodes:function(){return this.domApi.getDistributedNodes()}});if(Settings.useShadow)Polymer.Base.mixin(DomApi.DistributedNodesObserver.prototype,
{_setup:function(){if(!this._observer){var root=this.domApi.getOwnerRoot();var host=root&&root.host;if(host){var self=this;this._observer=Polymer.dom(host).observeNodes(function(){self._scheduleNotify()});this._observer._isContentListener=true;if(this._hasAttrSelect())Polymer.dom(host).observer.enableShadowAttributeTracking()}}},_hasAttrSelect:function(){var select=this.node.getAttribute("select");return select&&select.match(/[[.]+/)},_cleanup:function(){var root=this.domApi.getOwnerRoot();var host=
root&&root.host;if(host)Polymer.dom(host).unobserveNodes(this._observer);this._observer=null}})})();
(function(){var DomApi=Polymer.DomApi;var TreeApi=Polymer.TreeApi;Polymer.Base._addFeature({_prepShady:function(){this._useContent=this._useContent||Boolean(this._template)},_setupShady:function(){this.shadyRoot=null;if(!this.__domApi)this.__domApi=null;if(!this.__dom)this.__dom=null;if(!this._ownerShadyRoot)this._ownerShadyRoot=undefined},_poolContent:function(){if(this._useContent)TreeApi.Logical.saveChildNodes(this)},_setupRoot:function(){if(this._useContent){this._createLocalRoot();if(!this.dataHost)upgradeLogicalChildren(TreeApi.Logical.getChildNodes(this))}},
_createLocalRoot:function(){this.shadyRoot=this.root;this.shadyRoot._distributionClean=false;this.shadyRoot._hasDistributed=false;this.shadyRoot._isShadyRoot=true;this.shadyRoot._dirtyRoots=[];var i$=this.shadyRoot._insertionPoints=!this._notes||this._notes._hasContent?this.shadyRoot.querySelectorAll("content"):[];TreeApi.Logical.saveChildNodes(this.shadyRoot);for(var i=0,c;i<i$.length;i++){c=i$[i];TreeApi.Logical.saveChildNodes(c);TreeApi.Logical.saveChildNodes(c.parentNode)}this.shadyRoot.host=
this},distributeContent:function(updateInsertionPoints){if(this.shadyRoot){this.shadyRoot._invalidInsertionPoints=this.shadyRoot._invalidInsertionPoints||updateInsertionPoints;var host=getTopDistributingHost(this);Polymer.dom(this)._lazyDistribute(host)}},_distributeContent:function(){if(this._useContent&&!this.shadyRoot._distributionClean){if(this.shadyRoot._invalidInsertionPoints){Polymer.dom(this)._updateInsertionPoints(this);this.shadyRoot._invalidInsertionPoints=false}this._beginDistribute();
this._distributeDirtyRoots();this._finishDistribute()}},_beginDistribute:function(){if(this._useContent&&DomApi.hasInsertionPoint(this.shadyRoot)){this._resetDistribution();this._distributePool(this.shadyRoot,this._collectPool())}},_distributeDirtyRoots:function(){var c$=this.shadyRoot._dirtyRoots;for(var i=0,l=c$.length,c;i<l&&(c=c$[i]);i++)c._distributeContent();this.shadyRoot._dirtyRoots=[]},_finishDistribute:function(){if(this._useContent){this.shadyRoot._distributionClean=true;if(DomApi.hasInsertionPoint(this.shadyRoot)){this._composeTree();
notifyContentObservers(this.shadyRoot)}else if(!this.shadyRoot._hasDistributed){TreeApi.Composed.clearChildNodes(this);this.appendChild(this.shadyRoot)}else{var children=this._composeNode(this);this._updateChildNodes(this,children)}if(!this.shadyRoot._hasDistributed)notifyInitialDistribution(this);this.shadyRoot._hasDistributed=true}},elementMatches:function(selector,node){node=node||this;return DomApi.matchesSelector.call(node,selector)},_resetDistribution:function(){var children=TreeApi.Logical.getChildNodes(this);
for(var i=0;i<children.length;i++){var child=children[i];if(child._destinationInsertionPoints)child._destinationInsertionPoints=undefined;if(isInsertionPoint(child))clearDistributedDestinationInsertionPoints(child)}var root=this.shadyRoot;var p$=root._insertionPoints;for(var j=0;j<p$.length;j++)p$[j]._distributedNodes=[]},_collectPool:function(){var pool=[];var children=TreeApi.Logical.getChildNodes(this);for(var i=0;i<children.length;i++){var child=children[i];if(isInsertionPoint(child))pool.push.apply(pool,
child._distributedNodes);else pool.push(child)}return pool},_distributePool:function(node,pool){var p$=node._insertionPoints;for(var i=0,l=p$.length,p;i<l&&(p=p$[i]);i++){this._distributeInsertionPoint(p,pool);maybeRedistributeParent(p,this)}},_distributeInsertionPoint:function(content,pool){var anyDistributed=false;for(var i=0,l=pool.length,node;i<l;i++){node=pool[i];if(!node)continue;if(this._matchesContentSelect(node,content)){distributeNodeInto(node,content);pool[i]=undefined;anyDistributed=true}}if(!anyDistributed){var children=
TreeApi.Logical.getChildNodes(content);for(var j=0;j<children.length;j++)distributeNodeInto(children[j],content)}},_composeTree:function(){this._updateChildNodes(this,this._composeNode(this));var p$=this.shadyRoot._insertionPoints;for(var i=0,l=p$.length,p,parent;i<l&&(p=p$[i]);i++){parent=TreeApi.Logical.getParentNode(p);if(!parent._useContent&&parent!==this&&parent!==this.shadyRoot)this._updateChildNodes(parent,this._composeNode(parent))}},_composeNode:function(node){var children=[];var c$=TreeApi.Logical.getChildNodes(node.shadyRoot||
node);for(var i=0;i<c$.length;i++){var child=c$[i];if(isInsertionPoint(child)){var distributedNodes=child._distributedNodes;for(var j=0;j<distributedNodes.length;j++){var distributedNode=distributedNodes[j];if(isFinalDestination(child,distributedNode))children.push(distributedNode)}}else children.push(child)}return children},_updateChildNodes:function(container,children){var composed=TreeApi.Composed.getChildNodes(container);var splices=Polymer.ArraySplice.calculateSplices(children,composed);for(var i=
0,d=0,s;i<splices.length&&(s=splices[i]);i++){for(var j=0,n;j<s.removed.length&&(n=s.removed[j]);j++){if(TreeApi.Composed.getParentNode(n)===container)TreeApi.Composed.removeChild(container,n);composed.splice(s.index+d,1)}d-=s.addedCount}for(var i=0,s,next;i<splices.length&&(s=splices[i]);i++){next=composed[s.index];for(j=s.index,n;j<s.index+s.addedCount;j++){n=children[j];TreeApi.Composed.insertBefore(container,n,next);composed.splice(j,0,n)}}},_matchesContentSelect:function(node,contentElement){var select=
contentElement.getAttribute("select");if(!select)return true;select=select.trim();if(!select)return true;if(!(node instanceof Element))return false;var validSelectors=/^(:not\()?[*.#[a-zA-Z_|]/;if(!validSelectors.test(select))return false;return this.elementMatches(select,node)},_elementAdd:function(){},_elementRemove:function(){}});var domHostDesc={get:function(){var root=Polymer.dom(this).getOwnerRoot();return root&&root.host},configurable:true};Object.defineProperty(Polymer.Base,"domHost",domHostDesc);
Polymer.BaseDescriptors.domHost=domHostDesc;function distributeNodeInto(child,insertionPoint){insertionPoint._distributedNodes.push(child);var points=child._destinationInsertionPoints;if(!points)child._destinationInsertionPoints=[insertionPoint];else points.push(insertionPoint)}function clearDistributedDestinationInsertionPoints(content){var e$=content._distributedNodes;if(e$)for(var i=0;i<e$.length;i++){var d=e$[i]._destinationInsertionPoints;if(d)d.splice(d.indexOf(content)+1,d.length)}}function maybeRedistributeParent(content,
host){var parent=TreeApi.Logical.getParentNode(content);if(parent&&parent.shadyRoot&&DomApi.hasInsertionPoint(parent.shadyRoot)&&parent.shadyRoot._distributionClean){parent.shadyRoot._distributionClean=false;host.shadyRoot._dirtyRoots.push(parent)}}function isFinalDestination(insertionPoint,node){var points=node._destinationInsertionPoints;return points&&points[points.length-1]===insertionPoint}function isInsertionPoint(node){return node.localName=="content"}function getTopDistributingHost(host){while(host&&
hostNeedsRedistribution(host))host=host.domHost;return host}function hostNeedsRedistribution(host){var c$=TreeApi.Logical.getChildNodes(host);for(var i=0,c;i<c$.length;i++){c=c$[i];if(c.localName&&c.localName==="content")return host.domHost}}function notifyContentObservers(root){for(var i=0,c;i<root._insertionPoints.length;i++){c=root._insertionPoints[i];if(DomApi.hasApi(c))Polymer.dom(c).notifyObserver()}}function notifyInitialDistribution(host){if(DomApi.hasApi(host))Polymer.dom(host).notifyObserver()}
var needsUpgrade=window.CustomElements&&!CustomElements.useNative;function upgradeLogicalChildren(children){if(needsUpgrade&&children)for(var i=0;i<children.length;i++)CustomElements.upgrade(children[i])}})();
if(Polymer.Settings.useShadow)Polymer.Base._addFeature({_poolContent:function(){},_beginDistribute:function(){},distributeContent:function(){},_distributeContent:function(){},_finishDistribute:function(){},_createLocalRoot:function(){this.createShadowRoot();this.shadowRoot.appendChild(this.root);this.root=this.shadowRoot}});
Polymer.Async={_currVal:0,_lastVal:0,_callbacks:[],_twiddleContent:0,_twiddle:document.createTextNode(""),run:function(callback,waitTime){if(waitTime>0)return~setTimeout(callback,waitTime);else{this._twiddle.textContent=this._twiddleContent++;this._callbacks.push(callback);return this._currVal++}},cancel:function(handle){if(handle<0)clearTimeout(~handle);else{var idx=handle-this._lastVal;if(idx>=0){if(!this._callbacks[idx])throw"invalid async handle: "+handle;this._callbacks[idx]=null}}},_atEndOfMicrotask:function(){var len=
this._callbacks.length;for(var i=0;i<len;i++){var cb=this._callbacks[i];if(cb)try{cb()}catch(e){i++;this._callbacks.splice(0,i);this._lastVal+=i;this._twiddle.textContent=this._twiddleContent++;throw e;}}this._callbacks.splice(0,len);this._lastVal+=len}};(new window.MutationObserver(function(){Polymer.Async._atEndOfMicrotask()})).observe(Polymer.Async._twiddle,{characterData:true});
Polymer.Debounce=function(){var Async=Polymer.Async;var Debouncer=function(context){this.context=context;var self=this;this.boundComplete=function(){self.complete()}};Debouncer.prototype={go:function(callback,wait){var h;this.finish=function(){Async.cancel(h)};h=Async.run(this.boundComplete,wait);this.callback=callback},stop:function(){if(this.finish){this.finish();this.finish=null;this.callback=null}},complete:function(){if(this.finish){var callback=this.callback;this.stop();callback.call(this.context)}}};
function debounce(debouncer,callback,wait){if(debouncer)debouncer.stop();else debouncer=new Debouncer(this);debouncer.go(callback,wait);return debouncer}return debounce}();
Polymer.Base._addFeature({_setupDebouncers:function(){this._debouncers={}},debounce:function(jobName,callback,wait){return this._debouncers[jobName]=Polymer.Debounce.call(this,this._debouncers[jobName],callback,wait)},isDebouncerActive:function(jobName){var debouncer=this._debouncers[jobName];return!!(debouncer&&debouncer.finish)},flushDebouncer:function(jobName){var debouncer=this._debouncers[jobName];if(debouncer)debouncer.complete()},cancelDebouncer:function(jobName){var debouncer=this._debouncers[jobName];
if(debouncer)debouncer.stop()}});Polymer.DomModule=document.createElement("dom-module");
Polymer.Base._addFeature({_registerFeatures:function(){this._prepIs();this._prepBehaviors();this._prepConstructor();this._prepTemplate();this._prepShady();this._prepPropertyInfo()},_prepBehavior:function(b){this._addHostAttributes(b.hostAttributes)},_initFeatures:function(){this._registerHost();if(this._template){this._poolContent();this._beginHosting();this._stampTemplate();this._endHosting()}this._marshalHostAttributes();this._setupDebouncers();this._marshalBehaviors();this._tryReady()},_marshalBehavior:function(b){}});(function(){Polymer.nar=[];var disableUpgradeEnabled=Polymer.Settings.disableUpgradeEnabled;Polymer.Annotations={parseAnnotations:function(template,stripWhiteSpace){var list=[];var content=template._content||template.content;this._parseNodeAnnotations(content,list,stripWhiteSpace||template.hasAttribute("strip-whitespace"));return list},_parseNodeAnnotations:function(node,list,stripWhiteSpace){return node.nodeType===Node.TEXT_NODE?this._parseTextNodeAnnotation(node,list):this._parseElementAnnotations(node,
list,stripWhiteSpace)},_bindingRegex:function(){var IDENT="(?:"+"[a-zA-Z_$][\\w.:$\\-*]*"+")";var NUMBER="(?:"+"[-+]?[0-9]*\\.?[0-9]+(?:[eE][-+]?[0-9]+)?"+")";var SQUOTE_STRING="(?:"+"'(?:[^'\\\\]|\\\\.)*'"+")";var DQUOTE_STRING="(?:"+'"(?:[^"\\\\]|\\\\.)*"'+")";var STRING="(?:"+SQUOTE_STRING+"|"+DQUOTE_STRING+")";var ARGUMENT="(?:"+IDENT+"|"+NUMBER+"|"+STRING+"\\s*"+")";var ARGUMENTS="(?:"+ARGUMENT+"(?:,\\s*"+ARGUMENT+")*"+")";var ARGUMENT_LIST="(?:"+"\\(\\s*"+"(?:"+ARGUMENTS+"?"+")"+"\\)\\s*"+")";
var BINDING="("+IDENT+"\\s*"+ARGUMENT_LIST+"?"+")";var OPEN_BRACKET="(\\[\\[|{{)"+"\\s*";var CLOSE_BRACKET="(?:]]|}})";var NEGATE="(?:(!)\\s*)?";var EXPRESSION=OPEN_BRACKET+NEGATE+BINDING+CLOSE_BRACKET;return new RegExp(EXPRESSION,"g")}(),_parseBindings:function(text){var re=this._bindingRegex;var parts=[];var lastIndex=0;var m;while((m=re.exec(text))!==null){if(m.index>lastIndex)parts.push({literal:text.slice(lastIndex,m.index)});var mode=m[1][0];var negate=Boolean(m[2]);var value=m[3].trim();var customEvent,
notifyEvent,colon;if(mode=="{"&&(colon=value.indexOf("::"))>0){notifyEvent=value.substring(colon+2);value=value.substring(0,colon);customEvent=true}parts.push({compoundIndex:parts.length,value:value,mode:mode,negate:negate,event:notifyEvent,customEvent:customEvent});lastIndex=re.lastIndex}if(lastIndex&&lastIndex<text.length){var literal=text.substring(lastIndex);if(literal)parts.push({literal:literal})}if(parts.length)return parts},_literalFromParts:function(parts){var s="";for(var i=0;i<parts.length;i++){var literal=
parts[i].literal;s+=literal||""}return s},_parseTextNodeAnnotation:function(node,list){var parts=this._parseBindings(node.textContent);if(parts){node.textContent=this._literalFromParts(parts)||" ";var annote={bindings:[{kind:"text",name:"textContent",parts:parts,isCompound:parts.length!==1}]};list.push(annote);return annote}},_parseElementAnnotations:function(element,list,stripWhiteSpace){var annote={bindings:[],events:[]};if(element.localName==="content")list._hasContent=true;this._parseChildNodesAnnotations(element,
annote,list,stripWhiteSpace);if(element.attributes){this._parseNodeAttributeAnnotations(element,annote,list);if(this.prepElement)this.prepElement(element)}if(annote.bindings.length||annote.events.length||annote.id)list.push(annote);return annote},_parseChildNodesAnnotations:function(root,annote,list,stripWhiteSpace){if(root.firstChild){var node=root.firstChild;var i=0;while(node){var next=node.nextSibling;if(node.localName==="template"&&!node.hasAttribute("preserve-content"))this._parseTemplate(node,
i,list,annote,stripWhiteSpace);if(node.localName=="slot")node=this._replaceSlotWithContent(node);if(node.nodeType===Node.TEXT_NODE){var n=next;while(n&&n.nodeType===Node.TEXT_NODE){node.textContent+=n.textContent;next=n.nextSibling;root.removeChild(n);n=next}if(stripWhiteSpace&&!node.textContent.trim()){root.removeChild(node);i--}}if(node.parentNode){var childAnnotation=this._parseNodeAnnotations(node,list,stripWhiteSpace);if(childAnnotation){childAnnotation.parent=annote;childAnnotation.index=i}}node=
next;i++}}},_replaceSlotWithContent:function(slot){var content=slot.ownerDocument.createElement("content");while(slot.firstChild)content.appendChild(slot.firstChild);var attrs=slot.attributes;for(var i=0;i<attrs.length;i++){var attr=attrs[i];content.setAttribute(attr.name,attr.value)}var name=slot.getAttribute("name");if(name)content.setAttribute("select","[slot='"+name+"']");slot.parentNode.replaceChild(content,slot);return content},_parseTemplate:function(node,index,list,parent,stripWhiteSpace){var content=
document.createDocumentFragment();content._notes=this.parseAnnotations(node,stripWhiteSpace);content.appendChild(node.content);list.push({bindings:Polymer.nar,events:Polymer.nar,templateContent:content,parent:parent,index:index})},_parseNodeAttributeAnnotations:function(node,annotation){var attrs=Array.prototype.slice.call(node.attributes);for(var i=attrs.length-1,a;a=attrs[i];i--){var n=a.name;var v=a.value;var b;if(n.slice(0,3)==="on-"){node.removeAttribute(n);annotation.events.push({name:n.slice(3),
value:v})}else if(b=this._parseNodeAttributeAnnotation(node,n,v))annotation.bindings.push(b);else if(n==="id")annotation.id=v}},_parseNodeAttributeAnnotation:function(node,name,value){var parts=this._parseBindings(value);if(parts){var origName=name;var kind="property";if(name[name.length-1]=="$"){name=name.slice(0,-1);kind="attribute"}var literal=this._literalFromParts(parts);if(literal&&kind=="attribute")node.setAttribute(name,literal);if(node.localName==="input"&&origName==="value")node.setAttribute(origName,
"");if(disableUpgradeEnabled&&origName==="disable-upgrade$")node.setAttribute(name,"");node.removeAttribute(origName);var propertyName=Polymer.CaseMap.dashToCamelCase(name);if(kind==="property")name=propertyName;return{kind:kind,name:name,propertyName:propertyName,parts:parts,literal:literal,isCompound:parts.length!==1}}},findAnnotatedNode:function(root,annote){var parent=annote.parent&&Polymer.Annotations.findAnnotatedNode(root,annote.parent);if(parent)for(var n=parent.firstChild,i=0;n;n=n.nextSibling){if(annote.index===
i++)return n}else return root}}})();
Polymer.Path={root:function(path){var dotIndex=path.indexOf(".");if(dotIndex===-1)return path;return path.slice(0,dotIndex)},isDeep:function(path){return path.indexOf(".")!==-1},isAncestor:function(base,path){return base.indexOf(path+".")===0},isDescendant:function(base,path){return path.indexOf(base+".")===0},translate:function(base,newBase,path){return newBase+path.slice(base.length)},matches:function(base,wildcard,path){return base===path||this.isAncestor(base,path)||Boolean(wildcard)&&this.isDescendant(base,
path)}};
Polymer.Base._addFeature({_prepAnnotations:function(){if(!this._template)this._notes=[];else{var self=this;Polymer.Annotations.prepElement=function(element){self._prepElement(element)};if(this._template._content&&this._template._content._notes)this._notes=this._template._content._notes;else{this._notes=Polymer.Annotations.parseAnnotations(this._template);this._processAnnotations(this._notes)}Polymer.Annotations.prepElement=null}},_processAnnotations:function(notes){for(var i=0;i<notes.length;i++){var note=notes[i];
for(var j=0;j<note.bindings.length;j++){var b=note.bindings[j];for(var k=0;k<b.parts.length;k++){var p=b.parts[k];if(!p.literal){var signature=this._parseMethod(p.value);if(signature)p.signature=signature;else p.model=Polymer.Path.root(p.value)}}}if(note.templateContent){this._processAnnotations(note.templateContent._notes);var pp=note.templateContent._parentProps=this._discoverTemplateParentProps(note.templateContent._notes);var bindings=[];for(var prop in pp){var name="_parent_"+prop;bindings.push({index:note.index,
kind:"property",name:name,propertyName:name,parts:[{mode:"{",model:prop,value:prop}]})}note.bindings=note.bindings.concat(bindings)}}},_discoverTemplateParentProps:function(notes){var pp={};for(var i=0,n;i<notes.length&&(n=notes[i]);i++){for(var j=0,b$=n.bindings,b;j<b$.length&&(b=b$[j]);j++)for(var k=0,p$=b.parts,p;k<p$.length&&(p=p$[k]);k++)if(p.signature){var args=p.signature.args;for(var kk=0;kk<args.length;kk++){var model=args[kk].model;if(model)pp[model]=true}if(p.signature.dynamicFn)pp[p.signature.method]=
true}else if(p.model)pp[p.model]=true;if(n.templateContent){var tpp=n.templateContent._parentProps;Polymer.Base.mixin(pp,tpp)}}return pp},_prepElement:function(element){Polymer.ResolveUrl.resolveAttrs(element,this._template.ownerDocument)},_findAnnotatedNode:Polymer.Annotations.findAnnotatedNode,_marshalAnnotationReferences:function(){if(this._template){this._marshalIdNodes();this._marshalAnnotatedNodes();this._marshalAnnotatedListeners()}},_configureAnnotationReferences:function(){var notes=this._notes;
var nodes=this._nodes;for(var i=0;i<notes.length;i++){var note=notes[i];var node=nodes[i];this._configureTemplateContent(note,node);this._configureCompoundBindings(note,node)}},_configureTemplateContent:function(note,node){if(note.templateContent)node._content=note.templateContent},_configureCompoundBindings:function(note,node){var bindings=note.bindings;for(var i=0;i<bindings.length;i++){var binding=bindings[i];if(binding.isCompound){var storage=node.__compoundStorage__||(node.__compoundStorage__=
{});var parts=binding.parts;var literals=new Array(parts.length);for(var j=0;j<parts.length;j++)literals[j]=parts[j].literal;var name=binding.name;storage[name]=literals;if(binding.literal&&binding.kind=="property")if(node._configValue)node._configValue(name,binding.literal);else node[name]=binding.literal}}},_marshalIdNodes:function(){this.$={};for(var i=0,l=this._notes.length,a;i<l&&(a=this._notes[i]);i++)if(a.id)this.$[a.id]=this._findAnnotatedNode(this.root,a)},_marshalAnnotatedNodes:function(){if(this._notes&&
this._notes.length){var r=new Array(this._notes.length);for(var i=0;i<this._notes.length;i++)r[i]=this._findAnnotatedNode(this.root,this._notes[i]);this._nodes=r}},_marshalAnnotatedListeners:function(){for(var i=0,l=this._notes.length,a;i<l&&(a=this._notes[i]);i++)if(a.events&&a.events.length){var node=this._findAnnotatedNode(this.root,a);for(var j=0,e$=a.events,e;j<e$.length&&(e=e$[j]);j++)this.listen(node,e.name,e.value)}}});
Polymer.Base._addFeature({listeners:{},_listenListeners:function(listeners){var node,name,eventName;for(eventName in listeners){if(eventName.indexOf(".")<0){node=this;name=eventName}else{name=eventName.split(".");node=this.$[name[0]];name=name[1]}this.listen(node,name,listeners[eventName])}},listen:function(node,eventName,methodName){var handler=this._recallEventHandler(this,eventName,node,methodName);if(!handler)handler=this._createEventHandler(node,eventName,methodName);if(handler._listening)return;
this._listen(node,eventName,handler);handler._listening=true},_boundListenerKey:function(eventName,methodName){return eventName+":"+methodName},_recordEventHandler:function(host,eventName,target,methodName,handler){var hbl=host.__boundListeners;if(!hbl)hbl=host.__boundListeners=new WeakMap;var bl=hbl.get(target);if(!bl){bl={};if(!Polymer.Settings.isIE||target!=window)hbl.set(target,bl)}var key=this._boundListenerKey(eventName,methodName);bl[key]=handler},_recallEventHandler:function(host,eventName,
target,methodName){var hbl=host.__boundListeners;if(!hbl)return;var bl=hbl.get(target);if(!bl)return;var key=this._boundListenerKey(eventName,methodName);return bl[key]},_createEventHandler:function(node,eventName,methodName){var host=this;var handler=function(e){if(host[methodName])host[methodName](e,e.detail);else host._warn(host._logf("_createEventHandler","listener method `"+methodName+"` not defined"))};handler._listening=false;this._recordEventHandler(host,eventName,node,methodName,handler);
return handler},unlisten:function(node,eventName,methodName){var handler=this._recallEventHandler(this,eventName,node,methodName);if(handler){this._unlisten(node,eventName,handler);handler._listening=false}},_listen:function(node,eventName,handler){node.addEventListener(eventName,handler)},_unlisten:function(node,eventName,handler){node.removeEventListener(eventName,handler)}});
(function(){var wrap=Polymer.DomApi.wrap;var HAS_NATIVE_TA=typeof document.head.style.touchAction==="string";var GESTURE_KEY="__polymerGestures";var HANDLED_OBJ="__polymerGesturesHandled";var TOUCH_ACTION="__polymerGesturesTouchAction";var TAP_DISTANCE=25;var TRACK_DISTANCE=5;var TRACK_LENGTH=2;var MOUSE_TIMEOUT=2500;var MOUSE_EVENTS=["mousedown","mousemove","mouseup","click"];var MOUSE_WHICH_TO_BUTTONS=[0,1,4,2];var MOUSE_HAS_BUTTONS=function(){try{return(new MouseEvent("test",{buttons:1})).buttons===
1}catch(e){return false}}();var SUPPORTS_PASSIVE=false;(function(){try{var opts=Object.defineProperty({},"passive",{get:function(){SUPPORTS_PASSIVE=true}});window.addEventListener("test",null,opts);window.removeEventListener("test",null,opts)}catch(e){}})();var IS_TOUCH_ONLY=navigator.userAgent.match(/iP(?:[oa]d|hone)|Android/);var mouseCanceller=function(mouseEvent){var sc=mouseEvent.sourceCapabilities;if(sc&&!sc.firesTouchEvents)return;mouseEvent[HANDLED_OBJ]={skip:true};if(mouseEvent.type==="click"){var path=
Polymer.dom(mouseEvent).path;for(var i=0;i<path.length;i++)if(path[i]===POINTERSTATE.mouse.target)return;mouseEvent.preventDefault();mouseEvent.stopPropagation()}};function setupTeardownMouseCanceller(setup){var events=IS_TOUCH_ONLY?["click"]:MOUSE_EVENTS;for(var i=0,en;i<events.length;i++){en=events[i];if(setup)document.addEventListener(en,mouseCanceller,true);else document.removeEventListener(en,mouseCanceller,true)}}function ignoreMouse(ev){if(!POINTERSTATE.mouse.mouseIgnoreJob)setupTeardownMouseCanceller(true);
var unset=function(){setupTeardownMouseCanceller();POINTERSTATE.mouse.target=null;POINTERSTATE.mouse.mouseIgnoreJob=null};POINTERSTATE.mouse.target=Polymer.dom(ev).rootTarget;POINTERSTATE.mouse.mouseIgnoreJob=Polymer.Debounce(POINTERSTATE.mouse.mouseIgnoreJob,unset,MOUSE_TIMEOUT)}function hasLeftMouseButton(ev){var type=ev.type;if(MOUSE_EVENTS.indexOf(type)===-1)return false;if(type==="mousemove"){var buttons=ev.buttons===undefined?1:ev.buttons;if(ev instanceof window.MouseEvent&&!MOUSE_HAS_BUTTONS)buttons=
MOUSE_WHICH_TO_BUTTONS[ev.which]||0;return Boolean(buttons&1)}else{var button=ev.button===undefined?0:ev.button;return button===0}}function isSyntheticClick(ev){if(ev.type==="click"){if(ev.detail===0)return true;var t=Gestures.findOriginalTarget(ev);var bcr=t.getBoundingClientRect();var x=ev.pageX,y=ev.pageY;return!(x>=bcr.left&&x<=bcr.right&&(y>=bcr.top&&y<=bcr.bottom))}return false}var POINTERSTATE={mouse:{target:null,mouseIgnoreJob:null},touch:{x:0,y:0,id:-1,scrollDecided:false}};function firstTouchAction(ev){var path=
Polymer.dom(ev).path;var ta="auto";for(var i=0,n;i<path.length;i++){n=path[i];if(n[TOUCH_ACTION]){ta=n[TOUCH_ACTION];break}}return ta}function trackDocument(stateObj,movefn,upfn){stateObj.movefn=movefn;stateObj.upfn=upfn;document.addEventListener("mousemove",movefn);document.addEventListener("mouseup",upfn)}function untrackDocument(stateObj){document.removeEventListener("mousemove",stateObj.movefn);document.removeEventListener("mouseup",stateObj.upfn);stateObj.movefn=null;stateObj.upfn=null}document.addEventListener("touchend",
ignoreMouse,SUPPORTS_PASSIVE?{passive:true}:false);var Gestures={gestures:{},recognizers:[],deepTargetFind:function(x,y){var node=document.elementFromPoint(x,y);var next=node;while(next&&next.shadowRoot){next=next.shadowRoot.elementFromPoint(x,y);if(next)node=next}return node},findOriginalTarget:function(ev){if(ev.path)return ev.path[0];return ev.target},handleNative:function(ev){var handled;var type=ev.type;var node=wrap(ev.currentTarget);var gobj=node[GESTURE_KEY];if(!gobj)return;var gs=gobj[type];
if(!gs)return;if(!ev[HANDLED_OBJ]){ev[HANDLED_OBJ]={};if(type.slice(0,5)==="touch"){var t=ev.changedTouches[0];if(type==="touchstart")if(ev.touches.length===1)POINTERSTATE.touch.id=t.identifier;if(POINTERSTATE.touch.id!==t.identifier)return;if(!HAS_NATIVE_TA)if(type==="touchstart"||type==="touchmove")Gestures.handleTouchAction(ev)}}handled=ev[HANDLED_OBJ];if(handled.skip)return;var recognizers=Gestures.recognizers;for(var i=0,r;i<recognizers.length;i++){r=recognizers[i];if(gs[r.name]&&!handled[r.name])if(r.flow&&
r.flow.start.indexOf(ev.type)>-1&&r.reset)r.reset()}for(i=0,r;i<recognizers.length;i++){r=recognizers[i];if(gs[r.name]&&!handled[r.name]){handled[r.name]=true;r[type](ev)}}},handleTouchAction:function(ev){var t=ev.changedTouches[0];var type=ev.type;if(type==="touchstart"){POINTERSTATE.touch.x=t.clientX;POINTERSTATE.touch.y=t.clientY;POINTERSTATE.touch.scrollDecided=false}else if(type==="touchmove"){if(POINTERSTATE.touch.scrollDecided)return;POINTERSTATE.touch.scrollDecided=true;var ta=firstTouchAction(ev);
var prevent=false;var dx=Math.abs(POINTERSTATE.touch.x-t.clientX);var dy=Math.abs(POINTERSTATE.touch.y-t.clientY);if(!ev.cancelable);else if(ta==="none")prevent=true;else if(ta==="pan-x")prevent=dy>dx;else if(ta==="pan-y")prevent=dx>dy;if(prevent)ev.preventDefault();else Gestures.prevent("track")}},add:function(node,evType,handler){node=wrap(node);var recognizer=this.gestures[evType];var deps=recognizer.deps;var name=recognizer.name;var gobj=node[GESTURE_KEY];if(!gobj)node[GESTURE_KEY]=gobj={};for(var i=
0,dep,gd;i<deps.length;i++){dep=deps[i];if(IS_TOUCH_ONLY&&MOUSE_EVENTS.indexOf(dep)>-1&&dep!=="click")continue;gd=gobj[dep];if(!gd)gobj[dep]=gd={_count:0};if(gd._count===0)node.addEventListener(dep,this.handleNative);gd[name]=(gd[name]||0)+1;gd._count=(gd._count||0)+1}node.addEventListener(evType,handler);if(recognizer.touchAction)this.setTouchAction(node,recognizer.touchAction)},remove:function(node,evType,handler){node=wrap(node);var recognizer=this.gestures[evType];var deps=recognizer.deps;var name=
recognizer.name;var gobj=node[GESTURE_KEY];if(gobj)for(var i=0,dep,gd;i<deps.length;i++){dep=deps[i];gd=gobj[dep];if(gd&&gd[name]){gd[name]=(gd[name]||1)-1;gd._count=(gd._count||1)-1;if(gd._count===0)node.removeEventListener(dep,this.handleNative)}}node.removeEventListener(evType,handler)},register:function(recog){this.recognizers.push(recog);for(var i=0;i<recog.emits.length;i++)this.gestures[recog.emits[i]]=recog},findRecognizerByEvent:function(evName){for(var i=0,r;i<this.recognizers.length;i++){r=
this.recognizers[i];for(var j=0,n;j<r.emits.length;j++){n=r.emits[j];if(n===evName)return r}}return null},setTouchAction:function(node,value){if(HAS_NATIVE_TA)node.style.touchAction=value;node[TOUCH_ACTION]=value},fire:function(target,type,detail){var ev=Polymer.Base.fire(type,detail,{node:target,bubbles:true,cancelable:true});if(ev.defaultPrevented){var preventer=detail.preventer||detail.sourceEvent;if(preventer&&preventer.preventDefault)preventer.preventDefault()}},prevent:function(evName){var recognizer=
this.findRecognizerByEvent(evName);if(recognizer.info)recognizer.info.prevent=true},resetMouseCanceller:function(){if(POINTERSTATE.mouse.mouseIgnoreJob)POINTERSTATE.mouse.mouseIgnoreJob.complete()}};Gestures.register({name:"downup",deps:["mousedown","touchstart","touchend"],flow:{start:["mousedown","touchstart"],end:["mouseup","touchend"]},emits:["down","up"],info:{movefn:null,upfn:null},reset:function(){untrackDocument(this.info)},mousedown:function(e){if(!hasLeftMouseButton(e))return;var t=Gestures.findOriginalTarget(e);
var self=this;var movefn=function movefn(e){if(!hasLeftMouseButton(e)){self.fire("up",t,e);untrackDocument(self.info)}};var upfn=function upfn(e){if(hasLeftMouseButton(e))self.fire("up",t,e);untrackDocument(self.info)};trackDocument(this.info,movefn,upfn);this.fire("down",t,e)},touchstart:function(e){this.fire("down",Gestures.findOriginalTarget(e),e.changedTouches[0],e)},touchend:function(e){this.fire("up",Gestures.findOriginalTarget(e),e.changedTouches[0],e)},fire:function(type,target,event,preventer){Gestures.fire(target,
type,{x:event.clientX,y:event.clientY,sourceEvent:event,preventer:preventer,prevent:function(e){return Gestures.prevent(e)}})}});Gestures.register({name:"track",touchAction:"none",deps:["mousedown","touchstart","touchmove","touchend"],flow:{start:["mousedown","touchstart"],end:["mouseup","touchend"]},emits:["track"],info:{x:0,y:0,state:"start",started:false,moves:[],addMove:function(move){if(this.moves.length>TRACK_LENGTH)this.moves.shift();this.moves.push(move)},movefn:null,upfn:null,prevent:false},
reset:function(){this.info.state="start";this.info.started=false;this.info.moves=[];this.info.x=0;this.info.y=0;this.info.prevent=false;untrackDocument(this.info)},hasMovedEnough:function(x,y){if(this.info.prevent)return false;if(this.info.started)return true;var dx=Math.abs(this.info.x-x);var dy=Math.abs(this.info.y-y);return dx>=TRACK_DISTANCE||dy>=TRACK_DISTANCE},mousedown:function(e){if(!hasLeftMouseButton(e))return;var t=Gestures.findOriginalTarget(e);var self=this;var movefn=function movefn(e){var x=
e.clientX,y=e.clientY;if(self.hasMovedEnough(x,y)){self.info.state=self.info.started?e.type==="mouseup"?"end":"track":"start";if(self.info.state==="start")Gestures.prevent("tap");self.info.addMove({x:x,y:y});if(!hasLeftMouseButton(e)){self.info.state="end";untrackDocument(self.info)}self.fire(t,e);self.info.started=true}};var upfn=function upfn(e){if(self.info.started)movefn(e);untrackDocument(self.info)};trackDocument(this.info,movefn,upfn);this.info.x=e.clientX;this.info.y=e.clientY},touchstart:function(e){var ct=
e.changedTouches[0];this.info.x=ct.clientX;this.info.y=ct.clientY},touchmove:function(e){var t=Gestures.findOriginalTarget(e);var ct=e.changedTouches[0];var x=ct.clientX,y=ct.clientY;if(this.hasMovedEnough(x,y)){if(this.info.state==="start")Gestures.prevent("tap");this.info.addMove({x:x,y:y});this.fire(t,ct);this.info.state="track";this.info.started=true}},touchend:function(e){var t=Gestures.findOriginalTarget(e);var ct=e.changedTouches[0];if(this.info.started){this.info.state="end";this.info.addMove({x:ct.clientX,
y:ct.clientY});this.fire(t,ct,e)}},fire:function(target,touch,preventer){var secondlast=this.info.moves[this.info.moves.length-2];var lastmove=this.info.moves[this.info.moves.length-1];var dx=lastmove.x-this.info.x;var dy=lastmove.y-this.info.y;var ddx,ddy=0;if(secondlast){ddx=lastmove.x-secondlast.x;ddy=lastmove.y-secondlast.y}return Gestures.fire(target,"track",{state:this.info.state,x:touch.clientX,y:touch.clientY,dx:dx,dy:dy,ddx:ddx,ddy:ddy,sourceEvent:touch,preventer:preventer,hover:function(){return Gestures.deepTargetFind(touch.clientX,
touch.clientY)}})}});Gestures.register({name:"tap",deps:["mousedown","click","touchstart","touchend"],flow:{start:["mousedown","touchstart"],end:["click","touchend"]},emits:["tap"],info:{x:NaN,y:NaN,prevent:false},reset:function(){this.info.x=NaN;this.info.y=NaN;this.info.prevent=false},save:function(e){this.info.x=e.clientX;this.info.y=e.clientY},mousedown:function(e){if(hasLeftMouseButton(e))this.save(e)},click:function(e){if(hasLeftMouseButton(e))this.forward(e)},touchstart:function(e){this.save(e.changedTouches[0],
e)},touchend:function(e){this.forward(e.changedTouches[0],e)},forward:function(e,preventer){var dx=Math.abs(e.clientX-this.info.x);var dy=Math.abs(e.clientY-this.info.y);var t=Gestures.findOriginalTarget(e);if(isNaN(dx)||isNaN(dy)||dx<=TAP_DISTANCE&&dy<=TAP_DISTANCE||isSyntheticClick(e))if(!this.info.prevent)Gestures.fire(t,"tap",{x:e.clientX,y:e.clientY,sourceEvent:e,preventer:preventer})}});var DIRECTION_MAP={x:"pan-x",y:"pan-y",none:"none",all:"auto"};Polymer.Base._addFeature({_setupGestures:function(){this.__polymerGestures=
null},_listen:function(node,eventName,handler){if(Gestures.gestures[eventName])Gestures.add(node,eventName,handler);else node.addEventListener(eventName,handler)},_unlisten:function(node,eventName,handler){if(Gestures.gestures[eventName])Gestures.remove(node,eventName,handler);else node.removeEventListener(eventName,handler)},setScrollDirection:function(direction,node){node=node||this;Gestures.setTouchAction(node,DIRECTION_MAP[direction]||"auto")}});Polymer.Gestures=Gestures})();
(function(){Polymer.Base._addFeature({$$:function(slctr){return Polymer.dom(this.root).querySelector(slctr)},toggleClass:function(name,bool,node){node=node||this;if(arguments.length==1)bool=!node.classList.contains(name);if(bool)Polymer.dom(node).classList.add(name);else Polymer.dom(node).classList.remove(name)},toggleAttribute:function(name,bool,node){node=node||this;if(arguments.length==1)bool=!node.hasAttribute(name);if(bool)Polymer.dom(node).setAttribute(name,"");else Polymer.dom(node).removeAttribute(name)},
classFollows:function(name,toElement,fromElement){if(fromElement)Polymer.dom(fromElement).classList.remove(name);if(toElement)Polymer.dom(toElement).classList.add(name)},attributeFollows:function(name,toElement,fromElement){if(fromElement)Polymer.dom(fromElement).removeAttribute(name);if(toElement)Polymer.dom(toElement).setAttribute(name,"")},getEffectiveChildNodes:function(){return Polymer.dom(this).getEffectiveChildNodes()},getEffectiveChildren:function(){var list=Polymer.dom(this).getEffectiveChildNodes();
return list.filter(function(n){return n.nodeType===Node.ELEMENT_NODE})},getEffectiveTextContent:function(){var cn=this.getEffectiveChildNodes();var tc=[];for(var i=0,c;c=cn[i];i++)if(c.nodeType!==Node.COMMENT_NODE)tc.push(Polymer.dom(c).textContent);return tc.join("")},queryEffectiveChildren:function(slctr){var e$=Polymer.dom(this).queryDistributedElements(slctr);return e$&&e$[0]},queryAllEffectiveChildren:function(slctr){return Polymer.dom(this).queryDistributedElements(slctr)},getContentChildNodes:function(slctr){var content=
Polymer.dom(this.root).querySelector(slctr||"content");return content?Polymer.dom(content).getDistributedNodes():[]},getContentChildren:function(slctr){return this.getContentChildNodes(slctr).filter(function(n){return n.nodeType===Node.ELEMENT_NODE})},fire:function(type,detail,options){options=options||Polymer.nob;var node=options.node||this;detail=detail===null||detail===undefined?{}:detail;var bubbles=options.bubbles===undefined?true:options.bubbles;var cancelable=Boolean(options.cancelable);var useCache=
options._useCache;var event=this._getEvent(type,bubbles,cancelable,useCache);event.detail=detail;if(useCache)this.__eventCache[type]=null;node.dispatchEvent(event);if(useCache)this.__eventCache[type]=event;return event},__eventCache:{},_getEvent:function(type,bubbles,cancelable,useCache){var event=useCache&&this.__eventCache[type];if(!event||(event.bubbles!=bubbles||event.cancelable!=cancelable))event=new Event(type,{bubbles:Boolean(bubbles),cancelable:cancelable});return event},async:function(callback,
waitTime){var self=this;return Polymer.Async.run(function(){callback.call(self)},waitTime)},cancelAsync:function(handle){Polymer.Async.cancel(handle)},arrayDelete:function(path,item){var index;if(Array.isArray(path)){index=path.indexOf(item);if(index>=0)return path.splice(index,1)}else{var arr=this._get(path);index=arr.indexOf(item);if(index>=0)return this.splice(path,index,1)}},transform:function(transform,node){node=node||this;node.style.webkitTransform=transform;node.style.transform=transform},
translate3d:function(x,y,z,node){node=node||this;this.transform("translate3d("+x+","+y+","+z+")",node)},importHref:function(href,onload,onerror,optAsync){var link=document.createElement("link");link.rel="import";link.href=href;var list=Polymer.Base.importHref.imported=Polymer.Base.importHref.imported||{};var cached=list[link.href];var imprt=cached||link;var self=this;var loadListener=function(e){e.target.__firedLoad=true;e.target.removeEventListener("load",loadListener);e.target.removeEventListener("error",
errorListener);return onload.call(self,e)};var errorListener=function(e){e.target.__firedError=true;e.target.removeEventListener("load",loadListener);e.target.removeEventListener("error",errorListener);return onerror.call(self,e)};if(onload)imprt.addEventListener("load",loadListener);if(onerror)imprt.addEventListener("error",errorListener);if(cached){if(cached.__firedLoad)cached.dispatchEvent(new Event("load"));if(cached.__firedError)cached.dispatchEvent(new Event("error"))}else{list[link.href]=link;
optAsync=Boolean(optAsync);if(optAsync)link.setAttribute("async","");document.head.appendChild(link)}return imprt},create:function(tag,props){var elt=document.createElement(tag);if(props)for(var n in props)elt[n]=props[n];return elt},isLightDescendant:function(node){return this!==node&&this.contains(node)&&Polymer.dom(this).getOwnerRoot()===Polymer.dom(node).getOwnerRoot()},isLocalDescendant:function(node){return this.root===Polymer.dom(node).getOwnerRoot()}});if(!Polymer.Settings.useNativeCustomElements){var importHref=
Polymer.Base.importHref;Polymer.Base.importHref=function(href,onload,onerror,optAsync){CustomElements.ready=false;var loadFn=function(e){CustomElements.upgradeDocumentTree(document);CustomElements.ready=true;if(onload)return onload.call(this,e)};return importHref.call(this,href,loadFn,onerror,optAsync)}}})();
Polymer.Bind={prepareModel:function(model){Polymer.Base.mixin(model,this._modelApi)},_modelApi:{_notifyChange:function(source,event,value){value=value===undefined?this[source]:value;event=event||Polymer.CaseMap.camelToDashCase(source)+"-changed";this.fire(event,{value:value},{bubbles:false,cancelable:false,_useCache:Polymer.Settings.eventDataCache||!Polymer.Settings.isIE})},_propertySetter:function(property,value,effects,fromAbove){var old=this.__data__[property];if(old!==value&&(old===old||value===
value)){this.__data__[property]=value;if(typeof value=="object")this._clearPath(property);if(this._propertyChanged)this._propertyChanged(property,value,old);if(effects)this._effectEffects(property,value,effects,old,fromAbove)}return old},__setProperty:function(property,value,quiet,node){node=node||this;var effects=node._propertyEffects&&node._propertyEffects[property];if(effects)node._propertySetter(property,value,effects,quiet);else if(node[property]!==value)node[property]=value},_effectEffects:function(property,
value,effects,old,fromAbove){for(var i=0,l=effects.length,fx;i<l&&(fx=effects[i]);i++)fx.fn.call(this,property,this[property],fx.effect,old,fromAbove)},_clearPath:function(path){for(var prop in this.__data__)if(Polymer.Path.isDescendant(path,prop))this.__data__[prop]=undefined}},ensurePropertyEffects:function(model,property){if(!model._propertyEffects)model._propertyEffects={};var fx=model._propertyEffects[property];if(!fx)fx=model._propertyEffects[property]=[];return fx},addPropertyEffect:function(model,
property,kind,effect){var fx=this.ensurePropertyEffects(model,property);var propEffect={kind:kind,effect:effect,fn:Polymer.Bind["_"+kind+"Effect"]};fx.push(propEffect);return propEffect},createBindings:function(model){var fx$=model._propertyEffects;if(fx$)for(var n in fx$){var fx=fx$[n];fx.sort(this._sortPropertyEffects);this._createAccessors(model,n,fx)}},_sortPropertyEffects:function(){var EFFECT_ORDER={"compute":0,"annotation":1,"annotatedComputation":2,"reflect":3,"notify":4,"observer":5,"complexObserver":6,
"function":7};return function(a,b){return EFFECT_ORDER[a.kind]-EFFECT_ORDER[b.kind]}}(),_createAccessors:function(model,property,effects){var defun={get:function(){return this.__data__[property]}};var setter=function(value){this._propertySetter(property,value,effects)};var info=model.getPropertyInfo&&model.getPropertyInfo(property);if(info&&info.readOnly){if(!info.computed)model["_set"+this.upper(property)]=setter}else defun.set=setter;Object.defineProperty(model,property,defun)},upper:function(name){return name[0].toUpperCase()+
name.substring(1)},_addAnnotatedListener:function(model,index,property,path,event,negated){if(!model._bindListeners)model._bindListeners=[];var fn=this._notedListenerFactory(property,path,Polymer.Path.isDeep(path),negated);var eventName=event||Polymer.CaseMap.camelToDashCase(property)+"-changed";model._bindListeners.push({index:index,property:property,path:path,changedFn:fn,event:eventName})},_isEventBogus:function(e,target){return e.path&&e.path[0]!==target},_notedListenerFactory:function(property,
path,isStructured,negated){return function(target,value,targetPath){if(targetPath){var newPath=Polymer.Path.translate(property,path,targetPath);this._notifyPath(newPath,value)}else{value=target[property];if(negated)value=!value;if(!isStructured)this[path]=value;else if(this.__data__[path]!=value)this.set(path,value)}}},prepareInstance:function(inst){inst.__data__=Object.create(null)},setupBindListeners:function(inst){var b$=inst._bindListeners;for(var i=0,l=b$.length,info;i<l&&(info=b$[i]);i++){var node=
inst._nodes[info.index];this._addNotifyListener(node,inst,info.event,info.changedFn)}},_addNotifyListener:function(element,context,event,changedFn){element.addEventListener(event,function(e){return context._notifyListener(changedFn,e)})}};
Polymer.Base.mixin(Polymer.Bind,{_shouldAddListener:function(effect){return effect.name&&effect.kind!="attribute"&&effect.kind!="text"&&!effect.isCompound&&effect.parts[0].mode==="{"},_annotationEffect:function(source,value,effect){if(source!=effect.value){value=this._get(effect.value);this.__data__[effect.value]=value}this._applyEffectValue(effect,value)},_reflectEffect:function(source,value,effect){this.reflectPropertyToAttribute(source,effect.attribute,value)},_notifyEffect:function(source,value,
effect,old,fromAbove){if(!fromAbove)this._notifyChange(source,effect.event,value)},_functionEffect:function(source,value,fn,old,fromAbove){fn.call(this,source,value,old,fromAbove)},_observerEffect:function(source,value,effect,old){var fn=this[effect.method];if(fn)fn.call(this,value,old);else this._warn(this._logf("_observerEffect","observer method `"+effect.method+"` not defined"))},_complexObserverEffect:function(source,value,effect){var fn=this[effect.method];if(fn){var args=Polymer.Bind._marshalArgs(this.__data__,
effect,source,value);if(args)fn.apply(this,args)}else if(effect.dynamicFn);else this._warn(this._logf("_complexObserverEffect","observer method `"+effect.method+"` not defined"))},_computeEffect:function(source,value,effect){var fn=this[effect.method];if(fn){var args=Polymer.Bind._marshalArgs(this.__data__,effect,source,value);if(args){var computedvalue=fn.apply(this,args);this.__setProperty(effect.name,computedvalue)}}else if(effect.dynamicFn);else this._warn(this._logf("_computeEffect","compute method `"+
effect.method+"` not defined"))},_annotatedComputationEffect:function(source,value,effect){var computedHost=this._rootDataHost||this;var fn=computedHost[effect.method];if(fn){var args=Polymer.Bind._marshalArgs(this.__data__,effect,source,value);if(args){var computedvalue=fn.apply(computedHost,args);this._applyEffectValue(effect,computedvalue)}}else if(effect.dynamicFn);else computedHost._warn(computedHost._logf("_annotatedComputationEffect","compute method `"+effect.method+"` not defined"))},_marshalArgs:function(model,
effect,path,value){var values=[];var args=effect.args;var bailoutEarly=args.length>1||effect.dynamicFn;for(var i=0,l=args.length;i<l;i++){var arg=args[i];var name=arg.name;var v;if(arg.literal)v=arg.value;else if(path===name)v=value;else{v=model[name];if(v===undefined&&arg.structured)v=Polymer.Base._get(name,model)}if(bailoutEarly&&v===undefined)return;if(arg.wildcard){var matches=Polymer.Path.isAncestor(path,name);values[i]={path:matches?path:name,value:matches?value:v,base:v}}else values[i]=v}return values}});
Polymer.Base._addFeature({_addPropertyEffect:function(property,kind,effect){var prop=Polymer.Bind.addPropertyEffect(this,property,kind,effect);prop.pathFn=this["_"+prop.kind+"PathEffect"]},_prepEffects:function(){Polymer.Bind.prepareModel(this);this._addAnnotationEffects(this._notes)},_prepBindings:function(){Polymer.Bind.createBindings(this)},_addPropertyEffects:function(properties){if(properties)for(var p in properties){var prop=properties[p];if(prop.observer)this._addObserverEffect(p,prop.observer);
if(prop.computed){prop.readOnly=true;this._addComputedEffect(p,prop.computed)}if(prop.notify)this._addPropertyEffect(p,"notify",{event:Polymer.CaseMap.camelToDashCase(p)+"-changed"});if(prop.reflectToAttribute){var attr=Polymer.CaseMap.camelToDashCase(p);if(attr[0]==="-")this._warn(this._logf("_addPropertyEffects","Property "+p+" cannot be reflected to attribute "+attr+' because "-" is not a valid starting attribute name. Use a lowercase first letter for the property instead.'));else this._addPropertyEffect(p,
"reflect",{attribute:attr})}if(prop.readOnly)Polymer.Bind.ensurePropertyEffects(this,p)}},_addComputedEffect:function(name,expression){var sig=this._parseMethod(expression);var dynamicFn=sig.dynamicFn;for(var i=0,arg;i<sig.args.length&&(arg=sig.args[i]);i++)this._addPropertyEffect(arg.model,"compute",{method:sig.method,args:sig.args,trigger:arg,name:name,dynamicFn:dynamicFn});if(dynamicFn)this._addPropertyEffect(sig.method,"compute",{method:sig.method,args:sig.args,trigger:null,name:name,dynamicFn:dynamicFn})},
_addObserverEffect:function(property,observer){this._addPropertyEffect(property,"observer",{method:observer,property:property})},_addComplexObserverEffects:function(observers){if(observers)for(var i=0,o;i<observers.length&&(o=observers[i]);i++)this._addComplexObserverEffect(o)},_addComplexObserverEffect:function(observer){var sig=this._parseMethod(observer);if(!sig)throw new Error("Malformed observer expression '"+observer+"'");var dynamicFn=sig.dynamicFn;for(var i=0,arg;i<sig.args.length&&(arg=sig.args[i]);i++)this._addPropertyEffect(arg.model,
"complexObserver",{method:sig.method,args:sig.args,trigger:arg,dynamicFn:dynamicFn});if(dynamicFn)this._addPropertyEffect(sig.method,"complexObserver",{method:sig.method,args:sig.args,trigger:null,dynamicFn:dynamicFn})},_addAnnotationEffects:function(notes){for(var i=0,note;i<notes.length&&(note=notes[i]);i++){var b$=note.bindings;for(var j=0,binding;j<b$.length&&(binding=b$[j]);j++)this._addAnnotationEffect(binding,i)}},_addAnnotationEffect:function(note,index){if(Polymer.Bind._shouldAddListener(note))Polymer.Bind._addAnnotatedListener(this,
index,note.name,note.parts[0].value,note.parts[0].event,note.parts[0].negate);for(var i=0;i<note.parts.length;i++){var part=note.parts[i];if(part.signature)this._addAnnotatedComputationEffect(note,part,index);else if(!part.literal)if(note.kind==="attribute"&&note.name[0]==="-")this._warn(this._logf("_addAnnotationEffect","Cannot set attribute "+note.name+' because "-" is not a valid attribute starting character'));else this._addPropertyEffect(part.model,"annotation",{kind:note.kind,index:index,name:note.name,
propertyName:note.propertyName,value:part.value,isCompound:note.isCompound,compoundIndex:part.compoundIndex,event:part.event,customEvent:part.customEvent,negate:part.negate})}},_addAnnotatedComputationEffect:function(note,part,index){var sig=part.signature;if(sig["static"])this.__addAnnotatedComputationEffect("__static__",index,note,part,null);else{for(var i=0,arg;i<sig.args.length&&(arg=sig.args[i]);i++)if(!arg.literal)this.__addAnnotatedComputationEffect(arg.model,index,note,part,arg);if(sig.dynamicFn)this.__addAnnotatedComputationEffect(sig.method,
index,note,part,null)}},__addAnnotatedComputationEffect:function(property,index,note,part,trigger){this._addPropertyEffect(property,"annotatedComputation",{index:index,isCompound:note.isCompound,compoundIndex:part.compoundIndex,kind:note.kind,name:note.name,negate:part.negate,method:part.signature.method,args:part.signature.args,trigger:trigger,dynamicFn:part.signature.dynamicFn})},_parseMethod:function(expression){var m=expression.match(/([^\s]+?)\(([\s\S]*)\)/);if(m){var sig={method:m[1],"static":true};
if(this.getPropertyInfo(sig.method)!==Polymer.nob){sig["static"]=false;sig.dynamicFn=true}if(m[2].trim()){var args=m[2].replace(/\\,/g,"&comma;").split(",");return this._parseArgs(args,sig)}else{sig.args=Polymer.nar;return sig}}},_parseArgs:function(argList,sig){sig.args=argList.map(function(rawArg){var arg=this._parseArg(rawArg);if(!arg.literal)sig["static"]=false;return arg},this);return sig},_parseArg:function(rawArg){var arg=rawArg.trim().replace(/&comma;/g,",").replace(/\\(.)/g,"$1");var a={name:arg};
var fc=arg[0];if(fc==="-")fc=arg[1];if(fc>="0"&&fc<="9")fc="#";switch(fc){case "'":case '"':a.value=arg.slice(1,-1);a.literal=true;break;case "#":a.value=Number(arg);a.literal=true;break}if(!a.literal){a.model=Polymer.Path.root(arg);a.structured=Polymer.Path.isDeep(arg);if(a.structured){a.wildcard=arg.slice(-2)==".*";if(a.wildcard)a.name=arg.slice(0,-2)}}return a},_marshalInstanceEffects:function(){Polymer.Bind.prepareInstance(this);if(this._bindListeners)Polymer.Bind.setupBindListeners(this)},_applyEffectValue:function(info,
value){var node=this._nodes[info.index];var property=info.name;value=this._computeFinalAnnotationValue(node,property,value,info);if(info.kind=="attribute")this.serializeValueToAttribute(value,property,node);else{var pinfo=node._propertyInfo&&node._propertyInfo[property];if(pinfo&&pinfo.readOnly)return;this.__setProperty(property,value,Polymer.Settings.suppressBindingNotifications,node)}},_computeFinalAnnotationValue:function(node,property,value,info){if(info.negate)value=!value;if(info.isCompound){var storage=
node.__compoundStorage__[property];storage[info.compoundIndex]=value;value=storage.join("")}if(info.kind!=="attribute"){if(property==="className")value=this._scopeElementClass(node,value);if(property==="textContent"||node.localName=="input"&&property=="value")value=value==undefined?"":value}return value},_executeStaticEffects:function(){if(this._propertyEffects&&this._propertyEffects.__static__)this._effectEffects("__static__",null,this._propertyEffects.__static__)}});
(function(){var usePolyfillProto=Polymer.Settings.usePolyfillProto;var avoidInstanceProperties=Boolean(Object.getOwnPropertyDescriptor(document.documentElement,"properties"));Polymer.Base._addFeature({_setupConfigure:function(initialConfig){this._config={};this._handlers=[];this._aboveConfig=null;if(initialConfig)for(var i in initialConfig)if(initialConfig[i]!==undefined)this._config[i]=initialConfig[i]},_marshalAttributes:function(){this._takeAttributesToModel(this._config)},_attributeChangedImpl:function(name){var model=
this._clientsReadied?this:this._config;this._setAttributeToProperty(model,name)},_configValue:function(name,value){var info=this._propertyInfo[name];if(!info||!info.readOnly)this._config[name]=value},_beforeClientsReady:function(){this._configure()},_configure:function(){this._configureAnnotationReferences();this._configureInstanceProperties();this._aboveConfig=this.mixin({},this._config);var config={};for(var i=0;i<this.behaviors.length;i++)this._configureProperties(this.behaviors[i].properties,
config);this._configureProperties(avoidInstanceProperties?this.__proto__.properties:this.properties,config);this.mixin(config,this._aboveConfig);this._config=config;if(this._clients&&this._clients.length)this._distributeConfig(this._config)},_configureInstanceProperties:function(){for(var i in this._propertyEffects)if(!usePolyfillProto&&this.hasOwnProperty(i)){this._configValue(i,this[i]);delete this[i]}},_configureProperties:function(properties,config){for(var i in properties){var c=properties[i];
if(c.value!==undefined){var value=c.value;if(typeof value=="function")value=value.call(this,this._config);config[i]=value}}},_distributeConfig:function(config){var fx$=this._propertyEffects;if(fx$)for(var p in config){var fx=fx$[p];if(fx)for(var i=0,l=fx.length,x;i<l&&(x=fx[i]);i++)if(x.kind==="annotation"){var node=this._nodes[x.effect.index];var name=x.effect.propertyName;var isAttr=x.effect.kind=="attribute";var hasEffect=node._propertyEffects&&node._propertyEffects[name];if(node._configValue&&
(hasEffect||!isAttr)){var value=p===x.effect.value?config[p]:this._get(x.effect.value,config);value=this._computeFinalAnnotationValue(node,name,value,x.effect);if(isAttr)value=node.deserialize(this.serialize(value),node._propertyInfo[name].type);node._configValue(name,value)}}}},_afterClientsReady:function(){this.importPath=this._importPath;this.rootPath=Polymer.rootPath;this._executeStaticEffects();this._applyConfig(this._config,this._aboveConfig);this._flushHandlers()},_applyConfig:function(config,
aboveConfig){for(var n in config)if(this[n]===undefined)this.__setProperty(n,config[n],n in aboveConfig)},_notifyListener:function(fn,e){if(!Polymer.Bind._isEventBogus(e,e.target)){var value,path;if(e.detail){value=e.detail.value;path=e.detail.path}if(!this._clientsReadied)this._queueHandler([fn,e.target,value,path]);else return fn.call(this,e.target,value,path)}},_queueHandler:function(args){this._handlers.push(args)},_flushHandlers:function(){var h$=this._handlers;for(var i=0,l=h$.length,h;i<l&&
(h=h$[i]);i++)h[0].call(this,h[1],h[2],h[3]);this._handlers=[]}})})();
(function(){var Path=Polymer.Path;Polymer.Base._addFeature({notifyPath:function(path,value,fromAbove){var info={};var v=this._get(path,this,info);if(arguments.length===1)value=v;if(info.path)this._notifyPath(info.path,value,fromAbove)},_notifyPath:function(path,value,fromAbove){var old=this._propertySetter(path,value);if(old!==value&&(old===old||value===value)){this._pathEffector(path,value);if(!fromAbove)this._notifyPathUp(path,value);return true}},_getPathParts:function(path){if(Array.isArray(path)){var parts=
[];for(var i=0;i<path.length;i++){var args=path[i].toString().split(".");for(var j=0;j<args.length;j++)parts.push(args[j])}return parts}else return path.toString().split(".")},set:function(path,value,root){var prop=root||this;var parts=this._getPathParts(path);var array;var last=parts[parts.length-1];if(parts.length>1){for(var i=0;i<parts.length-1;i++){var part=parts[i];if(array&&part[0]=="#")prop=Polymer.Collection.get(array).getItem(part);else{prop=prop[part];if(array&&parseInt(part,10)==part)parts[i]=
Polymer.Collection.get(array).getKey(prop)}if(!prop)return;array=Array.isArray(prop)?prop:null}if(array){var coll=Polymer.Collection.get(array);var old,key;if(last[0]=="#"){key=last;old=coll.getItem(key);last=array.indexOf(old);coll.setItem(key,value)}else if(parseInt(last,10)==last){old=prop[last];key=coll.getKey(old);parts[i]=key;coll.setItem(key,value)}}prop[last]=value;if(!root)this._notifyPath(parts.join("."),value)}else prop[path]=value},get:function(path,root){return this._get(path,root)},
_get:function(path,root,info){var prop=root||this;var parts=this._getPathParts(path);var array;for(var i=0;i<parts.length;i++){if(!prop)return;var part=parts[i];if(array&&part[0]=="#")prop=Polymer.Collection.get(array).getItem(part);else{prop=prop[part];if(info&&array&&parseInt(part,10)==part)parts[i]=Polymer.Collection.get(array).getKey(prop)}array=Array.isArray(prop)?prop:null}if(info)info.path=parts.join(".");return prop},_pathEffector:function(path,value){var model=Path.root(path);var fx$=this._propertyEffects&&
this._propertyEffects[model];if(fx$)for(var i=0,fx;i<fx$.length&&(fx=fx$[i]);i++){var fxFn=fx.pathFn;if(fxFn)fxFn.call(this,path,value,fx.effect)}if(this._boundPaths)this._notifyBoundPaths(path,value)},_annotationPathEffect:function(path,value,effect){if(Path.matches(effect.value,false,path))Polymer.Bind._annotationEffect.call(this,path,value,effect);else if(!effect.negate&&Path.isDescendant(effect.value,path)){var node=this._nodes[effect.index];if(node&&node._notifyPath){var newPath=Path.translate(effect.value,
effect.name,path);node._notifyPath(newPath,value,true)}}},_complexObserverPathEffect:function(path,value,effect){if(Path.matches(effect.trigger.name,effect.trigger.wildcard,path))Polymer.Bind._complexObserverEffect.call(this,path,value,effect)},_computePathEffect:function(path,value,effect){if(Path.matches(effect.trigger.name,effect.trigger.wildcard,path))Polymer.Bind._computeEffect.call(this,path,value,effect)},_annotatedComputationPathEffect:function(path,value,effect){if(Path.matches(effect.trigger.name,
effect.trigger.wildcard,path))Polymer.Bind._annotatedComputationEffect.call(this,path,value,effect)},linkPaths:function(to,from){this._boundPaths=this._boundPaths||{};if(from)this._boundPaths[to]=from;else this.unlinkPaths(to)},unlinkPaths:function(path){if(this._boundPaths)delete this._boundPaths[path]},_notifyBoundPaths:function(path,value){for(var a in this._boundPaths){var b=this._boundPaths[a];if(Path.isDescendant(a,path))this._notifyPath(Path.translate(a,b,path),value);else if(Path.isDescendant(b,
path))this._notifyPath(Path.translate(b,a,path),value)}},_notifyPathUp:function(path,value){var rootName=Path.root(path);var dashCaseName=Polymer.CaseMap.camelToDashCase(rootName);var eventName=dashCaseName+this._EVENT_CHANGED;this.fire(eventName,{path:path,value:value},{bubbles:false,_useCache:Polymer.Settings.eventDataCache||!Polymer.Settings.isIE})},_EVENT_CHANGED:"-changed",notifySplices:function(path,splices){var info={};var array=this._get(path,this,info);this._notifySplices(array,info.path,
splices)},_notifySplices:function(array,path,splices){var change={keySplices:Polymer.Collection.applySplices(array,splices),indexSplices:splices};var splicesPath=path+".splices";this._notifyPath(splicesPath,change);this._notifyPath(path+".length",array.length);this.__data__[splicesPath]={keySplices:null,indexSplices:null}},_notifySplice:function(array,path,index,added,removed){this._notifySplices(array,path,[{index:index,addedCount:added,removed:removed,object:array,type:"splice"}])},push:function(path){var info=
{};var array=this._get(path,this,info);var args=Array.prototype.slice.call(arguments,1);var len=array.length;var ret=array.push.apply(array,args);if(args.length)this._notifySplice(array,info.path,len,args.length,[]);return ret},pop:function(path){var info={};var array=this._get(path,this,info);var hadLength=Boolean(array.length);var args=Array.prototype.slice.call(arguments,1);var ret=array.pop.apply(array,args);if(hadLength)this._notifySplice(array,info.path,array.length,0,[ret]);return ret},splice:function(path,
start){var info={};var array=this._get(path,this,info);if(start<0)start=array.length-Math.floor(-start);else start=Math.floor(start);if(!start)start=0;var args=Array.prototype.slice.call(arguments,1);var ret=array.splice.apply(array,args);var addedCount=Math.max(args.length-2,0);if(addedCount||ret.length)this._notifySplice(array,info.path,start,addedCount,ret);return ret},shift:function(path){var info={};var array=this._get(path,this,info);var hadLength=Boolean(array.length);var args=Array.prototype.slice.call(arguments,
1);var ret=array.shift.apply(array,args);if(hadLength)this._notifySplice(array,info.path,0,0,[ret]);return ret},unshift:function(path){var info={};var array=this._get(path,this,info);var args=Array.prototype.slice.call(arguments,1);var ret=array.unshift.apply(array,args);if(args.length)this._notifySplice(array,info.path,0,args.length,[]);return ret},prepareModelNotifyPath:function(model){this.mixin(model,{fire:Polymer.Base.fire,_getEvent:Polymer.Base._getEvent,__eventCache:Polymer.Base.__eventCache,
notifyPath:Polymer.Base.notifyPath,_get:Polymer.Base._get,_EVENT_CHANGED:Polymer.Base._EVENT_CHANGED,_notifyPath:Polymer.Base._notifyPath,_notifyPathUp:Polymer.Base._notifyPathUp,_pathEffector:Polymer.Base._pathEffector,_annotationPathEffect:Polymer.Base._annotationPathEffect,_complexObserverPathEffect:Polymer.Base._complexObserverPathEffect,_annotatedComputationPathEffect:Polymer.Base._annotatedComputationPathEffect,_computePathEffect:Polymer.Base._computePathEffect,_notifyBoundPaths:Polymer.Base._notifyBoundPaths,
_getPathParts:Polymer.Base._getPathParts})}})})();Polymer.Base._addFeature({resolveUrl:function(url){return Polymer.ResolveUrl.resolveUrl(url,this._importPath)}});
Polymer.CssParse=function(){return{parse:function(text){text=this._clean(text);return this._parseCss(this._lex(text),text)},_clean:function(cssText){return cssText.replace(this._rx.comments,"").replace(this._rx.port,"")},_lex:function(text){var root={start:0,end:text.length};var n=root;for(var i=0,l=text.length;i<l;i++)switch(text[i]){case this.OPEN_BRACE:if(!n.rules)n.rules=[];var p=n;var previous=p.rules[p.rules.length-1];n={start:i+1,parent:p,previous:previous};p.rules.push(n);break;case this.CLOSE_BRACE:n.end=
i+1;n=n.parent||root;break}return root},_parseCss:function(node,text){var t=text.substring(node.start,node.end-1);node.parsedCssText=node.cssText=t.trim();if(node.parent){var ss=node.previous?node.previous.end:node.parent.start;t=text.substring(ss,node.start-1);t=this._expandUnicodeEscapes(t);t=t.replace(this._rx.multipleSpaces," ");t=t.substring(t.lastIndexOf(";")+1);var s=node.parsedSelector=node.selector=t.trim();node.atRule=s.indexOf(this.AT_START)===0;if(node.atRule)if(s.indexOf(this.MEDIA_START)===
0)node.type=this.types.MEDIA_RULE;else{if(s.match(this._rx.keyframesRule)){node.type=this.types.KEYFRAMES_RULE;node.keyframesName=node.selector.split(this._rx.multipleSpaces).pop()}}else if(s.indexOf(this.VAR_START)===0)node.type=this.types.MIXIN_RULE;else node.type=this.types.STYLE_RULE}var r$=node.rules;if(r$)for(var i=0,l=r$.length,r;i<l&&(r=r$[i]);i++)this._parseCss(r,text);return node},_expandUnicodeEscapes:function(s){return s.replace(/\\([0-9a-f]{1,6})\s/gi,function(){var code=arguments[1],
repeat=6-code.length;while(repeat--)code="0"+code;return"\\"+code})},stringify:function(node,preserveProperties,text){text=text||"";var cssText="";if(node.cssText||node.rules){var r$=node.rules;if(r$&&!this._hasMixinRules(r$))for(var i=0,l=r$.length,r;i<l&&(r=r$[i]);i++)cssText=this.stringify(r,preserveProperties,cssText);else{cssText=preserveProperties?node.cssText:this.removeCustomProps(node.cssText);cssText=cssText.trim();if(cssText)cssText="  "+cssText+"\n"}}if(cssText){if(node.selector)text+=
node.selector+" "+this.OPEN_BRACE+"\n";text+=cssText;if(node.selector)text+=this.CLOSE_BRACE+"\n\n"}return text},_hasMixinRules:function(rules){return rules[0].selector.indexOf(this.VAR_START)===0},removeCustomProps:function(cssText){cssText=this.removeCustomPropAssignment(cssText);return this.removeCustomPropApply(cssText)},removeCustomPropAssignment:function(cssText){return cssText.replace(this._rx.customProp,"").replace(this._rx.mixinProp,"")},removeCustomPropApply:function(cssText){return cssText.replace(this._rx.mixinApply,
"").replace(this._rx.varApply,"")},types:{STYLE_RULE:1,KEYFRAMES_RULE:7,MEDIA_RULE:4,MIXIN_RULE:1E3},OPEN_BRACE:"{",CLOSE_BRACE:"}",_rx:{comments:/\/\*[^*]*\*+([^\/*][^*]*\*+)*\//gim,port:/@import[^;]*;/gim,customProp:/(?:^[^;\-\s}]+)?--[^;{}]*?:[^{};]*?(?:[;\n]|$)/gim,mixinProp:/(?:^[^;\-\s}]+)?--[^;{}]*?:[^{};]*?{[^}]*?}(?:[;\n]|$)?/gim,mixinApply:/@apply\s*\(?[^);]*\)?\s*(?:[;\n]|$)?/gim,varApply:/[^;:]*?:[^;]*?var\([^;]*\)(?:[;\n]|$)?/gim,keyframesRule:/^@[^\s]*keyframes/,multipleSpaces:/\s+/g},
VAR_START:"--",MEDIA_START:"@media",AT_START:"@"}}();
Polymer.StyleUtil=function(){var settings=Polymer.Settings;return{NATIVE_VARIABLES:Polymer.Settings.useNativeCSSProperties,MODULE_STYLES_SELECTOR:"style, link[rel=import][type~=css], template",INCLUDE_ATTR:"include",toCssText:function(rules,callback){if(typeof rules==="string")rules=this.parser.parse(rules);if(callback)this.forEachRule(rules,callback);return this.parser.stringify(rules,this.NATIVE_VARIABLES)},forRulesInStyles:function(styles,styleRuleCallback,keyframesRuleCallback){if(styles)for(var i=
0,l=styles.length,s;i<l&&(s=styles[i]);i++)this.forEachRuleInStyle(s,styleRuleCallback,keyframesRuleCallback)},forActiveRulesInStyles:function(styles,styleRuleCallback,keyframesRuleCallback){if(styles)for(var i=0,l=styles.length,s;i<l&&(s=styles[i]);i++)this.forEachRuleInStyle(s,styleRuleCallback,keyframesRuleCallback,true)},rulesForStyle:function(style){if(!style.__cssRules&&style.textContent)style.__cssRules=this.parser.parse(style.textContent);return style.__cssRules},isKeyframesSelector:function(rule){return rule.parent&&
rule.parent.type===this.ruleTypes.KEYFRAMES_RULE},forEachRuleInStyle:function(style,styleRuleCallback,keyframesRuleCallback,onlyActiveRules){var rules=this.rulesForStyle(style);var styleCallback,keyframeCallback;if(styleRuleCallback)styleCallback=function(rule){styleRuleCallback(rule,style)};if(keyframesRuleCallback)keyframeCallback=function(rule){keyframesRuleCallback(rule,style)};this.forEachRule(rules,styleCallback,keyframeCallback,onlyActiveRules)},forEachRule:function(node,styleRuleCallback,
keyframesRuleCallback,onlyActiveRules){if(!node)return;var skipRules=false;if(onlyActiveRules)if(node.type===this.ruleTypes.MEDIA_RULE){var matchMedia=node.selector.match(this.rx.MEDIA_MATCH);if(matchMedia)if(!window.matchMedia(matchMedia[1]).matches)skipRules=true}if(node.type===this.ruleTypes.STYLE_RULE)styleRuleCallback(node);else if(keyframesRuleCallback&&node.type===this.ruleTypes.KEYFRAMES_RULE)keyframesRuleCallback(node);else if(node.type===this.ruleTypes.MIXIN_RULE)skipRules=true;var r$=node.rules;
if(r$&&!skipRules)for(var i=0,l=r$.length,r;i<l&&(r=r$[i]);i++)this.forEachRule(r,styleRuleCallback,keyframesRuleCallback,onlyActiveRules)},applyCss:function(cssText,moniker,target,contextNode){var style=this.createScopeStyle(cssText,moniker);return this.applyStyle(style,target,contextNode)},applyStyle:function(style,target,contextNode){target=target||document.head;var after=contextNode&&contextNode.nextSibling||target.firstChild;this.__lastHeadApplyNode=style;return target.insertBefore(style,after)},
createScopeStyle:function(cssText,moniker){var style=document.createElement("style");if(moniker)style.setAttribute("scope",moniker);style.textContent=cssText;return style},__lastHeadApplyNode:null,applyStylePlaceHolder:function(moniker){var placeHolder=document.createComment(" Shady DOM styles for "+moniker+" ");var after=this.__lastHeadApplyNode?this.__lastHeadApplyNode.nextSibling:null;var scope=document.head;scope.insertBefore(placeHolder,after||scope.firstChild);this.__lastHeadApplyNode=placeHolder;
return placeHolder},cssFromModules:function(moduleIds,warnIfNotFound){var modules=moduleIds.trim().split(" ");var cssText="";for(var i=0;i<modules.length;i++)cssText+=this.cssFromModule(modules[i],warnIfNotFound);return cssText},cssFromModule:function(moduleId,warnIfNotFound){var m=Polymer.DomModule["import"](moduleId);if(m&&!m._cssText)m._cssText=this.cssFromElement(m);if(!m&&warnIfNotFound)console.warn("Could not find style data in module named",moduleId);return m&&m._cssText||""},cssFromElement:function(element){var cssText=
"";var content=element.content||element;var e$=Polymer.TreeApi.arrayCopy(content.querySelectorAll(this.MODULE_STYLES_SELECTOR));for(var i=0,e;i<e$.length;i++){e=e$[i];if(e.localName==="template"){if(!e.hasAttribute("preserve-content"))cssText+=this.cssFromElement(e)}else if(e.localName==="style"){var include=e.getAttribute(this.INCLUDE_ATTR);if(include)cssText+=this.cssFromModules(include,true);e=e.__appliedElement||e;e.parentNode.removeChild(e);cssText+=this.resolveCss(e.textContent,element.ownerDocument)}else if(e["import"]&&
e["import"].body)cssText+=this.resolveCss(e["import"].body.textContent,e["import"])}return cssText},styleIncludesToTemplate:function(targetTemplate){var styles=targetTemplate.content.querySelectorAll("style[include]");for(var i=0,s;i<styles.length;i++){s=styles[i];s.parentNode.insertBefore(this._includesToFragment(s.getAttribute("include")),s)}},_includesToFragment:function(styleIncludes){var includeArray=styleIncludes.trim().split(" ");var frag=document.createDocumentFragment();for(var i=0;i<includeArray.length;i++){var t=
Polymer.DomModule["import"](includeArray[i],"template");if(t)this._addStylesToFragment(frag,t.content)}return frag},_addStylesToFragment:function(frag,source){var s$=source.querySelectorAll("style");for(var i=0,s;i<s$.length;i++){s=s$[i];var include=s.getAttribute("include");if(include)frag.appendChild(this._includesToFragment(include));if(s.textContent)frag.appendChild(s.cloneNode(true))}},isTargetedBuild:function(buildType){return settings.useNativeShadow?buildType==="shadow":buildType==="shady"},
cssBuildTypeForModule:function(module){var dm=Polymer.DomModule["import"](module);if(dm)return this.getCssBuildType(dm)},getCssBuildType:function(element){return element.getAttribute("css-build")},_findMatchingParen:function(text,start){var level=0;for(var i=start,l=text.length;i<l;i++)switch(text[i]){case "(":level++;break;case ")":if(--level===0)return i;break}return-1},processVariableAndFallback:function(str,callback){var start=str.indexOf("var(");if(start===-1)return callback(str,"","","");var end=
this._findMatchingParen(str,start+3);var inner=str.substring(start+4,end);var prefix=str.substring(0,start);var suffix=this.processVariableAndFallback(str.substring(end+1),callback);var comma=inner.indexOf(",");if(comma===-1)return callback(prefix,inner.trim(),"",suffix);var value=inner.substring(0,comma).trim();var fallback=inner.substring(comma+1).trim();return callback(prefix,value,fallback,suffix)},rx:{VAR_ASSIGN:/(?:^|[;\s{]\s*)(--[\w-]*?)\s*:\s*(?:([^;{]*)|{([^}]*)})(?:(?=[;\s}])|$)/gi,MIXIN_MATCH:/(?:^|\W+)@apply\s*\(?([^);\n]*)\)?/gi,
VAR_CONSUMED:/(--[\w-]+)\s*([:,;)]|$)/gi,ANIMATION_MATCH:/(animation\s*:)|(animation-name\s*:)/,MEDIA_MATCH:/@media[^(]*(\([^)]*\))/,IS_VAR:/^--/,BRACKETED:/\{[^}]*\}/g,HOST_PREFIX:"(?:^|[^.#[:])",HOST_SUFFIX:"($|[.:[\\s>+~])"},resolveCss:Polymer.ResolveUrl.resolveCss,parser:Polymer.CssParse,ruleTypes:Polymer.CssParse.types}}();
Polymer.StyleTransformer=function(){var styleUtil=Polymer.StyleUtil;var settings=Polymer.Settings;var api={dom:function(node,scope,useAttr,shouldRemoveScope){this._transformDom(node,scope||"",useAttr,shouldRemoveScope)},_transformDom:function(node,selector,useAttr,shouldRemoveScope){if(node.setAttribute)this.element(node,selector,useAttr,shouldRemoveScope);var c$=Polymer.dom(node).childNodes;for(var i=0;i<c$.length;i++)this._transformDom(c$[i],selector,useAttr,shouldRemoveScope)},element:function(element,
scope,useAttr,shouldRemoveScope){if(useAttr)if(shouldRemoveScope)element.removeAttribute(SCOPE_NAME);else element.setAttribute(SCOPE_NAME,scope);else if(scope)if(element.classList)if(shouldRemoveScope){element.classList.remove(SCOPE_NAME);element.classList.remove(scope)}else{element.classList.add(SCOPE_NAME);element.classList.add(scope)}else if(element.getAttribute){var c=element.getAttribute(CLASS);if(shouldRemoveScope){if(c)element.setAttribute(CLASS,c.replace(SCOPE_NAME,"").replace(scope,""))}else element.setAttribute(CLASS,
(c?c+" ":"")+SCOPE_NAME+" "+scope)}},elementStyles:function(element,callback){var styles=element._styles;var cssText="";var cssBuildType=element.__cssBuild;var passthrough=settings.useNativeShadow||cssBuildType==="shady";var cb;if(passthrough){var self=this;cb=function(rule){rule.selector=self._slottedToContent(rule.selector);rule.selector=rule.selector.replace(ROOT,":host > *");if(callback)callback(rule)}}for(var i=0,l=styles.length,s;i<l&&(s=styles[i]);i++){var rules=styleUtil.rulesForStyle(s);
cssText+=passthrough?styleUtil.toCssText(rules,cb):this.css(rules,element.is,element["extends"],callback,element._scopeCssViaAttr)+"\n\n"}return cssText.trim()},css:function(rules,scope,ext,callback,useAttr){var hostScope=this._calcHostScope(scope,ext);scope=this._calcElementScope(scope,useAttr);var self=this;return styleUtil.toCssText(rules,function(rule){if(!rule.isScoped){self.rule(rule,scope,hostScope);rule.isScoped=true}if(callback)callback(rule,scope,hostScope)})},_calcElementScope:function(scope,
useAttr){if(scope)return useAttr?CSS_ATTR_PREFIX+scope+CSS_ATTR_SUFFIX:CSS_CLASS_PREFIX+scope;else return""},_calcHostScope:function(scope,ext){return ext?"[is="+scope+"]":scope},rule:function(rule,scope,hostScope){this._transformRule(rule,this._transformComplexSelector,scope,hostScope)},_transformRule:function(rule,transformer,scope,hostScope){rule.selector=rule.transformedSelector=this._transformRuleCss(rule,transformer,scope,hostScope)},_transformRuleCss:function(rule,transformer,scope,hostScope){var p$=
rule.selector.split(COMPLEX_SELECTOR_SEP);if(!styleUtil.isKeyframesSelector(rule))for(var i=0,l=p$.length,p;i<l&&(p=p$[i]);i++)p$[i]=transformer.call(this,p,scope,hostScope);return p$.join(COMPLEX_SELECTOR_SEP)},_transformComplexSelector:function(selector,scope,hostScope){var stop=false;var hostContext=false;var self=this;selector=selector.trim();selector=this._slottedToContent(selector);selector=selector.replace(ROOT,":host > *");selector=selector.replace(CONTENT_START,HOST+" $1");selector=selector.replace(SIMPLE_SELECTOR_SEP,
function(m,c,s){if(!stop){var info=self._transformCompoundSelector(s,c,scope,hostScope);stop=stop||info.stop;hostContext=hostContext||info.hostContext;c=info.combinator;s=info.value}else s=s.replace(SCOPE_JUMP," ");return c+s});if(hostContext)selector=selector.replace(HOST_CONTEXT_PAREN,function(m,pre,paren,post){return pre+paren+" "+hostScope+post+COMPLEX_SELECTOR_SEP+" "+pre+hostScope+paren+post});return selector},_transformCompoundSelector:function(selector,combinator,scope,hostScope){var jumpIndex=
selector.search(SCOPE_JUMP);var hostContext=false;if(selector.indexOf(HOST_CONTEXT)>=0)hostContext=true;else if(selector.indexOf(HOST)>=0)selector=this._transformHostSelector(selector,hostScope);else if(jumpIndex!==0)selector=scope?this._transformSimpleSelector(selector,scope):selector;if(selector.indexOf(CONTENT)>=0)combinator="";var stop;if(jumpIndex>=0){selector=selector.replace(SCOPE_JUMP," ");stop=true}return{value:selector,combinator:combinator,stop:stop,hostContext:hostContext}},_transformSimpleSelector:function(selector,
scope){var p$=selector.split(PSEUDO_PREFIX);p$[0]+=scope;return p$.join(PSEUDO_PREFIX)},_transformHostSelector:function(selector,hostScope){var m=selector.match(HOST_PAREN);var paren=m&&m[2].trim()||"";if(paren)if(!paren[0].match(SIMPLE_SELECTOR_PREFIX)){var typeSelector=paren.split(SIMPLE_SELECTOR_PREFIX)[0];if(typeSelector===hostScope)return paren;else return SELECTOR_NO_MATCH}else return selector.replace(HOST_PAREN,function(m,host,paren){return hostScope+paren});else return selector.replace(HOST,
hostScope)},documentRule:function(rule){rule.selector=rule.parsedSelector;this.normalizeRootSelector(rule);if(!settings.useNativeShadow)this._transformRule(rule,this._transformDocumentSelector)},normalizeRootSelector:function(rule){rule.selector=rule.selector.replace(ROOT,"html")},_transformDocumentSelector:function(selector){return selector.match(SCOPE_JUMP)?this._transformComplexSelector(selector,SCOPE_DOC_SELECTOR):this._transformSimpleSelector(selector.trim(),SCOPE_DOC_SELECTOR)},_slottedToContent:function(cssText){return cssText.replace(SLOTTED_PAREN,
CONTENT+"> $1")},SCOPE_NAME:"style-scope"};var SCOPE_NAME=api.SCOPE_NAME;var SCOPE_DOC_SELECTOR=":not(["+SCOPE_NAME+"])"+":not(."+SCOPE_NAME+")";var COMPLEX_SELECTOR_SEP=",";var SIMPLE_SELECTOR_SEP=/(^|[\s>+~]+)((?:\[.+?\]|[^\s>+~=\[])+)/g;var SIMPLE_SELECTOR_PREFIX=/[[.:#*]/;var HOST=":host";var ROOT=":root";var HOST_PAREN=/(:host)(?:\(((?:\([^)(]*\)|[^)(]*)+?)\))/;var HOST_CONTEXT=":host-context";var HOST_CONTEXT_PAREN=/(.*)(?::host-context)(?:\(((?:\([^)(]*\)|[^)(]*)+?)\))(.*)/;var CONTENT="::content";
var SCOPE_JUMP=/::content|::shadow|\/deep\//;var CSS_CLASS_PREFIX=".";var CSS_ATTR_PREFIX="["+SCOPE_NAME+"~=";var CSS_ATTR_SUFFIX="]";var PSEUDO_PREFIX=":";var CLASS="class";var CONTENT_START=new RegExp("^("+CONTENT+")");var SELECTOR_NO_MATCH="should_not_match";var SLOTTED_PAREN=/(?:::slotted)(?:\(((?:\([^)(]*\)|[^)(]*)+?)\))/g;return api}();
Polymer.StyleExtends=function(){var styleUtil=Polymer.StyleUtil;return{hasExtends:function(cssText){return Boolean(cssText.match(this.rx.EXTEND))},transform:function(style){var rules=styleUtil.rulesForStyle(style);var self=this;styleUtil.forEachRule(rules,function(rule){self._mapRuleOntoParent(rule);if(rule.parent){var m;while(m=self.rx.EXTEND.exec(rule.cssText)){var extend=m[1];var extendor=self._findExtendor(extend,rule);if(extendor)self._extendRule(rule,extendor)}}rule.cssText=rule.cssText.replace(self.rx.EXTEND,
"")});return styleUtil.toCssText(rules,function(rule){if(rule.selector.match(self.rx.STRIP))rule.cssText=""},true)},_mapRuleOntoParent:function(rule){if(rule.parent){var map=rule.parent.map||(rule.parent.map={});var parts=rule.selector.split(",");for(var i=0,p;i<parts.length;i++){p=parts[i];map[p.trim()]=rule}return map}},_findExtendor:function(extend,rule){return rule.parent&&rule.parent.map&&rule.parent.map[extend]||this._findExtendor(extend,rule.parent)},_extendRule:function(target,source){if(target.parent!==
source.parent)this._cloneAndAddRuleToParent(source,target.parent);target["extends"]=target["extends"]||[];target["extends"].push(source);source.selector=source.selector.replace(this.rx.STRIP,"");source.selector=(source.selector&&source.selector+",\n")+target.selector;if(source["extends"])source["extends"].forEach(function(e){this._extendRule(target,e)},this)},_cloneAndAddRuleToParent:function(rule,parent){rule=Object.create(rule);rule.parent=parent;if(rule["extends"])rule["extends"]=rule["extends"].slice();
parent.rules.push(rule)},rx:{EXTEND:/@extends\(([^)]*)\)\s*?;/gim,STRIP:/%[^,]*$/}}}();
Polymer.ApplyShim=function(){var styleUtil=Polymer.StyleUtil;var MIXIN_MATCH=styleUtil.rx.MIXIN_MATCH;var VAR_ASSIGN=styleUtil.rx.VAR_ASSIGN;var BAD_VAR=/var\(\s*(--[^,]*),\s*(--[^)]*)\)/g;var APPLY_NAME_CLEAN=/;\s*/m;var INITIAL_INHERIT=/^\s*(initial)|(inherit)\s*$/;var MIXIN_VAR_SEP="_-_";var mixinMap={};function mapSet(name,props){name=name.trim();mixinMap[name]={properties:props,dependants:{}}}function mapGet(name){name=name.trim();return mixinMap[name]}function replaceInitialOrInherit(property,
value){var match=INITIAL_INHERIT.exec(value);if(match)if(match[1])value=ApplyShim._getInitialValueForProperty(property);else value="apply-shim-inherit";return value}function cssTextToMap(text){var props=text.split(";");var property,value;var out={};for(var i=0,p,sp;i<props.length;i++){p=props[i];if(p){sp=p.split(":");if(sp.length>1){property=sp[0].trim();value=replaceInitialOrInherit(property,sp.slice(1).join(":"));out[property]=value}}}return out}function invalidateMixinEntry(mixinEntry){var currentProto=
ApplyShim.__currentElementProto;var currentElementName=currentProto&&currentProto.is;for(var elementName in mixinEntry.dependants)if(elementName!==currentElementName)mixinEntry.dependants[elementName].__applyShimInvalid=true}function produceCssProperties(matchText,propertyName,valueProperty,valueMixin){if(valueProperty)styleUtil.processVariableAndFallback(valueProperty,function(prefix,value){if(value&&mapGet(value))valueMixin="@apply "+value+";"});if(!valueMixin)return matchText;var mixinAsProperties=
consumeCssProperties(valueMixin);var prefix=matchText.slice(0,matchText.indexOf("--"));var mixinValues=cssTextToMap(mixinAsProperties);var combinedProps=mixinValues;var mixinEntry=mapGet(propertyName);var oldProps=mixinEntry&&mixinEntry.properties;if(oldProps){combinedProps=Object.create(oldProps);combinedProps=Polymer.Base.mixin(combinedProps,mixinValues)}else mapSet(propertyName,combinedProps);var out=[];var p,v;var needToInvalidate=false;for(p in combinedProps){v=mixinValues[p];if(v===undefined)v=
"initial";if(oldProps&&!(p in oldProps))needToInvalidate=true;out.push(propertyName+MIXIN_VAR_SEP+p+": "+v)}if(needToInvalidate)invalidateMixinEntry(mixinEntry);if(mixinEntry)mixinEntry.properties=combinedProps;if(valueProperty)prefix=matchText+";"+prefix;return prefix+out.join("; ")+";"}function fixVars(matchText,varA,varB){return"var("+varA+","+"var("+varB+"))"}function atApplyToCssProperties(mixinName,fallbacks){mixinName=mixinName.replace(APPLY_NAME_CLEAN,"");var vars=[];var mixinEntry=mapGet(mixinName);
if(!mixinEntry){mapSet(mixinName,{});mixinEntry=mapGet(mixinName)}if(mixinEntry){var currentProto=ApplyShim.__currentElementProto;if(currentProto)mixinEntry.dependants[currentProto.is]=currentProto;var p,parts,f;for(p in mixinEntry.properties){f=fallbacks&&fallbacks[p];parts=[p,": var(",mixinName,MIXIN_VAR_SEP,p];if(f)parts.push(",",f);parts.push(")");vars.push(parts.join(""))}}return vars.join("; ")}function consumeCssProperties(text){var m;while(m=MIXIN_MATCH.exec(text)){var matchText=m[0];var mixinName=
m[1];var idx=m.index;var applyPos=idx+matchText.indexOf("@apply");var afterApplyPos=idx+matchText.length;var textBeforeApply=text.slice(0,applyPos);var textAfterApply=text.slice(afterApplyPos);var defaults=cssTextToMap(textBeforeApply);var replacement=atApplyToCssProperties(mixinName,defaults);text=[textBeforeApply,replacement,textAfterApply].join("");MIXIN_MATCH.lastIndex=idx+replacement.length}return text}var ApplyShim={_measureElement:null,_map:mixinMap,_separator:MIXIN_VAR_SEP,transform:function(styles,
elementProto){this.__currentElementProto=elementProto;styleUtil.forRulesInStyles(styles,this._boundFindDefinitions);styleUtil.forRulesInStyles(styles,this._boundFindApplications);if(elementProto)elementProto.__applyShimInvalid=false;this.__currentElementProto=null},_findDefinitions:function(rule){var cssText=rule.parsedCssText;cssText=cssText.replace(BAD_VAR,fixVars);cssText=cssText.replace(VAR_ASSIGN,produceCssProperties);rule.cssText=cssText;if(rule.selector===":root")rule.selector=":host > *"},
_findApplications:function(rule){rule.cssText=consumeCssProperties(rule.cssText)},transformRule:function(rule){this._findDefinitions(rule);this._findApplications(rule)},_getInitialValueForProperty:function(property){if(!this._measureElement){this._measureElement=document.createElement("meta");this._measureElement.style.all="initial";document.head.appendChild(this._measureElement)}return window.getComputedStyle(this._measureElement).getPropertyValue(property)}};ApplyShim._boundTransformRule=ApplyShim.transformRule.bind(ApplyShim);
ApplyShim._boundFindDefinitions=ApplyShim._findDefinitions.bind(ApplyShim);ApplyShim._boundFindApplications=ApplyShim._findApplications.bind(ApplyShim);return ApplyShim}();
(function(){var prepElement=Polymer.Base._prepElement;var nativeShadow=Polymer.Settings.useNativeShadow;var styleUtil=Polymer.StyleUtil;var styleTransformer=Polymer.StyleTransformer;var styleExtends=Polymer.StyleExtends;var applyShim=Polymer.ApplyShim;var settings=Polymer.Settings;Polymer.Base._addFeature({_prepElement:function(element){if(this._encapsulateStyle&&this.__cssBuild!=="shady")styleTransformer.element(element,this.is,this._scopeCssViaAttr);prepElement.call(this,element)},_prepStyles:function(){if(this._encapsulateStyle===
undefined)this._encapsulateStyle=!nativeShadow;if(!nativeShadow)this._scopeStyle=styleUtil.applyStylePlaceHolder(this.is);this.__cssBuild=styleUtil.cssBuildTypeForModule(this.is)},_prepShimStyles:function(){if(this._template){var hasTargetedCssBuild=styleUtil.isTargetedBuild(this.__cssBuild);if(settings.useNativeCSSProperties&&this.__cssBuild==="shadow"&&hasTargetedCssBuild){if(settings.preserveStyleIncludes)styleUtil.styleIncludesToTemplate(this._template);return}this._styles=this._styles||this._collectStyles();
if(settings.useNativeCSSProperties&&!this.__cssBuild)applyShim.transform(this._styles,this);var cssText=settings.useNativeCSSProperties&&hasTargetedCssBuild?this._styles.length&&this._styles[0].textContent.trim():styleTransformer.elementStyles(this);this._prepStyleProperties();if(!this._needsStyleProperties()&&cssText)styleUtil.applyCss(cssText,this.is,nativeShadow?this._template.content:null,this._scopeStyle)}else this._styles=[]},_collectStyles:function(){var styles=[];var cssText="",m$=this.styleModules;
if(m$)for(var i=0,l=m$.length,m;i<l&&(m=m$[i]);i++)cssText+=styleUtil.cssFromModule(m);cssText+=styleUtil.cssFromModule(this.is);var p=this._template&&this._template.parentNode;if(this._template&&(!p||p.id.toLowerCase()!==this.is))cssText+=styleUtil.cssFromElement(this._template);if(cssText){var style=document.createElement("style");style.textContent=cssText;if(styleExtends.hasExtends(style.textContent))cssText=styleExtends.transform(style);styles.push(style)}return styles},_elementAdd:function(node){if(this._encapsulateStyle)if(node.__styleScoped)node.__styleScoped=
false;else styleTransformer.dom(node,this.is,this._scopeCssViaAttr)},_elementRemove:function(node){if(this._encapsulateStyle)styleTransformer.dom(node,this.is,this._scopeCssViaAttr,true)},scopeSubtree:function(container,shouldObserve){if(nativeShadow)return;var self=this;var scopify=function(node){if(node.nodeType===Node.ELEMENT_NODE){var className=node.getAttribute("class");node.setAttribute("class",self._scopeElementClass(node,className));var n$=node.querySelectorAll("*");for(var i=0,n;i<n$.length&&
(n=n$[i]);i++){className=n.getAttribute("class");n.setAttribute("class",self._scopeElementClass(n,className))}}};scopify(container);if(shouldObserve){var mo=new MutationObserver(function(mxns){for(var i=0,m;i<mxns.length&&(m=mxns[i]);i++)if(m.addedNodes)for(var j=0;j<m.addedNodes.length;j++)scopify(m.addedNodes[j])});mo.observe(container,{childList:true,subtree:true});return mo}}})})();
Polymer.StyleProperties=function(){var matchesSelector=Polymer.DomApi.matchesSelector;var styleUtil=Polymer.StyleUtil;var styleTransformer=Polymer.StyleTransformer;var IS_IE=navigator.userAgent.match("Trident");var settings=Polymer.Settings;return{decorateStyles:function(styles,scope){var self=this,props={},keyframes=[],ruleIndex=0;var scopeSelector=styleTransformer._calcHostScope(scope.is,scope["extends"]);styleUtil.forRulesInStyles(styles,function(rule,style){self.decorateRule(rule);rule.index=
ruleIndex++;self.whenHostOrRootRule(scope,rule,style,function(info){if(rule.parent.type===styleUtil.ruleTypes.MEDIA_RULE)scope.__notStyleScopeCacheable=true;if(info.isHost){var hostContextOrFunction=info.selector.split(" ").some(function(s){return s.indexOf(scopeSelector)===0&&s.length!==scopeSelector.length});scope.__notStyleScopeCacheable=scope.__notStyleScopeCacheable||hostContextOrFunction}});self.collectPropertiesInCssText(rule.propertyInfo.cssText,props)},function onKeyframesRule(rule){keyframes.push(rule)});
styles._keyframes=keyframes;var names=[];for(var i in props)names.push(i);return names},decorateRule:function(rule){if(rule.propertyInfo)return rule.propertyInfo;var info={},properties={};var hasProperties=this.collectProperties(rule,properties);if(hasProperties){info.properties=properties;rule.rules=null}info.cssText=this.collectCssText(rule);rule.propertyInfo=info;return info},collectProperties:function(rule,properties){var info=rule.propertyInfo;if(info){if(info.properties){Polymer.Base.mixin(properties,
info.properties);return true}}else{var m,rx=this.rx.VAR_ASSIGN;var cssText=rule.parsedCssText;var value;var any;while(m=rx.exec(cssText)){value=(m[2]||m[3]).trim();if(value!=="inherit")properties[m[1].trim()]=value;any=true}return any}},collectCssText:function(rule){return this.collectConsumingCssText(rule.parsedCssText)},collectConsumingCssText:function(cssText){return cssText.replace(this.rx.BRACKETED,"").replace(this.rx.VAR_ASSIGN,"")},collectPropertiesInCssText:function(cssText,props){var m;while(m=
this.rx.VAR_CONSUMED.exec(cssText)){var name=m[1];if(m[2]!==":")props[name]=true}},reify:function(props){var names=Object.getOwnPropertyNames(props);for(var i=0,n;i<names.length;i++){n=names[i];props[n]=this.valueForProperty(props[n],props)}},valueForProperty:function(property,props){if(property)if(property.indexOf(";")>=0)property=this.valueForProperties(property,props);else{var self=this;var fn=function(prefix,value,fallback,suffix){var propertyValue=self.valueForProperty(props[value],props);if(!propertyValue||
propertyValue==="initial")propertyValue=self.valueForProperty(props[fallback]||fallback,props)||fallback;else if(propertyValue==="apply-shim-inherit")propertyValue="inherit";return prefix+(propertyValue||"")+suffix};property=styleUtil.processVariableAndFallback(property,fn)}return property&&property.trim()||""},valueForProperties:function(property,props){var parts=property.split(";");for(var i=0,p,m;i<parts.length;i++)if(p=parts[i]){this.rx.MIXIN_MATCH.lastIndex=0;m=this.rx.MIXIN_MATCH.exec(p);if(m)p=
this.valueForProperty(props[m[1]],props);else{var colon=p.indexOf(":");if(colon!==-1){var pp=p.substring(colon);pp=pp.trim();pp=this.valueForProperty(pp,props)||pp;p=p.substring(0,colon)+pp}}parts[i]=p&&p.lastIndexOf(";")===p.length-1?p.slice(0,-1):p||""}return parts.join(";")},applyProperties:function(rule,props){var output="";if(!rule.propertyInfo)this.decorateRule(rule);if(rule.propertyInfo.cssText)output=this.valueForProperties(rule.propertyInfo.cssText,props);rule.cssText=output},applyKeyframeTransforms:function(rule,
keyframeTransforms){var input=rule.cssText;var output=rule.cssText;if(rule.hasAnimations==null)rule.hasAnimations=this.rx.ANIMATION_MATCH.test(input);if(rule.hasAnimations){var transform;if(rule.keyframeNamesToTransform==null){rule.keyframeNamesToTransform=[];for(var keyframe in keyframeTransforms){transform=keyframeTransforms[keyframe];output=transform(input);if(input!==output){input=output;rule.keyframeNamesToTransform.push(keyframe)}}}else{for(var i=0;i<rule.keyframeNamesToTransform.length;++i){transform=
keyframeTransforms[rule.keyframeNamesToTransform[i]];input=transform(input)}output=input}}rule.cssText=output},propertyDataFromStyles:function(styles,element){var props={},self=this;var o=[];styleUtil.forActiveRulesInStyles(styles,function(rule){if(!rule.propertyInfo)self.decorateRule(rule);var selectorToMatch=rule.transformedSelector||rule.parsedSelector;if(element&&rule.propertyInfo.properties&&selectorToMatch)if(matchesSelector.call(element,selectorToMatch)){self.collectProperties(rule,props);
addToBitMask(rule.index,o)}});return{properties:props,key:o}},_rootSelector:/:root|:host\s*>\s*\*/,_checkRoot:function(hostScope,selector){return Boolean(selector.match(this._rootSelector))||hostScope==="html"&&selector.indexOf("html")>-1},whenHostOrRootRule:function(scope,rule,style,callback){if(!rule.propertyInfo)self.decorateRule(rule);if(!rule.propertyInfo.properties)return;var hostScope=scope.is?styleTransformer._calcHostScope(scope.is,scope["extends"]):"html";var parsedSelector=rule.parsedSelector;
var isRoot=this._checkRoot(hostScope,parsedSelector);var isHost=!isRoot&&parsedSelector.indexOf(":host")===0;var cssBuild=scope.__cssBuild||style.__cssBuild;if(cssBuild==="shady"){isRoot=parsedSelector===hostScope+" > *."+hostScope||parsedSelector.indexOf("html")>-1;isHost=!isRoot&&parsedSelector.indexOf(hostScope)===0}if(!isRoot&&!isHost)return;var selectorToMatch=hostScope;if(isHost){if(settings.useNativeShadow&&!rule.transformedSelector)rule.transformedSelector=styleTransformer._transformRuleCss(rule,
styleTransformer._transformComplexSelector,scope.is,hostScope);selectorToMatch=rule.transformedSelector||rule.parsedSelector}if(isRoot&&hostScope==="html")selectorToMatch=rule.transformedSelector||rule.parsedSelector;callback({selector:selectorToMatch,isHost:isHost,isRoot:isRoot})},hostAndRootPropertiesForScope:function(scope){var hostProps={},rootProps={},self=this;styleUtil.forActiveRulesInStyles(scope._styles,function(rule,style){self.whenHostOrRootRule(scope,rule,style,function(info){var element=
scope._element||scope;if(matchesSelector.call(element,info.selector))if(info.isHost)self.collectProperties(rule,hostProps);else self.collectProperties(rule,rootProps)})});return{rootProps:rootProps,hostProps:hostProps}},transformStyles:function(element,properties,scopeSelector){var self=this;var hostSelector=styleTransformer._calcHostScope(element.is,element["extends"]);var rxHostSelector=element["extends"]?"\\"+hostSelector.slice(0,-1)+"\\]":hostSelector;var hostRx=new RegExp(this.rx.HOST_PREFIX+
rxHostSelector+this.rx.HOST_SUFFIX);var keyframeTransforms=this._elementKeyframeTransforms(element,scopeSelector);return styleTransformer.elementStyles(element,function(rule){self.applyProperties(rule,properties);if(!settings.useNativeShadow&&!Polymer.StyleUtil.isKeyframesSelector(rule)&&rule.cssText){self.applyKeyframeTransforms(rule,keyframeTransforms);self._scopeSelector(rule,hostRx,hostSelector,element._scopeCssViaAttr,scopeSelector)}})},_elementKeyframeTransforms:function(element,scopeSelector){var keyframesRules=
element._styles._keyframes;var keyframeTransforms={};if(!settings.useNativeShadow&&keyframesRules)for(var i=0,keyframesRule=keyframesRules[i];i<keyframesRules.length;keyframesRule=keyframesRules[++i]){this._scopeKeyframes(keyframesRule,scopeSelector);keyframeTransforms[keyframesRule.keyframesName]=this._keyframesRuleTransformer(keyframesRule)}return keyframeTransforms},_keyframesRuleTransformer:function(keyframesRule){return function(cssText){return cssText.replace(keyframesRule.keyframesNameRx,keyframesRule.transformedKeyframesName)}},
_scopeKeyframes:function(rule,scopeId){rule.keyframesNameRx=new RegExp(rule.keyframesName,"g");rule.transformedKeyframesName=rule.keyframesName+"-"+scopeId;rule.transformedSelector=rule.transformedSelector||rule.selector;rule.selector=rule.transformedSelector.replace(rule.keyframesName,rule.transformedKeyframesName)},_scopeSelector:function(rule,hostRx,hostSelector,viaAttr,scopeId){rule.transformedSelector=rule.transformedSelector||rule.selector;var selector=rule.transformedSelector;var scope=viaAttr?
"["+styleTransformer.SCOPE_NAME+"~="+scopeId+"]":"."+scopeId;var parts=selector.split(",");for(var i=0,l=parts.length,p;i<l&&(p=parts[i]);i++)parts[i]=p.match(hostRx)?p.replace(hostSelector,scope):scope+" "+p;rule.selector=parts.join(",")},applyElementScopeSelector:function(element,selector,old,viaAttr){var c=viaAttr?element.getAttribute(styleTransformer.SCOPE_NAME):element.getAttribute("class")||"";var v=old?c.replace(old,selector):(c?c+" ":"")+this.XSCOPE_NAME+" "+selector;if(c!==v)if(viaAttr)element.setAttribute(styleTransformer.SCOPE_NAME,
v);else element.setAttribute("class",v)},applyElementStyle:function(element,properties,selector,style){var cssText=style?style.textContent||"":this.transformStyles(element,properties,selector);var s=element._customStyle;if(s&&!settings.useNativeShadow&&s!==style){s._useCount--;if(s._useCount<=0&&s.parentNode)s.parentNode.removeChild(s)}if(settings.useNativeShadow)if(element._customStyle){element._customStyle.textContent=cssText;style=element._customStyle}else{if(cssText)style=styleUtil.applyCss(cssText,
selector,element.root,element._scopeStyle)}else if(!style){if(cssText)style=styleUtil.applyCss(cssText,selector,null,element._scopeStyle)}else if(!style.parentNode){if(IS_IE&&cssText.indexOf("@media")>-1)style.textContent=cssText;styleUtil.applyStyle(style,null,element._scopeStyle)}if(style){style._useCount=style._useCount||0;if(element._customStyle!=style)style._useCount++;element._customStyle=style}return style},mixinCustomStyle:function(props,customStyle){var v;for(var i in customStyle){v=customStyle[i];
if(v||v===0)props[i]=v}},updateNativeStyleProperties:function(element,properties){var oldPropertyNames=element.__customStyleProperties;if(oldPropertyNames)for(var i=0;i<oldPropertyNames.length;i++)element.style.removeProperty(oldPropertyNames[i]);var propertyNames=[];for(var p in properties)if(properties[p]!==null){element.style.setProperty(p,properties[p]);propertyNames.push(p)}element.__customStyleProperties=propertyNames},rx:styleUtil.rx,XSCOPE_NAME:"x-scope"};function addToBitMask(n,bits){var o=
parseInt(n/32);var v=1<<n%32;bits[o]=(bits[o]||0)|v}}();
(function(){Polymer.StyleCache=function(){this.cache={}};Polymer.StyleCache.prototype={MAX:100,store:function(is,data,keyValues,keyStyles){data.keyValues=keyValues;data.styles=keyStyles;var s$=this.cache[is]=this.cache[is]||[];s$.push(data);if(s$.length>this.MAX)s$.shift()},retrieve:function(is,keyValues,keyStyles){var cache=this.cache[is];if(cache)for(var i=cache.length-1,data;i>=0;i--){data=cache[i];if(keyStyles===data.styles&&this._objectsEqual(keyValues,data.keyValues))return data}},clear:function(){this.cache=
{}},_objectsEqual:function(target,source){var t,s;for(var i in target){t=target[i],s=source[i];if(!(typeof t==="object"&&t?this._objectsStrictlyEqual(t,s):t===s))return false}if(Array.isArray(target))return target.length===source.length;return true},_objectsStrictlyEqual:function(target,source){return this._objectsEqual(target,source)&&this._objectsEqual(source,target)}}})();
Polymer.StyleDefaults=function(){var styleProperties=Polymer.StyleProperties;var StyleCache=Polymer.StyleCache;var nativeVariables=Polymer.Settings.useNativeCSSProperties;var api={_styles:[],_properties:null,customStyle:{},_styleCache:new StyleCache,_element:Polymer.DomApi.wrap(document.documentElement),addStyle:function(style){this._styles.push(style);this._properties=null},get _styleProperties(){if(!this._properties){styleProperties.decorateStyles(this._styles,this);this._styles._scopeStyleProperties=
null;this._properties=styleProperties.hostAndRootPropertiesForScope(this).rootProps;styleProperties.mixinCustomStyle(this._properties,this.customStyle);styleProperties.reify(this._properties)}return this._properties},hasStyleProperties:function(){return Boolean(this._properties)},_needsStyleProperties:function(){},_computeStyleProperties:function(){return this._styleProperties},updateStyles:function(properties){this._properties=null;if(properties)Polymer.Base.mixin(this.customStyle,properties);this._styleCache.clear();
for(var i=0,s;i<this._styles.length;i++){s=this._styles[i];s=s.__importElement||s;s._apply()}if(nativeVariables)styleProperties.updateNativeStyleProperties(document.documentElement,this.customStyle)}};return api}();
(function(){var serializeValueToAttribute=Polymer.Base.serializeValueToAttribute;var propertyUtils=Polymer.StyleProperties;var styleTransformer=Polymer.StyleTransformer;var styleDefaults=Polymer.StyleDefaults;var nativeShadow=Polymer.Settings.useNativeShadow;var nativeVariables=Polymer.Settings.useNativeCSSProperties;Polymer.Base._addFeature({_prepStyleProperties:function(){if(!nativeVariables)this._ownStylePropertyNames=this._styles&&this._styles.length?propertyUtils.decorateStyles(this._styles,
this):null},customStyle:null,getComputedStyleValue:function(property){if(!nativeVariables&&!this._styleProperties)this._computeStyleProperties();return!nativeVariables&&this._styleProperties&&this._styleProperties[property]||getComputedStyle(this).getPropertyValue(property)},_setupStyleProperties:function(){this.customStyle={};this._styleCache=null;this._styleProperties=null;this._scopeSelector=null;this._ownStyleProperties=null;this._customStyle=null},_needsStyleProperties:function(){return Boolean(!nativeVariables&&
this._ownStylePropertyNames&&this._ownStylePropertyNames.length)},_validateApplyShim:function(){if(this.__applyShimInvalid){Polymer.ApplyShim.transform(this._styles,this.__proto__);var cssText=styleTransformer.elementStyles(this);if(nativeShadow){var templateStyle=this._template.content.querySelector("style");if(templateStyle)templateStyle.textContent=cssText}else{var shadyStyle=this._scopeStyle&&this._scopeStyle.nextSibling;if(shadyStyle)shadyStyle.textContent=cssText}}},_beforeAttached:function(){if((!this._scopeSelector||
this.__stylePropertiesInvalid)&&this._needsStyleProperties()){this.__stylePropertiesInvalid=false;this._updateStyleProperties()}},_findStyleHost:function(){var e=this,root;while(root=Polymer.dom(e).getOwnerRoot()){if(Polymer.isInstance(root.host))return root.host;e=root.host}return styleDefaults},_updateStyleProperties:function(){var info,scope=this._findStyleHost();if(!scope._styleProperties)scope._computeStyleProperties();if(!scope._styleCache)scope._styleCache=new Polymer.StyleCache;var scopeData=
propertyUtils.propertyDataFromStyles(scope._styles,this);var scopeCacheable=!this.__notStyleScopeCacheable;if(scopeCacheable){scopeData.key.customStyle=this.customStyle;info=scope._styleCache.retrieve(this.is,scopeData.key,this._styles)}var scopeCached=Boolean(info);if(scopeCached)this._styleProperties=info._styleProperties;else this._computeStyleProperties(scopeData.properties);this._computeOwnStyleProperties();if(!scopeCached)info=styleCache.retrieve(this.is,this._ownStyleProperties,this._styles);
var globalCached=Boolean(info)&&!scopeCached;var style=this._applyStyleProperties(info);if(!scopeCached){style=style&&nativeShadow?style.cloneNode(true):style;info={style:style,_scopeSelector:this._scopeSelector,_styleProperties:this._styleProperties};if(scopeCacheable){scopeData.key.customStyle={};this.mixin(scopeData.key.customStyle,this.customStyle);scope._styleCache.store(this.is,info,scopeData.key,this._styles)}if(!globalCached)styleCache.store(this.is,Object.create(info),this._ownStyleProperties,
this._styles)}},_computeStyleProperties:function(scopeProps){var scope=this._findStyleHost();if(!scope._styleProperties)scope._computeStyleProperties();var props=Object.create(scope._styleProperties);var hostAndRootProps=propertyUtils.hostAndRootPropertiesForScope(this);this.mixin(props,hostAndRootProps.hostProps);scopeProps=scopeProps||propertyUtils.propertyDataFromStyles(scope._styles,this).properties;this.mixin(props,scopeProps);this.mixin(props,hostAndRootProps.rootProps);propertyUtils.mixinCustomStyle(props,
this.customStyle);propertyUtils.reify(props);this._styleProperties=props},_computeOwnStyleProperties:function(){var props={};for(var i=0,n;i<this._ownStylePropertyNames.length;i++){n=this._ownStylePropertyNames[i];props[n]=this._styleProperties[n]}this._ownStyleProperties=props},_scopeCount:0,_applyStyleProperties:function(info){var oldScopeSelector=this._scopeSelector;this._scopeSelector=info?info._scopeSelector:this.is+"-"+this.__proto__._scopeCount++;var style=propertyUtils.applyElementStyle(this,
this._styleProperties,this._scopeSelector,info&&info.style);if(!nativeShadow)propertyUtils.applyElementScopeSelector(this,this._scopeSelector,oldScopeSelector,this._scopeCssViaAttr);return style},serializeValueToAttribute:function(value,attribute,node){node=node||this;if(attribute==="class"&&!nativeShadow){var host=node===this?this.domHost||this.dataHost:this;if(host)value=host._scopeElementClass(node,value)}node=this.shadyRoot&&this.shadyRoot._hasDistributed?Polymer.dom(node):node;serializeValueToAttribute.call(this,
value,attribute,node)},_scopeElementClass:function(element,selector){if(!nativeShadow&&!this._scopeCssViaAttr)selector=(selector?selector+" ":"")+SCOPE_NAME+" "+this.is+(element._scopeSelector?" "+XSCOPE_NAME+" "+element._scopeSelector:"");return selector},updateStyles:function(properties){if(properties)this.mixin(this.customStyle,properties);if(nativeVariables)propertyUtils.updateNativeStyleProperties(this,this.customStyle);else{if(this.isAttached)if(this._needsStyleProperties())this._updateStyleProperties();
else this._styleProperties=null;else this.__stylePropertiesInvalid=true;if(this._styleCache)this._styleCache.clear();this._updateRootStyles()}},_updateRootStyles:function(root){root=root||this.root;var c$=Polymer.dom(root)._query(function(e){return e.shadyRoot||e.shadowRoot});for(var i=0,l=c$.length,c;i<l&&(c=c$[i]);i++)if(c.updateStyles)c.updateStyles()}});Polymer.updateStyles=function(properties){styleDefaults.updateStyles(properties);Polymer.Base._updateRootStyles(document)};var styleCache=new Polymer.StyleCache;
Polymer.customStyleCache=styleCache;var SCOPE_NAME=styleTransformer.SCOPE_NAME;var XSCOPE_NAME=propertyUtils.XSCOPE_NAME})();
Polymer.Base._addFeature({_registerFeatures:function(){this._prepIs();if(this.factoryImpl)this._prepConstructor();this._prepStyles()},_finishRegisterFeatures:function(){this._prepTemplate();this._prepShimStyles();this._prepAnnotations();this._prepEffects();this._prepBehaviors();this._prepPropertyInfo();this._prepBindings();this._prepShady()},_prepBehavior:function(b){this._addPropertyEffects(b.properties);this._addComplexObserverEffects(b.observers);this._addHostAttributes(b.hostAttributes)},_initFeatures:function(){this._setupGestures();
this._setupConfigure(this.__data__);this._setupStyleProperties();this._setupDebouncers();this._setupShady();this._registerHost();if(this._template){this._validateApplyShim();this._poolContent();this._beginHosting();this._stampTemplate();this._endHosting();this._marshalAnnotationReferences()}this._marshalInstanceEffects();this._marshalBehaviors();this._marshalHostAttributes();this._marshalAttributes();this._tryReady()},_marshalBehavior:function(b){if(b.listeners)this._listenListeners(b.listeners)}});
(function(){var propertyUtils=Polymer.StyleProperties;var styleUtil=Polymer.StyleUtil;var cssParse=Polymer.CssParse;var styleDefaults=Polymer.StyleDefaults;var styleTransformer=Polymer.StyleTransformer;var applyShim=Polymer.ApplyShim;var debounce=Polymer.Debounce;var settings=Polymer.Settings;var updateDebouncer;Polymer({is:"custom-style","extends":"style",_template:null,properties:{include:String},ready:function(){this.__appliedElement=this.__appliedElement||this;this.__cssBuild=styleUtil.getCssBuildType(this);
if(this.__appliedElement!==this)this.__appliedElement.__cssBuild=this.__cssBuild;this._tryApply()},attached:function(){this._tryApply()},_tryApply:function(){if(!this._appliesToDocument)if(this.parentNode&&this.parentNode.localName!=="dom-module"){this._appliesToDocument=true;var e=this.__appliedElement;if(!settings.useNativeCSSProperties){this.__needsUpdateStyles=styleDefaults.hasStyleProperties();styleDefaults.addStyle(e)}if(e.textContent||this.include)this._apply(true);else{var self=this;var observer=
new MutationObserver(function(){observer.disconnect();self._apply(true)});observer.observe(e,{childList:true})}}},_updateStyles:function(){Polymer.updateStyles()},_apply:function(initialApply){var e=this.__appliedElement;if(this.include)e.textContent=styleUtil.cssFromModules(this.include,true)+e.textContent;if(!e.textContent)return;var buildType=this.__cssBuild;var targetedBuild=styleUtil.isTargetedBuild(buildType);if(settings.useNativeCSSProperties&&targetedBuild)return;var styleRules=styleUtil.rulesForStyle(e);
if(!targetedBuild){styleUtil.forEachRule(styleRules,function(rule){styleTransformer.documentRule(rule)});if(settings.useNativeCSSProperties&&!buildType)applyShim.transform([e])}if(settings.useNativeCSSProperties)e.textContent=styleUtil.toCssText(styleRules);else{var self=this;var fn=function fn(){self._flushCustomProperties()};if(initialApply)Polymer.RenderStatus.whenReady(fn);else fn()}},_flushCustomProperties:function(){if(this.__needsUpdateStyles){this.__needsUpdateStyles=false;updateDebouncer=
debounce(updateDebouncer,this._updateStyles)}else this._applyCustomProperties()},_applyCustomProperties:function(){var element=this.__appliedElement;this._computeStyleProperties();var props=this._styleProperties;var rules=styleUtil.rulesForStyle(element);if(!rules)return;element.textContent=styleUtil.toCssText(rules,function(rule){var css=rule.cssText=rule.parsedCssText;if(rule.propertyInfo&&rule.propertyInfo.cssText){css=cssParse.removeCustomPropAssignment(css);rule.cssText=propertyUtils.valueForProperties(css,
props)}})}})})();
Polymer.Templatizer={properties:{__hideTemplateChildren__:{observer:"_showHideChildren"}},_instanceProps:Polymer.nob,_parentPropPrefix:"_parent_",templatize:function(template){this._templatized=template;if(!template._content)template._content=template.content;if(template._content._ctor){this.ctor=template._content._ctor;this._prepParentProperties(this.ctor.prototype,template);return}var archetype=Object.create(Polymer.Base);this._customPrepAnnotations(archetype,template);this._prepParentProperties(archetype,template);
archetype._prepEffects();this._customPrepEffects(archetype);archetype._prepBehaviors();archetype._prepPropertyInfo();archetype._prepBindings();archetype._notifyPathUp=this._notifyPathUpImpl;archetype._scopeElementClass=this._scopeElementClassImpl;archetype.listen=this._listenImpl;archetype._showHideChildren=this._showHideChildrenImpl;archetype.__setPropertyOrig=this.__setProperty;archetype.__setProperty=this.__setPropertyImpl;var _constructor=this._constructorImpl;var ctor=function TemplateInstance(model,
host){_constructor.call(this,model,host)};ctor.prototype=archetype;archetype.constructor=ctor;template._content._ctor=ctor;this.ctor=ctor},_getRootDataHost:function(){return this.dataHost&&this.dataHost._rootDataHost||this.dataHost},_showHideChildrenImpl:function(hide){var c=this._children;for(var i=0;i<c.length;i++){var n=c[i];if(Boolean(hide)!=Boolean(n.__hideTemplateChildren__))if(n.nodeType===Node.TEXT_NODE)if(hide){n.__polymerTextContent__=n.textContent;n.textContent=""}else n.textContent=n.__polymerTextContent__;
else if(n.style)if(hide){n.__polymerDisplay__=n.style.display;n.style.display="none"}else n.style.display=n.__polymerDisplay__;n.__hideTemplateChildren__=hide}},__setPropertyImpl:function(property,value,fromAbove,node){if(node&&node.__hideTemplateChildren__&&property=="textContent")property="__polymerTextContent__";this.__setPropertyOrig(property,value,fromAbove,node)},_debounceTemplate:function(fn){Polymer.dom.addDebouncer(this.debounce("_debounceTemplate",fn))},_flushTemplates:function(){Polymer.dom.flush()},
_customPrepEffects:function(archetype){var parentProps=archetype._parentProps;for(var prop in parentProps)archetype._addPropertyEffect(prop,"function",this._createHostPropEffector(prop));for(prop in this._instanceProps)archetype._addPropertyEffect(prop,"function",this._createInstancePropEffector(prop))},_customPrepAnnotations:function(archetype,template){archetype._template=template;var c=template._content;if(!c._notes){var rootDataHost=archetype._rootDataHost;if(rootDataHost)Polymer.Annotations.prepElement=
function(){rootDataHost._prepElement()};c._notes=Polymer.Annotations.parseAnnotations(template);Polymer.Annotations.prepElement=null;this._processAnnotations(c._notes)}archetype._notes=c._notes;archetype._parentProps=c._parentProps},_prepParentProperties:function(archetype,template){var parentProps=this._parentProps=archetype._parentProps;if(this._forwardParentProp&&parentProps){var proto=archetype._parentPropProto;var prop;if(!proto){for(prop in this._instanceProps)delete parentProps[prop];proto=
archetype._parentPropProto=Object.create(null);if(template!=this){Polymer.Bind.prepareModel(proto);Polymer.Base.prepareModelNotifyPath(proto)}for(prop in parentProps){var parentProp=this._parentPropPrefix+prop;var effects=[{kind:"function",effect:this._createForwardPropEffector(prop),fn:Polymer.Bind._functionEffect},{kind:"notify",fn:Polymer.Bind._notifyEffect,effect:{event:Polymer.CaseMap.camelToDashCase(parentProp)+"-changed"}}];proto._propertyEffects=proto._propertyEffects||{};proto._propertyEffects[parentProp]=
effects;Polymer.Bind._createAccessors(proto,parentProp,effects)}}var self=this;if(template!=this){Polymer.Bind.prepareInstance(template);template._forwardParentProp=function(source,value){self._forwardParentProp(source,value)}}this._extendTemplate(template,proto);template._pathEffector=function(path,value,fromAbove){return self._pathEffectorImpl(path,value,fromAbove)}}},_createForwardPropEffector:function(prop){return function(source,value){this._forwardParentProp(prop,value)}},_createHostPropEffector:function(prop){var prefix=
this._parentPropPrefix;return function(source,value){this.dataHost._templatized[prefix+prop]=value}},_createInstancePropEffector:function(prop){return function(source,value,old,fromAbove){if(!fromAbove)this.dataHost._forwardInstanceProp(this,prop,value)}},_extendTemplate:function(template,proto){var n$=Object.getOwnPropertyNames(proto);if(proto._propertySetter)template._propertySetter=proto._propertySetter;for(var i=0,n;i<n$.length&&(n=n$[i]);i++){var val=template[n];if(val&&n=="_propertyEffects"){var pe=
Polymer.Base.mixin({},val);template._propertyEffects=Polymer.Base.mixin(pe,proto._propertyEffects)}else{var pd=Object.getOwnPropertyDescriptor(proto,n);Object.defineProperty(template,n,pd);if(val!==undefined)template._propertySetter(n,val)}}},_showHideChildren:function(hidden){},_forwardInstancePath:function(inst,path,value){},_forwardInstanceProp:function(inst,prop,value){},_notifyPathUpImpl:function(path,value){var dataHost=this.dataHost;var root=Polymer.Path.root(path);dataHost._forwardInstancePath.call(dataHost,
this,path,value);if(root in dataHost._parentProps)dataHost._templatized._notifyPath(dataHost._parentPropPrefix+path,value)},_pathEffectorImpl:function(path,value,fromAbove){if(this._forwardParentPath)if(path.indexOf(this._parentPropPrefix)===0){var subPath=path.substring(this._parentPropPrefix.length);var model=Polymer.Path.root(subPath);if(model in this._parentProps)this._forwardParentPath(subPath,value)}Polymer.Base._pathEffector.call(this._templatized,path,value,fromAbove)},_constructorImpl:function(model,
host){this._rootDataHost=host._getRootDataHost();this._setupConfigure(model);this._registerHost(host);this._beginHosting();this.root=this.instanceTemplate(this._template);this.root.__noContent=!this._notes._hasContent;this.root.__styleScoped=true;this._endHosting();this._marshalAnnotatedNodes();this._marshalInstanceEffects();this._marshalAnnotatedListeners();var children=[];for(var n=this.root.firstChild;n;n=n.nextSibling){children.push(n);n._templateInstance=this}this._children=children;if(host.__hideTemplateChildren__)this._showHideChildren(true);
this._tryReady()},_listenImpl:function(node,eventName,methodName){var model=this;var host=this._rootDataHost;var handler=host._createEventHandler(node,eventName,methodName);var decorated=function(e){e.model=model;handler(e)};host._listen(node,eventName,decorated)},_scopeElementClassImpl:function(node,value){var host=this._rootDataHost;if(host)return host._scopeElementClass(node,value);return value},stamp:function(model){model=model||{};if(this._parentProps){var templatized=this._templatized;for(var prop in this._parentProps)if(model[prop]===
undefined)model[prop]=templatized[this._parentPropPrefix+prop]}return new this.ctor(model,this)},modelForElement:function(el){var model;while(el)if(model=el._templateInstance)if(model.dataHost!=this)el=model.dataHost;else return model;else el=el.parentNode}};Polymer({is:"dom-template","extends":"template",_template:null,behaviors:[Polymer.Templatizer],ready:function(){this.templatize(this)}});Polymer._collections=new WeakMap;
Polymer.Collection=function(userArray){Polymer._collections.set(userArray,this);this.userArray=userArray;this.store=userArray.slice();this.initMap()};
Polymer.Collection.prototype={constructor:Polymer.Collection,initMap:function(){var omap=this.omap=new WeakMap;var pmap=this.pmap={};var s=this.store;for(var i=0;i<s.length;i++){var item=s[i];if(item&&typeof item=="object")omap.set(item,i);else pmap[item]=i}},add:function(item){var key=this.store.push(item)-1;if(item&&typeof item=="object")this.omap.set(item,key);else this.pmap[item]=key;return"#"+key},removeKey:function(key){if(key=this._parseKey(key)){this._removeFromMap(this.store[key]);delete this.store[key]}},
_removeFromMap:function(item){if(item&&typeof item=="object")this.omap["delete"](item);else delete this.pmap[item]},remove:function(item){var key=this.getKey(item);this.removeKey(key);return key},getKey:function(item){var key;if(item&&typeof item=="object")key=this.omap.get(item);else key=this.pmap[item];if(key!=undefined)return"#"+key},getKeys:function(){return Object.keys(this.store).map(function(key){return"#"+key})},_parseKey:function(key){if(key&&key[0]=="#")return key.slice(1)},setItem:function(key,
item){if(key=this._parseKey(key)){var old=this.store[key];if(old)this._removeFromMap(old);if(item&&typeof item=="object")this.omap.set(item,key);else this.pmap[item]=key;this.store[key]=item}},getItem:function(key){if(key=this._parseKey(key))return this.store[key]},getItems:function(){var items=[],store=this.store;for(var key in store)items.push(store[key]);return items},_applySplices:function(splices){var keyMap={},key;for(var i=0,s;i<splices.length&&(s=splices[i]);i++){s.addedKeys=[];for(var j=
0;j<s.removed.length;j++){key=this.getKey(s.removed[j]);keyMap[key]=keyMap[key]?null:-1}for(j=0;j<s.addedCount;j++){var item=this.userArray[s.index+j];key=this.getKey(item);key=key===undefined?this.add(item):key;keyMap[key]=keyMap[key]?null:1;s.addedKeys.push(key)}}var removed=[];var added=[];for(key in keyMap){if(keyMap[key]<0){this.removeKey(key);removed.push(key)}if(keyMap[key]>0)added.push(key)}return[{removed:removed,added:added}]}};
Polymer.Collection.get=function(userArray){return Polymer._collections.get(userArray)||new Polymer.Collection(userArray)};Polymer.Collection.applySplices=function(userArray,splices){var coll=Polymer._collections.get(userArray);return coll?coll._applySplices(splices):null};
Polymer({is:"dom-repeat","extends":"template",_template:null,properties:{items:{type:Array},as:{type:String,value:"item"},indexAs:{type:String,value:"index"},sort:{type:Function,observer:"_sortChanged"},filter:{type:Function,observer:"_filterChanged"},observe:{type:String,observer:"_observeChanged"},delay:Number,renderedItemCount:{type:Number,notify:!Polymer.Settings.suppressTemplateNotifications,readOnly:true},initialCount:{type:Number,observer:"_initializeChunking"},targetFramerate:{type:Number,
value:20},notifyDomChange:{type:Boolean},_targetFrameTime:{type:Number,computed:"_computeFrameTime(targetFramerate)"}},behaviors:[Polymer.Templatizer],observers:["_itemsChanged(items.*)"],created:function(){this._instances=[];this._pool=[];this._limit=Infinity;var self=this;this._boundRenderChunk=function(){self._renderChunk()}},detached:function(){this.__isDetached=true;for(var i=0;i<this._instances.length;i++)this._detachInstance(i)},attached:function(){if(this.__isDetached){this.__isDetached=false;
var refNode;var parentNode=Polymer.dom(this).parentNode;if(parentNode.localName==this.is){refNode=parentNode;parentNode=Polymer.dom(parentNode).parentNode}else refNode=this;var parent=Polymer.dom(parentNode);for(var i=0;i<this._instances.length;i++)this._attachInstance(i,parent,refNode)}},ready:function(){this._instanceProps={__key__:true};this._instanceProps[this.as]=true;this._instanceProps[this.indexAs]=true;if(!this.ctor)this.templatize(this)},_sortChanged:function(sort){var dataHost=this._getRootDataHost();
this._sortFn=sort&&(typeof sort=="function"?sort:function(){return dataHost[sort].apply(dataHost,arguments)});this._needFullRefresh=true;if(this.items)this._debounceTemplate(this._render)},_filterChanged:function(filter){var dataHost=this._getRootDataHost();this._filterFn=filter&&(typeof filter=="function"?filter:function(){return dataHost[filter].apply(dataHost,arguments)});this._needFullRefresh=true;if(this.items)this._debounceTemplate(this._render)},_computeFrameTime:function(rate){return Math.ceil(1E3/
rate)},_initializeChunking:function(){if(this.initialCount){this._limit=this.initialCount;this._chunkCount=this.initialCount;this._lastChunkTime=performance.now()}},_tryRenderChunk:function(){if(this.items&&this._limit<this.items.length)this.debounce("renderChunk",this._requestRenderChunk)},_requestRenderChunk:function(){requestAnimationFrame(this._boundRenderChunk)},_renderChunk:function(){var currChunkTime=performance.now();var ratio=this._targetFrameTime/(currChunkTime-this._lastChunkTime);this._chunkCount=
Math.round(this._chunkCount*ratio)||1;this._limit+=this._chunkCount;this._lastChunkTime=currChunkTime;this._debounceTemplate(this._render)},_observeChanged:function(){this._observePaths=this.observe&&this.observe.replace(".*",".").split(" ")},_itemsChanged:function(change){if(change.path=="items"){if(Array.isArray(this.items))this.collection=Polymer.Collection.get(this.items);else if(!this.items)this.collection=null;else this._error(this._logf("dom-repeat","expected array for `items`,"+" found",this.items));
this._keySplices=[];this._indexSplices=[];this._needFullRefresh=true;this._initializeChunking();this._debounceTemplate(this._render)}else if(change.path=="items.splices"){this._keySplices=this._keySplices.concat(change.value.keySplices);this._indexSplices=this._indexSplices.concat(change.value.indexSplices);this._debounceTemplate(this._render)}else{var subpath=change.path.slice(6);this._forwardItemPath(subpath,change.value);this._checkObservedPaths(subpath)}},_checkObservedPaths:function(path){if(this._observePaths){path=
path.substring(path.indexOf(".")+1);var paths=this._observePaths;for(var i=0;i<paths.length;i++)if(path.indexOf(paths[i])===0){this._needFullRefresh=true;if(this.delay)this.debounce("render",this._render,this.delay);else this._debounceTemplate(this._render);return}}},render:function(){this._needFullRefresh=true;this._debounceTemplate(this._render);this._flushTemplates()},_render:function(){if(this._needFullRefresh){this._applyFullRefresh();this._needFullRefresh=false}else if(this._keySplices.length)if(this._sortFn)this._applySplicesUserSort(this._keySplices);
else if(this._filterFn)this._applyFullRefresh();else this._applySplicesArrayOrder(this._indexSplices);else;this._keySplices=[];this._indexSplices=[];var keyToIdx=this._keyToInstIdx={};for(var i=this._instances.length-1;i>=0;i--){var inst=this._instances[i];if(inst.isPlaceholder&&i<this._limit)inst=this._insertInstance(i,inst.__key__);else if(!inst.isPlaceholder&&i>=this._limit)inst=this._downgradeInstance(i,inst.__key__);keyToIdx[inst.__key__]=i;if(!inst.isPlaceholder)inst.__setProperty(this.indexAs,
i,true)}this._pool.length=0;this._setRenderedItemCount(this._instances.length);if(!Polymer.Settings.suppressTemplateNotifications||this.notifyDomChange)this.fire("dom-change");this._tryRenderChunk()},_applyFullRefresh:function(){var c=this.collection;var keys;if(this._sortFn)keys=c?c.getKeys():[];else{keys=[];var items=this.items;if(items)for(var i=0;i<items.length;i++)keys.push(c.getKey(items[i]))}var self=this;if(this._filterFn)keys=keys.filter(function(a){return self._filterFn(c.getItem(a))});
if(this._sortFn)keys.sort(function(a,b){return self._sortFn(c.getItem(a),c.getItem(b))});for(i=0;i<keys.length;i++){var key=keys[i];var inst=this._instances[i];if(inst){inst.__key__=key;if(!inst.isPlaceholder&&i<this._limit)inst.__setProperty(this.as,c.getItem(key),true)}else if(i<this._limit)this._insertInstance(i,key);else this._insertPlaceholder(i,key)}for(var j=this._instances.length-1;j>=i;j--)this._detachAndRemoveInstance(j)},_numericSort:function(a,b){return a-b},_applySplicesUserSort:function(splices){var c=
this.collection;var keyMap={};var key;for(var i=0,s;i<splices.length&&(s=splices[i]);i++){for(var j=0;j<s.removed.length;j++){key=s.removed[j];keyMap[key]=keyMap[key]?null:-1}for(j=0;j<s.added.length;j++){key=s.added[j];keyMap[key]=keyMap[key]?null:1}}var removedIdxs=[];var addedKeys=[];for(key in keyMap){if(keyMap[key]===-1)removedIdxs.push(this._keyToInstIdx[key]);if(keyMap[key]===1)addedKeys.push(key)}if(removedIdxs.length){removedIdxs.sort(this._numericSort);for(i=removedIdxs.length-1;i>=0;i--){var idx=
removedIdxs[i];if(idx!==undefined)this._detachAndRemoveInstance(idx)}}var self=this;if(addedKeys.length){if(this._filterFn)addedKeys=addedKeys.filter(function(a){return self._filterFn(c.getItem(a))});addedKeys.sort(function(a,b){return self._sortFn(c.getItem(a),c.getItem(b))});var start=0;for(i=0;i<addedKeys.length;i++)start=this._insertRowUserSort(start,addedKeys[i])}},_insertRowUserSort:function(start,key){var c=this.collection;var item=c.getItem(key);var end=this._instances.length-1;var idx=-1;
while(start<=end){var mid=start+end>>1;var midKey=this._instances[mid].__key__;var cmp=this._sortFn(c.getItem(midKey),item);if(cmp<0)start=mid+1;else if(cmp>0)end=mid-1;else{idx=mid;break}}if(idx<0)idx=end+1;this._insertPlaceholder(idx,key);return idx},_applySplicesArrayOrder:function(splices){for(var i=0,s;i<splices.length&&(s=splices[i]);i++){for(var j=0;j<s.removed.length;j++)this._detachAndRemoveInstance(s.index);for(j=0;j<s.addedKeys.length;j++)this._insertPlaceholder(s.index+j,s.addedKeys[j])}},
_detachInstance:function(idx){var inst=this._instances[idx];if(!inst.isPlaceholder){for(var i=0;i<inst._children.length;i++){var el=inst._children[i];Polymer.dom(inst.root).appendChild(el)}return inst}},_attachInstance:function(idx,parent,refNode){var inst=this._instances[idx];if(!inst.isPlaceholder)parent.insertBefore(inst.root,refNode)},_detachAndRemoveInstance:function(idx){var inst=this._detachInstance(idx);if(inst)this._pool.push(inst);this._instances.splice(idx,1)},_insertPlaceholder:function(idx,
key){this._instances.splice(idx,0,{isPlaceholder:true,__key__:key})},_stampInstance:function(idx,key){var model={__key__:key};model[this.as]=this.collection.getItem(key);model[this.indexAs]=idx;return this.stamp(model)},_insertInstance:function(idx,key){var inst=this._pool.pop();if(inst){inst.__setProperty(this.as,this.collection.getItem(key),true);inst.__setProperty("__key__",key,true)}else inst=this._stampInstance(idx,key);var beforeRow=this._instances[idx+1];var beforeNode=beforeRow&&!beforeRow.isPlaceholder?
beforeRow._children[0]:this;var parentNode=Polymer.dom(this).parentNode;if(parentNode.localName==this.is){if(beforeNode==this)beforeNode=parentNode;parentNode=Polymer.dom(parentNode).parentNode}Polymer.dom(parentNode).insertBefore(inst.root,beforeNode);this._instances[idx]=inst;return inst},_downgradeInstance:function(idx,key){var inst=this._detachInstance(idx);if(inst)this._pool.push(inst);inst={isPlaceholder:true,__key__:key};this._instances[idx]=inst;return inst},_showHideChildren:function(hidden){for(var i=
0;i<this._instances.length;i++)if(!this._instances[i].isPlaceholder)this._instances[i]._showHideChildren(hidden)},_forwardInstanceProp:function(inst,prop,value){if(prop==this.as){var idx;if(this._sortFn||this._filterFn)idx=this.items.indexOf(this.collection.getItem(inst.__key__));else idx=inst[this.indexAs];this.set("items."+idx,value)}},_forwardInstancePath:function(inst,path,value){if(path.indexOf(this.as+".")===0)this._notifyPath("items."+inst.__key__+"."+path.slice(this.as.length+1),value)},_forwardParentProp:function(prop,
value){var i$=this._instances;for(var i=0,inst;i<i$.length&&(inst=i$[i]);i++)if(!inst.isPlaceholder)inst.__setProperty(prop,value,true)},_forwardParentPath:function(path,value){var i$=this._instances;for(var i=0,inst;i<i$.length&&(inst=i$[i]);i++)if(!inst.isPlaceholder)inst._notifyPath(path,value,true)},_forwardItemPath:function(path,value){if(this._keyToInstIdx){var dot=path.indexOf(".");var key=path.substring(0,dot<0?path.length:dot);var idx=this._keyToInstIdx[key];var inst=this._instances[idx];
if(inst&&!inst.isPlaceholder)if(dot>=0){path=this.as+"."+path.substring(dot+1);inst._notifyPath(path,value,true)}else inst.__setProperty(this.as,value,true)}},itemForElement:function(el){var instance=this.modelForElement(el);return instance&&instance[this.as]},keyForElement:function(el){var instance=this.modelForElement(el);return instance&&instance.__key__},indexForElement:function(el){var instance=this.modelForElement(el);return instance&&instance[this.indexAs]}});
Polymer({is:"array-selector",_template:null,properties:{items:{type:Array,observer:"clearSelection"},multi:{type:Boolean,value:false,observer:"clearSelection"},selected:{type:Object,notify:true},selectedItem:{type:Object,notify:true},toggle:{type:Boolean,value:false}},clearSelection:function(){if(Array.isArray(this.selected))for(var i=0;i<this.selected.length;i++)this.unlinkPaths("selected."+i);else{this.unlinkPaths("selected");this.unlinkPaths("selectedItem")}if(this.multi){if(!this.selected||this.selected.length){this.selected=
[];this._selectedColl=Polymer.Collection.get(this.selected)}}else{this.selected=null;this._selectedColl=null}this.selectedItem=null},isSelected:function(item){if(this.multi)return this._selectedColl.getKey(item)!==undefined;else return this.selected==item},deselect:function(item){if(this.multi){if(this.isSelected(item)){var skey=this._selectedColl.getKey(item);this.arrayDelete("selected",item);this.unlinkPaths("selected."+skey)}}else{this.selected=null;this.selectedItem=null;this.unlinkPaths("selected");
this.unlinkPaths("selectedItem")}},select:function(item){var icol=Polymer.Collection.get(this.items);var key=icol.getKey(item);if(this.multi)if(this.isSelected(item)){if(this.toggle)this.deselect(item)}else{this.push("selected",item);var skey=this._selectedColl.getKey(item);this.linkPaths("selected."+skey,"items."+key)}else if(this.toggle&&item==this.selected)this.deselect();else{this.selected=item;this.selectedItem=item;this.linkPaths("selected","items."+key);this.linkPaths("selectedItem","items."+
key)}}});
Polymer({is:"dom-if","extends":"template",_template:null,properties:{"if":{type:Boolean,value:false,observer:"_queueRender"},restamp:{type:Boolean,value:false,observer:"_queueRender"},notifyDomChange:{type:Boolean}},behaviors:[Polymer.Templatizer],_queueRender:function(){this._debounceTemplate(this._render)},detached:function(){var parentNode=this.parentNode;if(parentNode&&parentNode.localName==this.is)parentNode=Polymer.dom(parentNode).parentNode;if(!parentNode||parentNode.nodeType==Node.DOCUMENT_FRAGMENT_NODE&&(!Polymer.Settings.hasShadow||
!(parentNode instanceof ShadowRoot)))this._teardownInstance()},attached:function(){if(this["if"]&&this.ctor)this.async(this._ensureInstance)},render:function(){this._flushTemplates()},_render:function(){if(this["if"]){if(!this.ctor)this.templatize(this);this._ensureInstance();this._showHideChildren()}else if(this.restamp)this._teardownInstance();if(!this.restamp&&this._instance)this._showHideChildren();if(this["if"]!=this._lastIf){if(!Polymer.Settings.suppressTemplateNotifications||this.notifyDomChange)this.fire("dom-change");
this._lastIf=this["if"]}},_ensureInstance:function(){var refNode;var parentNode=Polymer.dom(this).parentNode;if(parentNode&&parentNode.localName==this.is){refNode=parentNode;parentNode=Polymer.dom(parentNode).parentNode}else refNode=this;if(parentNode)if(!this._instance){this._instance=this.stamp();var root=this._instance.root;Polymer.dom(parentNode).insertBefore(root,refNode)}else{var c$=this._instance._children;if(c$&&c$.length){var lastChild=Polymer.dom(refNode).previousSibling;if(lastChild!==
c$[c$.length-1])for(var i=0,n;i<c$.length&&(n=c$[i]);i++)Polymer.dom(parentNode).insertBefore(n,refNode)}}},_teardownInstance:function(){if(this._instance){var c$=this._instance._children;if(c$&&c$.length){var parent=Polymer.dom(Polymer.dom(c$[0]).parentNode);for(var i=0,n;i<c$.length&&(n=c$[i]);i++)parent.removeChild(n)}this._instance=null}},_showHideChildren:function(){var hidden=this.__hideTemplateChildren__||!this["if"];if(this._instance)this._instance._showHideChildren(hidden)},_forwardParentProp:function(prop,
value){if(this._instance)this._instance.__setProperty(prop,value,true)},_forwardParentPath:function(path,value){if(this._instance)this._instance._notifyPath(path,value,true)}});
Polymer({is:"dom-bind",properties:{notifyDomChange:{type:Boolean}},"extends":"template",_template:null,created:function(){var self=this;Polymer.RenderStatus.whenReady(function(){if(document.readyState=="loading")document.addEventListener("DOMContentLoaded",function(){self._markImportsReady()});else self._markImportsReady()})},_ensureReady:function(){if(!this._readied)this._readySelf()},_markImportsReady:function(){this._importsReady=true;this._ensureReady()},_registerFeatures:function(){this._prepConstructor()},
_insertChildren:function(){var refNode;var parentNode=Polymer.dom(this).parentNode;if(parentNode.localName==this.is){refNode=parentNode;parentNode=Polymer.dom(parentNode).parentNode}else refNode=this;Polymer.dom(parentNode).insertBefore(this.root,refNode)},_removeChildren:function(){if(this._children)for(var i=0;i<this._children.length;i++)this.root.appendChild(this._children[i])},_initFeatures:function(){},_scopeElementClass:function(element,selector){if(this.dataHost)return this.dataHost._scopeElementClass(element,
selector);else return selector},_configureInstanceProperties:function(){},_prepConfigure:function(){var config={};for(var prop in this._propertyEffects)config[prop]=this[prop];var setupConfigure=this._setupConfigure;this._setupConfigure=function(){setupConfigure.call(this,config)}},attached:function(){if(this._importsReady)this.render()},detached:function(){this._removeChildren()},render:function(){this._ensureReady();if(!this._children){this._template=this;this._prepAnnotations();this._prepEffects();
this._prepBehaviors();this._prepConfigure();this._prepBindings();this._prepPropertyInfo();Polymer.Base._initFeatures.call(this);this._children=Polymer.TreeApi.arrayCopyChildNodes(this.root)}this._insertChildren();if(!Polymer.Settings.suppressTemplateNotifications||this.notifyDomChange)this.fire("dom-change")}});
(function(){var g,aa=function(a,b){function c(){}
c.prototype=b.prototype;a.superClass_=b.prototype;a.prototype=new c;a.prototype.constructor=a;for(var d in b)if(Object.defineProperties){var e=Object.getOwnPropertyDescriptor(b,d);e&&Object.defineProperty(a,d,e)}else a[d]=b[d]},ba="function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){if(c.get||c.set)throw new TypeError("ES3 does not support getters and setters.");
a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)},ca="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global&&null!=global?global:this,da=function(){da=function(){};
ca.Symbol||(ca.Symbol=ea)},fa=0,ea=function(a){return"jscomp_symbol_"+(a||"")+fa++},ia=function(){da();
var a=ca.Symbol.iterator;a||(a=ca.Symbol.iterator=ca.Symbol("iterator"));"function"!=typeof Array.prototype[a]&&ba(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return ha(this)}});
ia=function(){}},ha=function(a){var b=0;
return ja(function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}})},ja=function(a){ia();
a={next:a};a[ca.Symbol.iterator]=function(){return this};
return a},ka=function(a,b){if(b){var c=ca;
a=a.split(".");for(var d=0;d<a.length-1;d++){var e=a[d];e in c||(c[e]={});c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&ba(c,a,{configurable:!0,writable:!0,value:b})}};
ka("Array.prototype.find",function(a){return a?a:function(a,c){a:{var b=this;b instanceof String&&(b=String(b));for(var e=b.length,f=0;f<e;f++){var h=b[f];if(a.call(c,h,f,b)){a=h;break a}}a=void 0}return a}});
ka("String.prototype.startsWith",function(a){return a?a:function(a,c){if(null==this)throw new TypeError("The 'this' value for String.prototype.startsWith must not be null or undefined");if(a instanceof RegExp)throw new TypeError("First argument to String.prototype.startsWith must not be a regular expression");var b=this+"";a+="";var e=b.length,f=a.length;c=Math.max(0,Math.min(c|0,b.length));for(var h=0;h<f&&c<e;)if(b[c++]!=a[h++])return!1;return h>=f}});
var la=function(a){ia();var b=a[Symbol.iterator];return b?b.call(a):ha(a)},ma=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)};
ka("WeakMap",function(a){function b(a){ma(a,d)||ba(a,d,{value:{}})}
function c(a){var c=Object[a];c&&(Object[a]=function(a){b(a);return c(a)})}
if(function(){if(!a||!Object.seal)return!1;try{var b=Object.seal({}),c=Object.seal({}),d=new a([[b,2],[c,3]]);if(2!=d.get(b)||3!=d.get(c))return!1;d.delete(b);d.set(c,4);return!d.has(b)&&4==d.get(c)}catch(m){return!1}}())return a;
var d="$jscomp_hidden_"+Math.random().toString().substring(2);c("freeze");c("preventExtensions");c("seal");var e=0,f=function(a){this.id_=(e+=Math.random()+1).toString();if(a){da();ia();a=la(a);for(var b;!(b=a.next()).done;)b=b.value,this.set(b[0],b[1])}};
f.prototype.set=function(a,c){b(a);if(!ma(a,d))throw Error("WeakMap key fail: "+a);a[d][this.id_]=c;return this};
f.prototype.get=function(a){return ma(a,d)?a[d][this.id_]:void 0};
f.prototype.has=function(a){return ma(a,d)&&ma(a[d],this.id_)};
f.prototype.delete=function(a){return ma(a,d)&&ma(a[d],this.id_)?delete a[d][this.id_]:!1};
return f});
ka("Map",function(a){if(function(){if(!a||!a.prototype.entries||"function"!=typeof Object.seal)return!1;try{var b=Object.seal({x:4}),c=new a(la([[b,"s"]]));if("s"!=c.get(b)||1!=c.size||c.get({x:4})||c.set({x:4},"t")!=c||2!=c.size)return!1;var d=c.entries(),e=d.next();if(e.done||e.value[0]!=b||"s"!=e.value[1])return!1;e=d.next();return e.done||4!=e.value[0].x||"t"!=e.value[1]||!d.next().done?!1:!0}catch(H){return!1}}())return a;
da();ia();var b=new WeakMap,c=function(a){this.data_={};this.head_=f();this.size=0;if(a){a=la(a);for(var b;!(b=a.next()).done;)b=b.value,this.set(b[0],b[1])}};
c.prototype.set=function(a,b){var c=d(this,a);c.list||(c.list=this.data_[c.id]=[]);c.entry?c.entry.value=b:(c.entry={next:this.head_,previous:this.head_.previous,head:this.head_,key:a,value:b},c.list.push(c.entry),this.head_.previous.next=c.entry,this.head_.previous=c.entry,this.size++);return this};
c.prototype.delete=function(a){a=d(this,a);return a.entry&&a.list?(a.list.splice(a.index,1),a.list.length||delete this.data_[a.id],a.entry.previous.next=a.entry.next,a.entry.next.previous=a.entry.previous,a.entry.head=null,this.size--,!0):!1};
c.prototype.clear=function(){this.data_={};this.head_=this.head_.previous=f();this.size=0};
c.prototype.has=function(a){return!!d(this,a).entry};
c.prototype.get=function(a){return(a=d(this,a).entry)&&a.value};
c.prototype.entries=function(){return e(this,function(a){return[a.key,a.value]})};
c.prototype.keys=function(){return e(this,function(a){return a.key})};
c.prototype.values=function(){return e(this,function(a){return a.value})};
c.prototype.forEach=function(a,b){for(var c=this.entries(),d;!(d=c.next()).done;)d=d.value,a.call(b,d[1],d[0],this)};
c.prototype[Symbol.iterator]=c.prototype.entries;var d=function(a,c){var d=c&&typeof c;"object"==d||"function"==d?b.has(c)?d=b.get(c):(d=""+ ++h,b.set(c,d)):d="p_"+c;var e=a.data_[d];if(e&&ma(a.data_,d))for(a=0;a<e.length;a++){var f=e[a];if(c!==c&&f.key!==f.key||c===f.key)return{id:d,list:e,index:a,entry:f}}return{id:d,list:e,index:-1,entry:void 0}},e=function(a,b){var c=a.head_;
return ja(function(){if(c){for(;c.head!=a.head_;)c=c.previous;for(;c.next!=c.head;)return c=c.next,{done:!1,value:b(c)};c=null}return{done:!0,value:void 0}})},f=function(){var a={};
return a.previous=a.next=a.head=a},h=0;
return c});
ka("Reflect.apply",function(a){if(a)return a;var b=Function.prototype.apply;return function(a,d,e){return b.call(a,d,e)}});
ka("Reflect.construct",function(a){return a?a:function(a,c,d){void 0===d&&(d=a);d=Object.create(d.prototype||Object.prototype);return Reflect.apply(a,d,c)||d}});
ka("Promise",function(a){function b(){this.batch_=null}
if(a)return a;b.prototype.asyncExecute=function(a){null==this.batch_&&(this.batch_=[],this.asyncExecuteBatch_());this.batch_.push(a)};
b.prototype.asyncExecuteBatch_=function(){var a=this;this.asyncExecuteFunction(function(){a.executeBatch_()})};
var c=ca.setTimeout;b.prototype.asyncExecuteFunction=function(a){c(a,0)};
b.prototype.executeBatch_=function(){for(;this.batch_&&this.batch_.length;){var a=this.batch_;this.batch_=[];for(var b=0;b<a.length;++b){var c=a[b];delete a[b];try{c()}catch(l){this.asyncThrow_(l)}}}this.batch_=null};
b.prototype.asyncThrow_=function(a){this.asyncExecuteFunction(function(){throw a;})};
var d=function(a){this.state_=0;this.result_=void 0;this.onSettledCallbacks_=[];var b=this.createResolveAndReject_();try{a(b.resolve,b.reject)}catch(k){b.reject(k)}};
d.prototype.createResolveAndReject_=function(){function a(a){return function(d){c||(c=!0,a.call(b,d))}}
var b=this,c=!1;return{resolve:a(this.resolveTo_),reject:a(this.reject_)}};
d.prototype.resolveTo_=function(a){if(a===this)this.reject_(new TypeError("A Promise cannot resolve to itself"));else if(a instanceof d)this.settleSameAsPromise_(a);else{a:switch(typeof a){case "object":var b=null!=a;break a;case "function":b=!0;break a;default:b=!1}b?this.resolveToNonPromiseObj_(a):this.fulfill_(a)}};
d.prototype.resolveToNonPromiseObj_=function(a){var b=void 0;try{b=a.then}catch(k){this.reject_(k);return}"function"==typeof b?this.settleSameAsThenable_(b,a):this.fulfill_(a)};
d.prototype.reject_=function(a){this.settle_(2,a)};
d.prototype.fulfill_=function(a){this.settle_(1,a)};
d.prototype.settle_=function(a,b){if(0!=this.state_)throw Error("Cannot settle("+a+", "+b|"): Promise already settled in state"+this.state_);this.state_=a;this.result_=b;this.executeOnSettledCallbacks_()};
d.prototype.executeOnSettledCallbacks_=function(){if(null!=this.onSettledCallbacks_){for(var a=this.onSettledCallbacks_,b=0;b<a.length;++b)a[b].call(),a[b]=null;this.onSettledCallbacks_=null}};
var e=new b;d.prototype.settleSameAsPromise_=function(a){var b=this.createResolveAndReject_();a.callWhenSettled_(b.resolve,b.reject)};
d.prototype.settleSameAsThenable_=function(a,b){var c=this.createResolveAndReject_();try{a.call(b,c.resolve,c.reject)}catch(l){c.reject(l)}};
d.prototype.then=function(a,b){function c(a,b){return"function"==typeof a?function(b){try{e(a(b))}catch(I){f(I)}}:b}
var e,f,h=new d(function(a,b){e=a;f=b});
this.callWhenSettled_(c(a,e),c(b,f));return h};
d.prototype.catch=function(a){return this.then(void 0,a)};
d.prototype.callWhenSettled_=function(a,b){function c(){switch(d.state_){case 1:a(d.result_);break;case 2:b(d.result_);break;default:throw Error("Unexpected state: "+d.state_);}}
var d=this;null==this.onSettledCallbacks_?e.asyncExecute(c):this.onSettledCallbacks_.push(function(){e.asyncExecute(c)})};
d.resolve=function(a){return a instanceof d?a:new d(function(b){b(a)})};
d.reject=function(a){return new d(function(b,c){c(a)})};
d.race=function(a){return new d(function(b,c){for(var e=la(a),f=e.next();!f.done;f=e.next())d.resolve(f.value).callWhenSettled_(b,c)})};
d.all=function(a){var b=la(a),c=b.next();return c.done?d.resolve([]):new d(function(a,e){function f(b){return function(c){h[b]=c;k--;0==k&&a(h)}}
var h=[],k=0;do h.push(void 0),k++,d.resolve(c.value).callWhenSettled_(f(h.length-1),e),c=b.next();while(!c.done)})};
d.$jscomp$new$AsyncExecutor=function(){return new b};
return d});
var na=na||{},n=this,p=function(a){return void 0!==a},q=function(a,b,c){a=a.split(".");
c=c||n;a[0]in c||!c.execScript||c.execScript("var "+a[0]);for(var d;a.length&&(d=a.shift());)!a.length&&p(b)?c[d]=b:c=c[d]&&c[d]!==Object.prototype[d]?c[d]:c[d]={}},r=function(a,b){a=a.split(".");
b=b||n;for(var c;c=a.shift();)if(null!=b[c])b=b[c];else return null;return b},oa=function(){},pa=function(a){a.instance_=void 0;
a.getInstance=function(){return a.instance_?a.instance_:a.instance_=new a}},qa=function(a){var b=typeof a;
if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b},ra=function(a){return"array"==qa(a)},sa=function(a){var b=qa(a);
return"array"==b||"object"==b&&"number"==typeof a.length},u=function(a){return"string"==typeof a},ta=function(a){return"number"==typeof a},ua=function(a){return"function"==qa(a)},va=function(a){var b=typeof a;
return"object"==b&&null!=a||"function"==b},ya=function(a){return a[wa]||(a[wa]=++xa)},wa="closure_uid_"+(1E9*Math.random()>>>0),xa=0,za=function(a,b,c){return a.call.apply(a.bind,arguments)},Aa=function(a,b,c){if(!a)throw Error();
if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}},v=function(a,b,c){v=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?za:Aa;
return v.apply(null,arguments)},Ba=function(a,b){var c=Array.prototype.slice.call(arguments,1);
return function(){var b=c.slice();b.push.apply(b,arguments);return a.apply(this,b)}},Ca=function(a,b){for(var c in b)a[c]=b[c]},w=Date.now||function(){return+new Date},x=function(a,b){function c(){}
c.prototype=b.prototype;a.superClass_=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.base=function(a,c,f){for(var d=Array(arguments.length-2),e=2;e<arguments.length;e++)d[e-2]=arguments[e];return b.prototype[c].apply(a,d)}};var Da={},Ea=function(a){if(Error.captureStackTrace)Error.captureStackTrace(this,Ea);else{var b=Error().stack;b&&(this.stack=b)}a&&(this.message=String(a))};
x(Ea,Error);Ea.prototype.name="CustomError";var Fa;var Ga=function(a,b){var c=a.length-b.length;return 0<=c&&a.indexOf(b,c)==c},Ha=function(a,b){for(var c=a.split("%s"),d="",e=Array.prototype.slice.call(arguments,1);e.length&&1<c.length;)d+=c.shift()+e.shift();
return d+c.join("%s")},Ia=function(a){return/^[\s\xa0]*$/.test(a)},Ja=String.prototype.trim?function(a){return a.trim()}:function(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},Ka=function(a,b){a=String(a).toLowerCase();
b=String(b).toLowerCase();return a<b?-1:a==b?0:1},La=function(a){return decodeURIComponent(a.replace(/\+/g," "))},Ta=function(a){if(!Ma.test(a))return a;
-1!=a.indexOf("&")&&(a=a.replace(Na,"&amp;"));-1!=a.indexOf("<")&&(a=a.replace(Oa,"&lt;"));-1!=a.indexOf(">")&&(a=a.replace(Pa,"&gt;"));-1!=a.indexOf('"')&&(a=a.replace(Qa,"&quot;"));-1!=a.indexOf("'")&&(a=a.replace(Ra,"&#39;"));-1!=a.indexOf("\x00")&&(a=a.replace(Sa,"&#0;"));return a},Na=/&/g,Oa=/</g,Pa=/>/g,Qa=/"/g,Ra=/'/g,Sa=/\x00/g,Ma=/[\x00&<>"']/,Wa=function(a){return-1!=a.indexOf("&")?"document"in n?Ua(a):Va(a):a},Ua=function(a){var b={"&amp;":"&",
"&lt;":"<","&gt;":">","&quot;":'"'};var c=n.document.createElement("div");return a.replace(Xa,function(a,e){var d=b[a];if(d)return d;"#"==e.charAt(0)&&(e=Number("0"+e.substr(1)),isNaN(e)||(d=String.fromCharCode(e)));d||(c.innerHTML=a+" ",d=c.firstChild.nodeValue.slice(0,-1));return b[a]=d})},Va=function(a){return a.replace(/&([^;]+);/g,function(a,c){switch(c){case "amp":return"&";
case "lt":return"<";case "gt":return">";case "quot":return'"';default:return"#"!=c.charAt(0)||(c=Number("0"+c.substr(1)),isNaN(c))?a:String.fromCharCode(c)}})},Xa=/&([^;\s<&]+);?/g,Ya={"\x00":"\\0",
"\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\x0B":"\\x0B",'"':'\\"',"\\":"\\\\","<":"<"},Za={"'":"\\'"},ab=function(a){a=String(a);for(var b=['"'],c=0;c<a.length;c++){var d=a.charAt(c),e=d.charCodeAt(0);b[c+1]=Ya[d]||(31<e&&127>e?d:$a(d))}b.push('"');return b.join("")},$a=function(a){if(a in Za)return Za[a];
if(a in Ya)return Za[a]=Ya[a];var b=a.charCodeAt(0);if(31<b&&127>b)var c=a;else{if(256>b){if(c="\\x",16>b||256<b)c+="0"}else c="\\u",4096>b&&(c+="0");c+=b.toString(16).toUpperCase()}return Za[a]=c},bb=String.prototype.repeat?function(a,b){return a.repeat(b)}:function(a,b){return Array(b+1).join(a)},cb=function(a,b){a=p(void 0)?a.toFixed(void 0):String(a);
var c=a.indexOf(".");-1==c&&(c=a.length);return bb("0",Math.max(0,b-c))+a},db=function(a){return null==a?"":String(a)},eb=function(){return Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^w()).toString(36)},gb=function(a,b){var c=0;
a=Ja(String(a)).split(".");b=Ja(String(b)).split(".");for(var d=Math.max(a.length,b.length),e=0;0==c&&e<d;e++){var f=a[e]||"",h=b[e]||"";do{f=/(\d*)(\D*)(.*)/.exec(f)||["","","",""];h=/(\d*)(\D*)(.*)/.exec(h)||["","","",""];if(0==f[0].length&&0==h[0].length)break;c=fb(0==f[1].length?0:parseInt(f[1],10),0==h[1].length?0:parseInt(h[1],10))||fb(0==f[2].length,0==h[2].length)||fb(f[2],h[2]);f=f[3];h=h[3]}while(0==c)}return c},fb=function(a,b){return a<b?-1:a>b?1:0},hb=function(a){for(var b=0,c=0;c<a.length;++c)b=
31*b+a.charCodeAt(c)>>>0;
return b},ib=function(a){return String(a).replace(/\-([a-z])/g,function(a,c){return c.toUpperCase()})},jb=function(a){var b=u(void 0)?"undefined".replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08"):"\\s";
return a.replace(new RegExp("(^"+(b?"|["+b+"]+":"")+")([a-z])","g"),function(a,b,e){return b+e.toUpperCase()})},kb=function(a){isFinite(a)&&(a=String(a));
return u(a)?/^\s*-?0x/i.test(a)?parseInt(a,16):parseInt(a,10):NaN};var lb=function(a,b){return Array.prototype.indexOf.call(a,b,void 0)},y=function(a,b,c){Array.prototype.forEach.call(a,b,c)},mb=function(a,b){return Array.prototype.filter.call(a,b,void 0)},nb=function(a,b){return Array.prototype.map.call(a,b,void 0)},ob=function(a,b){return Array.prototype.some.call(a,b,void 0)},pb=function(a,b,c){return Array.prototype.every.call(a,b,c)},qb=function(a,b){a:{for(var c=a.length,d=u(a)?a.split(""):a,e=0;e<c;e++)if(e in d&&b.call(void 0,d[e],e,a)){b=e;
break a}b=-1}return 0>b?null:u(a)?a.charAt(b):a[b]},sb=function(a){for(var b=rb,c=u(a)?a.split(""):a,d=a.length-1;0<=d;d--)if(d in c&&b.call(void 0,c[d],d,a))return d;
return-1},tb=function(a,b){return 0<=lb(a,b)},ub=function(a,b){b=lb(a,b);
var c;(c=0<=b)&&Array.prototype.splice.call(a,b,1);return c},vb=function(a){return Array.prototype.concat.apply([],arguments)},wb=function(a){var b=a.length;
if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];return c}return[]},xb=function(a,b){for(var c=1;c<arguments.length;c++){var d=arguments[c];
if(sa(d)){var e=a.length||0,f=d.length||0;a.length=e+f;for(var h=0;h<f;h++)a[e+h]=d[h]}else a.push(d)}},zb=function(a,b,c,d){Array.prototype.splice.apply(a,yb(arguments,1))},yb=function(a,b,c){return 2>=arguments.length?Array.prototype.slice.call(a,b):Array.prototype.slice.call(a,b,c)},Bb=function(a,b,c){c=c||Ab;
for(var d=0,e=a.length,f;d<e;){var h=d+e>>1;var k=c(b,a[h]);0<k?d=h+1:(e=h,f=!k)}return f?d:~d},Cb=function(a,b){a.sort(b||Ab)},Ab=function(a,b){return a>b?1:a<b?-1:0},Db=function(a){for(var b=[],c=0;c<arguments.length;c++){var d=arguments[c];
if(ra(d))for(var e=0;e<d.length;e+=8192)for(var f=Db.apply(null,yb(d,e,e+8192)),h=0;h<f.length;h++)b.push(f[h]);else b.push(d)}return b},Eb=function(a){for(var b=Math.random,c=a.length-1;0<c;c--){var d=Math.floor(b()*(c+1)),e=a[c];
a[c]=a[d];a[d]=e}};var Fb=function(a,b,c){this.limit_=c;this.create_=a;this.reset_=b;this.occupants_=0;this.head_=null};
Fb.prototype.get=function(){if(0<this.occupants_){this.occupants_--;var a=this.head_;this.head_=a.next;a.next=null}else a=this.create_();return a};
Fb.prototype.put=function(a){this.reset_(a);this.occupants_<this.limit_&&(this.occupants_++,a.next=this.head_,this.head_=a)};var Gb=function(a){return function(){return a}},Hb=Gb(!0),rb=function(a){return a};var Ib;a:{var Jb=n.navigator;if(Jb){var Kb=Jb.userAgent;if(Kb){Ib=Kb;break a}}Ib=""}var z=function(a){return-1!=Ib.indexOf(a)};var Lb=function(a,b,c){for(var d in a)b.call(c,a[d],d,a)},Mb=function(a,b){var c={},d;
for(d in a)b.call(void 0,a[d],d,a)&&(c[d]=a[d]);return c},Nb=function(a,b){var c={},d;
for(d in a)c[d]=b.call(void 0,a[d],d,a);return c},Ob=function(a,b){for(var c in a)if(b.call(void 0,a[c],c,a))return!0;
return!1},Pb=function(a){var b=0,c;
for(c in a)b++;return b},Qb=function(a){var b=[],c=0,d;
for(d in a)b[c++]=a[d];return b},Rb=function(a){var b=[],c=0,d;
for(d in a)b[c++]=d;return b},Sb=function(a,b){for(var c in a)if(a[c]==b)return!0;
return!1},Tb=function(a,b,c){for(var d in a)if(b.call(c,a[d],d,a))return d},Ub=function(a,b){return(b=Tb(a,b,void 0))&&a[b]},Vb=function(a){for(var b in a)return!1;
return!0},Wb=function(a,b){if(null!==a&&b in a)throw Error('The object already contains the key "'+b+'"');
a[b]=!0},Xb=function(a,b){return null!==a&&b in a?a[b]:void 0},Yb=function(a,b){for(var c in a)if(!(c in b)||a[c]!==b[c])return!1;
for(c in b)if(!(c in a))return!1;return!0},Zb=function(a){var b={},c;
for(c in a)b[c]=a[c];return b},$b=function(a){var b=qa(a);
if("object"==b||"array"==b){if(ua(a.clone))return a.clone();var b="array"==b?[]:{},c;for(c in a)b[c]=$b(a[c]);return b}return a},ac="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),bc=function(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];
for(c in d)a[c]=d[c];for(var f=0;f<ac.length;f++)c=ac[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}},cc=function(a){var b=arguments.length;
if(1==b&&ra(arguments[0]))return cc.apply(null,arguments[0]);for(var c={},d=0;d<b;d++)c[arguments[d]]=!0;return c};var ec=function(){return z("Safari")&&!(dc()||z("Coast")||z("Opera")||z("Edge")||z("Silk")||z("Android"))},dc=function(){return(z("Chrome")||z("CriOS"))&&!z("Edge")};var fc=function(a){n.setTimeout(function(){throw a;},0)},gc,hc=function(){var a=n.MessageChannel;
"undefined"===typeof a&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&!z("Presto")&&(a=function(){var a=document.createElement("IFRAME");a.style.display="none";a.src="";document.documentElement.appendChild(a);var b=a.contentWindow,a=b.document;a.open();a.write("");a.close();var c="callImmediate"+Math.random(),d="file:"==b.location.protocol?"*":b.location.protocol+"//"+b.location.host,a=v(function(a){if(("*"==d||a.origin==d)&&a.data==c)this.port1.onmessage()},this);
b.addEventListener("message",a,!1);this.port1={};this.port2={postMessage:function(){b.postMessage(c,d)}}});
if("undefined"!==typeof a&&!z("Trident")&&!z("MSIE")){var b=new a,c={},d=c;b.port1.onmessage=function(){if(p(c.next)){c=c.next;var a=c.cb;c.cb=null;a()}};
return function(a){d.next={cb:a};d=d.next;b.port2.postMessage(0)}}return"undefined"!==typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(a){var b=document.createElement("SCRIPT");
b.onreadystatechange=function(){b.onreadystatechange=null;b.parentNode.removeChild(b);b=null;a();a=null};
document.documentElement.appendChild(b)}:function(a){n.setTimeout(a,0)}},ic=rb;var jc=function(){this.workTail_=this.workHead_=null},lc=new Fb(function(){return new kc},function(a){a.reset()},100);
jc.prototype.add=function(a,b){var c=lc.get();c.set(a,b);this.workTail_?this.workTail_.next=c:this.workHead_=c;this.workTail_=c};
jc.prototype.remove=function(){var a=null;this.workHead_&&(a=this.workHead_,this.workHead_=this.workHead_.next,this.workHead_||(this.workTail_=null),a.next=null);return a};
var kc=function(){this.next=this.scope=this.fn=null};
kc.prototype.set=function(a,b){this.fn=a;this.scope=b;this.next=null};
kc.prototype.reset=function(){this.next=this.scope=this.fn=null};var qc=function(a,b){mc||nc();oc||(mc(),oc=!0);pc.add(a,b)},mc,nc=function(){if(-1!=String(n.Promise).indexOf("[native code]")){var a=n.Promise.resolve(void 0);
mc=function(){a.then(rc)}}else mc=function(){var a=rc,a=ic(a);
!ua(n.setImmediate)||n.Window&&n.Window.prototype&&!z("Edge")&&n.Window.prototype.setImmediate==n.setImmediate?(gc||(gc=hc()),gc(a)):n.setImmediate(a)}},oc=!1,pc=new jc,rc=function(){for(var a;a=pc.remove();){try{a.fn.call(a.scope)}catch(b){fc(b)}lc.put(a)}oc=!1};var sc=function(a){a.prototype.then=a.prototype.then;a.prototype.$goog_Thenable=!0},tc=function(a){if(!a)return!1;
try{return!!a.$goog_Thenable}catch(b){return!1}};var uc=function(a,b){this.state_=0;this.result_=void 0;this.callbackEntriesTail_=this.callbackEntries_=this.parent_=null;this.hadUnhandledRejection_=this.executing_=!1;if(a!=oa)try{var c=this;a.call(b,function(a){c.resolve_(2,a)},function(a){c.resolve_(3,a)})}catch(d){this.resolve_(3,d)}},vc=function(){this.next=this.context=this.onRejected=this.onFulfilled=this.child=null;
this.always=!1};
vc.prototype.reset=function(){this.context=this.onRejected=this.onFulfilled=this.child=null;this.always=!1};
var wc=new Fb(function(){return new vc},function(a){a.reset()},100),xc=function(a,b,c){var d=wc.get();
d.onFulfilled=a;d.onRejected=b;d.context=c;return d},yc=function(a){if(a instanceof uc)return a;
var b=new uc(oa);b.resolve_(2,a);return b},zc=function(a){return new uc(function(b,c){c(a)})},Bc=function(){var a,b,c=new uc(function(c,e){a=c;
b=e});
return new Ac(c,a,b)};
uc.prototype.then=function(a,b,c){return Cc(this,ua(a)?a:null,ua(b)?b:null,c)};
sc(uc);uc.prototype.cancel=function(a){0==this.state_&&qc(function(){var b=new Dc(a);Ec(this,b)},this)};
var Ec=function(a,b){if(0==a.state_)if(a.parent_){var c=a.parent_;if(c.callbackEntries_){for(var d=0,e=null,f=null,h=c.callbackEntries_;h&&(h.always||(d++,h.child==a&&(e=h),!(e&&1<d)));h=h.next)e||(f=h);e&&(0==c.state_&&1==d?Ec(c,b):(f?(d=f,d.next==c.callbackEntriesTail_&&(c.callbackEntriesTail_=d),d.next=d.next.next):Fc(c),Gc(c,e,3,b)))}a.parent_=null}else a.resolve_(3,b)},Ic=function(a,b){a.callbackEntries_||2!=a.state_&&3!=a.state_||Hc(a);
a.callbackEntriesTail_?a.callbackEntriesTail_.next=b:a.callbackEntries_=b;a.callbackEntriesTail_=b},Cc=function(a,b,c,d){var e=xc(null,null,null);
e.child=new uc(function(a,h){e.onFulfilled=b?function(c){try{var e=b.call(d,c);a(e)}catch(m){h(m)}}:a;
e.onRejected=c?function(b){try{var e=c.call(d,b);!p(e)&&b instanceof Dc?h(b):a(e)}catch(m){h(m)}}:h});
e.child.parent_=a;Ic(a,e);return e.child};
uc.prototype.unblockAndFulfill_=function(a){this.state_=0;this.resolve_(2,a)};
uc.prototype.unblockAndReject_=function(a){this.state_=0;this.resolve_(3,a)};
uc.prototype.resolve_=function(a,b){if(0==this.state_){this===b&&(a=3,b=new TypeError("Promise cannot resolve to itself"));this.state_=1;a:{var c=b,d=this.unblockAndFulfill_,e=this.unblockAndReject_;if(c instanceof uc){Ic(c,xc(d||oa,e||null,this));var f=!0}else if(tc(c))c.then(d,e,this),f=!0;else{if(va(c))try{var h=c.then;if(ua(h)){Jc(c,h,d,e,this);f=!0;break a}}catch(k){e.call(this,k);f=!0;break a}f=!1}}f||(this.result_=b,this.state_=a,this.parent_=null,Hc(this),3!=a||b instanceof Dc||Kc(this,b))}};
var Jc=function(a,b,c,d,e){var f=!1,h=function(a){f||(f=!0,c.call(e,a))},k=function(a){f||(f=!0,d.call(e,a))};
try{b.call(a,h,k)}catch(l){k(l)}},Hc=function(a){a.executing_||(a.executing_=!0,qc(a.executeCallbacks_,a))},Fc=function(a){var b=null;
a.callbackEntries_&&(b=a.callbackEntries_,a.callbackEntries_=b.next,b.next=null);a.callbackEntries_||(a.callbackEntriesTail_=null);return b};
uc.prototype.executeCallbacks_=function(){for(var a;a=Fc(this);)Gc(this,a,this.state_,this.result_);this.executing_=!1};
var Gc=function(a,b,c,d){if(3==c&&b.onRejected&&!b.always)for(;a&&a.hadUnhandledRejection_;a=a.parent_)a.hadUnhandledRejection_=!1;if(b.child)b.child.parent_=null,Lc(b,c,d);else try{b.always?b.onFulfilled.call(b.context):Lc(b,c,d)}catch(e){Mc.call(null,e)}wc.put(b)},Lc=function(a,b,c){2==b?a.onFulfilled.call(a.context,c):a.onRejected&&a.onRejected.call(a.context,c)},Kc=function(a,b){a.hadUnhandledRejection_=!0;
qc(function(){a.hadUnhandledRejection_&&Mc.call(null,b)})},Mc=fc,Dc=function(a){Ea.call(this,a)};
x(Dc,Ea);Dc.prototype.name="cancel";var Ac=function(a,b,c){this.promise=a;this.resolve=b;this.reject=c};var Nc="Microsoft Internet Explorer"==navigator.appName,Oc=window.performance&&window.performance.timing&&window.performance.now?function(){return window.performance.timing.navigationStart+window.performance.now()}:function(){return(new Date).getTime()};var Pc=window.yt&&window.yt.config_||window.ytcfg&&window.ytcfg.data_||{};q("yt.config_",Pc,void 0);function Qc(a){var b=arguments;if(1<b.length)Pc[b[0]]=b[1];else{var b=b[0],c;for(c in b)Pc[c]=b[c]}}
function A(a,b){return a in Pc?Pc[a]:b}
var Rc=function(a,b){return A(a,b)};function Sc(a,b,c,d,e){var f=r("yt.logging.errors.log");f?f(a,b,c,d,e):(f=A("ERRORS",[]),f.push([a,b,c,d,e]),Qc("ERRORS",f))}
var Tc=function(a){if(a instanceof Error)Sc(a);else{var b=va(a)?JSON.stringify(a):String(a),c;a||(c="WARNING");Sc(Error(b),c)}},Uc=function(a){return a&&window.yterr?function(){try{return a.apply(this,arguments)}catch(b){Sc(b)}}:a};var Vc=function(a,b){this.actionName=a;b&&(this.args=b);this.returnValue=[]},Wc=function(a,b,c){this.actionName=a;
this.context=b;this.handler=c},Xc=function(a,b){this.actionName=a;
this.context=b};var Yc="StopIteration"in n?n.StopIteration:{message:"StopIteration",stack:""},Zc=function(){};
Zc.prototype.next=function(){throw Yc;};
Zc.prototype.__iterator__=function(){return this};
var $c=function(a){if(a instanceof Zc)return a;if("function"==typeof a.__iterator__)return a.__iterator__(!1);if(sa(a)){var b=0,c=new Zc;c.next=function(){for(;;){if(b>=a.length)throw Yc;if(b in a)return a[b++];b++}};
return c}throw Error("Not implemented");},ad=function(a,b){if(sa(a))try{y(a,b,void 0)}catch(c){if(c!==Yc)throw c;
}else{a=$c(a);try{for(;;)b.call(void 0,a.next(),void 0,a)}catch(c){if(c!==Yc)throw c;}}},bd=function(a){if(sa(a))return wb(a);
a=$c(a);var b=[];ad(a,function(a){b.push(a)});
return b};var cd=function(a,b){this.map_={};this.keys_=[];this.version_=this.count_=0;var c=arguments.length;if(1<c){if(c%2)throw Error("Uneven number of arguments");for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else a&&this.addAll(a)};
g=cd.prototype;g.getCount=function(){return this.count_};
g.getValues=function(){dd(this);for(var a=[],b=0;b<this.keys_.length;b++)a.push(this.map_[this.keys_[b]]);return a};
g.getKeys=function(){dd(this);return this.keys_.concat()};
g.containsKey=function(a){return ed(this.map_,a)};
g.containsValue=function(a){for(var b=0;b<this.keys_.length;b++){var c=this.keys_[b];if(ed(this.map_,c)&&this.map_[c]==a)return!0}return!1};
g.equals=function(a,b){if(this===a)return!0;if(this.count_!=a.getCount())return!1;b=b||fd;dd(this);for(var c,d=0;c=this.keys_[d];d++)if(!b(this.get(c),a.get(c)))return!1;return!0};
var fd=function(a,b){return a===b};
cd.prototype.isEmpty=function(){return 0==this.count_};
cd.prototype.clear=function(){this.map_={};this.version_=this.count_=this.keys_.length=0};
cd.prototype.remove=function(a){return ed(this.map_,a)?(delete this.map_[a],this.count_--,this.version_++,this.keys_.length>2*this.count_&&dd(this),!0):!1};
var dd=function(a){var b,c;if(a.count_!=a.keys_.length){for(b=c=0;c<a.keys_.length;){var d=a.keys_[c];ed(a.map_,d)&&(a.keys_[b++]=d);c++}a.keys_.length=b}if(a.count_!=a.keys_.length){var e={};for(b=c=0;c<a.keys_.length;)d=a.keys_[c],ed(e,d)||(a.keys_[b++]=d,e[d]=1),c++;a.keys_.length=b}};
g=cd.prototype;g.get=function(a,b){return ed(this.map_,a)?this.map_[a]:b};
g.set=function(a,b){ed(this.map_,a)||(this.count_++,this.keys_.push(a),this.version_++);this.map_[a]=b};
g.addAll=function(a){if(a instanceof cd){var b=a.getKeys();a=a.getValues()}else b=Rb(a),a=Qb(a);for(var c=0;c<b.length;c++)this.set(b[c],a[c])};
g.forEach=function(a,b){for(var c=this.getKeys(),d=0;d<c.length;d++){var e=c[d],f=this.get(e);a.call(b,f,e,this)}};
g.clone=function(){return new cd(this)};
g.__iterator__=function(a){dd(this);var b=0,c=this.version_,d=this,e=new Zc;e.next=function(){if(c!=d.version_)throw Error("The map has changed since the iterator was created");if(b>=d.keys_.length)throw Yc;var e=d.keys_[b++];return a?e:d.map_[e]};
return e};
var ed=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)};var gd=function(a,b,c,d,e,f,h){var k="";a&&(k+=a+":");c&&(k+="//",b&&(k+=b+"@"),k+=c,d&&(k+=":"+d));e&&(k+=e);f&&(k+="?"+f);h&&(k+="#"+h);return k},hd=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/,id=function(a){return a.match(hd)},jd=function(a){return a?decodeURI(a):a},kd=function(a){return jd(id(a)[3]||null)},ld=function(a){a=id(a);
return gd(a[1],a[2],a[3],a[4])},md=function(a){var b=a.indexOf("#");
return 0>b?a:a.substr(0,b)},nd=function(a,b){a=id(a);
b=id(b);return a[3]==b[3]&&a[1]==b[1]&&a[4]==b[4]},od=function(a,b){if(a){a=a.split("&");
for(var c=0;c<a.length;c++){var d=a[c].indexOf("="),e=null;if(0<=d){var f=a[c].substring(0,d);e=a[c].substring(d+1)}else f=a[c];b(f,e?La(e):"")}}},pd=function(a){if(a[1]){var b=a[0],c=b.indexOf("#");
0<=c&&(a.push(b.substr(c)),a[0]=b=b.substr(0,c));c=b.indexOf("?");0>c?a[1]="?":c==b.length-1&&(a[1]=void 0)}return a.join("")},qd=function(a,b,c){if(ra(b))for(var d=0;d<b.length;d++)qd(a,String(b[d]),c);
else null!=b&&c.push("&",a,""===b?"":"=",encodeURIComponent(String(b)))},rd=function(a,b){for(var c in b)qd(c,b[c],a);
return a},sd=function(a){a=rd([],a);
a[0]="";return a.join("")},td=function(a,b){return pd(rd([a],b))},ud=function(a,b,c){a=[a,
"&",b];null!=c&&a.push("=",encodeURIComponent(String(c)));return pd(a)},vd=function(a,b,c,d){for(var e=c.length;0<=(b=a.indexOf(c,b))&&b<d;){var f=a.charCodeAt(b-1);
if(38==f||63==f)if(f=a.charCodeAt(b+e),!f||61==f||38==f||35==f)return b;b+=e+1}return-1},wd=/#|$/,xd=/[?&]($|#)/,yd=function(a,b){for(var c=a.search(wd),d=0,e,f=[];0<=(e=vd(a,d,b,c));)f.push(a.substring(d,e)),d=Math.min(a.indexOf("&",e)+1||c,c);
f.push(a.substr(d));return f.join("").replace(xd,"$1")};function zd(a){return A("EXPERIMENT_FLAGS",{})[a]}
;var Ad=new cd,Bd=function(a,b){var c=ya(a);if(Ad.containsKey(c))throw Error("Unable to register "+(b.is||b)+"! Component "+a+" is already registered!");Ad.set(c,b)},Cd=function(a){a=ya(a);
return Ad.get(a)};function Dd(a,b){for(var c in b)if(b.hasOwnProperty(c)){var d=c,e=b[c];a=ud(yd(a,d),d,e)}return a}
var Ed=function(a,b){if(!a)return null;var c="";if(!a.webNavigationEndpointData&&!a.clickTrackingParams){var d=Number(zd("polymer_report_missing_web_navigation_endpoint_rate")||0);Math.random()<d&&Sc(Error("Missing navigation data: "+JSON.stringify(a)),"WARNING")}if(a.webNavigationEndpointData)c=a.webNavigationEndpointData.url,c="/feed/my_videos"==c?"/my_videos":c;else if(a.searchEndpoint)c="/results?search_query="+encodeURIComponent(a.searchEndpoint.query).replace(/%20/g,"+"),a.searchEndpoint.params&&
(c+="&sp="+a.searchEndpoint.params);else if(a.watchEndpoint)c="/watch?v="+a.watchEndpoint.videoId,a.watchEndpoint.playlistId&&(c+="&list="+a.watchEndpoint.playlistId),a.watchEndpoint.index&&(c+="&index="+a.watchEndpoint.index);else if(a.browseEndpoint){var d=a.browseEndpoint.browseId,e=a.browseEndpoint.canonicalBaseUrl;e?c=e:d&&(c=d.substr(0,2),c="FE"==c?"FEwhat_to_watch"==d?"/":"FEmy_videos"==d?"/my_videos":"/feed/"+d.substr(2):"VL"==c?"/playlist?list="+d.substr(2):"/channel/"+d);c&&a.browseEndpoint.query&&
(c=Dd(c+"/search",{query:a.browseEndpoint.query}));c&&a.browseEndpoint.params&&(c=Dd(c,{params:a.browseEndpoint.params}))}else{if(a.confirmDialogEndpoint||a.guideBuilderEndpoint||a.modalEndpoint||a.shareEndpoint||a.subscriptionManagerEndpoint||a.videoEditorEndpoint||a.backstageImageUploadEndpoint||a.createCommentReplyDialogEndpoint||a.updateCommentDialogEndpoint||a.updateCommentReplyDialogEndpoint||a.flowEndpoint)return null;if(a.urlEndpoint)return a.urlEndpoint.url;a.signInEndpoint?(c="https://accounts.google.com/ServiceLogin",
d={},bc(d,b||{},{"continue":window.location.href.split("#")[0],action_handle_signin:!0,passive:!0}),b=d):a.uploadEndpoint?c="//www.youtube.com/upload":a.liveChatEndpoint?c=Dd("/live_chat/get_live_chat",a.liveChatEndpoint):a.liveChatItemContextMenuEndpoint?c=Dd("/live_chat/get_live_chat_item_context_menu",a.liveChatItemContextMenuEndpoint):a.liveChatPurchaseMessageEndpoint?c=Dd("/live_chat/get_live_chat_message_buy_flow",a.liveChatPurchaseMessageEndpoint):a.gamingSpaceEndpoint&&(c=Dd("/browse",{browseId:a.gamingSpaceEndpoint.spaceId}))}return c?
Dd(c,b||{}):(Sc(Error("Error: Can't construct url for endpoint: "+JSON.stringify(a))),null)};var Fd=function(){};
Fd.prototype.getUrl=function(){};
Fd.prototype.getNavigationEventDetails=function(){};var Gd=function(){};
Gd.prototype.getUrl=function(a){return Ed(a)};
Gd.prototype.getNavigationEventDetails=function(a,b){a={endpoint:a,actions:[]};b=(b.path?b.path[0]:b.target).icon||"";var c=b.indexOf(":");0<c&&(b=b.substr(c+1));b&&a.actions.push(b);return a};var Hd=/Endpoint$/,Id={},Jd=function(a,b){if(!a)return null;a=Object.keys(a);for(var c=0,d=a.length;c<d;c++){var e=a[c].toLowerCase();if(-1<e.indexOf(b,e.length-b.length))return a[c]}return null},Kd=function(a,b){var c=b+a;
if(c in Id)return Id[c];a=b+"-"+a.replace(/([A-Z])/g,"-$1").toLowerCase();return Id[c]=a},Md=function(a){if(a&&a.simpleText)return a.simpleText;
var b="";if(a&&a.runs)for(var c=0,d=a.runs.length;c<d;c++)a.runs[c].text&&(b+=a.runs[c].text);return b},Nd=null,Od=function(){Nd||(Nd=Cd(Fd))||(Nd=new Gd);
return Nd};var Pd=function(a){return a.getCount&&"function"==typeof a.getCount?a.getCount():sa(a)||u(a)?a.length:Pb(a)},Qd=function(a){if(a.getValues&&"function"==typeof a.getValues)return a.getValues();
if(u(a))return a.split("");if(sa(a)){for(var b=[],c=a.length,d=0;d<c;d++)b.push(a[d]);return b}return Qb(a)},Rd=function(a){if(a.getKeys&&"function"==typeof a.getKeys)return a.getKeys();
if(!a.getValues||"function"!=typeof a.getValues){if(sa(a)||u(a)){var b=[];a=a.length;for(var c=0;c<a;c++)b.push(c);return b}return Rb(a)}},Sd=function(a,b,c){if(a.forEach&&"function"==typeof a.forEach)a.forEach(b,c);
else if(sa(a)||u(a))y(a,b,c);else for(var d=Rd(a),e=Qd(a),f=e.length,h=0;h<f;h++)b.call(c,e[h],d&&d[h],a)},Td=function(a,b){if("function"==typeof a.every)return a.every(b,void 0);
if(sa(a)||u(a))return pb(a,b,void 0);for(var c=Rd(a),d=Qd(a),e=d.length,f=0;f<e;f++)if(!b.call(void 0,d[f],c&&c[f],a))return!1;return!0};var Ud=function(a){this.map_=new cd;a&&this.addAll(a)},Vd=function(a){var b=typeof a;
return"object"==b&&a||"function"==b?"o"+ya(a):b.substr(0,1)+a};
g=Ud.prototype;g.getCount=function(){return this.map_.getCount()};
g.add=function(a){this.map_.set(Vd(a),a)};
g.addAll=function(a){a=Qd(a);for(var b=a.length,c=0;c<b;c++)this.add(a[c])};
g.removeAll=function(a){a=Qd(a);for(var b=a.length,c=0;c<b;c++)this.remove(a[c])};
g.remove=function(a){return this.map_.remove(Vd(a))};
g.clear=function(){this.map_.clear()};
g.isEmpty=function(){return this.map_.isEmpty()};
g.contains=function(a){return this.map_.containsKey(Vd(a))};
g.intersection=function(a){var b=new Ud;a=Qd(a);for(var c=0;c<a.length;c++){var d=a[c];this.contains(d)&&b.add(d)}return b};
g.getValues=function(){return this.map_.getValues()};
g.clone=function(){return new Ud(this)};
g.equals=function(a){return this.getCount()==Pd(a)&&Wd(this,a)};
var Wd=function(a,b){var c=Pd(b);if(a.getCount()>c)return!1;!(b instanceof Ud)&&5<c&&(b=new Ud(b));return Td(a,function(a){var c=b;return c.contains&&"function"==typeof c.contains?c.contains(a):c.containsValue&&"function"==typeof c.containsValue?c.containsValue(a):sa(c)||u(c)?tb(c,a):Sb(c,a)})};
Ud.prototype.__iterator__=function(){return this.map_.__iterator__(!1)};var Xd={ComponentBehavior:{_noAccessors:!0,ready:function(){this.provides&&Bd(this.provides,this)},
getInterface:function(a){return Cd(a)},
asyncFrame:function(a,b){return setTimeout(function(){requestAnimationFrame(a)},b)}}};var Yd=function(){};
Yd.prototype.markDirty=function(){};var B={YtActionSenderBehavior:{_noAccessors:!0,sendAction:function(a,b){return this.fire("yt-action",new Vc(a,b)).detail.returnValue},
sendSingletonAction:function(a,b){return this.sendAction(a,b)[0]},
sendInnerTubeActions:function(a,b,c){a.forEach(function(a){var d=Jd(a,"action");d&&(d=Kd(d,"yt"),this.sendAction(d,[a,b,c]))}.bind(this))},
sendServiceRequestAction:function(a){var b=[this];a&&b.push.apply(b,a);a=this.sendAction("yt-service-request",b);0<a.length&&(a=a[0],this.fire("yt-service-request-sent",a),a.ajaxPromise&&a.ajaxPromise.then(function(a){this.fire("yt-service-request-completed",a)},function(a){this.fire("yt-service-request-error",{error:a,
params:b})},this))}}};B.YtActionHandlerBehaviorImpl_={actionMap:{},attached:function(){this.registerActionMap(this.actionMap)},
detached:function(){this.unregisterActionMap(this.actionMap)},
registerActionMap:function(a){for(var b in a){var c=this.createRegisterActionDetail_(b,a[b]);c&&this.registerAction_(c)}},
unregisterActionMap:function(a){for(var b in a)this.unregisterAction_(new Xc(b,this))},
registerAction_:function(a){this.fire("yt-register-action",a)},
unregisterAction_:function(a){this.fire("yt-unregister-action",a,{node:document})},
createRegisterActionDetail_:function(a,b){var c=this[b];if(c)return new Wc(a,this,c);Sc(Error("Error: Undefined function: "+b));return null}};
B.YtActionHandlerBehavior=[B.YtActionSenderBehavior,B.YtActionHandlerBehaviorImpl_];B.YtPostMessageBehavior={_noAccessors:!0,postMessage:function(a,b,c){var d={};d[a]=b;window.top.postMessage(d,this.getTargetOrigin_(),c)},
getTargetOrigin_:function(){return A("POST_TO_PARENT_DOMAIN","https://www.youtube.com")}};var Zd=0,$d=function(a){Zd&&Polymer.Async.cancel(Zd);Zd=Polymer.Async.run(function(){a.fire("yt-visibility-refresh");Zd=0})};
B.YtRendererBehaviorImpl_={_noAccessors:!0,properties:{data:Object},observers:["ytRendererBehaviorDataObserver_(data)"],dirtyTree:!1,childCache_:null,parentComponent:null,wasVisible:!1,wasPrescan:!1,lastHandledScroll_:0,isRenderer_:!0,created:function(){this.dependencies?this.dependencies.push(Yd):this.dependencies=[Yd];this.childCache_=new Ud},
detached:function(){this.monitorScroll&&this.unlisten(this,"scroll","onScroll");this.parentComponent&&(this.parentComponent.childCache_.remove(this),this.parentComponent=null);this.markDirty()},
registerRenderer_:function(a){a.parentComponent=this;this.childCache_.add(a);this.markDirty()},
unregisterRenderer_:function(a){this.childCache_.remove(a);this.markDirty()},
attached:function(){var a=this.getParentRenderer_();a&&a.registerRenderer_(this);this.monitorScroll&&this.listen(this,"scroll","onScroll")},
getParentRenderer_:function(){for(var a=this.parentNode;a&&!a.isRenderer_;)a=a.parentNode||a.host;return a},
ytRendererBehaviorDataObserver_:function(a){a&&(this.wasVisible=!1,A("ADD_SCRAPER_ATTRIBUTES",void 0)&&a.trackingParams&&(this.dataset.ved=a.trackingParams))},
onScroll:function(){var a=Date.now();50>a-this.lastHandledScroll_||(this.lastHandledScroll_=a,this.markDirty())},
markDirty:function(){$d(this)},
invalidate:function(a){this.markDirty();this.wasPrescan=this.wasVisible=!1;a&&(this.dirtyTree=!0)},
getNodes:function(){return this.childCache_.getValues()},
getSimpleString:Md,impressionLog:function(){if(this.data&&this.data.impressionEndpoints)for(var a=0;a<this.data.impressionEndpoints.length;a++)this.data.impressionEndpoints[a].clickTrackingParams&&delete this.data.impressionEndpoints[a].clickTrackingParams,this.sendServiceRequestAction([this.data.impressionEndpoints[a]])},
getEndpointHandler_:Od,computeHref_:function(a){var b=Od();return b&&a&&!Vb(a)?b.getUrl(a):""}};
B.YtRendererBehavior=[Xd.ComponentBehavior,B.YtActionSenderBehavior,B.YtRendererBehaviorImpl_];Polymer({is:"yt-iframed-buyflow-launcher",behaviors:[B.YtActionHandlerBehavior,B.YtPostMessageBehavior],actionMap:{"yt-open-payments-dialog":"onStartWalletBuyFlow_"},created:function(){this.messageChannel_=null},
onStartWalletBuyFlow_:function(a,b){this.messageChannel_=new MessageChannel;this.messageChannel_.port1.onmessage=function(a){if(a.data.buyFlowResponse)this.onDialogSuccess_(b,a.data.buyFlowResponse);else if(a.data.error)this.onDialogError_(b,a.data.error);else this.onDialogClose_(b)}.bind(this);
this.postMessage("yt-iframed-buyflow-launcher",{encryptedPurchaseParams:a},[this.messageChannel_.port2])},
onDialogSuccess_:function(a,b){a({success:!0,buyFlowResponse:b})},
onDialogClose_:function(a){a({success:!1,closed:!0})},
onDialogError_:function(a,b){a({success:!1,error:b})}});Polymer({is:"yt-iframed-player-events-relay",behaviors:[B.YtActionSenderBehavior,B.YtPostMessageBehavior],created:function(){this.messageChannel_=new MessageChannel;this.messageChannel_.port1.onmessage=this.handleMessage_.bind(this)},
ready:function(){this.postMessage("yt-iframed-player-progress-relay",{},[this.messageChannel_.port2])},
handleMessage_:function(a){a.data.progress&&this.sendAction("yt-player-progress-change",[a.data.progress])}});var ae=function(){this.disposed_=this.disposed_;this.onDisposeCallbacks_=this.onDisposeCallbacks_};
ae.prototype.disposed_=!1;ae.prototype.isDisposed=function(){return this.disposed_};
ae.prototype.dispose=function(){this.disposed_||(this.disposed_=!0,this.disposeInternal())};
var ce=function(a,b){b=Ba(be,b);a.disposed_?p(void 0)?b.call(void 0):b():(a.onDisposeCallbacks_||(a.onDisposeCallbacks_=[]),a.onDisposeCallbacks_.push(p(void 0)?v(b,void 0):b))};
ae.prototype.disposeInternal=function(){if(this.onDisposeCallbacks_)for(;this.onDisposeCallbacks_.length;)this.onDisposeCallbacks_.shift()()};
var be=function(a){a&&"function"==typeof a.dispose&&a.dispose()};var de=function(){return z("iPhone")&&!z("iPod")&&!z("iPad")},ee=function(){return de()||z("iPad")||z("iPod")};var fe=function(a){fe[" "](a);return a};
fe[" "]=oa;var ge=function(a,b){try{return fe(a[b]),!0}catch(c){}return!1},he=function(a,b,c){return Object.prototype.hasOwnProperty.call(a,b)?a[b]:a[b]=c(b)};var ie=z("Opera"),C=z("Trident")||z("MSIE"),je=z("Edge"),ke=je||C,le=z("Gecko")&&!(-1!=Ib.toLowerCase().indexOf("webkit")&&!z("Edge"))&&!(z("Trident")||z("MSIE"))&&!z("Edge"),me=-1!=Ib.toLowerCase().indexOf("webkit")&&!z("Edge");me&&z("Mobile");var ne=z("Macintosh"),oe=z("Windows"),pe=z("Linux")||z("CrOS"),qe=n.navigator||null;qe&&(qe.appVersion||"").indexOf("X11");var re=z("Android"),se=de(),te=z("iPad"),ue=z("iPod");ee();var ve=function(){var a=n.document;return a?a.documentMode:void 0},we;
a:{var xe="",ye=function(){var a=Ib;if(le)return/rv\:([^\);]+)(\)|;)/.exec(a);if(je)return/Edge\/([\d\.]+)/.exec(a);if(C)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a);if(me)return/WebKit\/(\S+)/.exec(a);if(ie)return/(?:Version)[ \/]?(\S+)/.exec(a)}();
ye&&(xe=ye?ye[1]:"");if(C){var ze=ve();if(null!=ze&&ze>parseFloat(xe)){we=String(ze);break a}}we=xe}var Ae=we,Be={},Ce=function(a){return he(Be,a,function(){return 0<=gb(Ae,a)})},Ee=function(a){return Number(De)>=a},Fe;
var Ge=n.document;Fe=Ge&&C?ve()||("CSS1Compat"==Ge.compatMode?parseInt(Ae,10):5):void 0;var De=Fe;var He=!C||Ee(9),Ie=!le&&!C||C&&Ee(9)||le&&Ce("1.9.1"),Je=C&&!Ce("9"),Ke=C||ie||me;var Le={area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0};var Ne=function(){this.stringConstValueWithSecurityContract__googStringSecurityPrivate_="";this.STRING_CONST_TYPE_MARKER__GOOG_STRING_SECURITY_PRIVATE_=Me};
Ne.prototype.implementsGoogStringTypedString=!0;Ne.prototype.getTypedStringValue=function(){return this.stringConstValueWithSecurityContract__googStringSecurityPrivate_};
Ne.prototype.toString=function(){return"Const{"+this.stringConstValueWithSecurityContract__googStringSecurityPrivate_+"}"};
var Oe=function(a){return a instanceof Ne&&a.constructor===Ne&&a.STRING_CONST_TYPE_MARKER__GOOG_STRING_SECURITY_PRIVATE_===Me?a.stringConstValueWithSecurityContract__googStringSecurityPrivate_:"type_error:Const"},Me={},Pe=function(a){var b=new Ne;
b.stringConstValueWithSecurityContract__googStringSecurityPrivate_=a;return b};
Pe("");var Re=function(){this.privateDoNotAccessOrElseSafeStyleWrappedValue_="";this.SAFE_STYLE_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=Qe};
Re.prototype.implementsGoogStringTypedString=!0;var Qe={};Re.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeStyleWrappedValue_};
Re.prototype.initSecurityPrivateDoNotAccessOrElse_=function(a){this.privateDoNotAccessOrElseSafeStyleWrappedValue_=a;return this};
var Se=(new Re).initSecurityPrivateDoNotAccessOrElse_(""),Te=/^([-,."'%_!# a-zA-Z0-9]+|(?:rgb|hsl)a?\([0-9.%, ]+\))$/;var Ue=/^[^\u0591-\u06ef\u06fa-\u07ff\u200f\ufb1d-\ufdff\ufe70-\ufefc]*[A-Za-z\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u02b8\u0300-\u0590\u0800-\u1fff\u200e\u2c00-\ufb1c\ufe00-\ufe6f\ufefd-\uffff]/,Ve=/^[^A-Za-z\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u02b8\u0300-\u0590\u0800-\u1fff\u200e\u2c00-\ufb1c\ufe00-\ufe6f\ufefd-\uffff]*[\u0591-\u06ef\u06fa-\u07ff\u200f\ufb1d-\ufdff\ufe70-\ufefc]/;var Xe=function(){this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_="";this.TRUSTED_RESOURCE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=We};
Xe.prototype.implementsGoogStringTypedString=!0;Xe.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_};
Xe.prototype.implementsGoogI18nBidiDirectionalString=!0;Xe.prototype.getDirection=function(){return 1};
var Ye=function(a){if(a instanceof Xe&&a.constructor===Xe&&a.TRUSTED_RESOURCE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===We)return a.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_;qa(a);return"type_error:TrustedResourceUrl"},We={},Ze=function(a){var b=new Xe;
b.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_=a;return b};var af=function(){this.privateDoNotAccessOrElseSafeHtmlWrappedValue_="";this.SAFE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=$e};
af.prototype.implementsGoogStringTypedString=!0;af.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeHtmlWrappedValue_};
af.prototype.implementsGoogI18nBidiDirectionalString=!0;af.prototype.getDirection=function(){return 1};
var bf=function(a){if(a instanceof af&&a.constructor===af&&a.SAFE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===$e)return a.privateDoNotAccessOrElseSafeHtmlWrappedValue_;qa(a);return"type_error:SafeUrl"},cf=/^(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm))$/i,df=/^data:([^;,]*);base64,[a-z0-9+\/]+=*$/i,ff=function(a){var b=a.match(df),b=b&&cf.test(b[1]);
return ef(b?a:"about:invalid#zClosurez")},gf=/^(?:(?:https?|mailto|ftp):|[^&:/?#]*(?:[/?#]|$))/i,hf=function(a){if(a instanceof af)return a;
a=a.implementsGoogStringTypedString?a.getTypedStringValue():String(a);gf.test(a)||(a="about:invalid#zClosurez");return ef(a)},$e={},ef=function(a){var b=new af;
b.privateDoNotAccessOrElseSafeHtmlWrappedValue_=a;return b};
ef("about:blank");var kf=function(){this.privateDoNotAccessOrElseSafeHtmlWrappedValue_="";this.SAFE_HTML_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=jf;this.dir_=null};
kf.prototype.implementsGoogI18nBidiDirectionalString=!0;kf.prototype.getDirection=function(){return this.dir_};
kf.prototype.implementsGoogStringTypedString=!0;kf.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeHtmlWrappedValue_};
var lf=function(a){if(a instanceof kf&&a.constructor===kf&&a.SAFE_HTML_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===jf)return a.privateDoNotAccessOrElseSafeHtmlWrappedValue_;qa(a);return"type_error:SafeHtml"},mf=/^[a-zA-Z0-9-]+$/,nf={action:!0,
cite:!0,data:!0,formaction:!0,href:!0,manifest:!0,poster:!0,src:!0},of={APPLET:!0,BASE:!0,EMBED:!0,IFRAME:!0,LINK:!0,MATH:!0,META:!0,OBJECT:!0,SCRIPT:!0,STYLE:!0,SVG:!0,TEMPLATE:!0},qf=function(a,b,c){var d=String(a);if(!mf.test(d))throw Error("Invalid tag name <"+d+">.");if(d.toUpperCase()in of)throw Error("Tag name <"+d+"> is not allowed for SafeHtml.");return pf(String(a),b,c)},sf=function(a){var b=0,c="",d=function(a){if(ra(a))y(a,d);
else{if(!(a instanceof kf)){var e=null;a.implementsGoogI18nBidiDirectionalString&&(e=a.getDirection());a=rf(Ta(a.implementsGoogStringTypedString?a.getTypedStringValue():String(a)),e)}c+=lf(a);a=a.getDirection();0==b?b=a:0!=a&&b!=a&&(b=null)}};
y(arguments,d);return rf(c,b)},jf={},rf=function(a,b){return(new kf).initSecurityPrivateDoNotAccessOrElse_(a,b)};
kf.prototype.initSecurityPrivateDoNotAccessOrElse_=function(a,b){this.privateDoNotAccessOrElseSafeHtmlWrappedValue_=a;this.dir_=b;return this};
var pf=function(a,b,c){var d=null,e="";if(b)for(I in b){if(!mf.test(I))throw Error('Invalid attribute name "'+I+'".');var f=b[I];if(null!=f){var h=a;var k=I;var l=f;if(l instanceof Ne)l=Oe(l);else if("style"==k.toLowerCase()){f=void 0;h=l;if(!va(h))throw Error('The "style" attribute requires goog.html.SafeStyle or map of style properties, '+typeof h+" given: "+h);if(!(h instanceof Re)){l="";for(f in h){if(!/^[-_a-zA-Z0-9]+$/.test(f))throw Error("Name allows only [-_a-zA-Z0-9], got: "+f);var m=h[f];
if(null!=m){if(m instanceof Ne)m=Oe(m);else if(Te.test(m)){for(var t=!0,H=!0,N=0;N<m.length;N++){var F=m.charAt(N);"'"==F&&H?t=!t:'"'==F&&t&&(H=!H)}t&&H||(m="zClosurez")}else m="zClosurez";l+=f+":"+m+";"}}h=l?(new Re).initSecurityPrivateDoNotAccessOrElse_(l):Se}h instanceof Re&&h.constructor===Re&&h.SAFE_STYLE_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===Qe?f=h.privateDoNotAccessOrElseSafeStyleWrappedValue_:(qa(h),f="type_error:SafeStyle");l=f}else{if(/^on/i.test(k))throw Error('Attribute "'+k+'" requires goog.string.Const value, "'+
l+'" given.');if(k.toLowerCase()in nf)if(l instanceof Xe)l=Ye(l);else if(l instanceof af)l=bf(l);else if(u(l))l=hf(l).getTypedStringValue();else throw Error('Attribute "'+k+'" on tag "'+h+'" requires goog.html.SafeUrl, goog.string.Const, or string, value "'+l+'" given.');}l.implementsGoogStringTypedString&&(l=l.getTypedStringValue());k=k+'="'+Ta(String(l))+'"';e+=" "+k}}var I="<"+a+e;null!=c?ra(c)||(c=[c]):c=[];!0===Le[a.toLowerCase()]?I+=">":(d=sf(c),I+=">"+lf(d)+"</"+a+">",d=d.getDirection());(a=
b&&b.dir)&&(d=/^(ltr|rtl|auto)$/i.test(a)?0:null);return rf(I,d)};
rf("<!DOCTYPE html>",0);var tf=rf("",0),uf=rf("<br>",0);var vf=function(a,b){a.innerHTML=lf(b)},wf=function(a,b){b=b instanceof af?b:hf(b);
a.href=bf(b)},xf=function(a,b){b=b instanceof af?b:hf(b);
a.src=bf(b)},yf=function(a,b){a.src=Ye(b)},zf=function(a,b){a.src=Ye(b)},Af=function(a,b){b=b instanceof af?b:hf(b);
a.href=bf(b)};var Bf=function(a,b){return rf(b,null)};var Cf=function(a,b){this.x=p(a)?a:0;this.y=p(b)?b:0};
Cf.prototype.clone=function(){return new Cf(this.x,this.y)};
Cf.prototype.equals=function(a){return a instanceof Cf&&(this==a?!0:this&&a?this.x==a.x&&this.y==a.y:!1)};
var Df=function(a,b){return new Cf(a.x-b.x,a.y-b.y)};
g=Cf.prototype;g.ceil=function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);return this};
g.floor=function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);return this};
g.round=function(){this.x=Math.round(this.x);this.y=Math.round(this.y);return this};
g.translate=function(a,b){a instanceof Cf?(this.x+=a.x,this.y+=a.y):(this.x+=Number(a),ta(b)&&(this.y+=b));return this};
g.scale=function(a,b){b=ta(b)?b:a;this.x*=a;this.y*=b;return this};var Ef=function(a,b){this.width=a;this.height=b};
g=Ef.prototype;g.clone=function(){return new Ef(this.width,this.height)};
g.area=function(){return this.width*this.height};
g.aspectRatio=function(){return this.width/this.height};
g.isEmpty=function(){return!this.area()};
g.ceil=function(){this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this};
g.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};
g.round=function(){this.width=Math.round(this.width);this.height=Math.round(this.height);return this};
g.scale=function(a,b){b=ta(b)?b:a;this.width*=a;this.height*=b;return this};var Hf=function(a){return a?new Ff(Gf(a)):Fa||(Fa=new Ff)},D=function(a){return u(a)?document.getElementById(a):a},If=function(a){var b=document;
return u(a)?b.getElementById(a):a},Jf=function(a,b){return(b||document).getElementsByTagName(String(a))},Lf=function(a,b){var c=b||document;
return c.querySelectorAll&&c.querySelector?c.querySelectorAll("."+a):Kf(document,"*",a,b)},E=function(a,b){var c=b||document;
return(c.getElementsByClassName?c.getElementsByClassName(a)[0]:c.querySelectorAll&&c.querySelector?c.querySelector("."+a):Kf(document,"*",a,b)[0])||null},Kf=function(a,b,c,d){a=d||a;
var e=b&&"*"!=b?String(b).toUpperCase():"";if(a.querySelectorAll&&a.querySelector&&(e||c))return a.querySelectorAll(e+(c?"."+c:""));if(c&&a.getElementsByClassName){d=a.getElementsByClassName(c);if(e){a={};for(var f=b=0,h;h=d[f];f++)e==h.nodeName&&(a[b++]=h);a.length=b;return a}return d}d=a.getElementsByTagName(e||"*");if(c){a={};for(f=b=0;h=d[f];f++)e=h.className,"function"==typeof e.split&&tb(e.split(/\s+/),c)&&(a[b++]=h);a.length=b;return a}return d},Nf=function(a,b){Lb(b,function(b,d){b&&b.implementsGoogStringTypedString&&
(b=b.getTypedStringValue());
"style"==d?a.style.cssText=b:"class"==d?a.className=b:"for"==d?a.htmlFor=b:Mf.hasOwnProperty(d)?a.setAttribute(Mf[d],b):0==d.lastIndexOf("aria-",0)||0==d.lastIndexOf("data-",0)?a.setAttribute(d,b):a[d]=b})},Mf={cellpadding:"cellPadding",
cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"},Pf=function(a){return Of(a||window)},Of=function(a){a=a.document;
a=Qf(a)?a.documentElement:a.body;return new Ef(a.clientWidth,a.clientHeight)},Sf=function(a){var b=Rf(a);
a=a.parentWindow||a.defaultView;return C&&Ce("10")&&a.pageYOffset!=b.scrollTop?new Cf(b.scrollLeft,b.scrollTop):new Cf(a.pageXOffset||b.scrollLeft,a.pageYOffset||b.scrollTop)},Rf=function(a){return a.scrollingElement?a.scrollingElement:!me&&Qf(a)?a.documentElement:a.body||a.documentElement},Tf=function(a){return a?a.parentWindow||a.defaultView:window},Vf=function(a,b,c){return Uf(document,arguments)},Uf=function(a,b){var c=String(b[0]),d=b[1];
if(!He&&d&&(d.name||d.type)){c=["<",c];d.name&&c.push(' name="',Ta(d.name),'"');if(d.type){c.push(' type="',Ta(d.type),'"');var e={};bc(e,d);delete e.type;d=e}c.push(">");c=c.join("")}c=a.createElement(c);d&&(u(d)?c.className=d:ra(d)?c.className=d.join(" "):Nf(c,d));2<b.length&&Wf(a,c,b,2);return c},Wf=function(a,b,c,d){function e(c){c&&b.appendChild(u(c)?a.createTextNode(c):c)}
for(;d<c.length;d++){var f=c[d];!sa(f)||va(f)&&0<f.nodeType?e(f):y(Xf(f)?wb(f):f,e)}},Yf=function(a){return document.createElement(String(a))},Zf=function(a){var b=document,c=b.createElement("DIV");
C?(vf(c,sf(uf,a)),c.removeChild(c.firstChild)):vf(c,a);if(1==c.childNodes.length)c=c.removeChild(c.firstChild);else{for(a=b.createDocumentFragment();c.firstChild;)a.appendChild(c.firstChild);c=a}return c},Qf=function(a){return"CSS1Compat"==a.compatMode},$f=function(a,b){Wf(Gf(a),a,arguments,1)},ag=function(a){for(var b;b=a.firstChild;)a.removeChild(b)},bg=function(a,b){b.parentNode&&b.parentNode.insertBefore(a,b)},cg=function(a,b){b.parentNode&&b.parentNode.insertBefore(a,b.nextSibling)},dg=function(a,
b){a.insertBefore(b,a.childNodes[0]||null)},eg=function(a){return a&&a.parentNode?a.parentNode.removeChild(a):null},fg=function(a,b){var c=b.parentNode;
c&&c.replaceChild(a,b)},gg=function(a){return Ie&&void 0!=a.children?a.children:mb(a.childNodes,function(a){return 1==a.nodeType})},ig=function(a){return p(a.firstElementChild)?a.firstElementChild:hg(a.firstChild,!0)},jg=function(a){return p(a.nextElementSibling)?a.nextElementSibling:hg(a.nextSibling,!0)},hg=function(a,b){for(;a&&1!=a.nodeType;)a=b?a.nextSibling:a.previousSibling;
return a},kg=function(a){if(!a)return null;
if(a.firstChild)return a.firstChild;for(;a&&!a.nextSibling;)a=a.parentNode;return a?a.nextSibling:null},lg=function(a){if(!a)return null;
if(!a.previousSibling)return a.parentNode;for(a=a.previousSibling;a&&a.lastChild;)a=a.lastChild;return a},mg=function(a){return va(a)&&1==a.nodeType},ng=function(a){var b;
if(Ke&&!(C&&Ce("9")&&!Ce("10")&&n.SVGElement&&a instanceof n.SVGElement)&&(b=a.parentElement))return b;b=a.parentNode;return mg(b)?b:null},og=function(a,b){if(!a||!b)return!1;
if(a.contains&&1==b.nodeType)return a==b||a.contains(b);if("undefined"!=typeof a.compareDocumentPosition)return a==b||!!(a.compareDocumentPosition(b)&16);for(;b&&a!=b;)b=b.parentNode;return b==a},Gf=function(a){return 9==a.nodeType?a:a.ownerDocument||a.document},pg=function(a){return a.contentDocument||a.contentWindow.document},qg=function(a,b){if("textContent"in a)a.textContent=b;
else if(3==a.nodeType)a.data=b;else if(a.firstChild&&3==a.firstChild.nodeType){for(;a.lastChild!=a.firstChild;)a.removeChild(a.lastChild);a.firstChild.data=b}else ag(a),a.appendChild(Gf(a).createTextNode(String(b)))},sg=function(a,b){var c=[];
return rg(a,b,c,!0)?c[0]:void 0},rg=function(a,b,c,d){if(null!=a)for(a=a.firstChild;a;){if(b(a)&&(c.push(a),d)||rg(a,b,c,d))return!0;
a=a.nextSibling}return!1},tg={SCRIPT:1,
STYLE:1,HEAD:1,IFRAME:1,OBJECT:1},ug={IMG:" ",BR:"\n"},xg=function(a){var b;(b="A"==a.tagName||"INPUT"==a.tagName||"TEXTAREA"==a.tagName||"SELECT"==a.tagName||"BUTTON"==a.tagName?!a.disabled&&(!vg(a)||wg(a)):vg(a)&&wg(a))&&C?(a=!ua(a.getBoundingClientRect)||C&&null==a.parentElement?{height:a.offsetHeight,width:a.offsetWidth}:a.getBoundingClientRect(),a=null!=a&&0<a.height&&0<a.width):a=b;return a},vg=function(a){return C&&!Ce("9")?(a=a.getAttributeNode("tabindex"),null!=a&&a.specified):a.hasAttribute("tabindex")},
wg=function(a){a=a.tabIndex;
return ta(a)&&0<=a&&32768>a},zg=function(a){if(Je&&null!==a&&"innerText"in a)a=a.innerText.replace(/(\r\n|\r|\n)/g,"\n");
else{var b=[];yg(a,b,!0);a=b.join("")}a=a.replace(/ \xAD /g," ").replace(/\xAD/g,"");a=a.replace(/\u200B/g,"");Je||(a=a.replace(/ +/g," "));" "!=a&&(a=a.replace(/^\s*/,""));return a},Ag=function(a){var b=[];
yg(a,b,!1);return b.join("")},yg=function(a,b,c){if(!(a.nodeName in tg))if(3==a.nodeType)c?b.push(String(a.nodeValue).replace(/(\r\n|\r|\n)/g,"")):b.push(a.nodeValue);
else if(a.nodeName in ug)b.push(ug[a.nodeName]);else for(a=a.firstChild;a;)yg(a,b,c),a=a.nextSibling},Xf=function(a){if(a&&"number"==typeof a.length){if(va(a))return"function"==typeof a.item||"string"==typeof a.item;
if(ua(a))return"function"==typeof a.item}return!1},Cg=function(a,b,c,d){if(!b&&!c)return null;
var e=b?String(b).toUpperCase():null;return Bg(a,function(a){return(!e||a.nodeName==e)&&(!c||u(a.className)&&tb(a.className.split(/\s+/),c))},d)},G=function(a,b){return Cg(a,null,b,void 0)},Bg=function(a,b,c){for(var d=0;a&&(null==c||d<=c);){if(b(a))return a;
a=a.parentNode;d++}return null},Ff=function(a){this.document_=a||n.document||document};
g=Ff.prototype;g.getDomHelper=Hf;g.getElement=function(a){return u(a)?this.document_.getElementById(a):a};
g.$=Ff.prototype.getElement;g.getElementsByTagName=function(a,b){return(b||this.document_).getElementsByTagName(String(a))};
g.getElementsByTagNameAndClass=function(a,b,c){return Kf(this.document_,a,b,c)};
g.getElementsByClass=function(a,b){return Lf(a,b||this.document_)};
g.getElementByClass=function(a,b){return E(a,b||this.document_)};
g.getRequiredElementByClass=function(a,b){return E(a,b||this.document_)};
g.$$=Ff.prototype.getElementsByTagNameAndClass;g.setProperties=Nf;g.createDom=function(a,b,c){return Uf(this.document_,arguments)};
g.createElement=function(a){return this.document_.createElement(String(a))};
g.createTextNode=function(a){return this.document_.createTextNode(String(a))};
g.getWindow=function(){var a=this.document_;return a.parentWindow||a.defaultView};
g.appendChild=function(a,b){a.appendChild(b)};
g.append=$f;g.canHaveChildren=function(a){if(1!=a.nodeType)return!1;switch(a.tagName){case "APPLET":case "AREA":case "BASE":case "BR":case "COL":case "COMMAND":case "EMBED":case "FRAME":case "HR":case "IMG":case "INPUT":case "IFRAME":case "ISINDEX":case "KEYGEN":case "LINK":case "NOFRAMES":case "NOSCRIPT":case "META":case "OBJECT":case "PARAM":case "SCRIPT":case "SOURCE":case "STYLE":case "TRACK":case "WBR":return!1}return!0};
g.removeNode=eg;g.getChildren=gg;g.contains=og;g.isFocusable=xg;var Eg=function(a){Dg();return rf(a,null)},Fg=function(a){Dg();
return Ze(a)},Dg=oa;var Gg=function(a){this.document_=a||{cookie:""}};
g=Gg.prototype;g.isEnabled=function(){return navigator.cookieEnabled};
g.set=function(a,b,c,d,e,f){if(/[;=\s]/.test(a))throw Error('Invalid cookie name "'+a+'"');if(/[;\r\n]/.test(b))throw Error('Invalid cookie value "'+b+'"');p(c)||(c=-1);e=e?";domain="+e:"";d=d?";path="+d:"";f=f?";secure":"";c=0>c?"":0==c?";expires="+(new Date(1970,1,1)).toUTCString():";expires="+(new Date(w()+1E3*c)).toUTCString();this.document_.cookie=a+"="+b+e+d+c+f};
g.get=function(a,b){for(var c=a+"=",d=(this.document_.cookie||"").split(";"),e=0,f;e<d.length;e++){f=Ja(d[e]);if(0==f.lastIndexOf(c,0))return f.substr(c.length);if(f==a)return""}return b};
g.remove=function(a,b,c){var d=this.containsKey(a);this.set(a,"",0,b,c);return d};
g.getKeys=function(){return Hg(this).keys};
g.getValues=function(){return Hg(this).values};
g.isEmpty=function(){return!this.document_.cookie};
g.getCount=function(){return this.document_.cookie?(this.document_.cookie||"").split(";").length:0};
g.containsKey=function(a){return p(this.get(a))};
g.containsValue=function(a){for(var b=Hg(this).values,c=0;c<b.length;c++)if(b[c]==a)return!0;return!1};
g.clear=function(){for(var a=Hg(this).keys,b=a.length-1;0<=b;b--)this.remove(a[b])};
var Hg=function(a){a=(a.document_.cookie||"").split(";");for(var b=[],c=[],d,e,f=0;f<a.length;f++)e=Ja(a[f]),d=e.indexOf("="),-1==d?(b.push(""),c.push(e)):(b.push(e.substring(0,d)),c.push(e.substring(d+1)));return{keys:b,values:c}},Ig=new Gg("undefined"==typeof document?null:document);
Ig.MAX_COOKIE_LENGTH=3950;var Jg=function(a){ae.call(this);this.key_=1;this.pendingKeys_=[];this.publishDepth_=0;this.subscriptions_=[];this.topics_={};this.async_=!!a};
x(Jg,ae);Jg.prototype.subscribe=function(a,b,c){var d=this.topics_[a];d||(d=this.topics_[a]=[]);var e=this.key_;this.subscriptions_[e]=a;this.subscriptions_[e+1]=b;this.subscriptions_[e+2]=c;this.key_=e+3;d.push(e);return e};
var Kg=function(a,b){var c=!1,d=a.subscribe("ROOT_MENU_REMOVED",function(a){c||(c=!0,this.unsubscribeByKey(d),b.apply(void 0,arguments))},a)};
Jg.prototype.unsubscribe=function(a,b,c){if(a=this.topics_[a]){var d=this.subscriptions_;if(a=qb(a,function(a){return d[a+1]==b&&d[a+2]==c}))return this.unsubscribeByKey(a)}return!1};
Jg.prototype.unsubscribeByKey=function(a){var b=this.subscriptions_[a];if(b){var c=this.topics_[b];0!=this.publishDepth_?(this.pendingKeys_.push(a),this.subscriptions_[a+1]=oa):(c&&ub(c,a),delete this.subscriptions_[a],delete this.subscriptions_[a+1],delete this.subscriptions_[a+2])}return!!b};
Jg.prototype.publish=function(a,b){var c=this.topics_[a];if(c){for(var d=Array(arguments.length-1),e=1,f=arguments.length;e<f;e++)d[e-1]=arguments[e];if(this.async_)for(e=0;e<c.length;e++){var h=c[e];Lg(this.subscriptions_[h+1],this.subscriptions_[h+2],d)}else{this.publishDepth_++;try{for(e=0,f=c.length;e<f;e++)h=c[e],this.subscriptions_[h+1].apply(this.subscriptions_[h+2],d)}finally{if(this.publishDepth_--,0<this.pendingKeys_.length&&0==this.publishDepth_)for(;h=this.pendingKeys_.pop();)this.unsubscribeByKey(h)}}return 0!=
e}return!1};
var Lg=function(a,b,c){qc(function(){a.apply(b,c)})};
Jg.prototype.clear=function(a){if(a){var b=this.topics_[a];b&&(y(b,this.unsubscribeByKey,this),delete this.topics_[a])}else this.subscriptions_.length=0,this.topics_={}};
Jg.prototype.getCount=function(a){if(a){var b=this.topics_[a];return b?b.length:0}a=0;for(b in this.topics_)a+=this.getCount(b);return a};
Jg.prototype.disposeInternal=function(){Jg.superClass_.disposeInternal.call(this);this.clear();this.pendingKeys_.length=0};var Mg=z("Firefox"),Ng=de()||z("iPod"),Og=z("iPad"),Pg=z("Android")&&!(dc()||z("Firefox")||z("Opera")||z("Silk")),Qg=dc(),Rg=ec()&&!ee();w();navigator.userAgent.indexOf(" (CrKey ");var Sg=function(){};var Tg={};function Ug(a){return Tg[a]||(Tg[a]=String(a).replace(/\-([a-z])/g,function(a,c){return c.toUpperCase()}))}
var J=function(a,b){return a?a.dataset?a.dataset[Ug(b)]:a.getAttribute("data-"+b):null},Vg=function(a,b){return a?a.dataset?Ug(b)in a.dataset:a.hasAttribute?!!a.hasAttribute("data-"+b):!!a.getAttribute("data-"+b):!1},Wg=function(a,b){a&&(a.dataset?delete a.dataset[Ug(b)]:a.removeAttribute("data-"+b))},Xg=function(a,b,c){a&&(a.dataset?a.dataset[Ug(b)]=String(c):a.setAttribute("data-"+b,c))};var Yg=p(XMLHttpRequest)?function(){return new XMLHttpRequest}:p(ActiveXObject)?function(){return new ActiveXObject("Microsoft.XMLHTTP")}:null,Zg=function(){if(!Yg)return null;
var a=Yg();return"open"in a?a:null};var $g=function(a){window.clearTimeout(a)},ah=function(a,b){ua(a)&&(a=Uc(a));
return window.setTimeout(a,b)};function bh(a){"?"==a.charAt(0)&&(a=a.substr(1));a=a.split("&");for(var b={},c=0,d=a.length;c<d;c++){var e=a[c].split("=");if(1==e.length&&e[0]||2==e.length){var f=La(e[0]||""),e=La(e[1]||"");f in b?ra(b[f])?xb(b[f],e):b[f]=[b[f],e]:b[f]=e}}return b}
function ch(a,b){var c=a.split("#",2);a=c[0];var c=1<c.length?"#"+c[1]:"",d=a.split("?",2);a=d[0];var d=bh(d[1]||""),e;for(e in b)d[e]=b[e];return td(a,d)+c}
var dh=function(a){return-1!=a.indexOf("?")?(a=(a||"").split("#")[0],a=a.split("?",2),bh(1<a.length?a[1]:a[0])):{}};var eh={"X-Goog-Visitor-Id":"SANDBOXED_VISITOR_ID","X-YouTube-Client-Name":"INNERTUBE_CONTEXT_CLIENT_NAME","X-YouTube-Client-Version":"INNERTUBE_CONTEXT_CLIENT_VERSION","X-Youtube-Identity-Token":"ID_TOKEN","X-YouTube-Page-CL":"PAGE_CL","X-YouTube-Page-Label":"PAGE_BUILD_LABEL","X-YouTube-Variants-Checksum":"VARIANTS_CHECKSUM"};
function fh(a,b){b=void 0===b?{}:b;var c=void 0;c=window.location.href;var d=id(a)[1]||null,e=kd(a),c=d&&e?nd(a,c):e?kd(c)==e&&(Number(id(c)[4]||null)||null)==(Number(id(a)[4]||null)||null):!0,f;for(f in eh){if((e=d=A(eh[f]))&&!(e=c)){var h=a,e=f,k=A("CORS_HEADER_WHITELIST")||{};e=(h=kd(h))?(k=k[h])?tb(k,e):!1:!0}e&&(b[f]=d)}return b}
function gh(a,b){var c=A("XSRF_FIELD_NAME",void 0),d;b.headers&&(d=b.headers["Content-Type"]);return!b.excludeXsrf&&(!kd(a)||b.withCredentials||kd(a)==document.location.hostname)&&"POST"==b.method&&(!d||"application/x-www-form-urlencoded"==d)&&!(b.postParams&&b.postParams[c])}
function hh(a,b){var c=b.format||"JSON";b.includeDomain&&(a=document.location.protocol+"//"+document.location.hostname+(document.location.port?":"+document.location.port:"")+a);var d=A("XSRF_FIELD_NAME",void 0),e=A("XSRF_TOKEN",void 0),f=b.urlParams;f&&(f[d]&&delete f[d],a=ch(a,f||{}));var h=b.postBody||"",f=b.postParams;gh(a,b)&&(f||(f={}),f[d]=e);f&&u(h)&&(d=bh(h),bc(d,f),h=b.postBodyFormat&&"JSON"==b.postBodyFormat?JSON.stringify(d):sd(d));var k=!1,l,m=ih(a,function(a){if(!k){k=!0;l&&$g(l);a:switch(a&&
"status"in a?a.status:-1){case 200:case 201:case 202:case 203:case 204:case 205:case 206:case 304:var d=!0;break a;default:d=!1}var e=null;if(d||400<=a.status&&500>a.status)e=jh(c,a,b.convertToSafeHtml);if(d)a:if(204==a.status)d=!0;else{switch(c){case "XML":d=0==parseInt(e&&e.return_code,10);break a;case "RAW":d=!0;break a}d=!!e}var e=e||{},f=b.context||n;d?b.onSuccess&&b.onSuccess.call(f,a,e):b.onError&&b.onError.call(f,a,e);b.onFinish&&b.onFinish.call(f,a,e)}},b.method,h,b.headers,b.responseType,
b.withCredentials);
b.onTimeout&&0<b.timeout&&(l=ah(function(){k||(k=!0,m.abort(),$g(l),b.onTimeout.call(b.context||n,m))},b.timeout));
return m}
function jh(a,b,c){var d=null;switch(a){case "JSON":a=b.responseText;b=b.getResponseHeader("Content-Type")||"";a&&0<=b.indexOf("json")&&(d=JSON.parse(a));break;case "XML":if(b=(b=b.responseXML)?kh(b):null)d={},y(b.getElementsByTagName("*"),function(a){d[a.tagName]=lh(a)})}c&&mh(d);
return d}
function mh(a){if(va(a))for(var b in a)"html_content"==b||Ga(b,"_html")?a[b]=Bf(Pe("HTML that is escaped and sanitized server-side and passed through yt.net.ajax"),a[b]):mh(a[b])}
function kh(a){return a?(a=("responseXML"in a?a.responseXML:a).getElementsByTagName("root"))&&0<a.length?a[0]:null:null}
function lh(a){var b="";y(a.childNodes,function(a){b+=a.nodeValue});
return b}
var nh=function(a,b){b.method="POST";b.postParams||(b.postParams={});hh(a,b)},ih=function(a,b,c,d,e,f,h){c=void 0===c?"GET":c;
d=void 0===d?"":d;var k=Zg();if(!k)return null;var l=function(){4==(k&&"readyState"in k?k.readyState:0)&&b&&Uc(b)(k)};
"onloadend"in k?k.addEventListener("loadend",l,!1):k.onreadystatechange=l;k.open(c,a,!0);f&&(k.responseType=f);h&&(k.withCredentials=!0);c="POST"==c;if(e=fh(a,e))for(var m in e)k.setRequestHeader(m,e[m]),"content-type"==m.toLowerCase()&&(c=!1);c&&k.setRequestHeader("Content-Type","application/x-www-form-urlencoded");k.send(d);return k};var oh=function(a,b,c){Ig.remove(""+a,void 0===b?"/":b,void 0===c?"youtube.com":c)},ph=function(a,b,c,d){Ig.set(""+a,b,c,"/",void 0===d?"youtube.com":d)};var qh={},rh=0;function sh(a,b,c){a&&(c&&(c=Ib,c=!(c&&0<=c.toLowerCase().indexOf("cobalt"))),c?a&&(a=Vf("IFRAME",{src:'javascript:"data:text/html,<body><img src=\\"'+a+'\\"></body>"',style:"display:none"}),Gf(a).body.appendChild(a)):A("USE_NET_AJAX_FOR_PING_TRANSPORT",!1)?ih(a,b):th(a,b))}
function th(a,b){var c=new Image,d=""+rh++;qh[d]=c;c.onload=c.onerror=function(){b&&qh[d]&&b();delete qh[d]};
c.src=a}
;var uh=r("ytPubsubPubsubInstance")||new Jg;Jg.prototype.subscribe=Jg.prototype.subscribe;Jg.prototype.unsubscribeByKey=Jg.prototype.unsubscribeByKey;Jg.prototype.publish=Jg.prototype.publish;Jg.prototype.clear=Jg.prototype.clear;q("ytPubsubPubsubInstance",uh,void 0);var vh=r("ytPubsubPubsubSubscribedKeys")||{};q("ytPubsubPubsubSubscribedKeys",vh,void 0);var wh=r("ytPubsubPubsubTopicToKeys")||{};q("ytPubsubPubsubTopicToKeys",wh,void 0);var xh=r("ytPubsubPubsubIsSynchronous")||{};
q("ytPubsubPubsubIsSynchronous",xh,void 0);function yh(a,b,c){var d=zh();if(d){var e=d.subscribe(a,function(){var d=arguments;var h=function(){vh[e]&&b.apply(c||window,d)};
try{xh[a]?h():ah(h,0)}catch(k){Sc(k)}},c);
vh[e]=!0;wh[a]||(wh[a]=[]);wh[a].push(e);return e}return 0}
function Ah(a){var b=zh();b&&(ta(a)?a=[a]:u(a)&&(a=[parseInt(a,10)]),y(a,function(a){b.unsubscribeByKey(a);delete vh[a]}))}
function zh(){return r("ytPubsubPubsubInstance")}
function Bh(a){wh[a]&&(a=wh[a],y(a,function(a){vh[a]&&delete vh[a]}),a.length=0)}
var Ch=function(a){var b=zh();if(b)if(b.clear(a),a)Bh(a);else for(var c in wh)Bh(c)},K=function(a,b){var c=zh();
return c?c.publish.apply(c,arguments):!1},Dh=function(a,b,c){var d=yh(a,function(a){b.apply(c,arguments);
Ah(d)},c)},Eh=function(a,b){xh[a]=!0;
var c=zh();c&&c.publish.apply(c,arguments);xh[a]=!1};var Fh=/\.vflset|-vfl[a-zA-Z0-9_+=-]+/,Gh=/-[a-zA-Z]{2,3}_[a-zA-Z]{2,3}(?=(\/|$))/;function Hh(a,b){var c=Ih(a),d=document.getElementById(c),e=d&&J(d,"loaded"),f=d&&!e;e?b&&b():(b&&(e=yh(c,b),b=""+ya(b),Jh[b]=e),f||(d=Kh(a,c,function(){J(d,"loaded")||(Xg(d,"loaded","true"),K(c),ah(Ba(Ch,c),0))})))}
function Kh(a,b,c){var d=document.createElement("script");d.id=b;d.onload=function(){c&&setTimeout(c,0)};
d.onreadystatechange=function(){switch(d.readyState){case "loaded":case "complete":d.onload()}};
d.src=a;a=document.getElementsByTagName("head")[0]||document.body;a.insertBefore(d,a.firstChild);return d}
function Ih(a){var b=document.createElement("a");wf(b,a);a=b.href.replace(/^[a-zA-Z]+:\/\//,"//");return"js-"+hb(a)}
var Jh={},Lh=function(a,b){if(window.spf){var c="";if(a){var d=a.indexOf("jsbin/"),e=a.lastIndexOf(".js"),f=d+6;-1<d&&-1<e&&e>f&&(c=a.substring(f,e),c=c.replace(Fh,""),c=c.replace(Gh,""),c=c.replace("debug-",""),c=c.replace("tracing-",""))}spf.script.load(a,c,b)}else Hh(a,b)};var Mh=/cssbin\/(?:debug-)?([a-zA-Z0-9_-]+?)(?:-2x|-web|-rtl|-vfl|.css)/;function Nh(a){if(window.spf){var b=a.match(Mh);spf.style.load(a,b?b[1]:"",void 0)}else Oh(a)}
function Oh(a){var b=Ph(a),c=document.getElementById(b),d=c&&J(c,"loaded");d||c&&!d||(c=Qh(a,b,function(){J(c,"loaded")||(Xg(c,"loaded","true"),K(b),ah(Ba(Ch,b),0))}))}
function Qh(a,b,c){var d=document.createElement("link");d.id=b;d.onload=function(){c&&setTimeout(c,0)};
a=Fg(a);d.rel="stylesheet";d.href=Ye(a);(document.getElementsByTagName("head")[0]||document.body).appendChild(d);return d}
function Ph(a){var b=document.createElement("a");wf(b,a);a=b.href.replace(/^[a-zA-Z]+:\/\//,"//");return"css-"+hb(a)}
;var Rh=function(a,b){sh("/gen_204?"+("a="+a+(b?"&"+b:"")),void 0)};var Sh=function(){var a={},b=A("PAGE_NAME");bc(a,{label:"mb-api-loading",pageName:b});Rh("ypc-checkout",sd(a))};var Th=function(){this.megabloxUrl_=null};
pa(Th);Th.prototype.load=function(a){Sh();this.megabloxUrl_=A("YPC_MB_URL",void 0);Lh(this.megabloxUrl_,v(function(){a&&a()},this))};
var Uh=function(a,b,c,d,e,f){a.load(v(function(){try{var a=r("payments.business.integration"),k=a.standaloneContextAuthId.forUserId(),l=a.mashupMode.popup("buyFlowDivId").usingDraggableDialog().usingPreferredWidth(600);f&&(l=l.usingCloseCallback(f));a.bootstrap.fromPaymentsUrl(this.megabloxUrl_);var m=a.bootstrap.asMashupMode(l),t=A("YPC_GB_LANGUAGE"),H=A("SESSION_INDEX");m.usingGaiaIndex(H).usingLocale(t).usingDefaultActivityStatusChangeHandler().usingStyle(":md;pc=#444;ac=#2793e6").usingBaseZIndex(2E9);
e&&m.usingServerAnalyticsEventHandler(e);m.inStandaloneContext(k).buyFlow(c).withEncryptedParameters(b).load(void 0,d)}catch(N){throw Sc(N,void 0,void 0,void 0,!0),N;}},a))};Polymer({is:"yt-native-buyflow-launcher",behaviors:[B.YtActionHandlerBehavior],actionMap:{"yt-open-payments-dialog":"onStartWalletBuyFlow_"},onStartWalletBuyFlow_:function(a,b){Uh(Th.getInstance(),a.replace(/-/g,"+").replace(/_/g,"/"),this.onDialogSuccess_.bind(this,b),this.onDialogError_.bind(this,b),void 0,this.onDialogClose_.bind(this,b))},
onDialogSuccess_:function(a,b){a({success:!0,buyFlowResponse:b})},
onDialogClose_:function(a){a({success:!1,closed:!0})},
onDialogError_:function(a,b){a({success:!1,error:b})}});var Vh=function(){};
g=Vh.prototype;g.endpointToXhrUrl=function(){};
g.fetchData=function(){};
g.postData=function(){};
g.requestDataForEndpoint=function(){};
g.requestDataForServiceEndpoint=function(){};var Wh={DIALOG:{component:"paper-dialog",properties:{withBackdrop:!0}},RESPONSIVE_DROPDOWN:{component:"iron-dropdown",properties:{noOverlap:!0,horizontalAlign:"left",verticalAlign:"top",dynamicAlign:!0,withBackdrop:!1},narrowProperties:{horizontalAlign:null,verticalAlign:null,dynamicAlign:!1,withBackdrop:!0},childClass:"dropdown-content",forceFocus:!0},DROPDOWN:{component:"iron-dropdown",properties:{noOverlap:!0,horizontalAlign:"left",verticalAlign:"top",dynamicAlign:!0,withBackdrop:!1},childClass:"dropdown-content",
forceFocus:!0},TOAST:{component:null,properties:{}},SURVEY:{component:"paper-dialog",properties:{withBackdrop:!1,noCancelOnOutsideClick:!0,noAutoFocus:!0,style:"position:fixed;top:auto;left:auto;right:0;bottom:0;"},rtlProperties:{style:"position:fixed;top:auto;right:auto;left:0;bottom:0;"}}};var Xh=new function(a,b,c){this.supportedPopups=a;this.navigationEndpointPopupMap=b;this.popupTypeMap=c}({addToPlaylistRenderer:!0,
confirmDialogRenderer:!0,dismissalFollowUpRenderer:!0,formPopupRenderer:!0,modalWithTitleAndButtonRenderer:!0,notificationActionRenderer:!0,reportFormModalRenderer:!0,sharingRenderer:!0,sharingEmbedRenderer:!0,menuPopupRenderer:!0,singleOptionSurveyRenderer:!0,surveyFollowUpRenderer:!0,unlimitedFamilyMessageInterstitialRenderer:!0,unlimitedFamilyProfileInterstitialRenderer:!0},{confirmDialogEndpoint:"confirmDialogEndpoint.content",modalEndpoint:"modalEndpoint.modal",shareEndpoint:"shareEndpoint",
unlimitedFamilyFlowEndpoint:"unlimitedFamilyFlowEndpoint.unlimitedFamilyFlowEndpointSupportedRenderers"},{sharingRenderer:"RESPONSIVE_DROPDOWN",sharingEmbedRenderer:"DIALOG",modalWithTitleAndButtonRenderer:"RESPONSIVE_DROPDOWN",addToPlaylistRenderer:"RESPONSIVE_DROPDOWN",notificationActionRenderer:"TOAST",confirmDialogRenderer:"DIALOG",reportFormModalRenderer:"DIALOG",menuPopupRenderer:"RESPONSIVE_DROPDOWN",singleOptionSurveyRenderer:"SURVEY",surveyFollowUpRenderer:"SURVEY",dismissalFollowUpRenderer:"DIALOG",
unlimitedFamilyMessageInterstitialRenderer:"DIALOG",unlimitedFamilyProfileInterstitialRenderer:"DIALOG"}),Yh=new function(a,b,c,d){this.popupConfig=d||Wh;this.closePopupActions=a;this.forwardedEvents=b||[];this.prefix=c}([],"yt-action yt-navigate yt-popup-closed yt-popup-opened yt-service-request-completed yt-service-request-error yt-service-request-sent".split(" "),"ytd");var Zh=function(){this.pools_=new Map;this.telemetry={created:0,reused:0}};
pa(Zh);Zh.prototype.getElement=function(a,b){var c=this.pools_.get(b||a);if(c&&(c=c.pop()))return this.telemetry.reused++,c;this.telemetry.created++;c=document.createElement(a,b);c.is||Sc(Error("Element pool generated an un-upgraded element. Element name:"+a+" type: "+b));return c};
Zh.prototype.addElement=function(a){var b=a.is;if(!b)return Sc(Error("Element pool should only handle custom elements. Element name: "+a.nodeName),"WARNING"),!1;var c=this.pools_.get(b);c||(c=[],this.pools_.set(b,c));b=(A("ELEMENT_POOL_CONFIG")||{})[b]||A("ELEMENT_POOL_DEFAULT_CAP",0);if(c.length>=b)return!1;c.push(a);return!0};var $h=function(a){return 1==a.length?"0"+a:a};var ai=function(a){a&=16777215;var b=[(a&16711680)>>16,(a&65280)>>8,a&255],c=b[0];a=b[1];b=b[2];c=Number(c);a=Number(a);b=Number(b);if(c!=(c&255)||a!=(a&255)||b!=(b&255))throw Error('"('+c+","+a+","+b+'") is not a valid RGB color');c=$h(c.toString(16));a=$h(a.toString(16));b=$h(b.toString(16));return"#"+c+a+b};/*

 '--yt-lightsource-section1-color',
 '--yt-lightsource-section2-color',
 '--yt-lightsource-section3-color',
 '--yt-lightsource-navBarColor',
 '--yt-lightsource-primary-title-color',
 '--yt-lightsource-secondary-title-color',
 '--yt-lightsource-body-text-color',
 '--yt-lightsource-iron-activated-color',
 '--yt-lightsource-iron-inactive-color',
 '--yt-basic-background-color',
 '--yt-basic-foreground-title-color',
 '--yt-basic-foreground-body-color',
 '--yt-basic-foreground-activated-color'
*/
var bi="section1Color section2Color section3Color navBarColor primaryTitleColor secondaryTitleColor bodyTextColor ironActivatedColor ironInactiveColor".split(" "),ci=["backgroundColor","foregroundTitleColor","foregroundBodyColor","foregroundActivatedColor"],ei=function(a,b){b&&(bi.forEach(function(c){di(a,b,c,"--yt-lightsource-")}),ci.forEach(function(c){di(a,b,c,"--yt-basic-")}),a.updateStyles())},di=function(a,b,c,d){d+=Polymer.CaseMap.camelToDashCase(c);
b&&b[c]?(b=ai(b[c]),a.customStyle[d]=b):a.customStyle[d]=""};var fi=function(){};var gi;cc("A AREA BUTTON HEAD INPUT LINK MENU META OPTGROUP OPTION PROGRESS STYLE SELECT SOURCE TEXTAREA TITLE TRACK".split(" "));var hi=function(a,b){b?a.setAttribute("role",b):a.removeAttribute("role")},ii=function(a,b,c){ra(c)&&(c=c.join(" "));
var d="aria-"+b;""===c||void 0==c?(gi||(gi={atomic:!1,autocomplete:"none",dropeffect:"none",haspopup:!1,live:"off",multiline:!1,multiselectable:!1,orientation:"vertical",readonly:!1,relevant:"additions text",required:!1,sort:"none",busy:!1,disabled:!1,hidden:!1,invalid:"false"}),c=gi,b in c?a.setAttribute(d,c[b]):a.removeAttribute(d)):a.setAttribute(d,c)};var ji=function(a,b){this.type=a;this.currentTarget=this.target=b;this.defaultPrevented=this.propagationStopped_=!1;this.returnValue_=!0};
ji.prototype.stopPropagation=function(){this.propagationStopped_=!0};
ji.prototype.preventDefault=function(){this.defaultPrevented=!0;this.returnValue_=!1};
var ki=function(a){a.preventDefault()};var li=!C||Ee(9),mi=!C||Ee(9),ni=C&&!Ce("9");!me||Ce("528");le&&Ce("1.9b")||C&&Ce("8")||ie&&Ce("9.5")||me&&Ce("528");le&&!Ce("8")||C&&Ce("9");var oi=function(a,b){ji.call(this,a?a.type:"");this.relatedTarget=this.currentTarget=this.target=null;this.button=this.screenY=this.screenX=this.clientY=this.clientX=this.offsetY=this.offsetX=0;this.key="";this.charCode=this.keyCode=0;this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1;this.event_=this.state=null;a&&this.init(a,b)};
x(oi,ji);var pi=[1,4,2];
oi.prototype.init=function(a,b){var c=this.type=a.type,d=a.changedTouches?a.changedTouches[0]:null;this.target=a.target||a.srcElement;this.currentTarget=b;(b=a.relatedTarget)?le&&(ge(b,"nodeName")||(b=null)):"mouseover"==c?b=a.fromElement:"mouseout"==c&&(b=a.toElement);this.relatedTarget=b;null===d?(this.offsetX=me||void 0!==a.offsetX?a.offsetX:a.layerX,this.offsetY=me||void 0!==a.offsetY?a.offsetY:a.layerY,this.clientX=void 0!==a.clientX?a.clientX:a.pageX,this.clientY=void 0!==a.clientY?a.clientY:
a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0):(this.clientX=void 0!==d.clientX?d.clientX:d.pageX,this.clientY=void 0!==d.clientY?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0);this.button=a.button;this.keyCode=a.keyCode||0;this.key=a.key||"";this.charCode=a.charCode||("keypress"==c?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.state=a.state;this.event_=a;a.defaultPrevented&&this.preventDefault()};
oi.prototype.stopPropagation=function(){oi.superClass_.stopPropagation.call(this);this.event_.stopPropagation?this.event_.stopPropagation():this.event_.cancelBubble=!0};
oi.prototype.preventDefault=function(){oi.superClass_.preventDefault.call(this);var a=this.event_;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,ni)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};var qi="closure_listenable_"+(1E6*Math.random()|0),ri=function(a){return!(!a||!a[qi])},si=0;var ti=function(a,b,c,d,e){this.listener=a;this.proxy=null;this.src=b;this.type=c;this.capture=!!d;this.handler=e;this.key=++si;this.removed=this.callOnce=!1},ui=function(a){a.removed=!0;
a.listener=null;a.proxy=null;a.src=null;a.handler=null};var vi=function(a){this.src=a;this.listeners={};this.typeCount_=0};
vi.prototype.add=function(a,b,c,d,e){var f=a.toString();a=this.listeners[f];a||(a=this.listeners[f]=[],this.typeCount_++);var h=wi(a,b,d,e);-1<h?(b=a[h],c||(b.callOnce=!1)):(b=new ti(b,this.src,f,!!d,e),b.callOnce=c,a.push(b));return b};
vi.prototype.remove=function(a,b,c,d){a=a.toString();if(!(a in this.listeners))return!1;var e=this.listeners[a];b=wi(e,b,c,d);return-1<b?(ui(e[b]),Array.prototype.splice.call(e,b,1),0==e.length&&(delete this.listeners[a],this.typeCount_--),!0):!1};
var xi=function(a,b){var c=b.type;if(!(c in a.listeners))return!1;var d=ub(a.listeners[c],b);d&&(ui(b),0==a.listeners[c].length&&(delete a.listeners[c],a.typeCount_--));return d};
vi.prototype.removeAll=function(a){a=a&&a.toString();var b=0,c;for(c in this.listeners)if(!a||c==a){for(var d=this.listeners[c],e=0;e<d.length;e++)++b,ui(d[e]);delete this.listeners[c];this.typeCount_--}return b};
vi.prototype.getListener=function(a,b,c,d){a=this.listeners[a.toString()];var e=-1;a&&(e=wi(a,b,c,d));return-1<e?a[e]:null};
vi.prototype.hasListener=function(a,b){var c=p(a),d=c?a.toString():"",e=p(b);return Ob(this.listeners,function(a){for(var f=0;f<a.length;++f)if(!(c&&a[f].type!=d||e&&a[f].capture!=b))return!0;return!1})};
var wi=function(a,b,c,d){for(var e=0;e<a.length;++e){var f=a[e];if(!f.removed&&f.listener==b&&f.capture==!!c&&f.handler==d)return e}return-1};var yi="closure_lm_"+(1E6*Math.random()|0),zi={},Ai=0,Bi=function(a,b,c,d,e){if(ra(b)){for(var f=0;f<b.length;f++)Bi(a,b[f],c,d,e);return null}c=Ci(c);return ri(a)?a.listen(b,c,d,e):Di(a,b,c,!1,d,e)},Di=function(a,b,c,d,e,f){if(!b)throw Error("Invalid event type");
var h=!!e,k=Ei(a);k||(a[yi]=k=new vi(a));c=k.add(b,c,d,e,f);if(c.proxy)return c;d=Fi();c.proxy=d;d.src=a;d.listener=c;if(a.addEventListener)a.addEventListener(b.toString(),d,h);else if(a.attachEvent)a.attachEvent(Gi(b.toString()),d);else throw Error("addEventListener and attachEvent are unavailable.");Ai++;return c},Fi=function(){var a=Hi,b=mi?function(c){return a.call(b.src,b.listener,c)}:function(c){c=a.call(b.src,b.listener,c);
if(!c)return c};
return b},Ii=function(a,b,c,d,e){if(ra(b)){for(var f=0;f<b.length;f++)Ii(a,b[f],c,d,e);
return null}c=Ci(c);return ri(a)?a.listenOnce(b,c,d,e):Di(a,b,c,!0,d,e)},Ji=function(a,b,c,d,e){if(ra(b))for(var f=0;f<b.length;f++)Ji(a,b[f],c,d,e);
else c=Ci(c),ri(a)?a.unlisten(b,c,d,e):a&&(a=Ei(a))&&(b=a.getListener(b,c,!!d,e))&&Ki(b)},Ki=function(a){if(ta(a)||!a||a.removed)return!1;
var b=a.src;if(ri(b))return xi(b.eventTargetListeners_,a);var c=a.type,d=a.proxy;b.removeEventListener?b.removeEventListener(c,d,a.capture):b.detachEvent&&b.detachEvent(Gi(c),d);Ai--;(c=Ei(b))?(xi(c,a),0==c.typeCount_&&(c.src=null,b[yi]=null)):ui(a);return!0},Li=function(a,b,c,d,e){c=Ci(c);
d=!!d;return ri(a)?a.getListener(b,c,d,e):a?(a=Ei(a))?a.getListener(b,c,d,e):null:null},Gi=function(a){return a in zi?zi[a]:zi[a]="on"+a},Ni=function(a,b,c,d){var e=!0;
if(a=Ei(a))if(b=a.listeners[b.toString()])for(b=b.concat(),a=0;a<b.length;a++){var f=b[a];f&&f.capture==c&&!f.removed&&(f=Mi(f,d),e=e&&!1!==f)}return e},Mi=function(a,b){var c=a.listener,d=a.handler||a.src;
a.callOnce&&Ki(a);return c.call(d,b)},Hi=function(a,b){if(a.removed)return!0;
if(!mi){var c=b||r("window.event");b=new oi(c,this);var d=!0;if(!(0>c.keyCode||void 0!=c.returnValue)){a:{var e=!1;if(0==c.keyCode)try{c.keyCode=-1;break a}catch(h){e=!0}if(e||void 0==c.returnValue)c.returnValue=!0}c=[];for(e=b.currentTarget;e;e=e.parentNode)c.push(e);a=a.type;for(var f=c.length-1;!b.propagationStopped_&&0<=f;f--)b.currentTarget=c[f],e=Ni(c[f],a,!0,b),d=d&&e;for(f=0;!b.propagationStopped_&&f<c.length;f++)b.currentTarget=c[f],e=Ni(c[f],a,!1,b),d=d&&e}return d}return Mi(a,new oi(b,
this))},Ei=function(a){a=a[yi];
return a instanceof vi?a:null},Oi="__closure_events_fn_"+(1E9*Math.random()>>>0),Ci=function(a){if(ua(a))return a;
a[Oi]||(a[Oi]=function(b){return a.handleEvent(b)});
return a[Oi]};var Pi=function(){ae.call(this);this.eventTargetListeners_=new vi(this);this.actualEventTarget_=this;this.parentEventTarget_=null};
x(Pi,ae);Pi.prototype[qi]=!0;g=Pi.prototype;g.setParentEventTarget=function(a){this.parentEventTarget_=a};
g.addEventListener=function(a,b,c,d){Bi(this,a,b,c,d)};
g.removeEventListener=function(a,b,c,d){Ji(this,a,b,c,d)};
g.dispatchEvent=function(a){var b,c=this.parentEventTarget_;if(c)for(b=[];c;c=c.parentEventTarget_)b.push(c);var c=this.actualEventTarget_,d=a.type||a;if(u(a))a=new ji(a,c);else if(a instanceof ji)a.target=a.target||c;else{var e=a;a=new ji(d,c);bc(a,e)}var e=!0;if(b)for(var f=b.length-1;!a.propagationStopped_&&0<=f;f--){var h=a.currentTarget=b[f];e=Qi(h,d,!0,a)&&e}a.propagationStopped_||(h=a.currentTarget=c,e=Qi(h,d,!0,a)&&e,a.propagationStopped_||(e=Qi(h,d,!1,a)&&e));if(b)for(f=0;!a.propagationStopped_&&
f<b.length;f++)h=a.currentTarget=b[f],e=Qi(h,d,!1,a)&&e;return e};
g.disposeInternal=function(){Pi.superClass_.disposeInternal.call(this);this.removeAllListeners();this.parentEventTarget_=null};
g.listen=function(a,b,c,d){return this.eventTargetListeners_.add(String(a),b,!1,c,d)};
g.listenOnce=function(a,b,c,d){return this.eventTargetListeners_.add(String(a),b,!0,c,d)};
g.unlisten=function(a,b,c,d){return this.eventTargetListeners_.remove(String(a),b,c,d)};
g.removeAllListeners=function(a){return this.eventTargetListeners_?this.eventTargetListeners_.removeAll(a):0};
var Qi=function(a,b,c,d){b=a.eventTargetListeners_.listeners[String(b)];if(!b)return!0;b=b.concat();for(var e=!0,f=0;f<b.length;++f){var h=b[f];if(h&&!h.removed&&h.capture==c){var k=h.listener,l=h.handler||h.src;h.callOnce&&xi(a.eventTargetListeners_,h);e=!1!==k.call(l,d)&&e}}return e&&0!=d.returnValue_};
Pi.prototype.getListener=function(a,b,c,d){return this.eventTargetListeners_.getListener(String(a),b,c,d)};
Pi.prototype.hasListener=function(a,b){return this.eventTargetListeners_.hasListener(p(a)?String(a):void 0,b)};var Ri=function(a,b){Pi.call(this);this.interval_=a||1;this.timerObject_=b||n;this.boundTick_=v(this.tick_,this);this.last_=w()};
x(Ri,Pi);g=Ri.prototype;g.enabled=!1;g.timer_=null;g.setInterval=function(a){this.interval_=a;this.timer_&&this.enabled?(this.stop(),this.start()):this.timer_&&this.stop()};
g.tick_=function(){if(this.enabled){var a=w()-this.last_;0<a&&a<.8*this.interval_?this.timer_=this.timerObject_.setTimeout(this.boundTick_,this.interval_-a):(this.timer_&&(this.timerObject_.clearTimeout(this.timer_),this.timer_=null),this.dispatchEvent("tick"),this.enabled&&(this.timer_=this.timerObject_.setTimeout(this.boundTick_,this.interval_),this.last_=w()))}};
g.start=function(){this.enabled=!0;this.timer_||(this.timer_=this.timerObject_.setTimeout(this.boundTick_,this.interval_),this.last_=w())};
g.stop=function(){this.enabled=!1;this.timer_&&(this.timerObject_.clearTimeout(this.timer_),this.timer_=null)};
g.disposeInternal=function(){Ri.superClass_.disposeInternal.call(this);this.stop();delete this.timerObject_};
var Si=function(a,b,c){if(ua(a))c&&(a=v(a,c));else if(a&&"function"==typeof a.handleEvent)a=v(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(b)?-1:n.setTimeout(a,b||0)};var Ti=function(a,b,c){ae.call(this);this.listener_=a;this.interval_=b||0;this.handler_=c;this.callback_=v(this.doAction_,this)};
x(Ti,ae);g=Ti.prototype;g.id_=0;g.disposeInternal=function(){Ti.superClass_.disposeInternal.call(this);this.stop();delete this.listener_;delete this.handler_};
g.start=function(a){this.stop();this.id_=Si(this.callback_,p(a)?a:this.interval_)};
g.stop=function(){this.isActive()&&n.clearTimeout(this.id_);this.id_=0};
g.fire=function(){this.stop();this.doAction_()};
g.isActive=function(){return 0!=this.id_};
g.doAction_=function(){this.id_=0;this.listener_&&this.listener_.call(this.handler_)};var Ui=function(a){ae.call(this);this.handler_=a;this.keys_={}};
x(Ui,ae);var Vi=[];Ui.prototype.listen=function(a,b,c,d){ra(b)||(b&&(Vi[0]=b.toString()),b=Vi);for(var e=0;e<b.length;e++){var f=Bi(a,b[e],c||this.handleEvent,d||!1,this.handler_||this);if(!f)break;this.keys_[f.key]=f}return this};
Ui.prototype.listenOnce=function(a,b,c,d){return Wi(this,a,b,c,d)};
var Wi=function(a,b,c,d,e,f){if(ra(c))for(var h=0;h<c.length;h++)Wi(a,b,c[h],d,e,f);else{b=Ii(b,c,d||a.handleEvent,e,f||a.handler_||a);if(!b)return a;a.keys_[b.key]=b}return a};
Ui.prototype.unlisten=function(a,b,c,d,e){if(ra(b))for(var f=0;f<b.length;f++)this.unlisten(a,b[f],c,d,e);else if(a=Li(a,b,c||this.handleEvent,d,e||this.handler_||this))Ki(a),delete this.keys_[a.key];return this};
Ui.prototype.removeAll=function(){Lb(this.keys_,function(a,b){this.keys_.hasOwnProperty(b)&&Ki(a)},this);
this.keys_={}};
Ui.prototype.disposeInternal=function(){Ui.superClass_.disposeInternal.call(this);this.removeAll()};
Ui.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented");};var Xi=function(a){Pi.call(this);this.element_=a;a=C?"focusout":"blur";this.listenKeyIn_=Bi(this.element_,C?"focusin":"focus",this,!C);this.listenKeyOut_=Bi(this.element_,a,this,!C)};
x(Xi,Pi);Xi.prototype.handleEvent=function(a){var b=new oi(a.event_);b.type="focusin"==a.type||"focus"==a.type?"focusin":"focusout";this.dispatchEvent(b)};
Xi.prototype.disposeInternal=function(){Xi.superClass_.disposeInternal.call(this);Ki(this.listenKeyIn_);Ki(this.listenKeyOut_);delete this.element_};le||me&&Ce(532);C||je||me&&Ce("525");var Yi=function(a,b,c,d){this.top=a;this.right=b;this.bottom=c;this.left=d};
g=Yi.prototype;g.getWidth=function(){return this.right-this.left};
g.getHeight=function(){return this.bottom-this.top};
g.clone=function(){return new Yi(this.top,this.right,this.bottom,this.left)};
g.contains=function(a){return Zi(this,a)};
g.expand=function(a,b,c,d){va(a)?(this.top-=a.top,this.right+=a.right,this.bottom+=a.bottom,this.left-=a.left):(this.top-=a,this.right+=Number(b),this.bottom+=Number(c),this.left-=Number(d));return this};
var Zi=function(a,b){return a&&b?b instanceof Yi?b.left>=a.left&&b.right<=a.right&&b.top>=a.top&&b.bottom<=a.bottom:b.x>=a.left&&b.x<=a.right&&b.y>=a.top&&b.y<=a.bottom:!1},$i=function(a,b){return a.left<=b.right&&b.left<=a.right&&a.top<=b.bottom&&b.top<=a.bottom};
g=Yi.prototype;g.ceil=function(){this.top=Math.ceil(this.top);this.right=Math.ceil(this.right);this.bottom=Math.ceil(this.bottom);this.left=Math.ceil(this.left);return this};
g.floor=function(){this.top=Math.floor(this.top);this.right=Math.floor(this.right);this.bottom=Math.floor(this.bottom);this.left=Math.floor(this.left);return this};
g.round=function(){this.top=Math.round(this.top);this.right=Math.round(this.right);this.bottom=Math.round(this.bottom);this.left=Math.round(this.left);return this};
g.translate=function(a,b){a instanceof Cf?(this.left+=a.x,this.right+=a.x,this.top+=a.y,this.bottom+=a.y):(this.left+=a,this.right+=a,ta(b)&&(this.top+=b,this.bottom+=b));return this};
g.scale=function(a,b){b=ta(b)?b:a;this.left*=a;this.right*=a;this.top*=b;this.bottom*=b;return this};var aj=function(a,b,c,d){this.left=a;this.top=b;this.width=c;this.height=d};
aj.prototype.clone=function(){return new aj(this.left,this.top,this.width,this.height)};
aj.prototype.intersection=function(a){var b=Math.max(this.left,a.left),c=Math.min(this.left+this.width,a.left+a.width);if(b<=c){var d=Math.max(this.top,a.top);a=Math.min(this.top+this.height,a.top+a.height);if(d<=a)return this.left=b,this.top=d,this.width=c-b,this.height=a-d,!0}return!1};
var bj=function(a,b){var c=Math.max(a.left,b.left),d=Math.min(a.left+a.width,b.left+b.width);if(c<=d){var e=Math.max(a.top,b.top);a=Math.min(a.top+a.height,b.top+b.height);if(e<=a)return new aj(c,e,d-c,a-e)}return null};
aj.prototype.boundingRect=function(a){var b=Math.max(this.left+this.width,a.left+a.width),c=Math.max(this.top+this.height,a.top+a.height);this.left=Math.min(this.left,a.left);this.top=Math.min(this.top,a.top);this.width=b-this.left;this.height=c-this.top};
aj.prototype.contains=function(a){return a instanceof Cf?a.x>=this.left&&a.x<=this.left+this.width&&a.y>=this.top&&a.y<=this.top+this.height:this.left<=a.left&&this.left+this.width>=a.left+a.width&&this.top<=a.top&&this.top+this.height>=a.top+a.height};
aj.prototype.distance=function(a){var b=a.x<this.left?this.left-a.x:Math.max(a.x-(this.left+this.width),0);a=a.y<this.top?this.top-a.y:Math.max(a.y-(this.top+this.height),0);return Math.sqrt(b*b+a*a)};
var cj=function(a){return new Ef(a.width,a.height)};
g=aj.prototype;g.ceil=function(){this.left=Math.ceil(this.left);this.top=Math.ceil(this.top);this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this};
g.floor=function(){this.left=Math.floor(this.left);this.top=Math.floor(this.top);this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};
g.round=function(){this.left=Math.round(this.left);this.top=Math.round(this.top);this.width=Math.round(this.width);this.height=Math.round(this.height);return this};
g.translate=function(a,b){a instanceof Cf?(this.left+=a.x,this.top+=a.y):(this.left+=a,ta(b)&&(this.top+=b));return this};
g.scale=function(a,b){b=ta(b)?b:a;this.left*=a;this.width*=a;this.top*=b;this.height*=b;return this};var ej=function(a,b,c){if(u(b))(b=dj(a,b))&&(a.style[b]=c);else for(var d in b){c=a;var e=b[d],f=dj(c,d);f&&(c.style[f]=e)}},fj={},dj=function(a,b){var c=fj[b];
if(!c){var d=ib(b),c=d;void 0===a.style[d]&&(d=(me?"Webkit":le?"Moz":C?"ms":ie?"O":null)+jb(d),void 0!==a.style[d]&&(c=d));fj[b]=c}return c},gj=function(a,b){var c=Gf(a);
return c.defaultView&&c.defaultView.getComputedStyle&&(a=c.defaultView.getComputedStyle(a,null))?a[b]||a.getPropertyValue(b)||"":""},hj=function(a,b){return gj(a,b)||(a.currentStyle?a.currentStyle[b]:null)||a.style&&a.style[b]},ij=function(a){return hj(a,"position")},kj=function(a,b,c){if(b instanceof Cf){var d=b.x;
b=b.y}else d=b,b=c;a.style.left=jj(d,!1);a.style.top=jj(b,!1)},lj=function(a){try{var b=a.getBoundingClientRect()}catch(c){return{left:0,
top:0,right:0,bottom:0}}C&&a.ownerDocument.body&&(a=a.ownerDocument,b.left-=a.documentElement.clientLeft+a.body.clientLeft,b.top-=a.documentElement.clientTop+a.body.clientTop);return b},mj=function(a){if(C&&!Ee(8))return a.offsetParent;
var b=Gf(a),c=hj(a,"position"),d="fixed"==c||"absolute"==c;for(a=a.parentNode;a&&a!=b;a=a.parentNode)if(11==a.nodeType&&a.host&&(a=a.host),c=hj(a,"position"),d=d&&"static"==c&&a!=b.documentElement&&a!=b.body,!d&&(a.scrollWidth>a.clientWidth||a.scrollHeight>a.clientHeight||"fixed"==c||"absolute"==c||"relative"==c))return a;return null},oj=function(a){for(var b=new Yi(0,Infinity,Infinity,0),c=Hf(a),d=c.document_.body,e=c.document_.documentElement,f=Rf(c.document_);a=mj(a);)if(!(C&&0==a.clientWidth||
me&&0==a.clientHeight&&a==d)&&a!=d&&a!=e&&"visible"!=hj(a,"overflow")){var h=nj(a),k=new Cf(a.clientLeft,a.clientTop);
h.x+=k.x;h.y+=k.y;b.top=Math.max(b.top,h.y);b.right=Math.min(b.right,h.x+a.clientWidth);b.bottom=Math.min(b.bottom,h.y+a.clientHeight);b.left=Math.max(b.left,h.x)}d=f.scrollLeft;f=f.scrollTop;b.left=Math.max(b.left,d);b.top=Math.max(b.top,f);c=Pf(c.getWindow());b.right=Math.min(b.right,d+c.width);b.bottom=Math.min(b.bottom,f+c.height);return 0<=b.top&&0<=b.left&&b.bottom>b.top&&b.right>b.left?b:null},nj=function(a){var b=Gf(a),c=new Cf(0,0);
var d=b?Gf(b):document;d=!C||Ee(9)||Qf(Hf(d).document_)?d.documentElement:d.body;if(a==d)return c;a=lj(a);b=Sf(Hf(b).document_);c.x=a.left+b.x;c.y=a.top+b.y;return c},pj=function(a,b,c){if(b instanceof Ef)c=b.height,b=b.width;
else if(void 0==c)throw Error("missing height argument");a.style.width=jj(b,!0);a.style.height=jj(c,!0)},jj=function(a,b){"number"==typeof a&&(a=(b?Math.round(a):a)+"px");
return a},rj=function(a){var b=qj;
if("none"!=hj(a,"display"))return b(a);var c=a.style,d=c.display,e=c.visibility,f=c.position;c.visibility="hidden";c.position="absolute";c.display="inline";a=b(a);c.display=d;c.position=f;c.visibility=e;return a},qj=function(a){var b=a.offsetWidth,c=a.offsetHeight,d=me&&!b&&!c;
return p(b)&&!d||!a.getBoundingClientRect?new Ef(b,c):(a=lj(a),new Ef(a.right-a.left,a.bottom-a.top))},sj=function(a){var b=nj(a);
a=rj(a);return new aj(b.x,b.y,a.width,a.height)},tj=function(a,b){a=a.style;
"opacity"in a?a.opacity=b:"MozOpacity"in a?a.MozOpacity=b:"filter"in a&&(a.filter=""===b?"":"alpha(opacity="+100*Number(b)+")")},uj=function(a,b){a.style.display=b?"":"none"},vj=function(a){return"rtl"==hj(a,"direction")},wj=function(a,b){if(/^\d+px?$/.test(b))return parseInt(b,10);
var c=a.style.left,d=a.runtimeStyle.left;a.runtimeStyle.left=a.currentStyle.left;a.style.left=b;b=a.style.pixelLeft;a.style.left=c;a.runtimeStyle.left=d;return+b},xj=function(a,b){return(b=a.currentStyle?a.currentStyle[b]:null)?wj(a,b):0},yj=function(a,b){if(C){var c=xj(a,b+"Left");
var d=xj(a,b+"Right");var e=xj(a,b+"Top");a=xj(a,b+"Bottom");return new Yi(e,d,a,c)}c=gj(a,b+"Left");d=gj(a,b+"Right");e=gj(a,b+"Top");a=gj(a,b+"Bottom");return new Yi(parseFloat(e),parseFloat(d),parseFloat(a),parseFloat(c))},zj={thin:2,
medium:4,thick:6},Aj=function(a,b){if("none"==(a.currentStyle?a.currentStyle[b+"Style"]:null))return 0;b=a.currentStyle?a.currentStyle[b+"Width"]:null;return b in zj?zj[b]:wj(a,b)},Bj=function(a){if(C&&!Ee(9)){var b=Aj(a,"borderLeft");
var c=Aj(a,"borderRight");var d=Aj(a,"borderTop");a=Aj(a,"borderBottom");return new Yi(d,c,a,b)}b=gj(a,"borderLeftWidth");c=gj(a,"borderRightWidth");d=gj(a,"borderTopWidth");a=gj(a,"borderBottomWidth");return new Yi(parseFloat(d),parseFloat(c),parseFloat(a),parseFloat(b))};var Cj=function(a,b){Pi.call(this);this.element_=a;a=mg(this.element_)?this.element_:this.element_?this.element_.body:null;this.isRtl_=!!a&&vj(a);this.listenKey_=Bi(this.element_,le?"DOMMouseScroll":"mousewheel",this,b)};
x(Cj,Pi);Cj.prototype.handleEvent=function(a){var b=0,c=0,d=a.event_;"mousewheel"==d.type?(a=Dj(-d.wheelDelta),p(d.wheelDeltaX)?(b=Dj(-d.wheelDeltaX),c=Dj(-d.wheelDeltaY)):c=a):(a=d.detail,100<a?a=3:-100>a&&(a=-3),p(d.axis)&&d.axis===d.HORIZONTAL_AXIS?b=a:c=a);ta(this.maxDeltaX_)&&(b=Math.min(Math.max(b,-this.maxDeltaX_),this.maxDeltaX_));ta(this.maxDeltaY_)&&(c=Math.min(Math.max(c,-this.maxDeltaY_),this.maxDeltaY_));this.isRtl_&&(b=-b);b=new Ej(a,d,b,c);this.dispatchEvent(b)};
var Dj=function(a){return me&&(ne||pe)&&0!=a%40?a:a/40};
Cj.prototype.disposeInternal=function(){Cj.superClass_.disposeInternal.call(this);Ki(this.listenKey_);this.listenKey_=null};
var Ej=function(a,b,c,d){oi.call(this,b);this.type="mousewheel";this.detail=a;this.deltaX=c;this.deltaY=d};
x(Ej,oi);me||C||je||le&&Ce("1.9");var Fj=function(a){return(a=a.exec(Ib))?a[1]:""},Gj=function(){if(Mg)return Fj(/Firefox\/([0-9.]+)/);
if(C||je||ie)return Ae;if(Qg)return ee()?Fj(/CriOS\/([0-9.]+)/):Fj(/Chrome\/([0-9.]+)/);if(Rg&&!ee())return Fj(/Version\/([0-9.]+)/);if(Ng||Og){var a=/Version\/(\S+).*Mobile\/(\S+)/.exec(Ib);if(a)return a[1]+"."+a[2]}else if(Pg)return(a=Fj(/Android\s+([0-9.]+)/))?a:Fj(/Version\/([0-9.]+)/);return""}();var Hj=null,Ij=null,Jj=le||me&&!Rg||ie||"function"==typeof n.btoa,Kj=function(a,b){if(!Hj){Hj={};Ij={};for(var c=0;65>c;c++)Hj[c]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(c),Ij[c]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(c)}b=b?Ij:Hj;for(var c=[],d=0;d<a.length;d+=3){var e=a[d],f=d+1<a.length,h=f?a[d+1]:0,k=d+2<a.length,l=k?a[d+2]:0,m=e>>2,e=(e&3)<<4|h>>4,h=(h&15)<<2|l>>6,l=l&63;k||(l=64,f||(h=64));c.push(b[m],b[e],b[h],b[l])}return c.join("")};var Lj=function(a){if(a.classList)return a.classList;a=a.className;return u(a)&&a.match(/\S+/g)||[]},M=function(a,b){return a.classList?a.classList.contains(b):tb(Lj(a),b)},O=function(a,b){a.classList?a.classList.add(b):M(a,b)||(a.className+=0<a.className.length?" "+b:b)},Mj=function(a,b){if(a.classList)y(b,function(b){O(a,b)});
else{var c={};y(Lj(a),function(a){c[a]=!0});
y(b,function(a){c[a]=!0});
a.className="";for(var d in c)a.className+=0<a.className.length?" "+d:d}},P=function(a,b){a.classList?a.classList.remove(b):M(a,b)&&(a.className=mb(Lj(a),function(a){return a!=b}).join(" "))},Nj=function(a,b){a.classList?y(b,function(b){P(a,b)}):a.className=mb(Lj(a),function(a){return!tb(b,a)}).join(" ")},Oj=function(a,b,c){c?O(a,b):P(a,b)},Pj=function(a,b,c){M(a,b)&&(P(a,b),O(a,c))},Qj=function(a,b){var c=!M(a,b);
Oj(a,b,c)};var Rj=function(a){return/^\s*$/.test(a)?!1:/^[\],:{}\s\u2028\u2029]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,"@").replace(/(?:"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)[\s\u2028\u2029]*(?=:|,|]|}|$)/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,""))},Sj=function(a){a=String(a);
if(Rj(a))try{return eval("("+a+")")}catch(b){}throw Error("Invalid JSON string: "+a);},Tj=function(a){return eval("("+a+")")},Vj=function(a){return(new Uj(void 0)).serialize(a)},Uj=function(a){this.replacer_=a};
Uj.prototype.serialize=function(a){var b=[];Wj(this,a,b);return b.join("")};
var Wj=function(a,b,c){if(null==b)c.push("null");else{if("object"==typeof b){if(ra(b)){var d=b;b=d.length;c.push("[");for(var e="",f=0;f<b;f++)c.push(e),e=d[f],Wj(a,a.replacer_?a.replacer_.call(d,String(f),e):e,c),e=",";c.push("]");return}if(b instanceof String||b instanceof Number||b instanceof Boolean)b=b.valueOf();else{c.push("{");f="";for(d in b)Object.prototype.hasOwnProperty.call(b,d)&&(e=b[d],"function"!=typeof e&&(c.push(f),Xj(d,c),c.push(":"),Wj(a,a.replacer_?a.replacer_.call(b,d,e):e,c),
f=","));c.push("}");return}}switch(typeof b){case "string":Xj(b,c);break;case "number":c.push(isFinite(b)&&!isNaN(b)?String(b):"null");break;case "boolean":c.push(String(b));break;case "function":c.push("null");break;default:throw Error("Unknown type: "+typeof b);}}},Yj={'"':'\\"',
"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\x0B":"\\u000b"},Zj=/\uffff/.test("\uffff")?/[\\\"\x00-\x1f\x7f-\uffff]/g:/[\\\"\x00-\x1f\x7f-\xff]/g,Xj=function(a,b){b.push('"',a.replace(Zj,function(a){var b=Yj[a];b||(b="\\u"+(a.charCodeAt(0)|65536).toString(16).substr(1),Yj[a]=b);return b}),'"')};var ak=function(a){this.mechanism=a};
ak.prototype.set=function(a,b){p(b)?this.mechanism.set(a,Vj(b)):this.mechanism.remove(a)};
ak.prototype.get=function(a){try{var b=this.mechanism.get(a)}catch(c){return}if(null!==b)try{return Sj(b)}catch(c){throw"Storage: Invalid value was encountered";}};
ak.prototype.remove=function(a){this.mechanism.remove(a)};var bk=function(a){this.mechanism=a};
x(bk,ak);var ck=function(a){this.data=a},dk=function(a){return!p(a)||a instanceof ck?a:new ck(a)};
bk.prototype.set=function(a,b){bk.superClass_.set.call(this,a,dk(b))};
bk.prototype.getWrapper=function(a){a=bk.superClass_.get.call(this,a);if(!p(a)||a instanceof Object)return a;throw"Storage: Invalid value was encountered";};
bk.prototype.get=function(a){if(a=this.getWrapper(a)){if(a=a.data,!p(a))throw"Storage: Invalid value was encountered";}else a=void 0;return a};var ek=function(a){this.mechanism=a};
x(ek,bk);ek.prototype.set=function(a,b,c){if(b=dk(b)){if(c){if(c<w()){ek.prototype.remove.call(this,a);return}b.expiration=c}b.creation=w()}ek.superClass_.set.call(this,a,b)};
ek.prototype.getWrapper=function(a,b){var c=ek.superClass_.getWrapper.call(this,a);if(c){if(b=!b){b=c.creation;var d=c.expiration;b=!!d&&d<w()||!!b&&b>w()}if(b)ek.prototype.remove.call(this,a);else return c}};var fk=function(){};var gk=function(){};
x(gk,fk);gk.prototype.getCount=function(){var a=0;ad(this.__iterator__(!0),function(){a++});
return a};
gk.prototype.clear=function(){var a=bd(this.__iterator__(!0)),b=this;y(a,function(a){b.remove(a)})};var hk=function(a){this.storage_=a};
x(hk,gk);g=hk.prototype;g.isAvailable=function(){if(!this.storage_)return!1;try{return this.storage_.setItem("__sak","1"),this.storage_.removeItem("__sak"),!0}catch(a){return!1}};
g.set=function(a,b){try{this.storage_.setItem(a,b)}catch(c){if(0==this.storage_.length)throw"Storage mechanism: Storage disabled";throw"Storage mechanism: Quota exceeded";}};
g.get=function(a){a=this.storage_.getItem(a);if(!u(a)&&null!==a)throw"Storage mechanism: Invalid value was encountered";return a};
g.remove=function(a){this.storage_.removeItem(a)};
g.getCount=function(){return this.storage_.length};
g.__iterator__=function(a){var b=0,c=this.storage_,d=new Zc;d.next=function(){if(b>=c.length)throw Yc;var d=c.key(b++);if(a)return d;d=c.getItem(d);if(!u(d))throw"Storage mechanism: Invalid value was encountered";return d};
return d};
g.clear=function(){this.storage_.clear()};
g.key=function(a){return this.storage_.key(a)};var ik=function(){var a=null;try{a=window.localStorage||null}catch(b){}this.storage_=a};
x(ik,hk);var jk=function(){var a=null;try{a=window.sessionStorage||null}catch(b){}this.storage_=a};
x(jk,hk);var kk=0,lk=me?"webkit":le?"moz":C?"ms":ie?"o":"";function mk(a){var b=a.cloneNode(!1);"TR"==b.tagName||"SELECT"==b.tagName?y(a.childNodes,function(a){b.appendChild(mk(a))}):b.innerHTML=a.innerHTML;
return b}
function nk(a,b){a=Kf(document,a,null,b);return a.length?a[0]:null}
var ok=r("ytDomDomGetNextId")||function(){return++kk};
q("ytDomDomGetNextId",ok,void 0);var pk=function(a){a=mk(D(a));a.removeAttribute("id");return a},qk=function(a){var b=a.__yt_uid_key;
b||(b=ok(),a.__yt_uid_key=b);return b},rk=function(a,b){a=D(a);
b=D(b);return!!Bg(a,function(a){return a===b},void 0)},sk=function(a){a=a.replace(/^[\s\xa0]+/,"");
var b=0==Ka("<tr",a.substr(0,3));b&&(a="<table>"+a+"</table>");a=Zf(Eg(a));var c=document.createDocumentFragment();if(b)return b=Kf(document,"tr",null,a),y(b,function(a){c.appendChild(a)}),c;
c.appendChild(a);return c},tk=function(a){a=a.replace(/^[\s\xa0]+/,"");
if(0==Ka("<tr",a.substr(0,3)))return a=Zf(Eg("<table><tbody>"+a+"</tbody></table>")),nk("tr",a);var b=document.createElement("div");b.innerHTML=a;return ig(b)},uk=function(){Oj(document.body,"hide-players",!1);
var a=Lf("preserve-players");y(a,function(a){P(a,"preserve-players")})};var vk={stopImmediatePropagation:1,stopPropagation:1,preventMouseEvent:1,preventManipulation:1,preventDefault:1,layerX:1,layerY:1,screenX:1,screenY:1,scale:1,rotation:1,webkitMovementX:1,webkitMovementY:1},wk=function(a){this.type="";this.state=this.source=this.data=this.currentTarget=this.relatedTarget=this.target=null;this.charCode=this.keyCode=0;this.shiftKey=this.ctrlKey=this.altKey=!1;this.rotation=this.clientY=this.clientX=0;this.scale=1;this.changedTouches=this.touches=null;if(a=a||window.event){this.event=
a;for(var b in a)b in vk||(this[b]=a[b]);this.scale=a.scale;this.rotation=a.rotation;(b=a.target||a.srcElement)&&3==b.nodeType&&(b=b.parentNode);this.target=b;if(b=a.relatedTarget)try{b=b.nodeName?b:null}catch(c){b=null}else"mouseover"==this.type?b=a.fromElement:"mouseout"==this.type&&(b=a.toElement);this.relatedTarget=b;this.clientX=void 0!=a.clientX?a.clientX:a.pageX;this.clientY=void 0!=a.clientY?a.clientY:a.pageY;this.keyCode=a.keyCode?a.keyCode:a.which;this.charCode=a.charCode||("keypress"==
this.type?this.keyCode:0);this.altKey=a.altKey;this.ctrlKey=a.ctrlKey;this.shiftKey=a.shiftKey}};
wk.prototype.preventDefault=function(){this.event&&(this.event.returnValue=!1,this.event.preventDefault&&this.event.preventDefault())};
wk.prototype.stopPropagation=function(){this.event&&(this.event.cancelBubble=!0,this.event.stopPropagation&&this.event.stopPropagation())};
wk.prototype.stopImmediatePropagation=function(){this.event&&(this.event.cancelBubble=!0,this.event.stopImmediatePropagation&&this.event.stopImmediatePropagation())};var xk=r("ytEventsEventsListeners")||{};q("ytEventsEventsListeners",xk,void 0);var yk=r("ytEventsEventsCounter")||{count:0};q("ytEventsEventsCounter",yk,void 0);function zk(a,b,c,d){d=void 0===d?!1:d;a.addEventListener&&("mouseenter"!=b||"onmouseenter"in document?"mouseleave"!=b||"onmouseenter"in document?"mousewheel"==b&&"MozBoxSizing"in document.documentElement.style&&(b="MozMousePixelScroll"):b="mouseout":b="mouseover");return Tb(xk,function(e){return e[0]==a&&e[1]==b&&e[2]==c&&e[4]==!!d})}
function Q(a,b,c,d){d=void 0===d?!1:d;if(!a||!a.addEventListener&&!a.attachEvent)return"";var e=zk(a,b,c,d);if(e)return e;var e=++yk.count+"",f=!("mouseenter"!=b&&"mouseleave"!=b||!a.addEventListener||"onmouseenter"in document);var h=f?function(d){d=new wk(d);if(!Bg(d.relatedTarget,function(b){return b==a}))return d.currentTarget=a,d.type=b,c.call(a,d)}:function(b){b=new wk(b);
b.currentTarget=a;return c.call(a,b)};
h=Uc(h);a.addEventListener?("mouseenter"==b&&f?b="mouseover":"mouseleave"==b&&f?b="mouseout":"mousewheel"==b&&"MozBoxSizing"in document.documentElement.style&&(b="MozMousePixelScroll"),a.addEventListener(b,h,d)):a.attachEvent("on"+b,h);xk[e]=[a,b,c,h,d];return e}
function Ak(a,b,c,d){var e=a||document;return Q(e,b,function(a){var b=Bg(a.target,function(a){return a===e||d(a)});
b&&b!==e&&!b.disabled&&(a.currentTarget=b,c.call(b,a))})}
function Bk(a){a&&("string"==typeof a&&(a=[a]),y(a,function(a){if(a in xk){var b=xk[a],d=b[0],e=b[1],f=b[3],b=b[4];d.removeEventListener?d.removeEventListener(e,f,b):d.detachEvent&&d.detachEvent("on"+e,f);delete xk[a]}}))}
function Ck(a){a=a||window.event;a=a.target||a.srcElement;3==a.nodeType&&(a=a.parentNode);return a}
var Dk=function(a,b,c,d){return Ak(a,b,c,function(a){return M(a,d)})},Ek=function(a){if(document.createEvent){var b=document.createEvent("HTMLEvents");
b.initEvent("click",!0,!0);a.dispatchEvent(b)}else b=document.createEventObject(),a.fireEvent("onclick",b)},Fk=function(a){a=a||window.event;
a.returnValue=!1;a.preventDefault&&a.preventDefault()},Gk=function(a){a=a||window.event;
a.cancelBubble=!0;a.stopPropagation&&a.stopPropagation()},Hk=function(a){for(var b in xk)xk[b][0]==a&&Bk(b)};var Ik=function(a,b,c){this.trackingParams_=a;this.veType_=b;this.veCounter_=c;this.dataElement_=void 0},Jk=function(a){return new Ik(a)},Kk=function(a){var b={};
void 0!==a.trackingParams_?b.trackingParams=a.trackingParams_:(b.veType=a.veType_,null!=a.veCounter_&&(b.veCounter=a.veCounter_));void 0!==a.dataElement_&&(b.dataElement=Kk(a.dataElement_));return b};var Lk={log_event:"events",log_interaction:"interactions"},Mk={},Nk={},Ok=0,Pk=r("ytLoggingTransportLogPayloadsQueue_")||{};q("ytLoggingTransportLogPayloadsQueue_",Pk,void 0);var Qk=r("ytLoggingTransportTokensToCttTargetIds_")||{};q("ytLoggingTransportTokensToCttTargetIds_",Qk,void 0);
var Uk=function(a,b){Nk[a.endpoint]=b;if(a.cttAuthInfo){b=a.cttAuthInfo;var c={};b.videoId?c.videoId=b.videoId:b.playlistId&&(c.playlistId=b.playlistId);Qk[a.cttAuthInfo.token]=c;b=Rk(a.endpoint,a.cttAuthInfo.token)}else b=Rk(a.endpoint);b.push(a.payload);a=Number(zd("web_logging_max_batch")||0)||20;b.length>=a?Sk():Tk()},Sk=function(){$g(Ok);
if(!Vb(Pk)){for(var a in Pk){var b=Mk[a];if(!b){var c=Nk[a];if(!c)continue;b=new c;Mk[a]=b}var c=void 0,d=a,e=Lk[d];for(c in Pk[d]){var f=b.config_,f={client:{hl:f.innertubeContextHostLanguage,gl:f.innertubeContextGeoLocation,clientName:f.innertubeContextClientName,clientVersion:f.innertubeContextClientVersion}};A("DELEGATED_SESSION_ID")&&(f.user={onBehalfOfUser:A("DELEGATED_SESSION_ID")});f={context:f};f[e]=Rk(d,c);f.requestTimeMs=Math.round(Oc());var h=Qk[c];if(h)a:{var k=f,l=c;if(h.videoId)var m=
"VIDEO";else if(h.playlistId)m="PLAYLIST";else break a;k.credentialTransferTokenTargetId=h;k.context=k.context||{};k.context.user=k.context.user||{};k.context.user.credentialTransferTokens=[{token:l,scope:m}]}delete Qk[c];b.postWithOptions(d,f,{})}delete Pk[a]}Vb(Pk)||Tk()}},Tk=function(){$g(Ok);
Ok=ah(Sk,A("LOGGING_BATCH_TIMEOUT",1E4))},Rk=function(a,b){b||(b="");
Pk[a]=Pk[a]||{};Pk[a][b]=Pk[a][b]||[];return Pk[a][b]};var Vk={A11Y_ANNOUNCE:"a11y-announce",ACTIVITY_USER_ACTIVE:"USER_ACTIVE",ADDTO_MENU_CHANGED:"addto-menu-changed",ADDTO_MENU_SHOW_CREATE_PLAYLIST_ITEM_PANEL:"addto-menu-show-create-playlist-item-panel",ADDTO_MENU_SHOW_CREATE_PLAYLIST_PANEL:"addto-menu-show-create-playlist-panel",ADDTO_MENU_VIDEO_ADDED:"addto-menu-video-added",ADDTO_MENU_VIDEO_REMOVED:"addto-menu-video-removed",ADS_MASTHEAD_HIDE:"ads-masthead-hide",ADMIN_REVIEW_APP_PROXY:"admin_video_review_v2_review_item_publisher",ADMIN_REVIEW_APP_THUMB_BLUR:"yt.admin.touEnforcement.videoReview:thumbnailBlur",
ADMIN_REVIEW_QUEUE_CLEAR_ACTIONS:"clear-actions",ADMIN_REVIEW_QUEUE_SET_ITEM:"set-item",ADMIN_REVIEW_QUEUE_REVIEW_APP_DIRTY:"dirty-review-app",ADMIN_REVIEW_QUEUE_LABEL_STORAGE_DIRTY:"dirty-label-storage",ADMIN_UIX_FILTERBUILDER_CLAUSE_SERIALIZED:"yt-uix-admin-filter-builder-clause-serialized",APPBAR_GUIDE_DELAY_LOAD:"appbar-guide-delay-load",APPBAR_SHOW_GUIDE:"appbar-show-guide",CMS_CONTENT_OWNER_SELECTED:"content-owner-selected",COMMENT_EDITOR_CHANGE:"comment-editor-change",COMMENT_EMOJI_PICKER_INSERT:"commment-emoji-picker-insert",
COMMENT_EMOJI_PICKER_CLOSE:"commment-emoji-picker-close",COMMENT_PAGE_CHANGED:"comments-page-changed",COMMENT_PAGE_CHANGING:"comments-page-changing",COMMENT_SUBMIT_REQUEST_ENQUEUED:"comment-submit-request-enqueued",COMMENT_SUBMIT_REQUEST_SENT:"comment-submit-request-sent",COMMENT_SUBMIT_SUCCESS:"comment-submit-success",COMMENT_SUBMIT_FAILURE:"comment-submit-failure",COMMENT_FORM_RESET:"comment-form-reset",COMMENT_FORM_HEIGHT_CHANGED:"comment-form-height-changed",COMMENT_ADD_COMMENT_MODERATOR_BY_COMMENT_ID:"add-comment-moderator-by-comment-id",
CREATE_GPLUS_SET_DIALOG_STATE:"create-gplus-set-dialog-state",DOM_CONTENT_CHANGE:"yt-dom-content-change",EDITOR_TAB_SELECT:"editor-tab-select",FEED_ITEM_CONTENT_REPLACED:"feed-item-dismissal-content-replaced",FEED_PRIVACY_FAVORITE:"SHOW-FEED-PRIVACY-FAVORITE-DIALOG",FEED_PRIVACY_LIKE:"SHOW-FEED-PRIVACY-LIKE-DIALOG",FEED_PRIVACY_LIKE_PLAYLIST:"SHOW-FEED-PRIVACY-LIKE-PLAYLIST-DIALOG",FEED_PRIVACY_PLAYLIST:"SHOW-FEED-PRIVACY-ADD-TO-PLAYLIST-DIALOG",FEED_PRIVACY_SUBSCRIBE:"SHOW-FEED-PRIVACY-SUBSCRIBE-DIALOG",
GUIDE_FORCE_RELOAD_SUBSCRIPTIONS:"force-reload-subscriptions",GUIDE_UPDATE_GUIDE_SUBSCRIPTIONS:"update-guide-subscriptions",GUIDE_CHANNEL_SECTION_UPDATED:"guide-channel-section-updated",GUIDE_PLAYLIST_SECTION_UPDATED:"guide-playlist-section-updated",GUIDE_HIDDEN:"guide-hidden",HELP_GUIDE_DISMISSED:"DISMISSED",IV_BUTTON_MOUSEOVER:"iv-button-mouseover",IV_TEASER_CLICKED:"iv-teaser-clicked",IV_TEASER_MOUSEOVER:"iv-teaser-mouseover",IV_TEASER_SHOWN:"iv-teaser-shown",LD_AD_INSERTION_FAILED:"ld-ad-insert-failed",
LD_AD_INSERTION_SUCCESSFUL:"ld-ad-insert-success",LD_ARCHIVE_BROADCAST_FAILED:"ld-archive-broadcast-failed",LD_ARCHIVE_BROADCAST_SUCCESSFUL:"ld-archive-broadcast-success",LD_BROADCAST_START_FAILED:"ld-broadcast-start-failed",LD_BROADCAST_START_TIME_CHANGED:"ld-broadcast-start-time-changed",LD_BROADCAST_START_SUCCEEDED:"ld-broadcast-start-succeeded",LD_BROADCAST_STATUS_UPDATED:"ld-broadcast-status-updated",LD_BROADCAST_STOP_FAILED:"ld-broadcast-stop-failed",LD_BROADCAST_STOP_SUCCEEDED:"ld-broadcast-stop-succeeded",
LD_CREATE_HIGHLIGHT_INVALID_END_TIME:"ld-create-highlight-invalid-end-time",LD_CREATE_HIGHLIGHT_FAILED:"ld-create-highlight-failed",LD_CREATE_HIGHLIGHT_SUCCESSFUL:"ld-create-highlight-success",LD_GET_MONETIZATION_STATE_FAILED:"ld-get-monetization-state-failed",LD_GET_MONETIZATION_STATE_SUCCESS:"ld-get-monetization-state-success",LD_MAKE_PERSISTENT_BROADCAST_PUBLIC_FAILED:"ld-make-persistent-broadcast-public-failed",LD_MAKE_PERSISTENT_BROADCAST_PUBLIC_SUCCESS:"ld-make-persistent-broadcast-public-success",
LD_MONETIZATION_REJECTED:"ld-monetization-rejected",LD_RESET_CONNECTION_ID_FAILED:"ld-reset-connection-id-failed",LD_RESET_CONNECTION_ID_SUCCESSFUL:"ld-reset-connection-id-success",LD_SCROLL_TO_HEALTH:"ld-scroll-to-health",LD_THUMBNAIL_CHANGE_STARTING:"ld-thumbnail-change-starting",LD_THUMBNAIL_CHANGE_FAILED:"ld-thumbnail-change-failed",LD_THUMBNAIL_CHANGE_SUCCEEDED:"ld-thumbnail-change-success",LD_VIEWERSHIP_CHANGE:"ld-viewership-change",LD_AD_INSERT:"ld-ad-insert",LD_ARCHIVE_BROADCAST:"ld-archive-broadcast",
LD_BROADCAST_START:"ld-broadcast-start",LD_BROADCAST_STOP:"ld-broadcast-stop",LD_CREATE_HIGHLIGHT:"ld-create-highlight",LD_DISMISS_ONBOARDING_CHECKLIST:"ld-dismiss-onboarding-checklist",LD_DISMISS_SUPER_CHAT_PROMO:"ld-dismiss-super-chat-promo",LD_GET_MONETIZATION_STATE:"ld-get-monetization-state",LD_MAKE_PERSISTENT_BROADCAST_PUBLIC:"ld-make-persistent-broadcast-public",LD_RESET_CONNECTION_ID:"ld-reset-connection-id",LD_SAVE_THUMBNAIL:"ld-thumbnail-save",LD_TESTING_START:"ld-testing-start",LD_BROADCAST_STATE_READY:"ld-broadcast-state-ready",
LD_BROADCAST_STATE_TESTING_STARTING:"ld-broadcast-state-testing-starting",LD_BROADCAST_STATE_TESTING:"ld-broadcast-state-testing",LD_BROADCAST_STATE_LIVE_STARTING:"ld-broadcast-state-live-starting",LD_BROADCAST_STATE_LIVE:"ld-broadcast-state-live",LD_BROADCAST_STATE_COMPLETE:"ld-broadcast-state-complete",LD_STREAM_INACTIVE_FOR_PERSISTENT:"ld-stream-inactive-for-persistent",LD_STREAM_INACTIVE_FOR_SCHEDULED:"ld-stream-inactive-for-scheduled",LD_STREAM_RESTORED:"ld-stream-restored",LD_STREAM_START_AVAILABLE:"ld-stream-start-available",
LD_IS_STREAMING:"ld-stream-is-streaming",LD_VIDEO_ID_CHANGED:"ld-video-id-changed",LD_CONTENT_ID_ALERT:"ld-content-id-alert-transition",LINK_GPLUS_LOADER_DISMISS:"LINK-GPLUS-LOADER-DISMISS",LINK_GPLUS_LOADER_CANCEL:"LINK-GPLUS-LOADER-CANCEL",LINK_GPLUS_LOADER_GOTO_CONTENT_STATE:"LINK-GPLUS-LOADER-GOTO-CONTENT-STATE",LINK_GPLUS_LOADER_GOTO_WORKING_STATE:"LINK-GPLUS-LOADER-GOTO-WORKING-STATE",LINK_GPLUS_LOADER_SET_WAIT_CURSOR:"LINK-GPLUS-LOADER-SET-WAIT-CURSOR",LINK_GPLUS_LOADER_SHOW_DIALOG:"LINK-GPLUS-LOADER-SHOW-DIALOG",
LIVE_EVENT_SET_REMINDER_REQUEST:"live-event-reminder-set-request",LIVE_EVENT_REMOVE_REMINDER_REQUEST:"live-event-reminder-remove-request",LIVE_EVENT_REMINDER_SET:"live-event-reminder-set",LIVE_EVENT_REMINDER_REMOVED:"live-event-reminder-removed",LIVE_EVENT_REMINDER_FAILED:"live-event-reminder-failed",LIVESTREAMING_TIME_RANGE_NOW_SELECTED:"time-range-now-selected",LIVESTREAMING_TIME_RANGE_NOW_DESELECTED:"time-range-now-deselected",LIVESTREAMING_TIME_RANGE_CUSTOM_SELECTED:"time-range-custom-encoder-selected",
LIVESTREAMING_TIME_RANGE_CUSTOM_DESELECTED:"time-range-custom-encoder-deselected",LIVESTREAMING_MDE_DISPLAY_END_TIME:"mde-display-end-time",LIVESTREAMING_MDE_HIDE_END_TIME:"mde-hide-end-time",NAVIGATE:"navigate",MASTHEAD_TICKER_CLOSE:"masthead-ticker-close",MDE_SAVE_REQUEST:"yt-metadata-editor-widget-save-request",MDE_SAVE_SUCCESS:"yt-metadata-editor-widget-save-success",MDE_SAVE_FAIL:"yt-metadata-editor-widget-save-fail",MDE_VIDEO_TITLE_UPDATED:"yt-metadata-editor-widget-title-changed",MDE_LIVE_DVR_UPDATED:"yt-metadata-editor-widget-live-dvr-changed",
MDE_CATEGORY_UPDATED:"yt-metadata-editor-widget-category-changed",ONEPICKDIALOG_BANNER_UPLOAD_STARTED:"banner-upload-started",ONEPICKDIALOG_BANNER_UPLOAD_SUCCEEDED:"banner-upload-succeeded",ONEPICKDIALOG_BANNER_UPLOAD_FAILED:"banner-upload-failed",OTHER_CHANNELS_UPDATED:"yt-ui-other-channels-editor-updated",PAGE_MOUSE:"page-mouse",PAGE_RESIZE:"page-resize",PAGE_SCROLL:"page-scroll",PLAYER_ADDED:"player-added",PLAYER_ERROR:"player-error",PLAYER_PLAYBACK_START:"player-playback-start",PLAYER_RESIZE:"player-resize",
PLAYER_SHARE:"player-share",PLAYER_STATE_CHANGE:"player-state-change",PLAYER_VIDEO_PROGRESS:"player-video-progress",PLAYER_AD_COMPLETE:"player-ad-complete",PLAYER_AD_SKIP:"player-ad-skip",PLAYER_AD_END:"player-ad-end",PLAYER_AD_START:"player-ad-start",PLAYER_QUALITY_DATA_UPDATE:"player-quality-data-update",PLAYER_AUTONAV_CHANGE_REQUEST:"player-autonav-change-request",PLAYER_AUTONAV_PAUSE_REQUEST:"player-autonav-pause-request",PLAYLIST_ADDTO:"playlist-addto",PLAYLIST_FAVORITE:"playlist-favorite",PLAYLIST_UPDATE_HEADER:"playlist-update-header",
PLAYLIST_DISPOSE_HEADER_COMPONENTS:"playlist-dispose-header-components",PLAYLIST_REINIT_HEADER_COMPONENTS:"playlist-reinit-header-components",PLAYLIST_DISPOSE_HEADER_REFRESHER:"playlist-dispose-header-reresher",REMOTE_RECEIVER_SELECTED:"yt-remote-auto-connect",REMOTE_RECEIVER_RESUMED:"yt-remote-receiver-resumed",REMOTE_BEFORE_DISCONNECT:"yt-remote-before-disconnect",REMOTE_CONNECTION_CHANGE:"yt-remote-connection-change",REMOTE_RECEIVER_AVAILABILITY_CHANGE:"yt-remote-receiver-availability-change",
REMOTE_CLOUDVIEW_API_READY:"yt-remote-cast2-api-ready",REMOTE_CLOUDVIEW_AVAILABILITY_CHANGE:"yt-remote-cast2-availability-change",REMOTE_CLOUDVIEW_RECEIVER_RESUMED:"yt-remote-cast2-receiver-resumed",REMOTE_CLOUDVIEW_RECEIVER_SELECTED:"yt-remote-cast2-receiver-selected",REMOTE_CLOUDVIEW_SESSION_CHANGE:"yt-remote-cast2-session-change",SPACECAST_WATCH_VIDEO_CACHED_NOTIFICATION:"yt-spacecast-cache-watch-video-cached",TRANSLATION_REQUEST:"translation-request",TRANSLATION_EDITOR_ORIGINAL_LANGUAGE_SELECTED:"translation-editor-original-language-selected",
TRANSLATION_EDITOR_TRANSLATED_LANGUAGE_DELETED:"translation-editor-translated-language-deleted",TRANSLATION_EDITOR_TRANSLATED_LANGUAGE_SELECTED:"translation-editor-translated-language-selected",UI_DIALOG_CANCELLED:"yt-ui-dialog-cancelled",UI_DIALOG_HIDE_COMPLETE:"yt-ui-dialog-hide-complete",UI_DIALOG_SHOW_COMPLETE:"yt-ui-dialog-show-complete",UI_RENDERERS_COMMENT_CREATED:"commentcreated",UI_RENDERERS_COMMENT_REPORTED:"commentreported",UI_RENDERERS_COMMENT_UPDATED:"commentupdated",UI_RENDERERS_REPLY_CREATED:"replycreated",
UI_RENDERERS_REPLY_UPDATED:"replyupdated",UI_RENDERERS_ZERO_STEP_COMMENT_CREATED:"zerostepcommentcreated",UI_RENDERERS_COMMENT_ATTACHMENTEDITOR_CHANGE:"ui-renderers-comment-attachmenteditor-change",UI_RENDERERS_COMMENT_ATTACHMENTEDITOR_CANCEL:"ui-renderers-comment-attachmenteditor-cancel",UI_RENDERERS_COMMENT_IMAGEUPLOADER_CHANGE:"ui-renderers-comment-imageuploader-change",UI_RENDERERS_COMMENT_IMAGEUPLOADER_CANCEL:"ui-renderers-comment-imageuploader-cancel",UI_RENDERERS_COMMENT_POLL_CHANGED:"comment-poll-choice-changed",
UI_RENDERERS_COMMENT_POLL_TOTAL_CHANGED:"comment-poll-choice-total-changed",UI_RENDERERS_COMMENT_VIDEOPICKER_CHANGE:"ui-renderers-comment-videopicker-change",UI_RENDERERS_COMMENT_VIDEOPICKER_CANCEL:"ui-renderers-comment-videopicker-cancel",UI_RENDERERS_NEW_LIKE_RENDERER_NOTIFICATION:"new-like-renderer-notification",UI_VIDEOPICKER_CANCEL:"yt-ui-videopicker-cancel",UI_VIDEOPICKER_CLOSE:"yt-ui-videopicker-close",UI_VIDEOPICKER_OPEN:"yt-ui-videopicker-open",UI_VIDEOPICKER_QUICK_SUBMIT:"yt-ui-videopicker-quick-submit",
UI_VIDEOPICKER_SAVE:"yt-ui-videopicker-save",UI_VIDEOPLAYER_ENDED:"yt-ui-videoplayer-ended",UI_VIDEOPLAYER_READY:"yt-ui-videoplayer-ready",UIX_BUTTON_MENU_BEFORE_SHOW:"yt-uix-button-menu-before-show",UIX_BUTTON_MENU_HIDE:"yt-uix-button-menu-hide",UIX_BUTTON_MENU_SHOW:"yt-uix-button-menu-show",UIX_CARD_SHOW:"yt-uix-card-show",UIX_COMBOBOXINPUT_CHANGE:"yt-uix-comboboxinput-notification-change",UIX_DRAGDROP_DRAG_END:"yt-uix-dragdrop-notification-dragend",UIX_EXPANDER_TOGGLE:"yt-uix-expander-toggle",
UIX_INLINEEDIT_ERROR:"yt-uix-inlineedit-error",UIX_INLINEEDIT_FORM_DISPOSE:"yt-uix-inlineedit-form-dispose",UIX_INLINEEDIT_FORM_INIT:"yt-uix-inlineedit-form-init",UIX_INLINEEDIT_SUCCESS:"yt-uix-inlineedit-success",UIX_INLINEEDIT_VIEW_DISPOSE:"yt-uix-inlineedit-view-dispose",UIX_INLINEEDIT_VIEW_INIT:"yt-uix-inlineedit-view-init",UIX_KBD_NAV_MOVE_IN:"yt-uix-kbd-nav-move-in",UIX_KBD_NAV_MOVE_IN_TO:"yt-uix-kbd-nav-move-in-to",UIX_KBD_NAV_MOVE_NEXT:"yt-uix-kbd-move-next",UIX_KBD_NAV_MOVE_OUT_DONE:"yt-uix-kbd-nav-move-out-done",
UIX_KBD_NAV_MOVE_TO:"yt-uix-kbd-nav-move-to",UIX_LOAD_MORE_SUCCESS:"yt-uix-load-more-success",UIX_MENU_BEFORE_SHOW:"yt-uix-menu-before-show",UIX_MENU_SHOW:"yt-uix-menu-show",UIX_MENU_HIDE:"yt-uix-menu-hide",UIX_ITEM_CLICKED:"yt-uix-menu-item-clicked",UIX_ORDEREDLIST_ORDER_CHANGED:"yt-uix-orderedlist-order-changed",UIX_OVERLAY_HIDE:"yt-uix-overlay-hide",UIX_OVERLAY_SHOWN:"yt-uix-overlay-shown",UIX_PLAYLIST_LIKED:"yt-uix-playlistlike-liked",UIX_PLAYLIST_UNLIKED:"yt-uix-playlistlike-unliked",UIX_SLIDER_SLIDE_SHOWN:"yt-uix-slider-slide-shown",
UIX_TABS_AFTER_SHOWN:"yt-uix-tabs-after-shown",UIX_VIDEOACTIONMENU_HIDE_MENU:"yt-uix-videoactionmenu-hide",UIX_VIDEO_LIKED:"yt-uix-videolike-liked",UIX_VIDEO_UNLIKED:"yt-uix-videolike-unliked",VM_DASHBOARD_WIDGETS_CHANGED:"yt-vm-dashboard-widgets-changed",WATCH_ADS_INIT:"watchAdsInit",WATCH_ADS_SHOW_COMPANION_AD_LOADED:"showCompanionAdLoaded",WATCH_LATER_VIDEO_ADDED:"WATCH_LATER_VIDEO_ADDED",WATCH_LATER_VIDEO_REMOVED:"WATCH_LATER_VIDEO_REMOVED",WATCH_QUEUE_CHANGE:"queue-change",WATCH_QUEUE_CONNECTION:"watch-queue-remote-connection",
WATCH_QUEUE_HIDE:"watch-queue-hide",WATCH_QUEUE_SHOW:"watch-queue-show",WATCH_QUEUE_UPDATE:"watch-queue-update",WATCH_QUEUE_EMPTY:"watch-queue-empty",WATCH_QUEUE_REFRESH:"watch-timeline-refresh",WATCH_QUEUE_ADDTO_VIDEO_ADDED:"watch-queue-addto-video-added",WATCH_QUEUE_ADDTO_VIDEO_REMOVED:"watch-queue-addto-video-removed",WATCH_QUEUE_ADDTO_VIDEO_PLAY_NEXT:"watch-queue-addto-video-play-next",WATCH_QUEUE_ADDTO_VIDEO_PLAY_NOW:"watch-queue-addto-video-play-now",WATCH_QUEUE_ADDTO_PLAYLIST_ADDED:"watch-queue-addto-playlist-added",
WATCH_QUEUE_ADDTO_PLAYLIST_REMOVED:"watch-queue-addto-playlist-removed",WATCH_QUEUE_ADDTO_PLAYLIST_PLAY_NEXT:"watch-queue-addto-playlist-play-next",WATCH_QUEUE_ADDTO_PLAYLIST_PLAY_NOW:"watch-queue-addto-playlist-play-now",WATCH_VIDEO_LIKED:"watch-video-liked",WATCH_VIDEO_DISLIKED:"watch-video-disliked",WWW_CHANNELS_FEATUREDCONTENTEDITOR_DELETE:"yt-www-channels-c4-component-featuredcontenteditor-delete",WWW_COMMENTS_PAGE_UPDATED:"yt-www-comments-page-updated",WWW_COMMENTS_SHAREBOX_OPEN:"yt-www-comments-sharebox-open",
WWW_PAGEFRAMECSS_LOAD:"yt-www-pageFrameCssNotifications-load"};function Wk(){if(null==r("_lact",window)){var a=parseInt(A("LACT"),10),a=isFinite(a)?w()-Math.max(a,0):-1;q("_lact",a,window);q("_fact",a,window);-1==a&&Xk();Q(document,"keydown",Xk);Q(document,"keyup",Xk);Q(document,"mousedown",Xk);Q(document,"mouseup",Xk);yh("page-mouse",Xk);yh("page-scroll",Xk);yh("page-resize",Xk)}}
function Xk(){null==r("_lact",window)&&(Wk(),r("_lact",window));var a=w();q("_lact",a,window);-1==r("_fact",window)&&q("_fact",a,window);K("USER_ACTIVE")}
var Yk=function(){var a=r("_lact",window);return null==a?-1:Math.max(w()-a,0)},Zk=Xk;var $k=function(a,b,c,d,e){var f={};f.eventTimeMs=Math.round(d||Oc());f[a]=b;f.context={lastActivityMs:String(Yk())};Uk({endpoint:"log_event",payload:f,cttAuthInfo:e},c)};var cl=function(a,b){var c=al;b=nb(b,function(a){return Kk(a)});
bl(c,{visibilityUpdate:{csn:a,visualElements:b}})},bl=function(a,b,c){b.eventTimeMs=Math.round(Oc());
b.lactMs=Yk();c&&(b.clientData=dl(c));Uk({endpoint:"log_interaction",payload:b},a)},dl=function(a){var b={};
a.analyticsChannelData&&(b.analyticsDatas=nb(a.analyticsChannelData,function(a){return{tabName:a.tabName,cardName:a.cardName,isChannelScreen:a.isChannelScreen,insightId:a.insightId,externalChannelId:a.externalChannelId,externalContentOwnerId:a.externalContentOwnerId}}));
return{playbackData:{clientPlaybackNonce:a.clientPlaybackNonce},analyticsChannelData:b,externalLinkData:a.externalLinkData}};(new ik).isAvailable();(new jk).isAvailable();var el=function(){var a=A("client-screen-nonce",void 0);a||(a=A("EVENT_ID",void 0));return a},fl=function(a,b){Qc("client-screen-nonce",a);
Qc("ROOT_VE_TYPE",b)};var gl=function(a,b){var c=A("VALID_SESSION_TEMPDATA_DOMAINS",[]),d=kd(window.location.href);d&&c.push(d);d=kd(a);if(tb(c,d)||!d&&0==a.lastIndexOf("/",0))if(zd("autoescape_tempdata_url")&&(c=document.createElement("a"),wf(c,a),a=c.href),a&&(a=id(a),a=gd(null,null,null,null,a[5],a[6],a[7]),a=md(a))){if(b.itct||b.ved)b.csn=b.csn||el();a="ST-"+hb(a).toString(36);c=b?sd(b):"";ph(a,c,5);b&&(b=b.itct||b.ved,a=r("yt.logging.screen.storeParentElement"),b&&a&&a(Jk(b)))}};var hl=function(a){var b=r("yt.scheduler.instance.addImmediateJob");b&&b(a)},il=function(a,b,c){isNaN(c)&&(c=void 0);
var d=r("yt.scheduler.instance.addJob");return d?d(a,b,c):void 0===c?(a(),NaN):ah(a,c||0)},jl=function(a,b){return il(a,0,b)},kl=function(a){if(!isNaN(a)){var b=r("yt.scheduler.instance.cancelJob");
b?b(a):$g(a)}};var ll=0,ml=function(a,b,c){var d;d||(d="width");if(!a||!a.length)return null;var e=ll;e||(e=ll=window.devicePixelRatio);1<e&&(b*=e);e=a.length;if(c)for(var f=0;f<e;f++)if(0<=a[f].url.indexOf(c))return a[f].url||null;for(f=0;f<e;f++)if(a[f][d]>=b)return a[f].url||null;for(f=e-1;0<f;f--)if(a[f][d])return a[f].url||null;return a[0].url||null};r("yt.scheduler.instance.timerIdMap_");var nl=function(){this.isEnabled_=!!zd("enable_signals");this.signals_=Object.create(null);Object.create(null);this.parkedJobs_=Object.create(null);this.parkedProcessors_=Object.create(null)};
pa(nl);q("ytsignals.getInstance",nl.getInstance,void 0);nl.prototype.addListener=function(a,b){if(this.isEnabled_){var c=this.parkedProcessors_[a];c||(c=this.parkedProcessors_[a]=[]);c.push(b)}};
nl.prototype.processSignal=function(a){if(!ol(this,a)){var b=this.parkedJobs_[a];if(b){for(var c=0,d;d=b[c++];)il(d.job,d.priority,d.delay);b.length=0}if(b=this.parkedProcessors_[a]){for(c=0;d=b[c++];)d();b.length=0}this.signals_[a]=!0}};
nl.prototype.processSignal=nl.prototype.processSignal;var ol=function(a,b){return a.isEnabled_&&(A("IS_HOMEPAGE_COLD",void 0)||A("IS_WATCH_PAGE_COLD",void 0))?void 0!==a.signals_[b]:!0};var pl=function(a,b){this.priority_=a;this.signal_=void 0;this.parkedJobs_=null;this.nextJobDescriptor_=0;this.scheduledJobs_=Object.create(null);this.signals_=nl.getInstance();this.signal_=b},rl=function(a,b){if(b)if(a.signal_&&!ol(a.signals_,a.signal_)){var c=a.parkedJobs_;
c||(c=a.parkedJobs_=[],a.signals_.addListener(a.signal_,a.processSignal_.bind(a)));c.push(b)}else ql(a,b)};
pl.prototype.cancel=function(){for(var a in this.scheduledJobs_)kl(this.scheduledJobs_[a].jobId),delete this.scheduledJobs_[a];this.parkedJobs_&&(this.parkedJobs_.length=0)};
pl.prototype.processSignal_=function(){if(this.parkedJobs_){for(var a=0,b;b=this.parkedJobs_[a++];)ql(this,b);this.parkedJobs_.length=0}};
var ql=function(a,b){if(10==a.priority_)hl(b);else{var c=a.nextJobDescriptor_++,d=function(a){b();delete this.scheduledJobs_[a]}.bind(a,c),e=il(d,a.priority_);
a.scheduledJobs_[c]={jobWrapper:d,jobId:e}}};var sl=function(a){if(!a)return"";a=a.split("#")[0].split("?")[0];a=a.toLowerCase();0==a.indexOf("//")&&(a=window.location.protocol+a);/^[\w\-]*:\/\//.test(a)||(a=window.location.href);var b=a.substring(a.indexOf("://")+3),c=b.indexOf("/");-1!=c&&(b=b.substring(0,c));a=a.substring(0,a.indexOf("://"));if("http"!==a&&"https"!==a&&"chrome-extension"!==a&&"file"!==a&&"android-app"!==a&&"chrome-search"!==a)throw Error("Invalid URI scheme in origin");var c="",d=b.indexOf(":");if(-1!=d){var e=b.substring(d+
1),b=b.substring(0,d);if("http"===a&&"80"!==e||"https"===a&&"443"!==e)c=":"+e}return a+"://"+b+c};/*
 gapi.loader.OBJECT_CREATE_TEST_OVERRIDE &&*/
var tl=window,ul=document,vl=tl.location,wl=function(){},xl=/\[native code\]/,yl=function(a,b,c){return a[b]=a[b]||c},zl=function(a){for(var b=0;b<this.length;b++)if(this[b]===a)return b;
return-1},Al=function(a){a=a.sort();
for(var b=[],c=void 0,d=0;d<a.length;d++){var e=a[d];e!=c&&b.push(e);c=e}return b},Bl=function(){var a;
if((a=Object.create)&&xl.test(a))a=a(null);else{a={};for(var b in a)a[b]=void 0}return a},Cl=yl(tl,"gapi",{});var Dl;Dl=yl(tl,"___jsl",Bl());yl(Dl,"I",0);yl(Dl,"hel",10);var El=function(){var a=vl.href;if(Dl.dpo)var b=Dl.h;else{b=Dl.h;var c=/([#].*&|[#])jsh=([^&#]*)/g,d=/([?#].*&|[?#])jsh=([^&#]*)/g;if(a=a&&(c.exec(a)||d.exec(a)))try{b=decodeURIComponent(a[2])}catch(e){}}return b},Fl=function(a){var b=yl(Dl,"PQ",[]);
Dl.PQ=[];var c=b.length;if(0===c)a();else for(var d=0,e=function(){++d===c&&a()},f=0;f<c;f++)b[f](e)},Gl=function(a){return yl(yl(Dl,"H",Bl()),a,Bl())};var Hl=function(){function a(){e[0]=1732584193;e[1]=4023233417;e[2]=2562383102;e[3]=271733878;e[4]=3285377520;t=m=0}
function b(a){for(var b=h,c=0;64>c;c+=4)b[c/4]=a[c]<<24|a[c+1]<<16|a[c+2]<<8|a[c+3];for(c=16;80>c;c++)a=b[c-3]^b[c-8]^b[c-14]^b[c-16],b[c]=(a<<1|a>>>31)&4294967295;a=e[0];for(var d=e[1],f=e[2],k=e[3],l=e[4],m,t,c=0;80>c;c++)40>c?20>c?(m=k^d&(f^k),t=1518500249):(m=d^f^k,t=1859775393):60>c?(m=d&f|k&(d|f),t=2400959708):(m=d^f^k,t=3395469782),m=((a<<5|a>>>27)&4294967295)+m+l+t+b[c]&4294967295,l=k,k=f,f=(d<<30|d>>>2)&4294967295,d=a,a=m;e[0]=e[0]+a&4294967295;e[1]=e[1]+d&4294967295;e[2]=e[2]+f&4294967295;
e[3]=e[3]+k&4294967295;e[4]=e[4]+l&4294967295}
function c(a,c){if("string"===typeof a){a=unescape(encodeURIComponent(a));for(var d=[],e=0,h=a.length;e<h;++e)d.push(a.charCodeAt(e));a=d}c||(c=a.length);d=0;if(0==m)for(;d+64<c;)b(a.slice(d,d+64)),d+=64,t+=64;for(;d<c;)if(f[m++]=a[d++],t++,64==m)for(m=0,b(f);d+64<c;)b(a.slice(d,d+64)),d+=64,t+=64}
function d(){var a=[],d=8*t;56>m?c(k,56-m):c(k,64-(m-56));for(var h=63;56<=h;h--)f[h]=d&255,d>>>=8;b(f);for(h=d=0;5>h;h++)for(var l=24;0<=l;l-=8)a[d++]=e[h]>>l&255;return a}
for(var e=[],f=[],h=[],k=[128],l=1;64>l;++l)k[l]=0;var m,t;a();return{reset:a,update:c,digest:d,digestString:function(){for(var a=d(),b="",c=0;c<a.length;c++)b+="0123456789ABCDEF".charAt(Math.floor(a[c]/16))+"0123456789ABCDEF".charAt(a[c]%16);return b}}};var Jl=function(a,b,c){var d=[],e=[];if(1==(ra(c)?2:1))return e=[b,a],y(d,function(a){e.push(a)}),Il(e.join(" "));
var f=[],h=[];y(c,function(a){h.push(a.key);f.push(a.value)});
c=Math.floor((new Date).getTime()/1E3);e=0==f.length?[c,b,a]:[f.join(":"),c,b,a];y(d,function(a){e.push(a)});
a=Il(e.join(" "));a=[c,a];0==h.length||a.push(h.join(""));return a.join("_")},Il=function(a){var b=Hl();
b.update(a);return b.digestString().toLowerCase()};var Kl=function(){var a=[],b=sl(String(n.location.href)),c=n.__OVERRIDE_SID;null==c&&(c=(new Gg(document)).get("SID"));if(c&&(b=(c=0==b.indexOf("https:")||0==b.indexOf("chrome-extension:"))?n.__SAPISID:n.__APISID,null==b&&(b=(new Gg(document)).get(c?"SAPISID":"APISID")),b)){var c=c?"SAPISIDHASH":"APISIDHASH",d=String(n.location.href);return d&&b&&c?[c,Jl(sl(d),b,a||null)].join(" "):null}return null};var Ll=yl(Dl,"perf",Bl());yl(Ll,"g",Bl());var Ml=yl(Ll,"i",Bl());yl(Ll,"r",[]);Bl();Bl();var Ol=function(a,b,c){b&&0<b.length&&(b=Nl(b),c&&0<c.length&&(b+="___"+Nl(c)),28<b.length&&(b=b.substr(0,28)+(b.length-28)),c=b,b=yl(Ml,"_p",Bl()),yl(b,c,Bl())[a]=(new Date).getTime(),b=Ll.r,"function"===typeof b?b(a,"_p",c):b.push([a,"_p",c]))},Nl=function(a){return a.join("__").replace(/\./g,"_").replace(/\-/g,"_").replace(/\,/g,"_")};var Pl=Bl(),Ql=[],Rl=function(a){throw Error("Bad hint"+(a?": "+a:""));};
Ql.push(["jsl",function(a){for(var b in a)if(Object.prototype.hasOwnProperty.call(a,b)){var c=a[b];"object"==typeof c?Dl[b]=yl(Dl,b,[]).concat(c):yl(Dl,b,c)}if(b=a.u)a=yl(Dl,"us",[]),a.push(b),(b=/^https:(.*)$/.exec(b))&&a.push("http:"+b[1])}]);
var Sl=/^(\/[a-zA-Z0-9_\-]+)+$/,Tl=[/\/amp\//,/\/amp$/,/^\/amp$/],Ul=/^[a-zA-Z0-9\-_\.,!]+$/,Vl=/^gapi\.loaded_[0-9]+$/,Wl=/^[a-zA-Z0-9,._-]+$/,$l=function(a,b,c,d){var e=a.split(";"),f=e.shift(),h=Pl[f],k=null;h?k=h(e,b,c,d):Rl("no hint processor for: "+f);k||Rl("failed to generate load url");b=k;c=b.match(Xl);(d=b.match(Yl))&&1===d.length&&Zl.test(b)&&c&&1===c.length||Rl("failed sanity: "+a);return k},cm=function(a,b,c,d){a=am(a);
Vl.test(c)||Rl("invalid_callback");b=bm(b);d=d&&d.length?bm(d):null;var e=function(a){return encodeURIComponent(a).replace(/%2C/g,",")};
return[encodeURIComponent(a.pathPrefix).replace(/%2C/g,",").replace(/%2F/g,"/"),"/k=",e(a.version),"/m=",e(b),d?"/exm="+e(d):"","/rt=j/sv=1/d=1/ed=1",a.activeMods?"/am="+e(a.activeMods):"",a.resourceSig?"/rs="+e(a.resourceSig):"",a.zcms?"/t="+e(a.zcms):"","/cb=",e(c)].join("")},am=function(a){"/"!==a.charAt(0)&&Rl("relative path");
for(var b=a.substring(1).split("/"),c=[];b.length;){a=b.shift();if(!a.length||0==a.indexOf("."))Rl("empty/relative directory");else if(0<a.indexOf("=")){b.unshift(a);break}c.push(a)}a={};for(var d=0,e=b.length;d<e;++d){var f=b[d].split("="),h=decodeURIComponent(f[0]),k=decodeURIComponent(f[1]);2==f.length&&h&&k&&(a[h]=a[h]||k)}b="/"+c.join("/");Sl.test(b)||Rl("invalid_prefix");c=0;for(d=Tl.length;c<d;++c)Tl[c].test(b)&&Rl("invalid_prefix");c=dm(a,"k",!0);d=dm(a,"am");e=dm(a,"rs");a=dm(a,"t");return{pathPrefix:b,
version:c,activeMods:d,resourceSig:e,zcms:a}},bm=function(a){for(var b=[],c=0,d=a.length;c<d;++c){var e=a[c].replace(/\./g,"_").replace(/-/g,"_");
Wl.test(e)&&b.push(e)}return b.join(",")},dm=function(a,b,c){a=a[b];
!a&&c&&Rl("missing: "+b);if(a){if(Ul.test(a))return a;Rl("invalid: "+b)}return null},Zl=/^https?:\/\/[a-z0-9_.-]+\.google\.com(:\d+)?\/[a-zA-Z0-9_.,!=\-\/]+$/,Yl=/\/cb=/g,Xl=/\/\//g,em=function(){var a=El();
if(!a)throw Error("Bad hint");return a};
Pl.m=function(a,b,c,d){(a=a[0])||Rl("missing_hint");return"https://apis.google.com"+cm(a,b,c,d)};
var fm=decodeURI("%73cript"),gm=/^[-+_0-9\/A-Za-z]+={0,2}$/,hm=function(a,b){for(var c=[],d=0;d<a.length;++d){var e=a[d];e&&0>zl.call(b,e)&&c.push(e)}return c},im=function(){var a=Dl.nonce;
if(void 0!==a)return a&&a===String(a)&&a.match(gm)?a:Dl.nonce=null;var b=yl(Dl,"us",[]);if(!b||!b.length)return Dl.nonce=null;for(var c=ul.getElementsByTagName(fm),d=0,e=c.length;d<e;++d){var f=c[d];if(f.src&&(a=String(f.nonce||f.getAttribute("nonce")||"")||null)){for(var h=0,k=b.length;h<k&&b[h]!==f.src;++h);if(h!==k&&a&&a===String(a)&&a.match(gm))return Dl.nonce=a}}return null},km=function(a){if("loading"!=ul.readyState)jm(a);
else{var b=im(),c="";null!==b&&(c=' nonce="'+b+'"');ul.write("<"+fm+' src="'+encodeURI(a)+'"'+c+"></"+fm+">")}},jm=function(a){var b=ul.createElement(fm);
b.setAttribute("src",a);a=im();null!==a&&b.setAttribute("nonce",a);b.async="true";(a=ul.getElementsByTagName(fm)[0])?a.parentNode.insertBefore(b,a):(ul.head||ul.body||ul.documentElement).appendChild(b)},lm=function(a,b){var c=b&&b._c;
if(c)for(var d=0;d<Ql.length;d++){var e=Ql[d][0],f=Ql[d][1];f&&Object.prototype.hasOwnProperty.call(c,e)&&f(c[e],a,b)}},nm=function(a,b,c){mm(function(){var c=b===El()?yl(Cl,"_",Bl()):Bl();
c=yl(Gl(b),"_",c);a(c)},c)},pm=function(a,b){var c=b||{};
"function"==typeof b&&(c={},c.callback=b);lm(a,c);b=a?a.split(":"):[];var d=c.h||em(),e=yl(Dl,"ah",Bl());if(e["::"]&&b.length){a=[];for(var f=null;f=b.shift();){var h=f.split("."),h=e[f]||e[h[1]&&"ns:"+h[0]||""]||d,k=a.length&&a[a.length-1]||null,l=k;k&&k.hint==h||(l={hint:h,features:[]},a.push(l));l.features.push(f)}var m=a.length;if(1<m){var t=c.callback;t&&(c.callback=function(){0==--m&&t()})}for(;b=a.shift();)om(b.features,c,b.hint)}else om(b||[],c,d)},om=function(a,b,c){a=Al(a)||[];
var d=b.callback,e=b.config,f=b.timeout,h=b.ontimeout,k=b.onerror,l=void 0;"function"==typeof k&&(l=k);var m=null,t=!1;if(f&&!h||!f&&h)throw"Timeout requires both the timeout parameter and ontimeout parameter to be set";var k=yl(Gl(c),"r",[]).sort(),H=yl(Gl(c),"L",[]).sort(),N=[].concat(k),F=function(a,b){if(t)return 0;tl.clearTimeout(m);H.push.apply(H,I);var d=((Cl||{}).config||{}).update;d?d(e):e&&yl(Dl,"cu",[]).push(e);if(b){Ol("me0",a,N);try{nm(b,c,l)}finally{Ol("me1",a,N)}}return 1};
0<f&&(m=tl.setTimeout(function(){t=!0;h()},f));
var I=hm(a,H);if(I.length){var I=hm(a,k),ga=yl(Dl,"CP",[]),L=ga.length;ga[L]=function(a){if(!a)return 0;Ol("ml1",I,N);var b=function(b){ga[L]=null;F(I,a)&&Fl(function(){d&&d();b()})},c=function(){var a=ga[L+1];
a&&a()};
0<L&&ga[L-1]?ga[L]=function(){b(c)}:b(c)};
if(I.length){var Ld="loaded_"+Dl.I++;Cl[Ld]=function(a){ga[L](a);Cl[Ld]=null};
a=$l(c,I,"gapi."+Ld,k);k.push.apply(k,I);Ol("ml0",I,N);b.sync||tl.___gapisync?km(a):jm(a)}else ga[L](wl)}else F(I)&&d&&d()},mm=function(a,b){if(Dl.hee&&0<Dl.hel)try{return a()}catch(c){b&&b(c),Dl.hel--,pm("debug_error",function(){try{window.___jsl.hefn(c)}catch(d){throw c;
}})}else try{return a()}catch(c){throw b&&b(c),c;
}};
Cl.load=function(a,b){return mm(function(){return pm(a,b)})};var qm=function(a,b){b=ua(b)?{callback:b}:b||{};b._c&&b._c.jsl&&b._c.jsl.h||bc(b,{_c:{jsl:{h:A("GAPI_HINT_PARAMS",void 0)}}});if(b.gapiHintOverride||A("GAPI_HINT_OVERRIDE")){var c=dh(document.location.href).gapi_jsh;c&&bc(b,{_c:{jsl:{h:c}}})}pm(a,b)};var tm=function(a,b,c,d,e){c={name:c||A("INNERTUBE_CONTEXT_CLIENT_NAME",1),version:d||A("INNERTUBE_CONTEXT_CLIENT_VERSION",void 0)};e=window&&window.yterr||e||!1;if(a&&e&&!(5<=rm)){e=a.stacktrace;d=a.columnNumber;var f=r("window.location.href");if(u(a))a={message:a,name:"Unknown error",lineNumber:"Not available",fileName:f,stack:"Not available"};else{var h=!1;try{var k=a.lineNumber||a.line||"Not available"}catch(H){k="Not available",h=!0}try{var l=a.fileName||a.filename||a.sourceURL||n.$googDebugFname||
f}catch(H){l="Not available",h=!0}a=!h&&a.lineNumber&&a.fileName&&a.stack&&a.message&&a.name?a:{message:a.message||"Not available",name:a.name||"UnknownError",lineNumber:k,fileName:l,stack:a.stack||"Not available"}}e=e||a.stack;b=b||"ERROR";k=a.lineNumber.toString();isNaN(k)||isNaN(d)||(k=k+":"+d);if(l=!sm[a.message])l=e,l=!(0<=l.indexOf("/YouTubeCenter.js")||0<=l.indexOf("/mytube.js"));if(l){l=a.fileName;b={urlParams:{a:"logerror",t:"jserror",type:a.name,msg:a.message.substr(0,1E3),line:k,level:b},
postParams:{url:A("PAGE_NAME",window.location.href),file:l},method:"POST"};e&&(b.postParams.stack=e);for(var m in c)b.postParams["client."+m]=c[m];if(m=A("LATEST_ECATCHER_SERVICE_TRACKING_PARAMS",void 0))for(var t in m)b.postParams[t]=m[t];hh("/error_204",b);sm[a.message]=!0;rm++}}},sm={},rm=0;var um=function(){return{apiaryHost:A("APIARY_HOST",void 0),apiaryHostFirstParty:A("APIARY_HOST_FIRSTPARTY",void 0),gapiHintOverride:!!A("GAPI_HINT_OVERRIDE",void 0),gapiHintParams:A("GAPI_HINT_PARAMS",void 0),innertubeApiKey:A("INNERTUBE_API_KEY",void 0),innertubeApiVersion:A("INNERTUBE_API_VERSION",void 0),innertubeContextClientName:A("INNERTUBE_CONTEXT_CLIENT_NAME","WEB"),innertubeContextClientVersion:A("INNERTUBE_CONTEXT_CLIENT_VERSION",void 0),innertubeContextHostLanguage:A("INNERTUBE_CONTEXT_HL",
void 0),innertubeContextGeoLocation:A("INNERTUBE_CONTEXT_GL",void 0),xhrApiaryHost:A("XHR_APIARY_HOST",void 0)||"",innertubeHostOverride:A("INNERTUBE_HOST_OVERRIDE",void 0)||""}},vm=function(a,b,c){c.context&&c.context.capabilities&&(c=c.context.capabilities,c.snapshot||c.golden)&&(a="vix");
return"/youtubei/"+a+"/"+b};var ym=function(a){this.config_=a||um();wm||(wm=xm(this.config_))},xm=function(a){return(new uc(function(b){try{qm("client",{gapiHintOverride:a.gapiHintOverride,
_c:{jsl:{h:a.gapiHintParams}},callback:b})}catch(c){Sc(c)}})).then(function(){})};
ym.prototype.setupApiary_=function(){var a=r("gapi.config.update");a("googleapis.config/auth/useFirstPartyAuth",!0);a("googleapis.config/auth/useFirstPartyAuthV2",!0);var b=this.config_.apiaryHost;Ia(db(b))||a("googleapis.config/root",(-1==b.indexOf("://")?"//":"")+b);b=this.config_.apiaryHostFirstParty;Ia(db(b))||a("googleapis.config/root-1p",(-1==b.indexOf("://")?"//":"")+b);b=A("SESSION_INDEX");a("googleapis.config/sessionIndex",b);r("gapi.client.setApiKey")(this.config_.innertubeApiKey)};
ym.prototype.postWithOptions=function(a,b,c){var d,e=!1;0<c.timeout&&(d=ah(function(){if(!e&&(e=!0,c.onTimeout))c.onTimeout()},c.timeout));
zm(this,a,b,function(a){if(!e)if(e=!0,d&&$g(d),a){if(c.onSuccess)c.onSuccess(a)}else if(c.onError)c.onError()})};
var zm=function(a,b,c,d){var e={path:vm(a.config_.innertubeApiVersion,b,c),headers:{"X-Goog-Visitor-Id":A("VISITOR_DATA")},method:"POST",body:Vj(c)},f=v(a.setupApiary_,a);wm.then(function(){f();r("gapi.client.request")(e).execute(d||oa)})},wm=null;var al=function(a){this.config_=a||um()};
al.prototype.postWithOptions=function(a,b,c){A("VISITOR_DATA")||Sc(Error("Missing VISITOR_DATA when sending innertube request."));var d={headers:{"Content-Type":"application/json","X-Goog-Visitor-Id":A("VISITOR_DATA","")},postParams:b,postBodyFormat:"JSON",onTimeout:c.onTimeout,onSuccess:function(a,b){if(c.onSuccess)c.onSuccess(b)},
onError:function(a,b){if(c.onError)c.onError(b)},
timeout:c.timeout,withCredentials:!0},e=Kl();e&&(d.headers.Authorization=e,d.headers["X-Goog-AuthUser"]=A("SESSION_INDEX",0));var f=this.config_.xhrApiaryHost;f&&!f.startsWith("http")&&(f="//"+f);if(zd("youtubei_for_web")||zd("unplugged_web_same_op_domain"))f="";var h=this.config_.innertubeHostOverride;h&&(f=h);e&&!f&&(d.headers["x-origin"]=window.location.origin);nh(""+f+vm(this.config_.innertubeApiVersion,a,b)+"?alt=json&key="+this.config_.innertubeApiKey,d)};var Am=function(){return zd("enable_youtubei_innertube")?al:ym};var Bm=r("ytLoggingLatencyUsageStats_")||{};q("ytLoggingLatencyUsageStats_",Bm,void 0);var Cm=0,Em=function(a,b){var c=Object.keys(a).join("");Dm("info_"+c+"_"+b)||(a.clientActionNonce=b,$k("latencyActionInfo",a,al))},Dm=function(a){Bm[a]=Bm[a]||{count:0};
var b=Bm[a];b.count++;b.time=Oc();Cm||(Cm=jl(Fm,5E3));return 10<b.count?(11==b.count&&tm(Error("CSI data exceeded logging limit with key: "+a)),!0):!1},Fm=function(){var a=Oc(),b;
for(b in Bm)6E4<a-Bm[b].time&&delete Bm[b];Cm=0};var Gm=new WeakMap,Hm=function(a,b){for(var c in a)if(a.hasOwnProperty(c)&&b[c])return c;return null},Im=function(a){var b=a.match(/\[\[([\w\.]+)\]\]/);
if(b&&1<b.length)return b[1];Sc(Error("Failed to parse binding: "+a));return null},Jm=function(a){return void 0===a?!!A("REUSE_COMPONENTS",!1):a||!1},Km=function(a,b,c){c&&(b.is?c.addElement(b):b.__proto__==HTMLElement.prototype&&Sc(Error("Rendererstamper ("+a+") removed a non custom element: "+(b&&b.nodeName)),"WARNING"))},Lm=function(a,b,c,d){var e=b.node?b.node:b;
Polymer.dom(c).parentNode==e&&(b.removeChild(c),Km(a,c,d));if(a=Gm.get(c))Gm.delete(c),kl(a);c.hidden=!1},Mm=function(a,b,c,d){var e=b.children[c];
if(e)if(A("DEFERRED_DETACH",void 0))for(c=b.lastElementChild;c&&!Gm.has(c);){var f=a,h=b,k=c,l=d;k.hidden=!0;f=jl(Lm.bind(null,f,h,k,l),0);Gm.set(k,f);if(c==e)break;c=c.previousElementSibling}else for(;(c=b.lastElementChild)&&(b.removeChild(c),Km(a,c,d),c!=e););};var Nm=function(a,b){this.version=a;this.args=b};
Nm.prototype.serialize=function(){return{version:this.version,args:this.args}};var Om=function(a){this.topic=a};
Om.prototype.toString=function(){return this.topic};var Pm=r("ytPubsub2Pubsub2Instance")||new Jg;Jg.prototype.subscribe=Jg.prototype.subscribe;Jg.prototype.unsubscribeByKey=Jg.prototype.unsubscribeByKey;Jg.prototype.publish=Jg.prototype.publish;Jg.prototype.clear=Jg.prototype.clear;q("ytPubsub2Pubsub2Instance",Pm,void 0);var Qm=r("ytPubsub2Pubsub2SubscribedKeys")||{};q("ytPubsub2Pubsub2SubscribedKeys",Qm,void 0);var Rm=r("ytPubsub2Pubsub2TopicToKeys")||{};q("ytPubsub2Pubsub2TopicToKeys",Rm,void 0);var Sm=r("ytPubsub2Pubsub2IsAsync")||{};
q("ytPubsub2Pubsub2IsAsync",Sm,void 0);q("ytPubsub2Pubsub2SkipSubKey",null,void 0);function Tm(a){var b=Um,c=r("ytPubsub2Pubsub2Instance");c&&c.publish.call(c,b.toString(),b,a)}
var Vm=function(a){var b=r("ytPubsub2Pubsub2Instance");b&&(ta(a)&&(a=[a]),y(a,function(a){b.unsubscribeByKey(a);delete Qm[a]}))};var Wm=window.performance||window.mozPerformance||window.msPerformance||window.webkitPerformance||{};var Xm=function(a,b){Nm.call(this,1,arguments)};
x(Xm,Nm);var Um=new Om("timing-sent");var Zm=function(a){this.win_=a||window;this.visuallyComplete=this.speedIndex=0;if(this.win_.performance&&this.win_.performance.timing&&this.win_.performance.getEntriesByType){a=Pf(this.win_);this.viewportRect_=new aj(0,0,a.width,a.height);for(var b,c=[],d=this.win_.document.getElementsByTagName("*"),e=0,f=d.length;e<f;e++){a=d[e];if("IMG"==a.tagName||"IFRAME"==a.tagName)if(b=Ym(this,a,a.src)){if("IFRAME"==a.tagName){try{var h=(new Zm(a.contentWindow)).speedIndex}catch(k){h=0}0<h&&(b.timing=h)}c.push(b)}(b=
this.win_.getComputedStyle(a)["background-image"])&&(b=Zm.CSS_URL_REGEXP_.exec(b))&&1<b.length&&(b=Ym(this,a,b[1]))&&c.push(b)}this.rectangles_=c;this.requests_=this.win_.performance.getEntriesByType("resource");this.marks_=this.win_.performance.getEntriesByType("mark");h={};a=0;for(c=this.requests_.length;a<c;a++)d=this.requests_[a],h[d.name]=d.responseEnd;a=0;for(c=this.marks_.length;a<c;a++)d=this.marks_[a],d.name.slice(0,Zm.TIMING_MARK_PREFIX_LENGTH_)==Zm.TIMING_MARK_PREFIX_&&(h[d.name.slice(Zm.TIMING_MARK_PREFIX_LENGTH_)]=
d.startTime);a=0;for(c=this.rectangles_.length;a<c;a++)d=this.rectangles_[a],d.timing||(d.timing=h[d.url]||0);this.firstPaintTime_=$m(this);this.progress_=an(this);f=h=0;if(this.progress_.length)for(c=a=0,d=this.progress_.length;c<d;c++)e=this.progress_[c],f=e.timing-f,0<f&&1>a&&(h+=(1-a)*f),f=e.timing,a=e.progress;this.speedIndex=Math.round(h||this.firstPaintTime_);this.visuallyComplete=f;bn(this)}},Ym=function(a,b,c){return c&&b.getBoundingClientRect&&(b=b.getBoundingClientRect(),b=new aj(b.left,
b.top,b.width,b.height),b.intersection(a.viewportRect_))?new cn(b,c):null},$m=function(a){var b=a.win_,c=b.performance.timing.navigationStart;
if("msFirstPaint"in b.performance.timing)var d=b.performance.timing.msFirstPaint-c;else if("chrome"in b&&"loadTimes"in b.chrome){var e=b.chrome.loadTimes(),f=e.firstPaintTime;if(0<f){var h=e.startLoadTime;"requestTime"in e&&(h=e.requestTime);f>=h&&(d=1E3*(f-h))}}if(void 0===d||0>d||12E4<d){d=b.performance.timing.responseStart-c;for(var k={},b=b.document.getElementsByTagName("head")[0].children,c=0,e=b.length;c<e;c++)f=b[c],"SCRIPT"==f.tagName&&f.src&&!f.async?k[f.src]=!0:"LINK"==f.tagName&&"stylesheet"==
f.rel&&f.href&&(k[f.href]=!0);a.requests_.some(function(a){if(!k[a.name]||"script"!=a.initiatorType&&"link"!=a.initiatorType)return!0;a=a.responseEnd;if(void 0===d||a>d)d=a})}return Math.max(d,0)||0},an=function(a){var b={0:0},c=0,d=a.firstPaintTime_;
var e=0;for(var f=a.rectangles_.length;e<f;e++){var h=a.rectangles_[e],k=d;h.timing>d&&(k=h.timing);b[k]||(b[k]=0);h=cj(h.region).area();b[k]+=h;c+=h}e=cj(a.viewportRect_).area();0<e&&(e=Math.max(e-c,0)*Zm.PAGE_BACKGROUND_WEIGHT_,d in b||(b[d]=0),b[d]+=e,c+=e);d=[];if(c){for(var l in b)e=parseFloat(l),a=new dn(e,b[l]),d.push(a);d.sort(function(a,b){return a.timing-b.timing});
e=b=0;for(f=d.length;e<f;e++)a=d[e],b+=a.area,a.progress=b/c}return d},bn=function(a){Sg(a.requests_.map(function(a){return a.name+": "+a.responseEnd}).join(", "));
Sg(a.marks_.map(function(a){return a.name+": "+a.startTime}).join(", "));
Sg(a.rectangles_.map(function(a){return a.toString()}).join("\n"));
Sg(a.progress_.map(function(a){return a.toString()}).join("\n"))},cn=function(a,b){this.region=a;
this.url=b};
cn.prototype.toString=function(){return this.region.toString()+": "+this.timing+" => "+this.url};
var dn=function(a,b){this.area=b;this.timing=a};
dn.prototype.toString=function(){return["progress",this.progress,"timing",this.timing,"area",this.area].join(": ")};
Zm.PAGE_BACKGROUND_WEIGHT_=.1;Zm.CSS_URL_REGEXP_=/url\(["']?(http[^'"\)]+)['"]?\)/i;Zm.TIMING_MARK_PREFIX_="mark_iframe_loaded: ";Zm.TIMING_MARK_PREFIX_LENGTH_=Zm.TIMING_MARK_PREFIX_.length;var en=w().toString();var fn={vc:!0},gn={'script[name="scheduler/scheduler"]':"sj",'script[name="player/base"]':"pj",'link[rel="stylesheet"][name="www-player"]':"pc",'link[rel="stylesheet"][name="player/www-player"]':"pc",'script[name="desktop_polymer/desktop_polymer"]':"dpj",'link[rel="import"][name="desktop_polymer"]':"dph",'script[name="mobile_polymer/mobile_polymer"]':"mpj",'link[rel="import"][name="mobile_polymer"]':"mph",'script[name="player-plasma-phone/base"]':"mpppj",'script[name="player-plasma-tablet/base"]':"mpptj",
'link[rel="stylesheet"][name="mobile-polymer-player"]':"mppc","#player_css":"mbpc","#player_js":"mbpj"},hn={ad_at:"adType",cpn:"clientPlaybackNonce",csn:"clientScreenNonce",is_nav:"isNavigation",yt_lt:"loadType",yt_ad:"isMonetized",yt_ad_pr:"prerollAllowed",yt_red:"isRedSubscriber",yt_vis:"isVisible",docid:"videoId",plid:"videoId",fmt:"playerInfo.itag"},jn="ap c cver ei yt_fss yt_li".split(" "),kn={ad_to_ad:"LATENCY_ACTION_AD_TO_AD",ad_to_video:"LATENCY_ACTION_AD_TO_VIDEO",browse:"LATENCY_ACTION_BROWSE",
channels:"LATENCY_ACTION_CHANNELS",embed:"LATENCY_ACTION_EMBED",home:"LATENCY_ACTION_HOME",library:"LATENCY_ACTION_LIBRARY",live:"LATENCY_ACTION_LIVE",results:"LATENCY_ACTION_RESULTS",search:"LATENCY_ACTION_RESULTS",video_to_ad:"LATENCY_ACTION_VIDEO_TO_AD",watch:"LATENCY_ACTION_WATCH","watch,watch7":"LATENCY_ACTION_WATCH","watch,watch7_html5":"LATENCY_ACTION_WATCH","watch,watch7ad":"LATENCY_ACTION_WATCH","watch,watch7ad_html5":"LATENCY_ACTION_WATCH"},ln=["isNavigation","isMonetized","prerollAllowed",
"isRedSubscriber","isVisible"],pn=function(a){mn(a);nn();on(!1,a);a||(A("TIMING_ACTION")&&Qc("PREVIOUS_ACTION",A("TIMING_ACTION")),Qc("TIMING_ACTION",""))},vn=function(a,b,c){b||"_"==a[0]||qn(a,c);
var d=rn(c),e=b||Oc();d[a]&&(d["_"+a]=d["_"+a]||[d[a]],d["_"+a].push(e));d[a]=e;sn(c)["tick_"+a]=b;c||b||Oc();zd("csi_on_gel")?(e=tn(c),"_start"==a?Dm("baseline_"+e)||$k("latencyActionBaselined",{clientActionNonce:e},al,b):Dm("tick_"+a+"_"+e)||$k("latencyActionTicked",{tickName:a,clientActionNonce:e},al,b),b=!0):b=!1;b||un(!1,c);return d[a]},qn=function(a,b){Wm.mark&&(0==a.lastIndexOf("mark_",0)||(a="mark_"+a),b&&(a+=" ("+b+")"),Wm.mark(a))},xn=function(a){wn("yt_sts","n",void 0);
vn("_start",a,void 0)},wn=function(a,b,c){var d=yn(c)[a]=b;
sn(c)["info_"+a]=d;if(zd("csi_on_gel"))if(a in hn){b={};a=hn[a].split(".");tb(ln,a)&&(d=!!d);for(var e=b,f=0;f<a.length-1;f++)e[a[f]]=e[a[f]]||{},e=e[a[f]];b[a[a.length-1]]=d;c=tn(c);Em(b,c)}else tb(jn,a)||Sc(Error("Unknown label "+a+" logged with GEL CSI."))},zn=function(a){var b=yn(void 0);
return a in b},An=function(){var a=A("TIMING_WAIT",void 0);
a?a.push("nd"):Qc("TIMING_WAIT",["nd"])},Bn=function(a){var b=rn(a);
if(b.aft)return b.aft;a=A((a||"")+"TIMING_AFT_KEYS",["ol"]);for(var c=a.length,d=0;d<c;d++){var e=b[a[d]];if(e)return e}return NaN},un=function(a,b){if(!Cn(b)){var c=A((b||"")+"TIMING_ACTION",void 0),d=rn(b);
if(r("ytglobal.timing"+(b||"")+"ready_")&&c&&d._start&&Bn(b))if(a||b)Dn(b);else{a=!0;c=A("TIMING_WAIT",[]);if(c.length)for(var e=0,f=c.length;e<f;++e)if(!(c[e]in d)){a=!1;break}a&&Dn(b)}}},En=function(){if("visibilityState"in document)var a=document.visibilityState;
else a=lk+"VisibilityState",a=a in document?document[a]:void 0;switch(a){case "hidden":return 0;case "visible":return 1;case "prerender":return 2;case "unloaded":return 3}return-1},Dn=function(a){if(!zd("csi_on_gel")){var b=rn(a),c=yn(a),d=b._start,e;
for(e in b)if(0==e.lastIndexOf("_",0)&&ra(b[e])){var f=e.slice(1);if(f in fn){var h=nb(b[e],function(a){return Math.round(a-d)});
c["all_"+f]=h.join()}delete b[e]}f=!!c.ap;if(h=r("ytglobal.timingReportbuilder_")){if(h=h(b,c,a))Fn(h,f),pn(a)}else{var k=A("CSI_SERVICE_NAME","youtube");h={v:2,s:k,action:A((a||"")+"TIMING_ACTION",void 0)};var l=c.srt;void 0!==b.srt&&delete c.srt;if(c.h5jse){var m=window.location.protocol+r("ytplayer.config.assets.js");(m=Wm.getEntriesByName?Wm.getEntriesByName(m)[0]:null)?c.h5jse=Math.round(c.h5jse-m.responseEnd):delete c.h5jse}b.aft=Bn(a);Gn(a)&&"youtube"==k&&(wn("yt_lt","hot_bg",a),k=b.vc,m=b.pbs,
delete b.aft,c.aft=Math.round(m-k));for(var t in c)"_"!=t.charAt(0)&&(h[t]=c[t]);b.ps=Oc();c={};t=[];for(e in b)"_"!=e.charAt(0)&&(k=Math.round(b[e]-d),c[e]=k,t.push(e+"."+k));h.rt=t.join(",");(b=r("ytdebug.logTiming"))&&b(h,c);Fn(h,f,a);Tm(new Xm(c.aft+(l||0),a))}}},Kn=function(){if(!Cn(void 0)){if(!zd("send_empty_timing")){var a=A("CSI_SERVICE_NAME","youtube");
if(!A("TIMING_ACTION",void 0)||!a)return}vn("aa",void 0,void 0);wn("ap",1,void 0);wn("yt_fss","n",void 0);if(zd("enable_csi_abandonment_info")&&!zn("yt_lt")){var a=A("TIMING_INFO",{}),b;for(b in a)wn(b,a[b]);wn("is_nav",1);(b=el())&&wn("csn",b);(b=A("PREVIOUS_ACTION",void 0))&&wn("pa",b);a=yn();a.p=A("CLIENT_PROTOCOL")||"unknown";a.t=A("CLIENT_TRANSPORT")||"unknown";Wm.now&&Wm.timing?(b=Wm.timing.navigationStart+Wm.now(),b=Math.round(w()-b)):b=null;null!=b&&wn("yt_hrd",b);window.navigator&&window.navigator.sendBeacon&&
wn("ba",1);wn("yt_vis",En());if("cold"==a.yt_lt){b=Wm.timing||{};zd("cold_load_nav_start_web")&&b.navigationStart&&(vn("srt",b.responseStart),1!=a.prerender&&xn(b.navigationStart));a:if(b.msFirstPaint)a=Math.max(0,b.msFirstPaint);else{if(a=window.chrome)if(a=a.loadTimes,ua(a)){var a=a(),c=1E3*Math.min(a.requestTime||Infinity,a.startLoadTime||Infinity),c=Infinity===c?0:b.navigationStart-c,a=Math.max(0,Math.round(1E3*a.firstPaintTime+c)||0);break a}a=0}0<a&&vn("fpt",a);vn("nreqs",b.requestStart,void 0);
vn("nress",b.responseStart,void 0);vn("nrese",b.responseEnd,void 0);0<b.redirectEnd-b.redirectStart&&(vn("nrs",b.redirectStart,void 0),vn("nre",b.redirectEnd,void 0));0<b.domainLookupEnd-b.domainLookupStart&&(vn("ndnss",b.domainLookupStart,void 0),vn("ndnse",b.domainLookupEnd,void 0));0<b.connectEnd-b.connectStart&&(vn("ntcps",b.connectStart,void 0),vn("ntcpe",b.connectEnd,void 0));b.secureConnectionStart>=b.navigationStart&&0<b.connectEnd-b.secureConnectionStart&&(vn("nstcps",b.secureConnectionStart,
void 0),vn("ntcpe",b.connectEnd,void 0));Wm.getEntriesByType&&Hn();b=A("SPEEDINDEX_FOR_ACTIONS",void 0);a=A("TIMING_ACTION",void 0);b&&-1<b.indexOf(a)&&(b=Oc(),a=new Zm,c=Oc(),0<a.speedIndex&&(wn("si",a.speedIndex),vn("vsc",In(a.visuallyComplete)),vn("sics",b),vn("sice",c)));b=[];if(document.querySelector&&Wm&&Wm.getEntriesByName)for(var d in gn)a=gn[d],Jn(d,a)&&b.push(a);b.length&&wn("rc",b.join(","))}zd("csi_on_gel")&&(d={},d.actionType=kn[A("TIMING_ACTION",void 0)]||"LATENCY_ACTION_UNKNOWN",b=
tn(),Em(d,b))}Dn(void 0)}},nn=v(Wm.clearResourceTimings||Wm.webkitClearResourceTimings||Wm.mozClearResourceTimings||Wm.msClearResourceTimings||Wm.oClearResourceTimings||oa,Wm),In=function(a){return Math.round(Wm.timing.navigationStart+a)},Hn=function(){var a=window.location.protocol,b=Wm.getEntriesByType("resource"),c=b.filter(function(b){return 0==b.name.indexOf(a+"//fonts.googleapis.com/css?family=")})[0],b=b.filter(function(b){return 0==b.name.indexOf(a+"//fonts.gstatic.com/s/")}).reduce(function(a,
b){return b.duration>a.duration?b:a},{duration:0});
c&&0<c.startTime&&0<c.responseEnd&&(vn("wfcs",In(c.startTime)),vn("wfce",In(c.responseEnd)));b&&0<b.startTime&&0<b.responseEnd&&(vn("wffs",In(b.startTime)),vn("wffe",In(b.responseEnd)))},Jn=function(a,b){a=document.querySelector(a);
if(!a)return!1;var c="",d=a.nodeName;"SCRIPT"==d?(c=a.src,c||(c=a.getAttribute("data-timing-href"))&&(c=window.location.protocol+c)):"LINK"==d&&(c=a.href);return c?(a=Wm.getEntriesByName(c))&&a[0]&&(a=a[0],c=window.performance.timing.navigationStart,vn("rsf_"+b,c+Math.round(a.fetchStart)),vn("rse_"+b,c+Math.round(a.responseEnd)),void 0!==a.transferSize&&(zn("rc")||wn("rc",""),0===a.transferSize))?!0:!1:!1},Fn=function(a,b,c){if(zd("debug_csi_data")){var d=r("yt.timing.csiData");
d||(d=[],q("yt.timing.csiData",d,void 0));d.push({page:location.href,time:new Date,args:a})}var d="",e;for(e in a)d+="&"+e+"="+a[e];a="/csi_204?"+d.substring(1);if(window.navigator&&window.navigator.sendBeacon&&b)try{window.navigator&&window.navigator.sendBeacon&&window.navigator.sendBeacon(a,"")||sh(a,void 0)}catch(f){sh(a,void 0)}else sh(a);on(!0,c)},tn=function(a){var b=Ln(a).nonce;
if(!b){a:{if(window.crypto&&window.crypto.getRandomValues)try{var c=Array(16),d=new Uint8Array(16);window.crypto.getRandomValues(d);for(b=0;b<c.length;b++)c[b]=d[b];var e=c;break a}catch(f){}e=Array(16);for(c=0;16>c;c++){d=w();for(b=0;b<d%23;b++)e[c]=Math.random();e[c]=Math.floor(256*Math.random())}if(en)for(c=1,d=0;d<en.length;d++)e[c%16]=e[c%16]^e[(c-1)%16]/4^en.charCodeAt(d),c++}c=[];for(d=0;d<e.length;d++)c.push("abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789-_".charAt(e[d]&63));
b=c.join("");Ln(a).nonce=b}return b},rn=function(a){return Ln(a).tick},yn=function(a){return Ln(a).info},sn=function(a){a=Ln(a);
"gel"in a||(a.gel={});return a.gel},Ln=function(a){return r("ytcsi."+(a||"")+"data_")||mn(a)},mn=function(a){var b={tick:{},
info:{}};q("ytcsi."+(a||"")+"data_",b,void 0);return b},Cn=function(a){return!!r("yt.timing."+(a||"")+"pingSent_")},on=function(a,b){q("yt.timing."+(b||"")+"pingSent_",a,void 0)},Gn=function(a){var b=rn(a),c=b.pbr,d=b.vc,b=b.pbs;
return c&&d&&b&&c<d&&d<b&&1==yn(a).yt_pvis};new Ti(Mn,1E3);var Mn=function(){vn("vptl",0);vn("vpl",0)};var On=function(){navigator.serviceWorker.getRegistrations().then(function(a){a.forEach(Nn)})},Nn=function(a){a&&((a=a.scope)||(a=String(zd("service_worker_scope")||"")),navigator.serviceWorker.register("/sw.js?0",{scope:a||"/"}))};var Sn=function(a,b,c){return window.spf?Pn(a,b,c).then(Qn):Rn(a,b)},Pn=function(a,b,c){return new uc(function(d,e){var f={};
if(b){f.method=b.method;var h=b.postParams||{};gh(a,b)&&(h[A("XSRF_FIELD_NAME",void 0)]=A("XSRF_TOKEN",void 0));f.postData=sd(h);b.type&&(f.type=b.type);h=b.headers}f.headers=fh(a,h);f.experimental_headers=f.headers;f.onError=function(a){e(a.err)};
f.onPartDone=function(a){c&&c.call(null,a.part)};
f.onDone=function(b){var c=Tn(b.response,"xsrf_token");nd(window.location.href,a)&&c&&Qc("XSRF_TOKEN",c);if(c=Tn(b.response,"service_worker_killswitch"))Qc("SERVICE_WORKER_KILLSWITCH",c),On();d(b.response)};
spf.request(a,f)})},Qn=function(a){if("multipart"==a.type){var b=a.timing;
a=a.parts.reduce(function(a,b){Ca(a,b);return a},{});
a.timing=a.timing||{};Ca(a.timing,b);a.type="reduced"}return a},Rn=function(a,b){var c=null;
return new uc(function(d,e){var f=b||{};f.onFinish=function(b){if(b.readyState==XMLHttpRequest.DONE)if(200==b.status){if("json"!=b.responseType)try{var c=JSON.parse(b.response)}catch(m){c=m}else c=b.response;if(c instanceof Error)e(c);else{var f=Tn(c,"xsrf_token");nd(window.location.href,a)&&f&&Qc("XSRF_TOKEN",f);b=b.responseURL;window.performance&&window.performance.getEntriesByName?(f=window.performance.getEntriesByName(b).pop())?b={responseStart:Oc()-(f.responseEnd-f.responseStart)}:(Sc(Error("No timing found for: "+
b)),b={responseStart:-1}):b={responseStart:0};c.timing=c.timing||{};Ca(c.timing,b);d(c)}}else e(Error("HTTP error: "+b.status))};
(c=hh(a,f))||e(Error("HTTP error: "+c.status))})},Tn=function(a,b){var c=a[b],d=a.parts;
"multipart"==a.type&&d&&(c=(a=d.find(function(a){return b in a}))&&a[b]);
return c};(function(){var a=Element.prototype,b=a.matches||a.matchesSelector||a.mozMatchesSelector||a.msMatchesSelector||a.oMatchesSelector||a.webkitMatchesSelector;Polymer.IronFocusablesHelper={getTabbableNodes:function(a){var b=[];return this._collectTabbableNodes(a,b)?this._sortByTabIndex(b):b},
isFocusable:function(a){return b.call(a,"input, select, textarea, button, object")?b.call(a,":not([disabled])"):b.call(a,"a[href], area[href], iframe, [tabindex], [contentEditable]")},
isTabbable:function(a){return this.isFocusable(a)&&b.call(a,':not([tabindex="-1"])')&&this._isVisible(a)},
_normalizedTabIndex:function(a){return this.isFocusable(a)?(a=a.getAttribute("tabindex")||0,Number(a)):-1},
_collectTabbableNodes:function(a,b){if(a.nodeType!==Node.ELEMENT_NODE||!this._isVisible(a))return!1;var c=this._normalizedTabIndex(a),d=0<c;0<=c&&b.push(a);a="content"===a.localName?Polymer.dom(a).getDistributedNodes():Polymer.dom(a.root||a).children;for(c=0;c<a.length;c++)var h=this._collectTabbableNodes(a[c],b),d=d||h;return d},
_isVisible:function(a){var b=a.style;return"hidden"!==b.visibility&&"none"!==b.display?(b=window.getComputedStyle(a),"hidden"!==b.visibility&&"none"!==b.display):!1},
_sortByTabIndex:function(a){var b=a.length;if(2>b)return a;var c=Math.ceil(b/2),b=this._sortByTabIndex(a.slice(0,c));a=this._sortByTabIndex(a.slice(c));return this._mergeSortByTabIndex(b,a)},
_mergeSortByTabIndex:function(a,b){for(var c=[];0<a.length&&0<b.length;)this._hasLowerTabOrder(a[0],b[0])?c.push(b.shift()):c.push(a.shift());return c.concat(a,b)},
_hasLowerTabOrder:function(a,b){a=Math.max(a.tabIndex,0);b=Math.max(b.tabIndex,0);return 0===a||0===b?b>a:a>b}}})();Polymer({is:"iron-overlay-backdrop",properties:{opened:{reflectToAttribute:!0,type:Boolean,value:!1,observer:"_openedChanged"}},listeners:{transitionend:"_onTransitionend"},created:function(){this.__openedRaf=null},
attached:function(){this.opened&&this._openedChanged(this.opened)},
prepare:function(){this.opened&&!this.parentNode&&Polymer.dom(document.body).appendChild(this)},
open:function(){this.opened=!0},
close:function(){this.opened=!1},
complete:function(){this.opened||this.parentNode!==document.body||Polymer.dom(this.parentNode).removeChild(this)},
_onTransitionend:function(a){a&&a.target===this&&this.complete()},
_openedChanged:function(a){a?this.prepare():(a=window.getComputedStyle(this),"0s"!==a.transitionDuration&&0!=a.opacity||this.complete());this.isAttached&&(this.__openedRaf&&(window.cancelAnimationFrame(this.__openedRaf),this.__openedRaf=null),this.scrollTop=this.scrollTop,this.__openedRaf=window.requestAnimationFrame(function(){this.__openedRaf=null;this.toggleClass("opened",this.opened)}.bind(this)))}});(function(){function a(a,b){var c="";if(a)if(a=a.toLowerCase()," "===a||t.test(a))c="space";else if(H.test(a))c="esc";else if(1==a.length){if(!b||k.test(a))c=a}else c=m.test(a)?a.replace("arrow",""):"multiply"==a?"*":a;return c}
function b(b,c){var d=b.hasModifiers,h;if(!(h=a(c.key,d))){h=c.keyIdentifier;var k="";h&&(h in e?k=e[h]:l.test(h)?(h=parseInt(h.replace("U+","0x"),16),k=String.fromCharCode(h).toLowerCase()):k=h.toLowerCase());h=k}h||(h=c.keyCode,k="",Number(h)&&(k=65<=h&&90>=h?String.fromCharCode(32+h):112<=h&&123>=h?"f"+(h-112):48<=h&&57>=h?String(h-48):96<=h&&105>=h?String(h-96):f[h]),h=k);return(h||a(c.detail?c.detail.key:c.detail,d)||"")===b.key&&(!b.hasModifiers||!!c.shiftKey===!!b.shiftKey&&!!c.ctrlKey===!!b.ctrlKey&&
!!c.altKey===!!b.altKey&&!!c.metaKey===!!b.metaKey)}
function c(a){return 1===a.length?{combo:a,key:a,event:"keydown"}:a.split("+").reduce(function(a,b){var c=b.split(":");b=c[0];c=c[1];b in h?(a[h[b]]=!0,a.hasModifiers=!0):(a.key=b,a.event=c||"keydown");return a},{combo:a.split(":").shift()})}
function d(a){return a.trim().split(" ").map(function(a){return c(a)})}
var e={"U+0008":"backspace","U+0009":"tab","U+001B":"esc","U+0020":"space","U+007F":"del"},f={8:"backspace",9:"tab",13:"enter",27:"esc",33:"pageup",34:"pagedown",35:"end",36:"home",32:"space",37:"left",38:"up",39:"right",40:"down",46:"del",106:"*"},h={shift:"shiftKey",ctrl:"ctrlKey",alt:"altKey",meta:"metaKey"},k=/[a-z0-9*]/,l=/U\+/,m=/^arrow/,t=/^space(bar)?/,H=/^escape$/;Polymer.IronA11yKeysBehavior={properties:{keyEventTarget:{type:Object,value:function(){return this}},
stopKeyboardEventPropagation:{type:Boolean,value:!1},_boundKeyHandlers:{type:Array,value:function(){return[]}},
_imperativeKeyBindings:{type:Object,value:function(){return{}}}},
observers:["_resetKeyEventListeners(keyEventTarget, _boundKeyHandlers)"],keyBindings:{},registered:function(){this._prepKeyBindings()},
attached:function(){this._listenKeyEventListeners()},
detached:function(){this._unlistenKeyEventListeners()},
addOwnKeyBinding:function(a,b){this._imperativeKeyBindings[a]=b;this._prepKeyBindings();this._resetKeyEventListeners()},
removeOwnKeyBindings:function(){this._imperativeKeyBindings={};this._prepKeyBindings();this._resetKeyEventListeners()},
keyboardEventMatchesKeys:function(a,c){c=d(c);for(var e=0;e<c.length;++e)if(b(c[e],a))return!0;return!1},
_collectKeyBindings:function(){var a=this.behaviors.map(function(a){return a.keyBindings});
-1===a.indexOf(this.keyBindings)&&a.push(this.keyBindings);return a},
_prepKeyBindings:function(){this._keyBindings={};this._collectKeyBindings().forEach(function(a){for(var b in a)this._addKeyBinding(b,a[b])},this);
for(var a in this._imperativeKeyBindings)this._addKeyBinding(a,this._imperativeKeyBindings[a]);for(var b in this._keyBindings)this._keyBindings[b].sort(function(a,b){a=a[0].hasModifiers;return a===b[0].hasModifiers?0:a?-1:1})},
_addKeyBinding:function(a,b){d(a).forEach(function(a){this._keyBindings[a.event]=this._keyBindings[a.event]||[];this._keyBindings[a.event].push([a,b])},this)},
_resetKeyEventListeners:function(){this._unlistenKeyEventListeners();this.isAttached&&this._listenKeyEventListeners()},
_listenKeyEventListeners:function(){this.keyEventTarget&&Object.keys(this._keyBindings).forEach(function(a){var b=this._onKeyBindingEvent.bind(this,this._keyBindings[a]);this._boundKeyHandlers.push([this.keyEventTarget,a,b]);this.keyEventTarget.addEventListener(a,b)},this)},
_unlistenKeyEventListeners:function(){for(var a,b,c;this._boundKeyHandlers.length;)a=this._boundKeyHandlers.pop(),b=a[0],c=a[1],a=a[2],b.removeEventListener(c,a)},
_onKeyBindingEvent:function(a,c){this.stopKeyboardEventPropagation&&c.stopPropagation();if(!c.defaultPrevented)for(var d=0;d<a.length;d++){var e=a[d][0],f=a[d][1];if(b(e,c)&&(this._triggerKeyHandler(e,f,c),c.defaultPrevented))break}},
_triggerKeyHandler:function(a,b,c){var d=Object.create(a);d.keyboardEvent=c;a=new CustomEvent(a.event,{detail:d,cancelable:!0});this[b].call(this,a);a.defaultPrevented&&c.preventDefault()}}})();Polymer.IronOverlayManagerClass=function(){this._overlays=[];this._minimumZ=101;this._backdropElement=null;Polymer.Gestures.add(document,"tap",this._onCaptureClick.bind(this));document.addEventListener("focus",this._onCaptureFocus.bind(this),!0);document.addEventListener("keydown",this._onCaptureKeyDown.bind(this),!0)};
Polymer.IronOverlayManagerClass.prototype={constructor:Polymer.IronOverlayManagerClass,get backdropElement(){this._backdropElement||(this._backdropElement=document.createElement("iron-overlay-backdrop"));return this._backdropElement},get deepActiveElement(){for(var a=document.activeElement||document.body;a.root&&Polymer.dom(a.root).activeElement;)a=Polymer.dom(a.root).activeElement;return a},_bringOverlayAtIndexToFront:function(a){var b=this._overlays[a];if(b){var c=this._overlays.length-1,d=this._overlays[c];
d&&this._shouldBeBehindOverlay(b,d)&&c--;if(!(a>=c)){d=Math.max(this._getZ(Un(this)),this._minimumZ);for(this._getZ(b)<=d&&this._applyOverlayZ(b,d);a<c;)this._overlays[a]=this._overlays[a+1],a++;this._overlays[c]=b}}},
_overlayWithBackdrop:function(){for(var a=0;a<this._overlays.length;a++)if(this._overlays[a].withBackdrop)return this._overlays[a]},
_getZ:function(a){var b=this._minimumZ;a&&(a=Number(a.style.zIndex||window.getComputedStyle(a).zIndex),a===a&&(b=a));return b},
_setZ:function(a,b){a.style.zIndex=b},
_applyOverlayZ:function(a,b){this._setZ(a,b+2)},
_overlayInPath:function(a){a=a||[];for(var b=0;b<a.length;b++)if(a[b]._manager===this)return a[b]},
_onCaptureClick:function(a){var b=Un(this);b&&this._overlayInPath(Polymer.dom(a).path)!==b&&b._onCaptureClick(a)},
_onCaptureFocus:function(a){var b=Un(this);b&&b._onCaptureFocus(a)},
_onCaptureKeyDown:function(a){var b=Un(this);b&&(Polymer.IronA11yKeysBehavior.keyboardEventMatchesKeys(a,"esc")?b._onCaptureEsc(a):Polymer.IronA11yKeysBehavior.keyboardEventMatchesKeys(a,"tab")&&b._onCaptureTab(a))},
_shouldBeBehindOverlay:function(a,b){return!a.alwaysOnTop&&b.alwaysOnTop}};
var Vn=function(a){var b=a._overlayWithBackdrop();if(b||a._backdropElement)a.backdropElement.style.zIndex=a._getZ(b)-1,a.backdropElement.opened=!!b},Un=function(a){return a._overlays[a._overlays.length-1]},Wn=function(a,b){b=a._overlays.indexOf(b);
-1!==b&&(a._overlays.splice(b,1),Vn(a))};
Polymer.IronOverlayManager=new Polymer.IronOverlayManagerClass;Polymer.IronFitBehavior={properties:{sizingTarget:{type:Object,value:function(){return this}},
fitInto:{type:Object,value:window},noOverlap:{type:Boolean},positionTarget:{type:Element},horizontalAlign:{type:String},verticalAlign:{type:String},dynamicAlign:{type:Boolean},horizontalOffset:{type:Number,value:0,notify:!0},verticalOffset:{type:Number,value:0,notify:!0},autoFitOnAttach:{type:Boolean,value:!1},_fitInfo:{type:Object}},get _fitWidth(){return this.fitInto===window?this.fitInto.innerWidth:this.fitInto.getBoundingClientRect().width},get _fitHeight(){return this.fitInto===window?this.fitInto.innerHeight:
this.fitInto.getBoundingClientRect().height},get _fitLeft(){return this.fitInto===window?0:this.fitInto.getBoundingClientRect().left},get _fitTop(){return this.fitInto===window?0:this.fitInto.getBoundingClientRect().top},get _defaultPositionTarget(){var a=Polymer.dom(this).parentNode;a&&a.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&(a=a.host);return a},get _localeHorizontalAlign(){if(this._isRTL){if("right"===this.horizontalAlign)return"left";if("left"===this.horizontalAlign)return"right"}return this.horizontalAlign},
attached:function(){this._isRTL="rtl"==window.getComputedStyle(this).direction;this.positionTarget=this.positionTarget||this._defaultPositionTarget;this.autoFitOnAttach&&("none"===window.getComputedStyle(this).display?setTimeout(function(){this.fit()}.bind(this)):this.fit())},
fit:function(){this.position();this.constrain();this.center()},
_discoverInfo:function(){if(!this._fitInfo){var a=window.getComputedStyle(this),b=window.getComputedStyle(this.sizingTarget);this._fitInfo={inlineStyle:{top:this.style.top||"",left:this.style.left||"",position:this.style.position||""},sizerInlineStyle:{maxWidth:this.sizingTarget.style.maxWidth||"",maxHeight:this.sizingTarget.style.maxHeight||"",boxSizing:this.sizingTarget.style.boxSizing||""},positionedBy:{vertically:"auto"!==a.top?"top":"auto"!==a.bottom?"bottom":null,horizontally:"auto"!==a.left?
"left":"auto"!==a.right?"right":null},sizedBy:{height:"none"!==b.maxHeight,width:"none"!==b.maxWidth,minWidth:parseInt(b.minWidth,10)||0,minHeight:parseInt(b.minHeight,10)||0},margin:{top:parseInt(a.marginTop,10)||0,right:parseInt(a.marginRight,10)||0,bottom:parseInt(a.marginBottom,10)||0,left:parseInt(a.marginLeft,10)||0}};this.verticalOffset&&(this._fitInfo.margin.top=this._fitInfo.margin.bottom=this.verticalOffset,this._fitInfo.inlineStyle.marginTop=this.style.marginTop||"",this._fitInfo.inlineStyle.marginBottom=
this.style.marginBottom||"",this.style.marginTop=this.style.marginBottom=this.verticalOffset+"px");this.horizontalOffset&&(this._fitInfo.margin.left=this._fitInfo.margin.right=this.horizontalOffset,this._fitInfo.inlineStyle.marginLeft=this.style.marginLeft||"",this._fitInfo.inlineStyle.marginRight=this.style.marginRight||"",this.style.marginLeft=this.style.marginRight=this.horizontalOffset+"px")}},
resetFit:function(){var a=this._fitInfo||{},b;for(b in a.sizerInlineStyle)this.sizingTarget.style[b]=a.sizerInlineStyle[b];for(b in a.inlineStyle)this.style[b]=a.inlineStyle[b];this._fitInfo=null},
refit:function(){var a=this.sizingTarget.scrollLeft,b=this.sizingTarget.scrollTop;this.resetFit();this.fit();this.sizingTarget.scrollLeft=a;this.sizingTarget.scrollTop=b},
position:function(){if(this.horizontalAlign||this.verticalAlign){this._discoverInfo();this.style.position="fixed";this.sizingTarget.style.boxSizing="border-box";this.style.left="0px";this.style.top="0px";var a=this.getBoundingClientRect(),b=this.__getNormalizedRect(this.positionTarget),c=this.__getNormalizedRect(this.fitInto),d=this._fitInfo.margin,e=this.__getPosition(this._localeHorizontalAlign,this.verticalAlign,{width:a.width+d.left+d.right,height:a.height+d.top+d.bottom},b,c),b=e.left+d.left,
e=e.top+d.top,f=Math.min(c.right-d.right,b+a.width),c=Math.min(c.bottom-d.bottom,e+a.height),h=this._fitInfo.sizedBy.minWidth,k=this._fitInfo.sizedBy.minHeight;b<d.left&&(b=d.left,f-b<h&&(b=f-h));e<d.top&&(e=d.top,c-e<k&&(e=c-k));this.sizingTarget.style.maxWidth=f-b+"px";this.sizingTarget.style.maxHeight=c-e+"px";this.style.left=b-a.left+"px";this.style.top=e-a.top+"px"}},
constrain:function(){if(!this.horizontalAlign&&!this.verticalAlign){this._discoverInfo();var a=this._fitInfo;a.positionedBy.vertically||(this.style.position="fixed",this.style.top="0px");a.positionedBy.horizontally||(this.style.position="fixed",this.style.left="0px");this.sizingTarget.style.boxSizing="border-box";var b=this.getBoundingClientRect();a.sizedBy.height||this.__sizeDimension(b,a.positionedBy.vertically,"top","bottom","Height");a.sizedBy.width||this.__sizeDimension(b,a.positionedBy.horizontally,
"left","right","Width")}},
_sizeDimension:function(a,b,c,d,e){this.__sizeDimension(a,b,c,d,e)},
__sizeDimension:function(a,b,c,d,e){var f=this._fitInfo,h=this.__getNormalizedRect(this.fitInto),h="Width"===e?h.width:h.height;b=b===d;var k="offset"+e;this.sizingTarget.style["max"+e]=h-f.margin[b?c:d]-(b?h-a[d]:a[c])-(this[k]-this.sizingTarget[k])+"px"},
center:function(){if(!this.horizontalAlign&&!this.verticalAlign){this._discoverInfo();var a=this._fitInfo.positionedBy;if(!a.vertically||!a.horizontally){this.style.position="fixed";a.vertically||(this.style.top="0px");a.horizontally||(this.style.left="0px");var b=this.getBoundingClientRect(),c=this.__getNormalizedRect(this.fitInto);a.vertically||(this.style.top=c.top-b.top+(c.height-b.height)/2+"px");a.horizontally||(this.style.left=c.left-b.left+(c.width-b.width)/2+"px")}}},
__getNormalizedRect:function(a){return a===document.documentElement||a===window?{top:0,left:0,width:window.innerWidth,height:window.innerHeight,right:window.innerWidth,bottom:window.innerHeight}:a.getBoundingClientRect()},
__getCroppedArea:function(a,b,c){return Math.abs(Math.min(0,a.top)+Math.min(0,c.bottom-(a.top+b.height)))*b.width+Math.abs(Math.min(0,a.left)+Math.min(0,c.right-(a.left+b.width)))*b.height},
__getPosition:function(a,b,c,d,e){var f=[{verticalAlign:"top",horizontalAlign:"left",top:d.top,left:d.left},{verticalAlign:"top",horizontalAlign:"right",top:d.top,left:d.right-c.width},{verticalAlign:"bottom",horizontalAlign:"left",top:d.bottom-c.height,left:d.left},{verticalAlign:"bottom",horizontalAlign:"right",top:d.bottom-c.height,left:d.right-c.width}];if(this.noOverlap){for(var h=0,k=f.length;h<k;h++){var l={},m;for(m in f[h])l[m]=f[h][m];f.push(l)}f[0].top=f[1].top+=d.height;f[2].top=f[3].top-=
d.height;f[4].left=f[6].left+=d.width;f[5].left=f[7].left-=d.width}b="auto"===b?null:b;a="auto"===a?null:a;for(var t,h=0;h<f.length;h++){d=f[h];if(!this.dynamicAlign&&!this.noOverlap&&d.verticalAlign===b&&d.horizontalAlign===a){t=d;break}k=(!b||d.verticalAlign===b)&&(!a||d.horizontalAlign===a);if(this.dynamicAlign||k){t=t||d;d.croppedArea=this.__getCroppedArea(d,c,e);l=d.croppedArea-t.croppedArea;if(0>l||0===l&&k)t=d;if(0===t.croppedArea&&k)break}}return t}};Polymer.IronResizableBehavior={properties:{_parentResizable:{type:Object,observer:"_parentResizableChanged"},_notifyingDescendant:{type:Boolean,value:!1}},listeners:{"iron-request-resize-notifications":"_onIronRequestResizeNotifications"},created:function(){this._interestedResizables=[];this._boundNotifyResize=this.notifyResize.bind(this)},
attached:function(){this.fire("iron-request-resize-notifications",null,{node:this,bubbles:!0,cancelable:!0});this._parentResizable||(window.addEventListener("resize",this._boundNotifyResize),this.notifyResize())},
detached:function(){this._parentResizable?this._parentResizable.stopResizeNotificationsFor(this):window.removeEventListener("resize",this._boundNotifyResize);this._parentResizable=null},
notifyResize:function(){this.isAttached&&(this._interestedResizables.forEach(function(a){this._notifyDescendant(a)},this),this._fireResize())},
assignParentResizable:function(a){this._parentResizable=a},
stopResizeNotificationsFor:function(a){var b=this._interestedResizables.indexOf(a);-1<b&&(this._interestedResizables.splice(b,1),this.unlisten(a,"iron-resize","_onDescendantIronResize"))},
resizerShouldNotify:function(){return!0},
_onDescendantIronResize:function(a){this._notifyingDescendant?a.stopPropagation():Polymer.Settings.useShadow||this._fireResize()},
_fireResize:function(){this.fire("iron-resize",null,{node:this,bubbles:!1})},
_onIronRequestResizeNotifications:function(a){var b=a.path?a.path[0]:a.target;b!==this&&(-1===this._interestedResizables.indexOf(b)&&(this._interestedResizables.push(b),this.listen(b,"iron-resize","_onDescendantIronResize")),b.assignParentResizable(this),this._notifyDescendant(b),a.stopPropagation())},
_parentResizableChanged:function(a){a&&window.removeEventListener("resize",this._boundNotifyResize)},
_notifyDescendant:function(a){this.isAttached&&(this._notifyingDescendant=!0,a.notifyResize(),this._notifyingDescendant=!1)}};Polymer.IronOverlayBehaviorImpl={properties:{opened:{observer:"_openedChanged",type:Boolean,value:!1,notify:!0},canceled:{observer:"_canceledChanged",readOnly:!0,type:Boolean,value:!1},withBackdrop:{observer:"_withBackdropChanged",type:Boolean},noAutoFocus:{type:Boolean,value:!1},noCancelOnEscKey:{type:Boolean,value:!1},noCancelOnOutsideClick:{type:Boolean,value:!1},closingReason:{type:Object},restoreFocusOnClose:{type:Boolean,value:!1},alwaysOnTop:{type:Boolean},_manager:{type:Object,value:Polymer.IronOverlayManager},
_focusedChild:{type:Object}},listeners:{"iron-resize":"_onIronResize"},get backdropElement(){return this._manager.backdropElement},get _focusNode(){return this._focusedChild||Polymer.dom(this).querySelector("[autofocus]")||this},get _focusableNodes(){return Polymer.IronFocusablesHelper.getTabbableNodes(this)},ready:function(){this.__shouldRemoveTabIndex=this.__isAnimating=!1;this.__restoreFocusNode=this.__raf=this.__firstFocusableNode=this.__lastFocusableNode=null;this._ensureSetup()},
attached:function(){this.opened&&this._openedChanged(this.opened);this._observer=Polymer.dom(this).observeNodes(this._onNodesChange)},
detached:function(){Polymer.dom(this).unobserveNodes(this._observer);this._observer=null;this.__raf&&(window.cancelAnimationFrame(this.__raf),this.__raf=null);Wn(this._manager,this)},
toggle:function(){this._setCanceled(!1);this.opened=!this.opened},
open:function(){this._setCanceled(!1);this.opened=!0},
close:function(){this._setCanceled(!1);this.opened=!1},
cancel:function(a){this.fire("iron-overlay-canceled",a,{cancelable:!0}).defaultPrevented||(this._setCanceled(!0),this.opened=!1)},
invalidateTabbables:function(){this.__firstFocusableNode=this.__lastFocusableNode=null},
_ensureSetup:function(){this._overlaySetup||(this._overlaySetup=!0,this.style.outline="none",this.style.display="none")},
_openedChanged:function(a){a?this.removeAttribute("aria-hidden"):this.setAttribute("aria-hidden","true");this.isAttached&&(this.__isAnimating=!0,this.__onNextAnimationFrame(this.__openedChanged))},
_canceledChanged:function(){this.closingReason=this.closingReason||{};this.closingReason.canceled=this.canceled},
_withBackdropChanged:function(){this.withBackdrop&&!this.hasAttribute("tabindex")?(this.setAttribute("tabindex","-1"),this.__shouldRemoveTabIndex=!0):this.__shouldRemoveTabIndex&&(this.removeAttribute("tabindex"),this.__shouldRemoveTabIndex=!1);this.opened&&this.isAttached&&Vn(this._manager)},
_prepareRenderOpened:function(){this.__restoreFocusNode=this._manager.deepActiveElement;this._preparePositioning();this.refit();this._finishPositioning();this.noAutoFocus&&document.activeElement===this._focusNode&&(this._focusNode.blur(),this.__restoreFocusNode.focus())},
_renderOpened:function(){this._finishRenderOpened()},
_renderClosed:function(){this._finishRenderClosed()},
_finishRenderOpened:function(){this.notifyResize();this.__isAnimating=!1;this.fire("iron-overlay-opened")},
_finishRenderClosed:function(){this.style.display="none";this.style.zIndex="";this.notifyResize();this.__isAnimating=!1;this.fire("iron-overlay-closed",this.closingReason)},
_preparePositioning:function(){this.style.transition=this.style.webkitTransition="none";this.style.transform=this.style.webkitTransform="none";this.style.display=""},
_finishPositioning:function(){this.style.display="none";this.scrollTop=this.scrollTop;this.style.transition=this.style.webkitTransition="";this.style.transform=this.style.webkitTransform="";this.style.display="";this.scrollTop=this.scrollTop},
_applyFocus:function(){if(this.opened)this.noAutoFocus||this._focusNode.focus();else{this._focusNode.blur();this._focusedChild=null;this.restoreFocusOnClose&&this.__restoreFocusNode&&this.__restoreFocusNode.focus();this.__restoreFocusNode=null;var a=Un(this._manager);a&&this!==a&&a._applyFocus()}},
_onCaptureClick:function(a){this.noCancelOnOutsideClick||this.cancel(a)},
_onCaptureFocus:function(a){if(this.withBackdrop){var b=Polymer.dom(a).path;-1===b.indexOf(this)?(a.stopPropagation(),this._applyFocus()):this._focusedChild=b[0]}},
_onCaptureEsc:function(a){this.noCancelOnEscKey||this.cancel(a)},
_onCaptureTab:function(a){if(this.withBackdrop){this.__ensureFirstLastFocusables();var b=a.shiftKey,c=b?this.__firstFocusableNode:this.__lastFocusableNode,b=b?this.__lastFocusableNode:this.__firstFocusableNode;if(c===b)c=!0;else var d=this._manager.deepActiveElement,c=d===c||d===this;c&&(a.preventDefault(),this._focusedChild=b,this._applyFocus())}},
_onIronResize:function(){this.opened&&!this.__isAnimating&&this.__onNextAnimationFrame(this.refit)},
_onNodesChange:function(){this.opened&&!this.__isAnimating&&(this.invalidateTabbables(),this.notifyResize())},
__ensureFirstLastFocusables:function(){if(!this.__firstFocusableNode||!this.__lastFocusableNode){var a=this._focusableNodes;this.__firstFocusableNode=a[0];this.__lastFocusableNode=a[a.length-1]}},
__openedChanged:function(){if(this.opened){this._prepareRenderOpened();var a=this._manager,b=a._overlays.indexOf(this);if(0<=b)a._bringOverlayAtIndexToFront(b);else{var b=a._overlays.length,c=a._overlays[b-1],d=Math.max(a._getZ(c),a._minimumZ),e=a._getZ(this);c&&a._shouldBeBehindOverlay(this,c)&&(a._applyOverlayZ(c,d),b--,d=Math.max(a._getZ(a._overlays[b-1]),a._minimumZ));e<=d&&a._applyOverlayZ(this,d);a._overlays.splice(b,0,this)}Vn(a);this._applyFocus();this._renderOpened()}else Wn(this._manager,
this),this._applyFocus(),this._renderClosed()},
__onNextAnimationFrame:function(a){this.__raf&&window.cancelAnimationFrame(this.__raf);var b=this;this.__raf=window.requestAnimationFrame(function(){b.__raf=null;a.call(b)})}};
Polymer.IronOverlayBehavior=[Polymer.IronFitBehavior,Polymer.IronResizableBehavior,Polymer.IronOverlayBehaviorImpl];Polymer({is:"iron-media-query",properties:{queryMatches:{type:Boolean,value:!1,readOnly:!0,notify:!0},query:{type:String,observer:"queryChanged"},full:{type:Boolean,value:!1},_boundMQHandler:{value:function(){return this.queryHandler.bind(this)}},
_mq:{value:null}},attached:function(){this.style.display="none";this.queryChanged()},
detached:function(){this._remove()},
_add:function(){this._mq&&this._mq.addListener(this._boundMQHandler)},
_remove:function(){this._mq&&this._mq.removeListener(this._boundMQHandler);this._mq=null},
queryChanged:function(){this._remove();var a=this.query;a&&(this.full||"("===a[0]||(a="("+a+")"),this._mq=window.matchMedia(a),this._add(),this.queryHandler(this._mq))},
queryHandler:function(a){this._setQueryMatches(a.matches)}});var R={};R.YtOpenPopupBehaviorImpl_={properties:{popupPositionTarget:Object},listeners:{"yt-service-request-completed":"onOpenPopupServiceRequestCompleted_"},created:function(){this.openPopupConfig=null},
openPopup:function(a){this.sendAction("yt-open-popup-action",[a,this])},
getNavigationEndpointPopupAction:function(a){var b=Jd(a,"endpoint");if(b=this.openPopupConfig.navigationEndpointPopupMap[b])if(a=this.get(b,a),(b=Jd(a,"renderer"))&&this.openPopupConfig.supportedPopups.hasOwnProperty(b))return{openPopupAction:{popupType:this.openPopupConfig.popupTypeMap[b],popup:a}};return null},
onOpenPopupServiceRequestCompleted_:function(a,b){if(b=this.get("data.contents.0",b)){var c=Jd(b,"renderer");this.openPopupConfig.supportedPopups.hasOwnProperty(c)&&(a.stopPropagation(),this.openPopup({openPopupAction:{popupType:this.openPopupConfig.popupTypeMap[c],popup:b}}))}}};
R.YtOpenPopupBehavior=[R.YtOpenPopupBehaviorImpl_,B.YtActionSenderBehavior];var Xn={YtdOpenPopupBehaviorImpl_:{_noAccessors:!0,created:function(){this.openPopupConfig=Xh}}};
Xn.YtdOpenPopupBehavior=[R.YtOpenPopupBehavior,Xn.YtdOpenPopupBehaviorImpl_];(function(){function a(a){this.element=a;this.width=this.boundingRect.width;this.height=this.boundingRect.height;this.size=Math.max(this.width,this.height)}
function b(a){this.element=a;this.color=window.getComputedStyle(a).color;this.wave=document.createElement("div");this.waveContainer=document.createElement("div");this.wave.style.backgroundColor=this.color;this.wave.classList.add("wave");this.waveContainer.classList.add("wave-container");Polymer.dom(this.waveContainer).appendChild(this.wave);this.resetInteractionState()}
var c={distance:function(a,b,c,h){a-=c;b-=h;return Math.sqrt(a*a+b*b)},
now:window.performance&&window.performance.now?window.performance.now.bind(window.performance):Date.now};a.prototype={get boundingRect(){return this.element.getBoundingClientRect()},furthestCornerDistanceFrom:function(a,b){return Math.max(c.distance(a,b,0,0),c.distance(a,b,this.width,0),c.distance(a,b,0,this.height),c.distance(a,b,this.width,this.height))}};
b.MAX_RADIUS=300;b.prototype={get recenters(){return this.element.recenters},get center(){return this.element.center},get mouseDownElapsed(){if(!this.mouseDownStart)return 0;var a=c.now()-this.mouseDownStart;this.mouseUpStart&&(a-=this.mouseUpElapsed);return a},get mouseUpElapsed(){return this.mouseUpStart?c.now()-this.mouseUpStart:0},get mouseDownElapsedSeconds(){return this.mouseDownElapsed/1E3},get mouseUpElapsedSeconds(){return this.mouseUpElapsed/1E3},get mouseInteractionSeconds(){return this.mouseDownElapsedSeconds+
this.mouseUpElapsedSeconds},get initialOpacity(){return this.element.initialOpacity},get opacityDecayVelocity(){return this.element.opacityDecayVelocity},get radius(){var a=1.1*Math.min(Math.sqrt(this.containerMetrics.width*this.containerMetrics.width+this.containerMetrics.height*this.containerMetrics.height),b.MAX_RADIUS)+5;return Math.abs(a*(1-Math.pow(80,-(this.mouseInteractionSeconds/(1.1-a/b.MAX_RADIUS*.2)))))},get opacity(){return this.mouseUpStart?Math.max(0,this.initialOpacity-this.mouseUpElapsedSeconds*
this.opacityDecayVelocity):this.initialOpacity},get outerOpacity(){return Math.max(0,Math.min(.3*this.mouseUpElapsedSeconds,this.opacity))},get isOpacityFullyDecayed(){return.01>this.opacity&&this.radius>=Math.min(this.maxRadius,b.MAX_RADIUS)},get isRestingAtMaxRadius(){return this.opacity>=this.initialOpacity&&this.radius>=Math.min(this.maxRadius,b.MAX_RADIUS)},get isAnimationComplete(){return this.mouseUpStart?this.isOpacityFullyDecayed:this.isRestingAtMaxRadius},get translationFraction(){return Math.min(1,
this.radius/this.containerMetrics.size*2/Math.sqrt(2))},get xNow(){return this.xEnd?this.xStart+this.translationFraction*(this.xEnd-this.xStart):this.xStart},get yNow(){return this.yEnd?this.yStart+this.translationFraction*(this.yEnd-this.yStart):this.yStart},get isMouseDown(){return this.mouseDownStart&&!this.mouseUpStart},resetInteractionState:function(){this.yEnd=this.xEnd=this.yStart=this.xStart=this.mouseUpStart=this.mouseDownStart=this.maxRadius=0;this.containerMetrics=new a(this.element)},
draw:function(){this.wave.style.opacity=this.opacity;var a=this.radius/(this.containerMetrics.size/2);var b=this.xNow-this.containerMetrics.width/2;var c=this.yNow-this.containerMetrics.height/2;this.waveContainer.style.webkitTransform="translate("+b+"px, "+c+"px)";this.waveContainer.style.transform="translate3d("+b+"px, "+c+"px, 0)";this.wave.style.webkitTransform="scale("+a+","+a+")";this.wave.style.transform="scale3d("+a+","+a+",1)"},
downAction:function(a){var b=this.containerMetrics.width/2,d=this.containerMetrics.height/2;this.resetInteractionState();this.mouseDownStart=c.now();this.center?(this.xStart=b,this.yStart=d):(this.xStart=a?a.detail.x-this.containerMetrics.boundingRect.left:this.containerMetrics.width/2,this.yStart=a?a.detail.y-this.containerMetrics.boundingRect.top:this.containerMetrics.height/2);this.recenters&&(this.xEnd=b,this.yEnd=d);this.maxRadius=this.containerMetrics.furthestCornerDistanceFrom(this.xStart,
this.yStart);this.waveContainer.style.top=(this.containerMetrics.height-this.containerMetrics.size)/2+"px";this.waveContainer.style.left=(this.containerMetrics.width-this.containerMetrics.size)/2+"px";this.waveContainer.style.width=this.containerMetrics.size+"px";this.waveContainer.style.height=this.containerMetrics.size+"px"},
upAction:function(){this.isMouseDown&&(this.mouseUpStart=c.now())},
remove:function(){Polymer.dom(this.waveContainer.parentNode).removeChild(this.waveContainer)}};
Polymer({is:"paper-ripple",behaviors:[Polymer.IronA11yKeysBehavior],properties:{initialOpacity:{type:Number,value:.25},opacityDecayVelocity:{type:Number,value:.8},recenters:{type:Boolean,value:!1},center:{type:Boolean,value:!1},ripples:{type:Array,value:function(){return[]}},
animating:{type:Boolean,readOnly:!0,reflectToAttribute:!0,value:!1},holdDown:{type:Boolean,value:!1,observer:"_holdDownChanged"},noink:{type:Boolean,value:!1},_animating:{type:Boolean},_boundAnimate:{type:Function,value:function(){return this.animate.bind(this)}}},
get target(){var a=Polymer.dom(this).getOwnerRoot();return 11==this.parentNode.nodeType?a.host:this.parentNode},keyBindings:{"enter:keydown":"_onEnterKeydown","space:keydown":"_onSpaceKeydown","space:keyup":"_onSpaceKeyup"},attached:function(){this.keyEventTarget=this.target;this.listen(this.target,"up","uiUpAction");this.listen(this.target,"down","uiDownAction")},
detached:function(){this.unlisten(this.target,"up","uiUpAction");this.unlisten(this.target,"down","uiDownAction")},
get shouldKeepAnimating(){for(var a=0;a<this.ripples.length;++a)if(!this.ripples[a].isAnimationComplete)return!0;return!1},simulatedRipple:function(){this.downAction(null);this.async(function(){this.upAction()},1)},
uiDownAction:function(a){this.noink||this.downAction(a)},
downAction:function(a){this.holdDown&&0<this.ripples.length||(this.addRipple().downAction(a),this._animating||this.animate())},
uiUpAction:function(a){this.noink||this.upAction(a)},
upAction:function(a){this.holdDown||(this.ripples.forEach(function(b){b.upAction(a)}),this.animate())},
onAnimationComplete:function(){this._animating=!1;this.$.background.style.backgroundColor=null;this.fire("transitionend")},
addRipple:function(){var a=new b(this);Polymer.dom(this.$.waves).appendChild(a.waveContainer);this.$.background.style.backgroundColor=a.color;this.ripples.push(a);this._setAnimating(!0);return a},
removeRipple:function(a){var b=this.ripples.indexOf(a);0>b||(this.ripples.splice(b,1),a.remove(),this.ripples.length||this._setAnimating(!1))},
animate:function(){var a;this._animating=!0;for(a=0;a<this.ripples.length;++a){var b=this.ripples[a];b.draw();this.$.background.style.opacity=b.outerOpacity;b.isOpacityFullyDecayed&&!b.isRestingAtMaxRadius&&this.removeRipple(b)}if(this.shouldKeepAnimating||0!==this.ripples.length)window.requestAnimationFrame(this._boundAnimate);else this.onAnimationComplete()},
_onEnterKeydown:function(){this.uiDownAction();this.async(this.uiUpAction,1)},
_onSpaceKeydown:function(){this.uiDownAction()},
_onSpaceKeyup:function(){this.uiUpAction()},
_holdDownChanged:function(a,b){void 0!==b&&(a?this.downAction():this.upAction())}})})();Polymer.PaperRippleBehavior={properties:{noink:{type:Boolean,observer:"_noinkChanged"},_rippleContainer:{type:Object}},_buttonStateChanged:function(){this.focused&&this.ensureRipple()},
_downHandler:function(a){Polymer.IronButtonStateImpl._downHandler.call(this,a);this.pressed&&this.ensureRipple(a)},
ensureRipple:function(a){if(!this.hasRipple()){this._ripple=this._createRipple();this._ripple.noink=this.noink;var b=this._rippleContainer||this.root;b&&Polymer.dom(b).appendChild(this._ripple);if(a){var b=Polymer.dom(this._rippleContainer||this),c=Polymer.dom(a).rootTarget;b.deepContains(c)&&this._ripple.uiDownAction(a)}}},
getRipple:function(){this.ensureRipple();return this._ripple},
hasRipple:function(){return!!this._ripple},
_createRipple:function(){return document.createElement("paper-ripple")},
_noinkChanged:function(a){this.hasRipple()&&(this._ripple.noink=a)}};Polymer.IronControlState={properties:{focused:{type:Boolean,value:!1,notify:!0,readOnly:!0,reflectToAttribute:!0},disabled:{type:Boolean,value:!1,notify:!0,observer:"_disabledChanged",reflectToAttribute:!0},_oldTabIndex:{type:Number},_boundFocusBlurHandler:{type:Function,value:function(){return this._focusBlurHandler.bind(this)}}},
observers:["_changedControlState(focused, disabled)"],ready:function(){this.addEventListener("focus",this._boundFocusBlurHandler,!0);this.addEventListener("blur",this._boundFocusBlurHandler,!0)},
_focusBlurHandler:function(a){if(a.target===this)this._setFocused("focus"===a.type);else if(!this.shadowRoot){var b=Polymer.dom(a).localTarget;this.isLightDescendant(b)||this.fire(a.type,{sourceEvent:a},{node:this,bubbles:a.bubbles,cancelable:a.cancelable})}},
_disabledChanged:function(a){this.setAttribute("aria-disabled",a?"true":"false");this.style.pointerEvents=a?"none":"";a?(this._oldTabIndex=this.tabIndex,this._setFocused(!1),this.tabIndex=-1,this.blur()):void 0!==this._oldTabIndex&&(this.tabIndex=this._oldTabIndex)},
_changedControlState:function(){this._controlStateChanged&&this._controlStateChanged()}};Polymer.IronButtonStateImpl={properties:{pressed:{type:Boolean,readOnly:!0,value:!1,reflectToAttribute:!0,observer:"_pressedChanged"},toggles:{type:Boolean,value:!1,reflectToAttribute:!0},active:{type:Boolean,value:!1,notify:!0,reflectToAttribute:!0},pointerDown:{type:Boolean,readOnly:!0,value:!1},receivedFocusFromKeyboard:{type:Boolean,readOnly:!0},ariaActiveAttribute:{type:String,value:"aria-pressed",observer:"_ariaActiveAttributeChanged"}},listeners:{down:"_downHandler",up:"_upHandler",tap:"_tapHandler"},
observers:["_detectKeyboardFocus(focused)","_activeChanged(active, ariaActiveAttribute)"],keyBindings:{"enter:keydown":"_asyncClick","space:keydown":"_spaceKeyDownHandler","space:keyup":"_spaceKeyUpHandler"},_mouseEventRe:/^mouse/,_tapHandler:function(){this.toggles?this._userActivate(!this.active):this.active=!1},
_detectKeyboardFocus:function(a){this._setReceivedFocusFromKeyboard(!this.pointerDown&&a)},
_userActivate:function(a){this.active!==a&&(this.active=a,this.fire("change"))},
_downHandler:function(){this._setPointerDown(!0);this._setPressed(!0);this._setReceivedFocusFromKeyboard(!1)},
_upHandler:function(){this._setPointerDown(!1);this._setPressed(!1)},
_spaceKeyDownHandler:function(a){a=a.detail.keyboardEvent;var b=Polymer.dom(a).localTarget;this.isLightDescendant(b)||(a.preventDefault(),a.stopImmediatePropagation(),this._setPressed(!0))},
_spaceKeyUpHandler:function(a){a=Polymer.dom(a.detail.keyboardEvent).localTarget;this.isLightDescendant(a)||(this.pressed&&this._asyncClick(),this._setPressed(!1))},
_asyncClick:function(){this.async(function(){this.click()},1)},
_pressedChanged:function(){this._changedButtonState()},
_ariaActiveAttributeChanged:function(a,b){b&&b!=a&&this.hasAttribute(b)&&this.removeAttribute(b)},
_activeChanged:function(a){this.toggles?this.setAttribute(this.ariaActiveAttribute,a?"true":"false"):this.removeAttribute(this.ariaActiveAttribute);this._changedButtonState()},
_controlStateChanged:function(){this.disabled?this._setPressed(!1):this._changedButtonState()},
_changedButtonState:function(){this._buttonStateChanged&&this._buttonStateChanged()}};
Polymer.IronButtonState=[Polymer.IronA11yKeysBehavior,Polymer.IronButtonStateImpl];Polymer.PaperButtonBehaviorImpl={properties:{elevation:{type:Number,reflectToAttribute:!0,readOnly:!0}},observers:["_calculateElevation(focused, disabled, active, pressed, receivedFocusFromKeyboard)","_computeKeyboardClass(receivedFocusFromKeyboard)"],hostAttributes:{role:"button",tabindex:"0",animated:!0},_calculateElevation:function(){var a=1;this.disabled?a=0:this.active||this.pressed?a=4:this.receivedFocusFromKeyboard&&(a=3);this._setElevation(a)},
_computeKeyboardClass:function(a){this.toggleClass("keyboard-focus",a)},
_spaceKeyDownHandler:function(a){Polymer.IronButtonStateImpl._spaceKeyDownHandler.call(this,a);this.hasRipple()&&1>this.getRipple().ripples.length&&this._ripple.uiDownAction()},
_spaceKeyUpHandler:function(a){Polymer.IronButtonStateImpl._spaceKeyUpHandler.call(this,a);this.hasRipple()&&this._ripple.uiUpAction()}};
Polymer.PaperButtonBehavior=[Polymer.IronButtonState,Polymer.IronControlState,Polymer.PaperRippleBehavior,Polymer.PaperButtonBehaviorImpl];Polymer({is:"paper-material",properties:{elevation:{type:Number,reflectToAttribute:!0,value:1},animated:{type:Boolean,reflectToAttribute:!0,value:!1}}});Polymer({is:"paper-button",behaviors:[Polymer.PaperButtonBehavior],properties:{raised:{type:Boolean,reflectToAttribute:!0,value:!1,observer:"_calculateElevation"}},_calculateElevation:function(){this.raised?Polymer.PaperButtonBehaviorImpl._calculateElevation.apply(this):this._setElevation(0)}});(function(){var a={},b={},c=null;Polymer.IronMeta=function(a){if(a)for(var b in a)switch(b){case "type":case "key":case "value":this[b]=a[b]}};
Polymer.IronMeta=Polymer({is:"iron-meta",properties:{type:{type:String,value:"default",observer:"_typeChanged"},key:{type:String,observer:"_keyChanged"},value:{type:Object,notify:!0,observer:"_valueChanged"},self:{type:Boolean,observer:"_selfChanged"},list:{type:Array,notify:!0}},hostAttributes:{hidden:!0},factoryImpl:function(a){if(a)for(var b in a)switch(b){case "type":case "key":case "value":this[b]=a[b]}},
created:function(){this._metaDatas=a;this._metaArrays=b},
_keyChanged:function(a,b){this._resetRegistration(b)},
_valueChanged:function(){this._resetRegistration(this.key)},
_selfChanged:function(a){a&&(this.value=this)},
_typeChanged:function(c){this._unregisterKey(this.key);a[c]||(a[c]={});this._metaData=a[c];b[c]||(b[c]=[]);this.list=b[c];this._registerKeyValue(this.key,this.value)},
byKey:function(a){return this._metaData&&this._metaData[a]},
_resetRegistration:function(a){this._unregisterKey(a);this._registerKeyValue(this.key,this.value)},
_unregisterKey:function(a){this._unregister(a,this._metaData,this.list)},
_registerKeyValue:function(a,b){this._register(a,b,this._metaData,this.list)},
_register:function(a,b,c,h){a&&c&&void 0!==b&&(c[a]=b,h.push(b))},
_unregister:function(a,b,c){if(a&&b&&a in b){var d=b[a];delete b[a];this.arrayDelete(c,d)}}});
Polymer.IronMeta.getIronMeta=function(){null===c&&(c=new Polymer.IronMeta);return c};
Polymer.IronMetaQuery=function(a){if(a)for(var b in a)switch(b){case "type":case "key":this[b]=a[b]}};
Polymer.IronMetaQuery.prototype._setValue=function(){};
Polymer.IronMetaQuery=Polymer({is:"iron-meta-query",properties:{type:{type:String,value:"default",observer:"_typeChanged"},key:{type:String,observer:"_keyChanged"},value:{type:Object,notify:!0,readOnly:!0},list:{type:Array,notify:!0}},factoryImpl:function(a){if(a)for(var b in a)switch(b){case "type":case "key":this[b]=a[b]}},
created:function(){this._metaDatas=a;this._metaArrays=b},
_keyChanged:function(a){this._setValue(this._metaData&&this._metaData[a])},
_typeChanged:function(c){this._metaData=a[c];this.list=b[c];this.key&&this._keyChanged(this.key)},
byKey:function(a){return this._metaData&&this._metaData[a]}})})();Polymer({is:"iron-icon",properties:{icon:{type:String},theme:{type:String},src:{type:String},_meta:{value:Polymer.Base.create("iron-meta",{type:"iconset"})}},observers:["_updateIcon(_meta, isAttached)","_updateIcon(theme, isAttached)","_srcChanged(src, isAttached)","_iconChanged(icon, isAttached)"],_DEFAULT_ICONSET:"icons",_iconChanged:function(a){a=(a||"").split(":");this._iconName=a.pop();this._iconsetName=a.pop()||this._DEFAULT_ICONSET;this._updateIcon()},
_srcChanged:function(){this._updateIcon()},
_usesIconset:function(){return this.icon||!this.src},
_updateIcon:function(){this._usesIconset()?(this._img&&this._img.parentNode&&Polymer.dom(this.root).removeChild(this._img),""===this._iconName?this._iconset&&this._iconset.removeIcon(this):this._iconsetName&&this._meta&&((this._iconset=this._meta.byKey(this._iconsetName))?(this._iconset.applyIcon(this,this._iconName,this.theme),this.unlisten(window,"iron-iconset-added","_updateIcon")):this.listen(window,"iron-iconset-added","_updateIcon"))):(this._iconset&&this._iconset.removeIcon(this),this._img||
(this._img=document.createElement("img"),this._img.style.width="100%",this._img.style.height="100%",this._img.draggable=!1),this._img.src=this.src,Polymer.dom(this.root).appendChild(this._img))}});Polymer.PaperInkyFocusBehaviorImpl={observers:["_focusedChanged(receivedFocusFromKeyboard)"],_focusedChanged:function(a){a&&this.ensureRipple();this.hasRipple()&&(this._ripple.holdDown=a)},
_createRipple:function(){var a=Polymer.PaperRippleBehavior._createRipple();a.id="ink";a.setAttribute("center","");a.classList.add("circle");return a}};
Polymer.PaperInkyFocusBehavior=[Polymer.IronButtonState,Polymer.IronControlState,Polymer.PaperRippleBehavior,Polymer.PaperInkyFocusBehaviorImpl];Polymer({is:"paper-icon-button",hostAttributes:{role:"button",tabindex:"0"},behaviors:[Polymer.PaperInkyFocusBehavior],properties:{src:{type:String},icon:{type:String},alt:{type:String,observer:"_altChanged"}},_altChanged:function(a,b){var c=this.getAttribute("aria-label");c&&b!=c||this.setAttribute("aria-label",a)}});Polymer({is:"paper-icon-button-light",extends:"button",behaviors:[Polymer.PaperRippleBehavior],listeners:{down:"_rippleDown",up:"_rippleUp",focus:"_rippleDown",blur:"_rippleUp"},_rippleDown:function(){this.getRipple().downAction()},
_rippleUp:function(){this.getRipple().upAction()},
ensureRipple:function(a){var b=this._ripple;Polymer.PaperRippleBehavior.ensureRipple.apply(this,arguments);this._ripple&&this._ripple!==b&&(this._ripple.center=!0,this._ripple.classList.add("circle"))}});Polymer.NeonAnimationBehavior={properties:{animationTiming:{type:Object,value:function(){return{duration:500,easing:"cubic-bezier(0.4, 0, 0.2, 1)",fill:"both"}}}},
isNeonAnimation:!0,timingFromConfig:function(a){if(a.timing)for(var b in a.timing)this.animationTiming[b]=a.timing[b];return this.animationTiming},
setPrefixedProperty:function(a,b,c){for(var d={transform:["webkitTransform"],transformOrigin:["mozTransformOrigin","webkitTransformOrigin"]}[b],e,f=0;e=d[f];f++)a.style[e]=c;a.style[b]=c},
complete:function(){}};Polymer({is:"fade-in-animation",behaviors:[Polymer.NeonAnimationBehavior],configure:function(a){return this._effect=new KeyframeEffect(a.node,[{opacity:"0"},{opacity:"1"}],this.timingFromConfig(a))}});Polymer({is:"fade-out-animation",behaviors:[Polymer.NeonAnimationBehavior],configure:function(a){return this._effect=new KeyframeEffect(a.node,[{opacity:"1"},{opacity:"0"}],this.timingFromConfig(a))}});Polymer({is:"opaque-animation",behaviors:[Polymer.NeonAnimationBehavior],configure:function(a){var b=a.node;b.style.opacity="0";return this._effect=new KeyframeEffect(b,[{opacity:"1"},{opacity:"1"}],this.timingFromConfig(a))},
complete:function(a){a.node.style.opacity=""}});Polymer.NeonAnimatableBehavior={properties:{animationConfig:{type:Object},entryAnimation:{observer:"_entryAnimationChanged",type:String},exitAnimation:{observer:"_exitAnimationChanged",type:String}},_entryAnimationChanged:function(){this.animationConfig=this.animationConfig||{};this.animationConfig.entry="fade-in-animation"!==this.entryAnimation?[{name:"opaque-animation",node:this},{name:this.entryAnimation,node:this}]:[{name:this.entryAnimation,node:this}]},
_exitAnimationChanged:function(){this.animationConfig=this.animationConfig||{};this.animationConfig.exit=[{name:this.exitAnimation,node:this}]},
_copyProperties:function(a,b){for(var c in b)a[c]=b[c]},
_cloneConfig:function(a){var b={isClone:!0};this._copyProperties(b,a);return b},
_getAnimationConfigRecursive:function(a,b,c){if(this.animationConfig)if(this.animationConfig.value&&"function"===typeof this.animationConfig.value)this._warn(this._logf("playAnimation","Please put 'animationConfig' inside of your components 'properties' object instead of outside of it."));else{var d=a?this.animationConfig[a]:this.animationConfig;Array.isArray(d)||(d=[d]);if(d)for(var e,f=0;e=d[f];f++)if(e.animatable)e.animatable._getAnimationConfigRecursive(e.type||a,b,c);else if(e.id){var h=b[e.id];
h?(h.isClone||(b[e.id]=this._cloneConfig(h),h=b[e.id]),this._copyProperties(h,e)):b[e.id]=e}else c.push(e)}},
getAnimationConfig:function(a){var b={},c=[];this._getAnimationConfigRecursive(a,b,c);for(var d in b)c.push(b[d]);return c}};Polymer.NeonAnimationRunnerBehaviorImpl={properties:{_player:{type:Object}},_configureAnimationEffects:function(a){var b=[];if(0<a.length)for(var c,d=0;c=a[d];d++){var e=document.createElement(c.name);if(e.isNeonAnimation){var f=e.configure(c);f&&b.push({animation:e,config:c,effect:f})}else Polymer.Base._warn(this.is+":",c.name,"not found!")}return b},
_runAnimationEffects:function(a){return document.timeline.play(new GroupEffect(a))},
_completeAnimations:function(a){for(var b,c=0;b=a[c];c++)b.animation.complete(b.config)},
playAnimation:function(a,b){if(a=this.getAnimationConfig(a)){var c=this._configureAnimationEffects(a);a=c.map(function(a){return a.effect});
0<a.length?(this._player=this._runAnimationEffects(a),this._player.onfinish=function(){this._completeAnimations(c);this._player&&(this._player.cancel(),this._player=null);this.fire("neon-animation-finish",b,{bubbles:!1})}.bind(this)):this.fire("neon-animation-finish",b,{bubbles:!1})}},
cancelAnimation:function(){this._player&&this._player.cancel()}};
Polymer.NeonAnimationRunnerBehavior=[Polymer.NeonAnimatableBehavior,Polymer.NeonAnimationRunnerBehaviorImpl];Polymer({is:"paper-tooltip",hostAttributes:{role:"tooltip",tabindex:-1},behaviors:[Polymer.NeonAnimationRunnerBehavior],properties:{for:{type:String,observer:"_findTarget"},manualMode:{type:Boolean,value:!1,observer:"_manualModeChanged"},position:{type:String,value:"bottom"},fitToVisibleBounds:{type:Boolean,value:!1},offset:{type:Number,value:14},marginTop:{type:Number,value:14},animationDelay:{type:Number,value:500},animationConfig:{type:Object,value:function(){return{entry:[{name:"fade-in-animation",
node:this,timing:{delay:0}}],exit:[{name:"fade-out-animation",node:this}]}}},
_showing:{type:Boolean,value:!1}},listeners:{"neon-animation-finish":"_onAnimationFinish"},get target(){var a=Polymer.dom(this).parentNode,b=Polymer.dom(this).getOwnerRoot();return this.for?Polymer.dom(b).querySelector("#"+this.for):a.nodeType==Node.DOCUMENT_FRAGMENT_NODE?b.host:a},attached:function(){this._findTarget()},
detached:function(){this.manualMode||this._removeListeners()},
show:function(){this._showing||""===Polymer.dom(this).textContent.trim()||(this.cancelAnimation(),this._showing=!0,this.toggleClass("hidden",!1,this.$.tooltip),this.updatePosition(),this.animationConfig.entry[0].timing=this.animationConfig.entry[0].timing||{},this.animationConfig.entry[0].timing.delay=this.animationDelay,this._animationPlaying=!0,this.playAnimation("entry"))},
hide:function(){this._showing&&(this._animationPlaying?(this.cancelAnimation(),this._showing=!1,this._onAnimationFinish()):(this._showing=!1,this._animationPlaying=!0,this.playAnimation("exit")))},
updatePosition:function(){if(this._target&&this.offsetParent){var a=this.offset;14!=this.marginTop&&14==this.offset&&(a=this.marginTop);var b=this.offsetParent.getBoundingClientRect(),c=this._target.getBoundingClientRect(),d=this.getBoundingClientRect(),e=(c.width-d.width)/2,f=(c.height-d.height)/2,h=c.left-b.left,b=c.top-b.top;switch(this.position){case "top":var k=h+e;var l=b-d.height-a;break;case "bottom":k=h+e;l=b+c.height+a;break;case "left":k=h-d.width-a;l=b+f;break;case "right":k=h+c.width+
a,l=b+f}this.fitToVisibleBounds?(k+d.width>window.innerWidth?(this.style.right="0px",this.style.left="auto"):(this.style.left=Math.max(0,k)+"px",this.style.right="auto"),l+d.height>window.innerHeight?(this.style.bottom="0px",this.style.top="auto"):(this.style.top=Math.max(0,l)+"px",this.style.bottom="auto")):(this.style.left=k+"px",this.style.top=l+"px")}},
_addListeners:function(){this._target&&(this.listen(this._target,"mouseenter","show"),this.listen(this._target,"focus","show"),this.listen(this._target,"mouseleave","hide"),this.listen(this._target,"blur","hide"),this.listen(this._target,"tap","hide"));this.listen(this,"mouseenter","hide")},
_findTarget:function(){this.manualMode||this._removeListeners();this._target=this.target;this.manualMode||this._addListeners()},
_manualModeChanged:function(){this.manualMode?this._removeListeners():this._addListeners()},
_onAnimationFinish:function(){this._animationPlaying=!1;this._showing||this.toggleClass("hidden",!0,this.$.tooltip)},
_removeListeners:function(){this._target&&(this.unlisten(this._target,"mouseenter","show"),this.unlisten(this._target,"focus","show"),this.unlisten(this._target,"mouseleave","hide"),this.unlisten(this._target,"blur","hide"),this.unlisten(this._target,"tap","hide"));this.unlisten(this,"mouseenter","hide")}});var Yn=null;Polymer({is:"yt-endpoint",extends:"a",properties:{data:Object},listeners:{tap:"onTap_",touchstart:"onTapStart_",touchend:"onTouchEnd_",mousedown:"onTapStart_"},observers:["computeHref_(data)"],created:function(){Yn||(Yn=Cd(Fd))||(Yn=new Gd)},
computeHref_:function(a){Yn&&a?(a=Yn.getUrl(a))?this.href=a:this.removeAttribute("href"):this.removeAttribute("href")},
containsChildAnchor_:function(a){a=Polymer.dom(a).path||[];for(var b=0;b<a.length&&a[b]!=this;b++)if("A"==a[b].tagName)return!0;return!1},
onTap_:function(a){var b=a.detail.sourceEvent,c=void 0!==b.button,b=0==b.button&&!this.containsChildAnchor_(a)&&!(b.shiftKey||b.altKey||b.metaKey||b.ctrlKey);this.data&&(!c||c&&b)&&(a.preventDefault(),(A("ENABLE_ENDPOINT_STOP_PROPAGATION",!1)||zd("force_endpoint_stop_propagation"))&&a.stopPropagation(),this.setClickTrackingData_(),a=Yn.getNavigationEventDetails(this.data,a),this.fire("yt-navigate",a))},
onTouchEnd_:function(a){a.preventDefault()},
onTapStart_:function(){this.href&&this.setClickTrackingData_()},
setClickTrackingData_:function(){this.href&&gl(this.href,{itct:this.data.clickTrackingParams})}});Polymer({is:"iron-iconset-svg",properties:{name:{type:String,observer:"_nameChanged"},size:{type:Number,value:24},rtlMirroring:{type:Boolean,value:!1}},attached:function(){this.style.display="none"},
getIconNames:function(){this._icons=this._createIconMap();return Object.keys(this._icons).map(function(a){return this.name+":"+a},this)},
applyIcon:function(a,b){a=a.root||a;this.removeIcon(a);if(b=this._cloneIcon(b,this.rtlMirroring&&this._targetIsRTL(a))){var c=Polymer.dom(a);c.insertBefore(b,c.childNodes[0]);return a._svgIcon=b}return null},
removeIcon:function(a){a=a.root||a;a._svgIcon&&(Polymer.dom(a).removeChild(a._svgIcon),a._svgIcon=null)},
_targetIsRTL:function(a){null==this.__targetIsRTL&&(a&&a.nodeType!==Node.ELEMENT_NODE&&(a=a.host),this.__targetIsRTL=a&&"rtl"===window.getComputedStyle(a).direction);return this.__targetIsRTL},
_nameChanged:function(){new Polymer.IronMeta({type:"iconset",key:this.name,value:this});this.async(function(){this.fire("iron-iconset-added",this,{node:window})})},
_createIconMap:function(){var a=Object.create(null);Polymer.dom(this).querySelectorAll("[id]").forEach(function(b){a[b.id]=b});
return a},
_cloneIcon:function(a,b){this._icons=this._icons||this._createIconMap();return this._prepareSvgClone(this._icons[a],this.size,b)},
_prepareSvgClone:function(a,b,c){if(a){a=a.cloneNode(!0);var d=document.createElementNS("http://www.w3.org/2000/svg","svg");b=a.getAttribute("viewBox")||"0 0 "+b+" "+b;var e="pointer-events: none; display: block; width: 100%; height: 100%;";c&&a.hasAttribute("mirror-in-rtl")&&(e+="-webkit-transform:scale(-1,1);transform:scale(-1,1);");d.setAttribute("viewBox",b);d.setAttribute("preserveAspectRatio","xMidYMid meet");d.style.cssText=e;d.appendChild(a).removeAttribute("id");return d}return null}});Polymer({is:"yt-icon",properties:{icon:{type:String,observer:"iconChanged_"}},meta_:Polymer.Base.create("iron-meta",{type:"iconset"}),created:function(){this.iconName_="";this.iconsetName_="yt-icons";this.iconset_=null;this.missingIconSet_=!1},
iconChanged_:function(a){a=(a||"").split(":");1==a.length?(this.iconsetName_="yt-icons",this.iconName_=a[0].toLowerCase()):(this.iconsetName_=a[0],this.iconName_=a[1]);this.updateIcon_()},
updateIcon_:function(){""==this.iconName_?this.iconset_&&this.iconset_.removeIcon(this):this.iconsetName_&&this.meta_&&((this.iconset_=this.meta_.byKey(this.iconsetName_))?(this.iconset_.applyIcon(this,this.iconName_),this.missingIconSet_&&(this.missingIconSet_=!1,this.unlisten(window,"iron-iconset-added","updateIcon_"))):(this.missingIconSet_=!0,this.listen(window,"iron-iconset-added","updateIcon_")))}});Polymer({is:"yt-formatted-string",properties:{text:{type:Object,observer:"textChanged_"},noEndpoints:Boolean,noStyles:Boolean,splitLines:{type:Boolean,reflectToAttribute:!0},ellipsisTruncate:{type:Boolean,reflectToAttribute:!0},ariaLabel:{type:String,reflectToAttribute:!0,computed:"computeAriaLabel_(text.accessibility.accessibilityData.label)"},emojiSize:{type:Number,value:20}},behaviors:[B.YtRendererBehavior],visibilityLogging:3,created:function(){Polymer.Settings.useShadow&&this.toggleClass("use-shadow",
!0);"rtl"==A("HTML_DIR",void 0)&&this.setAttribute("dir","auto")},
clearContents_:function(a){for(var b=Polymer.dom(this.root),c=b.lastChild;c&&"STYLE"!=c.tagName;)b.removeChild(c),"yt-endpoint"==c.is&&(a.addElement(c),c.innerHTML=""),c=b.lastChild},
textChanged_:function(a){var b=Zh.getInstance(),c=Polymer.dom(this.root);if(a&&(a.runs||a.simpleText)){if(!Polymer.Settings.useShadow){if(a.simpleText){a.simpleText!=c.textContent&&(c.textContent=a.simpleText);return}if(1==a.runs.length&&this.isSimpleString_(a.runs[0])){c.textContent!=a.runs[0].text&&(c.textContent=a.runs[0].text);return}}else if(a.simpleText){this.clearContents_(b);b=document.createElement("span");b.appendChild(document.createTextNode(a.simpleText));c.appendChild(b);return}this.ellipsisTruncate&&
this.classList.add("complex-string");a.runs&&this.updateText_(a.runs,b)}else this.clearContents_(b)},
computeAriaLabel_:function(a){return a},
setNodeStyle_:function(a,b){this.noStyles||(a.bold&&b.classList.add("bold"),a.deemphasize&&b.classList.add("deemphasize"),a.italics&&b.classList.add("italic"),a.strikethrough&&b.classList.add("strikethrough"),a.textColor&&(b.style.color=ai(a.textColor)))},
updateText_:function(a,b){for(var c=a.length,d=Polymer.dom(this.root),e=d.firstChild;e&&"STYLE"==e.nodeName;)e=e.nextSibling;for(var f=0;f<c&&e;){var h=a[f];if(this.isSimpleString_(h)&&!Polymer.Settings.useShadow)if("#text"==e.nodeName){e.textContent!=h.text&&(e.textContent=h.text);f++;e=e.nextSibling;continue}else break;if(h.emoji)break;else if(!this.noEndpoints&&h.navigationEndpoint){if("yt-endpoint"!=e.is)break;e.data=h.navigationEndpoint}else if("SPAN"!=e.nodeName)break;this.setNodeStyle_(h,e);
e.textContent!=h.text&&(e.textContent=h.text);f++;e=e.nextSibling}if(e)for(h=d.lastChild,e=f?e.previousSibling:null;h&&h!=e;)d.removeChild(h),"yt-endpoint"==h.is&&(b.addElement(h),h.innerHTML=""),h=d.lastChild;f!=c&&this.addTextNodes_(a,f,b)},
addTextNodes_:function(a,b,c){for(var d=document.createDocumentFragment(),e=a.length;b<e;b++){var f=a[b];if(this.isSimpleString_(f)&&!Polymer.Settings.useShadow)d.appendChild(document.createTextNode(f.text));else if(f.emoji){if(f.emoji.image){var h=document.createElement("img");h.src=ml(f.emoji.image.thumbnails,this.emojiSize);h.alt=f.emoji.isCustomEmoji?f.emoji.shortcuts[0]:f.emoji.emojiId;d.appendChild(h)}}else!this.noEndpoints&&f.navigationEndpoint?(h=c.getElement("a","yt-endpoint"),h.data=f.navigationEndpoint,
h.updateStyles?h.updateStyles():Sc(Error("updateStyles missing on endpoint - nodeName: "+h.nodeName+" nodeIs: "+h.is))):h=document.createElement("span"),this.setNodeStyle_(f,h),h.appendChild(document.createTextNode(f.text)),d.appendChild(h)}Polymer.dom(this.root).appendChild(d)},
isSimpleString_:function(a){return(this.noEndpoints||!a.navigationEndpoint)&&!a.emoji&&(this.noStyles||!(a.bold||a.deemphasize||a.italics||a.strikethrough||a.textColor))},
getRawText:function(){return Md(this.text)},
getFirstRunText:function(){if(this.text&&this.text.runs[0])return this.text.runs[0].text},
setFirstRunText:function(a){this.text.runs[0]&&(this.text.runs[0].text=a,this.textChanged_(this.text))}});B.YtButtonBehaviorImpl_={properties:{data:{type:Object,observer:"dataChanged_"},alignByText:{type:Boolean,value:!1,reflectToAttribute:!0},forceIconButton:{type:Boolean,value:!1},noink:{type:Boolean,value:!1},showTooltips:{type:Boolean,value:!1},endpoint:{type:Object,readOnly:!0,computed:"computeEndpoint_(data)"},serviceEndpoint:{type:Object,readOnly:!0,computed:"computeServiceEndpoint_(data.serviceEndpoint)"},buttonIcon:{type:String,readOnly:!0,computed:"computeButtonIcon_(data)"},buttonRaised:{type:Boolean,
value:!1},disabled:{type:Boolean,observer:"disabledChanged_",reflectToAttribute:!0},buttonText:{type:Object,readOnly:!0,computed:"computeButtonText_(data)"},buttonAccessibility:{type:Object,readOnly:!0,computed:"computeAccessibility_(data)"},buttonTooltip:{type:String,readOnly:!0,computed:"computeTooltip_(data)"},buttonClass:{type:String,readOnly:!0,computed:"computeButtonClass_(data)",observer:"buttonClassChanged_"},stampType_:{type:String,computed:"computeStampType_(forceIconButton, buttonText, buttonIcon, endpoint)",
observer:"stampTypeChanged_"}},listeners:{focus:"addTooltips_",mouseenter:"addTooltips_",tap:"onYtButtonTap_"},observers:["isDisabledChanged_(data.isDisabled)","observeBasicPalette_(data.colorData.basicColorPaletteData)"],created:function(){this.elements_={};zd("enable_button_behavior_reuse")&&(this.pool_=Zh.getInstance())},
get container(){return this.root},onYtButtonTapHandler:function(){},
ytButtonServiceEndpointHandler:function(){},
dataChanged_:function(){this.elements_.endpoint&&(this.elements_.endpoint.data=this.endpoint);this.buttonClass&&(this.toggleClass(this.buttonClass,!0),this.toggleClass(this.buttonClass,!0,this.elements_.button),this.toggleClass(this.buttonClass,!0,this.elements_.text));this.elements_.icon&&(this.elements_.icon.icon=this.buttonIcon);this.elements_.text&&(this.elements_.text.text=this.buttonText);if(this.elements_.button&&this.buttonAccessibility){var a=this.buttonAccessibility.label;"paper-button"==
this.elements_.button.is?this.elements_.button.alt=a:a?this.elements_.button.setAttribute("aria-label",a):this.elements_.button.removeAttribute("aria-label")}},
addTooltips_:function(){this.elements_.endpoint&&this.showTooltips&&this.buttonTooltip&&(this.elements_.tooltip||(this.elements_.tooltip=this.getElement_("paper-tooltip"),this.elements_.tooltip.offset=8,Polymer.dom(this.elements_.endpoint).appendChild(this.elements_.tooltip)),Polymer.dom(this.elements_.tooltip).textContent=this.buttonTooltip)},
buttonClassChanged_:function(a,b){b&&(this.toggleClass(b,!1),this.toggleClass(b,!1,this.elements_.button),this.toggleClass(b,!1,this.elements_.text))},
stampTypeChanged_:function(a){this.emptyContainer_();this.elements_={};if(a){var b=!1;this.elements_.endpoint=document.createElement("a","yt-endpoint");this.elements_.endpoint.tabIndex=-1;switch(a){case "paper_icon_button_light_with_label":b=!0;this.toggleClass("force-icon-button",!0);this.elements_.button=this.getPaperIconButtonLight_();a=Polymer.dom(this.elements_.button).firstElementChild;this.elements_.icon=a;this.elements_.text=this.getElement_("yt-formatted-string");this.elements_.text.id="text";
Polymer.dom(this.elements_.endpoint).appendChild(this.elements_.button);Polymer.dom(this.elements_.endpoint).appendChild(this.elements_.text);break;case "paper_button":this.elements_.button=this.getElement_("paper-button");this.elements_.text=this.getElement_("yt-formatted-string");this.elements_.text.id="text";this.elements_.button.raised=this.buttonRaised;this.buttonIcon&&(this.elements_.icon=this.getElement_("yt-icon"),Polymer.dom(this.elements_.button).appendChild(this.elements_.icon));Polymer.dom(this.elements_.button).appendChild(this.elements_.text);
Polymer.dom(this.elements_.endpoint).appendChild(this.elements_.button);break;case "paper_icon_button_light":b=!0,this.elements_.button=this.getPaperIconButtonLight_(),a=Polymer.dom(this.elements_.button).firstElementChild,this.elements_.icon=a,Polymer.dom(this.elements_.endpoint).appendChild(this.elements_.button)}this.toggleAttribute("is-icon-button",b);this.toggleAttribute("is-paper-button",!b);this.elements_.button.id="button";this.elements_.button.noink=this.noink;this.elements_.button.disabled=
this.disabled;Polymer.dom(this.container).appendChild(this.elements_.endpoint)}},
isDisabledChanged_:function(a){if(void 0!=a||this.disabled)this.disabled=a,this.elements_.button&&(this.elements_.button.disabled=a)},
observeBasicPalette_:function(a){ei(this,a)},
disabledChanged_:function(a){this.data&&this.set("data.isDisabled",a)},
onYtButtonTap_:function(){this.serviceEndpoint&&(this.sendServiceRequestAction([this.serviceEndpoint]),this.fire("yt-execute-service-endpoint",{serviceEndpoint:this.serviceEndpoint}))},
computeStampType_:function(a,b,c){return a&&b&&c?"paper_icon_button_light_with_label":b?"paper_button":c?"paper_icon_button_light":null},
computeEndpoint_:function(a){return a&&a.navigationEndpoint||null},
computeServiceEndpoint_:function(a){return a||null},
computeButtonIcon_:function(a){return a&&a.icon?Cd(fi)?void 0:"yt-icons:"+a.icon.iconType.toLowerCase():null},
computeButtonText_:function(a){return a&&a.text||null},
computeAccessibility_:function(a){return this.get("accessibilityData.accessibilityData",a)||a&&a.accessibility||null},
computeTooltip_:function(a){return a&&a.tooltip||null},
computeButtonClass_:function(a){return a&&a.style?a.style.toLowerCase().replace(/_/g,"-"):""},
emptyContainer_:function(){for(var a=Polymer.dom(this.container);a.lastChild&&"STYLE"!=a.lastChild.tagName;)a.removeChild(a.lastChild)},
getPaperIconButtonLight_:function(){var a=this.getElement_("paper-icon-button-light"),b=Polymer.dom(a).firstElementChild;if(b&&"yt-icon"!=b.is){for(b=Polymer.dom(a);b.lastChild;)b.removeChild(b.lastChild);b=null}b||(b=this.getElement_("yt-icon"),Polymer.dom(a).appendChild(b));return a},
getElement_:function(a){var b=void 0;"paper-icon-button-light"==a&&(b=a,a="button");return zd("enable_button_behavior_reuse")?this.pool_.getElement(a,b):document.createElement(a,b)}};
B.YtButtonBehavior=[B.YtRendererBehavior,B.YtActionSenderBehavior,B.YtButtonBehaviorImpl_];Polymer({is:"ytd-button-renderer",behaviors:[B.YtButtonBehavior,Xn.YtdOpenPopupBehavior],hostAttributes:{"button-renderer":!0},listeners:{"yt-navigate":"onYtNavigate_"},created:function(){this.showTooltips=!0},
onYtNavigate_:function(a){var b=this.getNavigationEndpointPopupAction(a.detail.endpoint);b&&(a.stopPropagation(),this.openPopup(b))}});Polymer.IronSelection=function(a){this.selection=[];this.selectCallback=a};
Polymer.IronSelection.prototype={get:function(){return this.multi?this.selection.slice():this.selection[0]},
clear:function(a){this.selection.slice().forEach(function(b){(!a||0>a.indexOf(b))&&Zn(this,b,!1)},this)},
isSelected:function(a){return 0<=this.selection.indexOf(a)},
select:function(a){this.multi?this.toggle(a):this.get()!==a&&(Zn(this,this.get(),!1),Zn(this,a,!0))},
toggle:function(a){Zn(this,a,!this.isSelected(a))}};
var Zn=function(a,b,c){if(null!=b&&c!==a.isSelected(b)){if(c)a.selection.push(b);else{var d=a.selection.indexOf(b);0<=d&&a.selection.splice(d,1)}a.selectCallback&&a.selectCallback(b,c)}};Polymer.IronSelectableBehavior={properties:{attrForSelected:{type:String,value:null},selected:{type:String,notify:!0},selectedItem:{type:Object,readOnly:!0,notify:!0},activateEvent:{type:String,value:"tap",observer:"_activateEventChanged"},selectable:String,selectedClass:{type:String,value:"iron-selected"},selectedAttribute:{type:String,value:null},fallbackSelection:{type:String,value:null},items:{type:Array,readOnly:!0,notify:!0,value:function(){return[]}},
_excludedLocalNames:{type:Object,value:function(){return{template:1}}}},
observers:["_updateAttrForSelected(attrForSelected)","_updateSelected(selected)","_checkFallback(fallbackSelection)"],created:function(){this._bindFilterItem=this._filterItem.bind(this);this._selection=new Polymer.IronSelection(this._applySelection.bind(this))},
attached:function(){this._observer=this._observeItems(this);this._updateItems();this._shouldUpdateSelection||this._updateSelected();this._addListener(this.activateEvent)},
detached:function(){this._observer&&Polymer.dom(this).unobserveNodes(this._observer);this._removeListener(this.activateEvent)},
indexOf:function(a){return this.items.indexOf(a)},
select:function(a){this.selected=a},
selectPrevious:function(){var a=this.items.length,a=(Number(this._valueToIndex(this.selected))-1+a)%a;this.selected=this._indexToValue(a)},
selectNext:function(){var a=(Number(this._valueToIndex(this.selected))+1)%this.items.length;this.selected=this._indexToValue(a)},
selectIndex:function(a){this.select(this._indexToValue(a))},
forceSynchronousItemUpdate:function(){this._updateItems()},
get _shouldUpdateSelection(){return null!=this.selected},_checkFallback:function(){this._shouldUpdateSelection&&this._updateSelected()},
_addListener:function(a){this.listen(this,a,"_activateHandler")},
_removeListener:function(a){this.unlisten(this,a,"_activateHandler")},
_activateEventChanged:function(a,b){this._removeListener(b);this._addListener(a)},
_updateItems:function(){var a=Polymer.dom(this).queryDistributedElements(this.selectable||"*"),a=Array.prototype.filter.call(a,this._bindFilterItem);this._setItems(a)},
_updateAttrForSelected:function(){this._shouldUpdateSelection&&(this.selected=this._indexToValue(this.indexOf(this.selectedItem)))},
_updateSelected:function(){this._selectSelected(this.selected)},
_selectSelected:function(){this._selection.select(this._valueToItem(this.selected));this.fallbackSelection&&this.items.length&&void 0===this._selection.get()&&(this.selected=this.fallbackSelection)},
_filterItem:function(a){return!this._excludedLocalNames[a.localName]},
_valueToItem:function(a){return null==a?null:this.items[this._valueToIndex(a)]},
_valueToIndex:function(a){if(this.attrForSelected)for(var b=0,c;c=this.items[b];b++){if(this._valueForItem(c)==a)return b}else return Number(a)},
_indexToValue:function(a){if(this.attrForSelected){if(a=this.items[a])return this._valueForItem(a)}else return a},
_valueForItem:function(a){var b=a[Polymer.CaseMap.dashToCamelCase(this.attrForSelected)];return void 0!=b?b:a.getAttribute(this.attrForSelected)},
_applySelection:function(a,b){this.selectedClass&&this.toggleClass(this.selectedClass,b,a);this.selectedAttribute&&this.toggleAttribute(this.selectedAttribute,b,a);this._selectionChange();this.fire("iron-"+(b?"select":"deselect"),{item:a})},
_selectionChange:function(){this._setSelectedItem(this._selection.get())},
_observeItems:function(a){return Polymer.dom(a).observeNodes(function(a){this._updateItems();this._shouldUpdateSelection&&this._updateSelected();this.fire("iron-items-changed",a,{bubbles:!1,cancelable:!1})})},
_activateHandler:function(a){a=a.target;for(var b=this.items;a&&a!=this;){var c=b.indexOf(a);if(0<=c){b=this._indexToValue(c);this._itemActivate(b,a);break}a=a.parentNode}},
_itemActivate:function(a,b){this.fire("iron-activate",{selected:a,item:b},{cancelable:!0}).defaultPrevented||this.select(a)}};Polymer.IronMultiSelectableBehaviorImpl={properties:{multi:{type:Boolean,value:!1,observer:"multiChanged"},selectedValues:{type:Array,notify:!0},selectedItems:{type:Array,readOnly:!0,notify:!0}},observers:["_updateSelected(selectedValues.splices)"],select:function(a){this.multi?this.selectedValues?this._toggleSelected(a):this.selectedValues=[a]:this.selected=a},
multiChanged:function(a){this._selection.multi=a},
get _shouldUpdateSelection(){return null!=this.selected||null!=this.selectedValues&&this.selectedValues.length},_updateAttrForSelected:function(){this.multi?this._shouldUpdateSelection&&(this.selectedValues=this.selectedItems.map(function(a){return this._indexToValue(this.indexOf(a))},this).filter(function(a){return null!=a},this)):Polymer.IronSelectableBehavior._updateAttrForSelected.apply(this)},
_updateSelected:function(){this.multi?this._selectMulti(this.selectedValues):this._selectSelected(this.selected)},
_selectMulti:function(a){if(a){a=this._valuesToItems(a);this._selection.clear(a);for(var b=0;b<a.length;b++)Zn(this._selection,a[b],!0);this.fallbackSelection&&this.items.length&&!this._selection.get().length&&this._valueToItem(this.fallbackSelection)&&(this.selectedValues=[this.fallbackSelection])}else this._selection.clear()},
_selectionChange:function(){var a=this._selection.get();this.multi?this._setSelectedItems(a):(this._setSelectedItems([a]),this._setSelectedItem(a))},
_toggleSelected:function(a){var b=this.selectedValues.indexOf(a);0>b?this.push("selectedValues",a):this.splice("selectedValues",b,1)},
_valuesToItems:function(a){return null==a?null:a.map(function(a){return this._valueToItem(a)},this)}};
Polymer.IronMultiSelectableBehavior=[Polymer.IronSelectableBehavior,Polymer.IronMultiSelectableBehaviorImpl];Polymer.IronMenuBehaviorImpl={properties:{focusedItem:{observer:"_focusedItemChanged",readOnly:!0,type:Object},attrForItemTitle:{type:String}},hostAttributes:{role:"menu",tabindex:"0"},observers:["_updateMultiselectable(multi)"],listeners:{focus:"_onFocus",keydown:"_onKeydown","iron-items-changed":"_onIronItemsChanged"},keyBindings:{up:"_onUpKey",down:"_onDownKey",esc:"_onEscKey","shift+tab:keydown":"_onShiftTabDown"},attached:function(){this._resetTabindices()},
select:function(a){this._defaultFocusAsync&&(this.cancelAsync(this._defaultFocusAsync),this._defaultFocusAsync=null);var b=this._valueToItem(a);b&&b.hasAttribute("disabled")||(this._setFocusedItem(b),Polymer.IronMultiSelectableBehaviorImpl.select.apply(this,arguments))},
_resetTabindices:function(){var a=this.multi?this.selectedItems&&this.selectedItems[0]:this.selectedItem;this.items.forEach(function(b){b.setAttribute("tabindex",b===a?"0":"-1")},this)},
_updateMultiselectable:function(a){a?this.setAttribute("aria-multiselectable","true"):this.removeAttribute("aria-multiselectable")},
_focusWithKeyboardEvent:function(a){for(var b=0,c;c=this.items[b];b++){var d=this.attrForItemTitle||"textContent",d=c[d]||c.getAttribute(d);if(!c.hasAttribute("disabled")&&d&&d.trim().charAt(0).toLowerCase()===String.fromCharCode(a.keyCode).toLowerCase()){this._setFocusedItem(c);break}}},
_focusPrevious:function(){for(var a=this.items.length,b=Number(this.indexOf(this.focusedItem)),c=1;c<a+1;c++){var d=this.items[(b-c+a)%a];if(!d.hasAttribute("disabled")){var e=Polymer.dom(d).getOwnerRoot()||document;this._setFocusedItem(d);if(Polymer.dom(e).activeElement==d)break}}},
_focusNext:function(){for(var a=this.items.length,b=Number(this.indexOf(this.focusedItem)),c=1;c<a+1;c++){var d=this.items[(b+c)%a];if(!d.hasAttribute("disabled")){var e=Polymer.dom(d).getOwnerRoot()||document;this._setFocusedItem(d);if(Polymer.dom(e).activeElement==d)break}}},
_applySelection:function(a,b){b?a.setAttribute("aria-selected","true"):a.removeAttribute("aria-selected");Polymer.IronSelectableBehavior._applySelection.apply(this,arguments)},
_focusedItemChanged:function(a,b){b&&b.setAttribute("tabindex","-1");a&&(a.setAttribute("tabindex","0"),a.focus())},
_onIronItemsChanged:function(a){a.detail.addedNodes.length&&this._resetTabindices()},
_onShiftTabDown:function(){var a=this.getAttribute("tabindex");Polymer.IronMenuBehaviorImpl._shiftTabPressed=!0;this._setFocusedItem(null);this.setAttribute("tabindex","-1");this.async(function(){this.setAttribute("tabindex",a);Polymer.IronMenuBehaviorImpl._shiftTabPressed=!1},1)},
_onFocus:function(a){!Polymer.IronMenuBehaviorImpl._shiftTabPressed&&(a=Polymer.dom(a).rootTarget,a===this||"undefined"===typeof a.tabIndex||this.isLightDescendant(a))&&(this._defaultFocusAsync=this.async(function(){var a=this.multi?this.selectedItems&&this.selectedItems[0]:this.selectedItem;this._setFocusedItem(null);a?this._setFocusedItem(a):this.items[0]&&this._focusNext()}))},
_onUpKey:function(a){this._focusPrevious();a.detail.keyboardEvent.preventDefault()},
_onDownKey:function(a){this._focusNext();a.detail.keyboardEvent.preventDefault()},
_onEscKey:function(){this.focusedItem.blur()},
_onKeydown:function(a){this.keyboardEventMatchesKeys(a,"up down esc")||this._focusWithKeyboardEvent(a);a.stopPropagation()},
_activateHandler:function(a){Polymer.IronSelectableBehavior._activateHandler.call(this,a);a.stopPropagation()}};
Polymer.IronMenuBehaviorImpl._shiftTabPressed=!1;Polymer.IronMenuBehavior=[Polymer.IronMultiSelectableBehavior,Polymer.IronA11yKeysBehavior,Polymer.IronMenuBehaviorImpl];Polymer({is:"paper-menu",behaviors:[Polymer.IronMenuBehavior]});Polymer({is:"iron-collapse",behaviors:[Polymer.IronResizableBehavior],properties:{horizontal:{type:Boolean,value:!1,observer:"_horizontalChanged"},opened:{type:Boolean,value:!1,notify:!0,observer:"_openedChanged"},noAnimation:{type:Boolean}},get dimension(){return this.horizontal?"width":"height"},hostAttributes:{role:"group","aria-hidden":"true","aria-expanded":"false"},listeners:{transitionend:"_transitionEnd"},attached:function(){this._transitionEnd()},
toggle:function(){this.opened=!this.opened},
show:function(){this.opened=!0},
hide:function(){this.opened=!1},
updateSize:function(a,b){this.style[this.dimension]!==a&&(this._updateTransition(!1),b&&!this.noAnimation&&this._isDisplayed&&(b=this._calcSize(),"auto"===a&&(this.style[this.dimension]=a,a=this._calcSize()),this.style[this.dimension]=b,this.offsetHeight=this.offsetHeight,this._updateTransition(!0)),this.style[this.dimension]=a)},
enableTransition:function(a){console.warn("`enableTransition()` is deprecated, use `noAnimation` instead.");this.noAnimation=!a},
_updateTransition:function(a){this.style.transitionDuration=a&&!this.noAnimation?"":"0s"},
_horizontalChanged:function(){this.style.transitionProperty=this.dimension;this.style["width"===this.dimension?"height":"width"]="";this.updateSize(this.opened?"auto":"0px",!1)},
_openedChanged:function(){this.setAttribute("aria-expanded",this.opened);this.setAttribute("aria-hidden",!this.opened);this.toggleClass("iron-collapse-closed",!1);this.toggleClass("iron-collapse-opened",!1);this.updateSize(this.opened?"auto":"0px",!0);this.opened&&this.focus();this.noAnimation&&this._transitionEnd()},
_transitionEnd:function(){this.opened&&(this.style[this.dimension]="auto");this.toggleClass("iron-collapse-closed",!this.opened);this.toggleClass("iron-collapse-opened",this.opened);this._updateTransition(!1);this.notifyResize()},
get _isDisplayed(){var a=this.getBoundingClientRect(),b;for(b in a)if(0!==a[b])return!0;return!1},_calcSize:function(){return this.getBoundingClientRect()[this.dimension]+"px"}});Polymer({is:"paper-submenu",properties:{opened:{type:Boolean,value:!1,notify:!0,observer:"_openedChanged"}},behaviors:[Polymer.IronControlState],listeners:{focus:"_onFocus"},get __parent(){return Polymer.dom(this).parentNode},get __trigger(){return Polymer.dom(this.$.trigger).getDistributedNodes()[0]},get __content(){return Polymer.dom(this.$.content).getDistributedNodes()[0]},attached:function(){this.listen(this.__parent,"iron-activate","_onParentIronActivate")},
dettached:function(){this.unlisten(this.__parent,"iron-activate","_onParentIronActivate")},
open:function(){this.disabled||this._active||(this.$.collapse.show(),this._active=!0,this.__trigger&&this.__trigger.classList.add("iron-selected"),this.__content&&this.__content.focus())},
close:function(){this._active&&(this.$.collapse.hide(),this._active=!1,this.__trigger&&this.__trigger.classList.remove("iron-selected"))},
toggle:function(){this._active?this.close():this.open()},
_onTap:function(){this.disabled||this.toggle()},
_openedChanged:function(a,b){a?this.fire("paper-submenu-open"):null!=b&&this.fire("paper-submenu-close")},
_onParentIronActivate:function(a){var b=this.__parent;Polymer.dom(a).localTarget===b&&(a.detail.item===this||b.multi||this.close())},
_disabledChanged:function(a){Polymer.IronControlState._disabledChanged.apply(this,arguments);a&&this._active&&this.close()},
_onFocus:function(){this.__trigger&&this.__trigger.focus()}});console.warn("This file is deprecated. Please use `iron-flex-layout/iron-flex-layout-classes.html`, and one of the specific dom-modules instead");console.warn("This file is deprecated. Please use `iron-flex-layout/iron-flex-layout-classes.html`, and one of the specific dom-modules instead");Polymer.PaperItemBehaviorImpl={hostAttributes:{role:"option",tabindex:"0"}};Polymer.PaperItemBehavior=[Polymer.IronButtonState,Polymer.IronControlState,Polymer.PaperItemBehaviorImpl];Polymer({is:"paper-icon-item",behaviors:[Polymer.PaperItemBehavior]});Polymer({is:"paper-item-body"});Polymer({is:"paper-item",behaviors:[Polymer.PaperItemBehavior]});B.YtConditionalRendererBehaviorImpl_={_noAccessors:!0,properties:{hidden:{type:Boolean,reflectToAttribute:!0}},observers:["updateHidden_(data, isAttached)"],updateHidden_:function(a,b){this.hidden=!this.shouldShow_(a,b)},
shouldShow_:function(a,b){return b?a&&a.supportedDatas&&a.supportedDatas.rendererVisibilityConditionData&&a.supportedDatas.rendererVisibilityConditionData.showIf?this.isVisibilityConditionSatisfied_(a.supportedDatas.rendererVisibilityConditionData.showIf):a&&a.visibilityConditionType?this.isLegacyVisibilityConditionSatisfied_(a.visibilityConditionType):!0:!1},
isVisibilityConditionSatisfied_:function(a){switch(a){case "VISIBILITY_CONDITION_TYPE_MDX_CONNECTED":return this.isMdxConnected_();case "VISIBILITY_CONDITION_TYPE_MDX_DISCONNECTED":return!this.isMdxConnected_();default:return!1}},
isLegacyVisibilityConditionSatisfied_:function(a){switch(a){case "MDX_CONNECTED":return this.isMdxConnected_();default:return!1}},
isMdxConnected_:function(){var a=this.sendAction("yt-get-mdx-status");return 1==a.length&&a[0].connected}};
B.YtConditionalRendererBehavior=[B.YtRendererBehavior,B.YtConditionalRendererBehaviorImpl_];Polymer({is:"ytd-menu-navigation-item-renderer",behaviors:[Polymer.PaperItemBehavior,B.YtConditionalRendererBehavior,Xn.YtdOpenPopupBehavior],properties:{data:Object},listeners:{focus:"onFocus_",keydown:"onKeydown_","yt-navigate":"onYtNavigate_"},onFocus_:function(){this.$$("a").focus()},
onKeydown_:function(a){Polymer.IronA11yKeysBehavior.keyboardEventMatchesKeys(a,"enter")&&(this.get("updateCommentDialogEndpoint.dialog",this.data.navigationEndpoint)||this.get("updateCommentReplyDialogEndpoint.dialog",this.data.navigationEndpoint)||this.get("confirmDialogEndpoint.content",this.data.navigationEndpoint))&&this.$$("a").click()},
onYtNavigate_:function(a,b){this.fire("iron-activate");if(b=this.getNavigationEndpointPopupAction(b.endpoint))a.stopPropagation(),this.openPopup(b)}});Polymer({is:"ytd-menu-service-item-renderer",behaviors:[Polymer.PaperItemBehavior,Xn.YtdOpenPopupBehavior,B.YtActionSenderBehavior,B.YtConditionalRendererBehavior],properties:{data:Object},listeners:{tap:"onTap_"},onTap_:function(){var a=this.data.serviceEndpoint;a&&this.sendServiceRequestAction([a])}});Polymer({is:"ytd-toggle-menu-service-item-renderer",behaviors:[Polymer.PaperItemBehavior,B.YtRendererBehavior],properties:{data:Object},listeners:{tap:"onTap_","yt-service-request-completed":"onYtServiceRequestCompleted_"},computeText_:function(a,b,c){return this.getSimpleString(a?c:b)},
onTap_:function(){var a=this.data.isToggled?this.data.toggledServiceEndpoint:this.data.defaultServiceEndpoint;a&&this.sendServiceRequestAction([a])},
onYtServiceRequestCompleted_:function(){this.set("data.isToggled",!this.data.isToggled)}});R.YtEventForwardingBehavior={created:function(){this.eventSink_=null;this.eventList_=[]},
forwardEvent_:function(a,b){a.stopPropagation();this.eventSink_.fire(a.type,b)},
startForwardingEvents:function(a,b){this.eventSink_&&this.stopForwardingEvents();for(var c=0;c<a.length;c++)this.listen(this,a[c],"forwardEvent_");this.eventSink_=b;this.eventList_=a},
stopForwardingEvents:function(){for(var a=0;a<this.eventList_.length;a++)this.unlisten(this,this.eventList_[a],"forwardEvent_");this.eventSink_=null;this.eventList_=[]}};R.YtRendererStamperBehavior={mappings:null,stampDom:null,rendererStamperLogger_:null,beforeRegister:function(){this.stampDom&&this.addStampDomObservers_()},
created:function(){this.deferredBindingTasks_=[];this.renderJobsMap_=Object.create(null);this.stampDom&&this.addStampDomObserverFns_();this.telemetry_={};this.resetTelemetry_()},
resetTelemetry_:function(){this.telemetry_.create=0;this.telemetry_.reuse=0},
addStampDomObservers_:function(){this.observers||(this.observers=[]);for(var a in this.stampDom){var b="stamp"+this.stampDom[a].id.replace("-","_")+"_";this.observers.push(b+"("+a+".*)")}},
addStampDomObserverFns_:function(){for(var a in this.stampDom){var b=this.stampDom[a];this["stamp"+b.id.replace("-","_")+"_"]=this.rendererStamperObserver_.bind(this,a,b.id)}},
rendererStamperObserver_:function(a,b,c){var d=this.renderJobsMap_[b],e=null;a==c.path?(e=c.value,sa(e)||(e=void 0===e||null===e?[]:[e]),a=this.stampDom[a],e=this.stampDomArray_.bind(this,e,b,a.mapping,a.reuseComponents),d&&d.cancel(),d||void 0==a.initialRenderPriority)?a.renderPriority&&(d||(d=new pl(a.renderPriority),this.renderJobsMap_[b]=d),rl(d,e)):(d=new pl(a.initialRenderPriority,a.waitForSignal),this.renderJobsMap_[b]=d,e=function(a,b){a();if(10!=b.priority_){b.priority_=10;for(var c in b.scheduledJobs_)a=
b.scheduledJobs_[c],kl(a.jobId),a.jobId=il(a.jobWrapper,10)}}.bind(this,e,d)):e=a+".splices"==c.path?this.stampDomArraySplices_.bind(this,a,b,c.value):this.forwardRendererStamperChanges_.bind(this,a,b,c);
d?rl(d,e):e()},
forwardRendererStamperChanges_:function(a,b,c){a=c.path.slice(a.length+1);var d=this.getStampContainer_(b);b=a.indexOf(".");var e=a.substring(0,b),f=0;"#"==e[0]&&(f=parseInt(e.substring(1),0),a=a.substring(e.length+1),b=a.indexOf("."));if(d=Polymer.dom(d).children[f])a="data"+a.slice(b),c.value?d.notifyPath(a,c.value):d.notifyPath(a)},
stampDomArraySplices_:function(a,b,c){if(c&&c.indexSplices){b=Polymer.dom(this.getStampContainer_(b));var d=Jm(this.stampDom[a].reuseComponents),e=void 0;d&&(e=Zh.getInstance());for(var f=c.indexSplices.length,h=0;h<f;h++){for(var k=c.indexSplices[h],l=b.children[k.index],m=k.removed.length;0<m;m--)l&&l.parentElement&&(Polymer.dom(l.parentElement).removeChild(l),d&&e.addElement(l),l=b.children[k.index]);for(var m=this.stampDom[a].mapping,t=k.index+k.addedCount,H=document.createDocumentFragment(),
N=d,F=k.index;F<t;F++){var I=k.object[F],ga=Hm(m,I);if(ga){var L=m[ga],I=I[ga],ga=this.getComponentName_(L,I),Ld=l?Gm.has(l):!1;N&&l&&l.is==ga&&Ld?(this.deferRenderStamperBinding_(l,L,I),this.telemetry_.reuse++,l=l.nextElementSibling):N&&l&&Ld?(L=this.createComponent_(L,I,e),I=Polymer.dom(l).nextElementSibling,b.insertBefore(L,I),Lm(this.is,b,l,e),l=I):(N=!1,L=this.createComponent_(L,I,e),H.appendChild(L))}else Sc(Error(this.rendererStamperLogger_,"Unimplemented type"+I))}b.insertBefore(H,l)}this.flushRenderStamperComponentBindings_()}},
stampDomArray_:function(a,b,c,d){b=Polymer.dom(this.getStampContainer_(b));var e=void 0;Jm(d)&&(e=Zh.getInstance());if(a){var f=0,h=0,k;if(A("STAMPER_STABLE_LIST",!1))for(k=b.firstElementChild;k&&!Gm.has(k)&&a.length>h;){var l=a[h];if(d=Hm(c,l)){if(this.getComponentName_(c[d],l)!=k.is){var m=this.createComponent_(c[d],l[d],e),t=Polymer.dom(k).nextElementSibling;t?b.insertBefore(m,t):b.appendChild(m);Lm(this.is,b,k,e);k=m}else this.telemetry_.reuse++;this.deferRenderStamperBinding_(k,c[d],l[d]);f++;
h++;k=Polymer.dom(k).nextElementSibling}else h++}Mm(this.is,b,f,e);f=k;if(a.length>h){m=document.createDocumentFragment();for(t=a.length;h<t;h++)if(l=a[h],d=Hm(c,l))k=this.createComponent_(c[d],l[d],e),m.appendChild(k);f&&Polymer.dom(f).parentElement&&!Gm.has(k)?b.insertBefore(m,f):b.appendChild(m)}this.flushRenderStamperComponentBindings_();this.markDirty&&this.markDirty()}else Mm(this.is,b,0,e)},
getStampContainer_:function(a){return this.$[a]||this.$$("#"+a)},
getComponentName_:function(a,b){return"string"===typeof a?a:a.matcher?a.matcher.call(this,b):a.component},
createComponent_:function(a,b,c){var d=this.getComponentName_(a,b);c?(c=c.getElement(d),c.updateStyles?c.updateStyles():Sc(Error("Unregistered element: "+d),"WARNING")):c=document.createElement(d);this.deferRenderStamperBinding_(c,a,b);this.telemetry_.create++;return c},
deferRenderStamperBinding_:function(a,b,c){this.deferredBindingTasks_.push({component:a,typeOrConfig:b,data:c})},
flushRenderStamperComponentBindings_:function(){for(var a=0,b=this.deferredBindingTasks_.length;a<b;a++){var c=this.deferredBindingTasks_[a],d=void 0,e=void 0,f=void 0,h=c.component,k=c.typeOrConfig,c=c.data;if("string"!==typeof k){for(f in k.attributes)!0===k.attributes[f]?h.setAttribute(f,""):!1===k.attributes[f]?h.removeAttribute(f):h.setAttribute(f,k.attributes[f]);for(e in k.params)h[e]=k.params[e];for(e in k.properties)f=Im(k.properties[e]),h[e]=this.get(f),"on-tap"==e&&h.listen(h,"tap","on-tap");
if(k.classListBinding)for(d in f=Im(k.classListBinding),e=this[f],e)h.toggleClass(e[d],!0)}h.data=c;if(d=Gm.get(h))h.hidden=!1,Gm.delete(h),kl(d)}this.deferredBindingTasks_.length=0}};Polymer({is:"ytd-menu-popup-renderer",behaviors:[R.YtEventForwardingBehavior,R.YtRendererStamperBehavior,B.YtActionSenderBehavior,B.YtRendererBehavior],properties:{data:Object},listeners:{"yt-popup-opened":"onPopupOpened_"},stampDom:{"data.items":{id:"items",mapping:{menuNavigationItemRenderer:"ytd-menu-navigation-item-renderer",menuServiceItemRenderer:"ytd-menu-service-item-renderer",menuConditionalNavigationItemRenderer:"ytd-menu-navigation-item-renderer",menuConditionalServiceItemRenderer:"ytd-menu-service-item-renderer",
toggleMenuServiceItemRenderer:"ytd-toggle-menu-service-item-renderer"},reuseComponents:!0}},onPopupOpened_:function(){this.$.items.selected=null;Polymer.dom(this.$.items).children.forEach(function(a){a.popupPositionTarget=this.positionTarget}.bind(this))},
onIronActivate_:function(){this.sendAction("yt-close-popup-action",["ytd-menu-popup-renderer"])}});Polymer({is:"yt-network-manager",provides:Vh,behaviors:[Xd.ComponentBehavior],properties:{baseUrl:{type:String,value:""},mobile:Boolean},factoryImpl:function(){},
created:function(){this.aTag_=document.createElement("a")},
attached:function(){this.listen(document,"yt-preconnect-urls","onYtPreconnectUrls_")},
detached:function(){this.unlisten(document,"yt-preconnect-urls","onYtPreconnectUrls_")},
onYtPreconnectUrls_:function(a,b){for(a=0;a<b.length;a++){var c=b[a];(new Image).src=c}},
endpointToXhrUrl:function(a,b){a=(a=Ed(a,b))?Dd(a,{pbj:"1"}):null;this.aTag_.href=a;return this.aTag_.href},
fetchData:function(a){return Sn(a)},
postData:function(a,b){var c={method:"POST"};b&&(c.postParams=b);return Sn(a,c)},
requestDataForEndpoint:function(a,b,c,d){b=this.endpointToXhrUrl(a,b);if(!b)throw Error("Cannot construct url for endpoint",JSON.stringify(a));return Sn(b,d,c)},
requestDataForServiceEndpoint:function(a,b){b=b||{};var c=a.webSerializedServiceEndpointExtension;c?b.se=c.base64EncodedServiceEndpoint:b.sej=JSON.stringify(a);return this.postServiceRequest(b)},
postServiceRequest:function(a){return this.postData("/service_ajax",a)}});Polymer({is:"ytd-live-chat-config",beforeRegister:function(){Qc({BUTTON_RENDERER:"ytd-button-renderer"})},
created:function(){var a=Polymer.IronOverlayManager;a._minimumZ=Math.max(a._minimumZ,2200)},
attached:function(){Cd(Vh)||Polymer.dom(this.root).appendChild(document.createElement("yt-network-manager"));this.fire("yt-live-chat-popup-config",Yh)}});var $n=function(a,b){this.domain_=this.userInfo_=this.scheme_="";this.port_=null;this.fragment_=this.path_="";this.ignoreCase_=this.isReadOnly_=!1;if(a instanceof $n){this.ignoreCase_=p(b)?b:a.ignoreCase_;this.setScheme(a.getScheme());var c=a.userInfo_;ao(this);this.userInfo_=c;bo(this,a.domain_);co(this,a.port_);eo(this,a.path_);fo(this,a.queryData_.clone());go(this,a.fragment_)}else a&&(c=id(String(a)))?(this.ignoreCase_=!!b,this.setScheme(c[1]||"",!0),a=c[2]||"",ao(this),this.userInfo_=ho(a),bo(this,
c[3]||"",!0),co(this,c[4]),eo(this,c[5]||"",!0),fo(this,c[6]||"",!0),go(this,c[7]||"",!0)):(this.ignoreCase_=!!b,this.queryData_=new io(null,0,this.ignoreCase_))};
g=$n.prototype;g.toString=function(){var a=[],b=this.getScheme();b&&a.push(jo(b,ko,!0),":");var c=this.domain_;if(c||"file"==b)a.push("//"),(b=this.userInfo_)&&a.push(jo(b,ko,!0),"@"),a.push(encodeURIComponent(String(c)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c=this.port_,null!=c&&a.push(":",String(c));if(c=this.path_)this.domain_&&"/"!=c.charAt(0)&&a.push("/"),a.push(jo(c,"/"==c.charAt(0)?lo:mo,!0));(c=this.queryData_.toString())&&a.push("?",c);(c=this.fragment_)&&a.push("#",jo(c,no));return a.join("")};
g.resolve=function(a){var b=this.clone(),c=a.hasScheme();c?b.setScheme(a.getScheme()):c=!!a.userInfo_;if(c){var d=a.userInfo_;ao(b);b.userInfo_=d}else c=!!a.domain_;c?bo(b,a.domain_):c=null!=a.port_;d=a.path_;if(c)co(b,a.port_);else if(c=!!a.path_){if("/"!=d.charAt(0))if(this.domain_&&!this.path_)d="/"+d;else{var e=b.path_.lastIndexOf("/");-1!=e&&(d=b.path_.substr(0,e+1)+d)}e=d;if(".."==e||"."==e)d="";else if(-1!=e.indexOf("./")||-1!=e.indexOf("/.")){for(var d=0==e.lastIndexOf("/",0),e=e.split("/"),
f=[],h=0;h<e.length;){var k=e[h++];"."==k?d&&h==e.length&&f.push(""):".."==k?((1<f.length||1==f.length&&""!=f[0])&&f.pop(),d&&h==e.length&&f.push("")):(f.push(k),d=!0)}d=f.join("/")}else d=e}c?eo(b,d):c=""!==a.queryData_.toString();c?fo(b,a.queryData_.clone()):c=!!a.fragment_;c&&go(b,a.fragment_);return b};
g.clone=function(){return new $n(this)};
g.getScheme=function(){return this.scheme_};
g.setScheme=function(a,b){ao(this);if(this.scheme_=b?ho(a,!0):a)this.scheme_=this.scheme_.replace(/:$/,"");return this};
g.hasScheme=function(){return!!this.scheme_};
var bo=function(a,b,c){ao(a);a.domain_=c?ho(b,!0):b},co=function(a,b){ao(a);
if(b){b=Number(b);if(isNaN(b)||0>b)throw Error("Bad port number "+b);a.port_=b}else a.port_=null},eo=function(a,b,c){ao(a);
a.path_=c?ho(b,!0):b;return a},fo=function(a,b,c){ao(a);
b instanceof io?(a.queryData_=b,a.queryData_.setIgnoreCase(a.ignoreCase_)):(c||(b=jo(b,oo)),a.queryData_=new io(b,0,a.ignoreCase_));return a};
$n.prototype.setQuery=function(a,b){return fo(this,a,b)};
$n.prototype.getQuery=function(){return this.queryData_.toString()};
var S=function(a,b,c){ao(a);a.queryData_.set(b,c);return a},qo=function(a,b,c){ao(a);
ra(c)||(c=[String(c)]);po(a.queryData_,b,c)},ro=function(a,b){return a.queryData_.get(b)},go=function(a,b,c){ao(a);
a.fragment_=c?ho(b):b;return a},so=function(a){ao(a);
S(a,"zx",eb());return a};
$n.prototype.removeParameter=function(a){ao(this);this.queryData_.remove(a);return this};
var ao=function(a){if(a.isReadOnly_)throw Error("Tried to modify a read-only Uri");};
$n.prototype.setIgnoreCase=function(a){this.ignoreCase_=a;this.queryData_&&this.queryData_.setIgnoreCase(a);return this};
var to=function(a){return a instanceof $n?a.clone():new $n(a,void 0)},uo=function(a,b,c,d){var e=new $n(null,void 0);
a&&e.setScheme(a);b&&bo(e,b);c&&co(e,c);d&&eo(e,d);return e},ho=function(a,b){return a?b?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""},jo=function(a,b,c){return u(a)?(a=encodeURI(a).replace(b,vo),c&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null},vo=function(a){a=a.charCodeAt(0);
return"%"+(a>>4&15).toString(16)+(a&15).toString(16)},ko=/[#\/\?@]/g,mo=/[\#\?:]/g,lo=/[\#\?]/g,oo=/[\#\?@]/g,no=/#/g,io=function(a,b,c){this.count_=this.keyMap_=null;
this.encodedQuery_=a||null;this.ignoreCase_=!!c},wo=function(a){a.keyMap_||(a.keyMap_=new cd,a.count_=0,a.encodedQuery_&&od(a.encodedQuery_,function(b,c){a.add(La(b),c)}))};
g=io.prototype;g.getCount=function(){wo(this);return this.count_};
g.add=function(a,b){wo(this);this.encodedQuery_=null;a=xo(this,a);var c=this.keyMap_.get(a);c||this.keyMap_.set(a,c=[]);c.push(b);this.count_+=1;return this};
g.remove=function(a){wo(this);a=xo(this,a);return this.keyMap_.containsKey(a)?(this.encodedQuery_=null,this.count_-=this.keyMap_.get(a).length,this.keyMap_.remove(a)):!1};
g.clear=function(){this.keyMap_=this.encodedQuery_=null;this.count_=0};
g.isEmpty=function(){wo(this);return 0==this.count_};
g.containsKey=function(a){wo(this);a=xo(this,a);return this.keyMap_.containsKey(a)};
g.containsValue=function(a){var b=this.getValues();return tb(b,a)};
g.getKeys=function(){wo(this);for(var a=this.keyMap_.getValues(),b=this.keyMap_.getKeys(),c=[],d=0;d<b.length;d++)for(var e=a[d],f=0;f<e.length;f++)c.push(b[d]);return c};
g.getValues=function(a){wo(this);var b=[];if(u(a))this.containsKey(a)&&(b=vb(b,this.keyMap_.get(xo(this,a))));else{a=this.keyMap_.getValues();for(var c=0;c<a.length;c++)b=vb(b,a[c])}return b};
g.set=function(a,b){wo(this);this.encodedQuery_=null;a=xo(this,a);this.containsKey(a)&&(this.count_-=this.keyMap_.get(a).length);this.keyMap_.set(a,[b]);this.count_+=1;return this};
g.get=function(a,b){a=a?this.getValues(a):[];return 0<a.length?String(a[0]):b};
var po=function(a,b,c){a.remove(b);0<c.length&&(a.encodedQuery_=null,a.keyMap_.set(xo(a,b),wb(c)),a.count_+=c.length)};
io.prototype.toString=function(){if(this.encodedQuery_)return this.encodedQuery_;if(!this.keyMap_)return"";for(var a=[],b=this.keyMap_.getKeys(),c=0;c<b.length;c++)for(var d=b[c],e=encodeURIComponent(String(d)),d=this.getValues(d),f=0;f<d.length;f++){var h=e;""!==d[f]&&(h+="="+encodeURIComponent(String(d[f])));a.push(h)}return this.encodedQuery_=a.join("&")};
io.prototype.clone=function(){var a=new io;a.encodedQuery_=this.encodedQuery_;this.keyMap_&&(a.keyMap_=this.keyMap_.clone(),a.count_=this.count_);return a};
var xo=function(a,b){b=String(b);a.ignoreCase_&&(b=b.toLowerCase());return b};
io.prototype.setIgnoreCase=function(a){a&&!this.ignoreCase_&&(wo(this),this.encodedQuery_=null,this.keyMap_.forEach(function(a,c){var b=c.toLowerCase();c!=b&&(this.remove(c),po(this,b,a))},this));
this.ignoreCase_=a};
io.prototype.extend=function(a){for(var b=0;b<arguments.length;b++)Sd(arguments[b],function(a,b){this.add(b,a)},this)};var yo=function(){this.front_=[];this.back_=[]},zo=function(a){0==a.front_.length&&(a.front_=a.back_,a.front_.reverse(),a.back_=[])};
yo.prototype.enqueue=function(a){this.back_.push(a)};
var Ao=function(a){zo(a);return a.front_.pop()},Bo=function(a){zo(a);
a=a.front_;return a[a.length-1]};
g=yo.prototype;g.getCount=function(){return this.front_.length+this.back_.length};
g.isEmpty=function(){return 0==this.front_.length&&0==this.back_.length};
g.clear=function(){this.front_=[];this.back_=[]};
g.contains=function(a){return tb(this.front_,a)||tb(this.back_,a)};
g.remove=function(a){var b=this.front_;var c=Array.prototype.lastIndexOf.call(b,a,b.length-1);0<=c?(Array.prototype.splice.call(b,c,1),b=!0):b=!1;return b||ub(this.back_,a)};
g.getValues=function(){for(var a=[],b=this.front_.length-1;0<=b;--b)a.push(this.front_[b]);for(var c=this.back_.length,b=0;b<c;++b)a.push(this.back_[b]);return a};var Do=function(a,b){this.storageKey_=a;this.storageNode_=null;if(C&&!Ee(9)){Co||(Co=new cd);this.storageNode_=Co.get(a);this.storageNode_||(b?this.storageNode_=document.getElementById(b):(this.storageNode_=document.createElement("userdata"),this.storageNode_.addBehavior("#default#userData"),document.body.appendChild(this.storageNode_)),Co.set(a,this.storageNode_));try{this.storageNode_.load(this.storageKey_)}catch(c){this.storageNode_=null}}};
x(Do,gk);var Eo={".":".2E","!":".21","~":".7E","*":".2A","'":".27","(":".28",")":".29","%":"."},Co=null,Fo=function(a){return"_"+encodeURIComponent(a).replace(/[.!~*'()%]/g,function(a){return Eo[a]})};
g=Do.prototype;g.isAvailable=function(){return!!this.storageNode_};
g.set=function(a,b){this.storageNode_.setAttribute(Fo(a),b);Go(this)};
g.get=function(a){a=this.storageNode_.getAttribute(Fo(a));if(!u(a)&&null!==a)throw"Storage mechanism: Invalid value was encountered";return a};
g.remove=function(a){this.storageNode_.removeAttribute(Fo(a));Go(this)};
g.getCount=function(){return Ho(this).attributes.length};
g.__iterator__=function(a){var b=0,c=Ho(this).attributes,d=new Zc;d.next=function(){if(b>=c.length)throw Yc;var d=c[b++];if(a)return decodeURIComponent(d.nodeName.replace(/\./g,"%")).substr(1);d=d.nodeValue;if(!u(d))throw"Storage mechanism: Invalid value was encountered";return d};
return d};
g.clear=function(){for(var a=Ho(this),b=a.attributes.length;0<b;b--)a.removeAttribute(a.attributes[b-1].nodeName);Go(this)};
var Go=function(a){try{a.storageNode_.save(a.storageKey_)}catch(b){throw"Storage mechanism: Quota exceeded";}},Ho=function(a){return a.storageNode_.XMLDocument.documentElement};var Io=function(a,b){this.mechanism_=a;this.prefix_=b+"::"};
x(Io,gk);Io.prototype.set=function(a,b){this.mechanism_.set(this.prefix_+a,b)};
Io.prototype.get=function(a){return this.mechanism_.get(this.prefix_+a)};
Io.prototype.remove=function(a){this.mechanism_.remove(this.prefix_+a)};
Io.prototype.__iterator__=function(a){var b=this.mechanism_.__iterator__(!0),c=this,d=new Zc;d.next=function(){for(var d=b.next();d.substr(0,c.prefix_.length)!=c.prefix_;)d=b.next();return a?d.substr(c.prefix_.length):c.mechanism_.get(d)};
return d};var Jo=function(a){var b=new ik;return b.isAvailable()?a?new Io(b,a):b:null};var Ko=function(a,b){b?a=null:((b=Jo(a))||(a=new Do(a||"UserDataSharedStore"),b=a.isAvailable()?a:null),a=b);this.expiringStorage_=a?new ek(a):null};
Ko.prototype.set=function(a,b,c,d){c=c||31104E3;this.remove(a);if(this.expiringStorage_)try{this.expiringStorage_.set(a,b,w()+1E3*c);return}catch(f){}var e="";if(d)try{e=escape(Vj(b))}catch(f){return}else e=escape(b);ph(a,e,c,document.domain)};
Ko.prototype.get=function(a,b){var c=void 0,d=!this.expiringStorage_;if(!d)try{c=this.expiringStorage_.get(a)}catch(e){d=!0}if(d&&(c=Ig.get(""+a,void 0))&&(c=unescape(c),b))try{c=Sj(c)}catch(e){this.remove(a),c=void 0}return c};
Ko.prototype.remove=function(a){this.expiringStorage_&&this.expiringStorage_.remove(a);oh(a,"/",document.domain)};function Lo(a,b,c,d){b=void 0===b?{}:b;c=void 0===c?"":c;d=void 0===d?window:d;Af(d.location,td(a,b)+c)}
function Mo(a,b){b&&gl(a,b);(window.ytspf||{}).enabled?spf.navigate(a):Lo(a)}
var No=function(a,b,c){b=void 0===b?{}:b;c=void 0===c?!1:c;var d=A("EVENT_ID");d&&(b.ei||(b.ei=d));b&&gl(a,b);if(c)return!1;Mo(a);return!0};var Oo={ERAS:["BC","AD"],ERANAMES:["Before Christ","Anno Domini"],NARROWMONTHS:"JFMAMJJASOND".split(""),STANDALONENARROWMONTHS:"JFMAMJJASOND".split(""),MONTHS:"January February March April May June July August September October November December".split(" "),STANDALONEMONTHS:"January February March April May June July August September October November December".split(" "),SHORTMONTHS:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),STANDALONESHORTMONTHS:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),
WEEKDAYS:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),STANDALONEWEEKDAYS:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),SHORTWEEKDAYS:"Sun Mon Tue Wed Thu Fri Sat".split(" "),STANDALONESHORTWEEKDAYS:"Sun Mon Tue Wed Thu Fri Sat".split(" "),NARROWWEEKDAYS:"SMTWTFS".split(""),STANDALONENARROWWEEKDAYS:"SMTWTFS".split(""),SHORTQUARTERS:["Q1","Q2","Q3","Q4"],QUARTERS:["1st quarter","2nd quarter","3rd quarter","4th quarter"],AMPMS:["AM","PM"],DATEFORMATS:["EEEE, MMMM d, y",
"MMMM d, y","MMM d, y","M/d/yy"],TIMEFORMATS:["h:mm:ss a zzzz","h:mm:ss a z","h:mm:ss a","h:mm a"],DATETIMEFORMATS:["{1} 'at' {0}","{1} 'at' {0}","{1}, {0}","{1}, {0}"],FIRSTDAYOFWEEK:6,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:5},Po=Oo,Po=Oo;var So=function(a,b,c){ta(a)?(this.date=Qo(a,b||0,c||1),Ro(this,c||1)):va(a)?(this.date=Qo(a.getFullYear(),a.getMonth(),a.getDate()),Ro(this,a.getDate())):(this.date=new Date(w()),a=this.date.getDate(),this.date.setHours(0),this.date.setMinutes(0),this.date.setSeconds(0),this.date.setMilliseconds(0),Ro(this,a))},Qo=function(a,b,c){b=new Date(a,b,c);
0<=a&&100>a&&b.setFullYear(b.getFullYear()-1900);return b};
g=So.prototype;g.firstDayOfWeek_=Po.FIRSTDAYOFWEEK;g.firstWeekCutOffDay_=Po.FIRSTWEEKCUTOFFDAY;g.clone=function(){var a=new So(this.date);a.firstDayOfWeek_=this.firstDayOfWeek_;a.firstWeekCutOffDay_=this.firstWeekCutOffDay_;return a};
g.getFullYear=function(){return this.date.getFullYear()};
g.getYear=function(){return this.getFullYear()};
g.getMonth=function(){return this.date.getMonth()};
g.getDate=function(){return this.date.getDate()};
g.getTime=function(){return this.date.getTime()};
g.getDay=function(){return this.date.getDay()};
g.getUTCFullYear=function(){return this.date.getUTCFullYear()};
g.getUTCMonth=function(){return this.date.getUTCMonth()};
g.getUTCDate=function(){return this.date.getUTCDate()};
g.getUTCDay=function(){return this.date.getDay()};
g.getUTCHours=function(){return this.date.getUTCHours()};
g.getUTCMinutes=function(){return this.date.getUTCMinutes()};
g.getTimezoneOffset=function(){return this.date.getTimezoneOffset()};
g.set=function(a){this.date=new Date(a.getFullYear(),a.getMonth(),a.getDate())};
g.setFullYear=function(a){this.date.setFullYear(a)};
g.setYear=function(a){this.setFullYear(a)};
g.setMonth=function(a){this.date.setMonth(a)};
g.setDate=function(a){this.date.setDate(a)};
g.setTime=function(a){this.date.setTime(a)};
g.setUTCFullYear=function(a){this.date.setUTCFullYear(a)};
g.setUTCMonth=function(a){this.date.setUTCMonth(a)};
g.setUTCDate=function(a){this.date.setUTCDate(a)};
g.add=function(a){if(a.years||a.months){var b=this.getMonth()+a.months+12*a.years,c=this.getYear()+Math.floor(b/12),b=b%12;0>b&&(b+=12);a:{switch(b){case 1:var d=0!=c%4||0==c%100&&0!=c%400?28:29;break a;case 5:case 8:case 10:case 3:d=30;break a}d=31}d=Math.min(d,this.getDate());this.setDate(1);this.setFullYear(c);this.setMonth(b);this.setDate(d)}a.days&&(a=new Date((new Date(this.getYear(),this.getMonth(),this.getDate(),12)).getTime()+864E5*a.days),this.setDate(1),this.setFullYear(a.getFullYear()),
this.setMonth(a.getMonth()),this.setDate(a.getDate()),Ro(this,a.getDate()))};
var To=function(a){return[a.getFullYear(),cb(a.getMonth()+1,2),cb(a.getDate(),2)].join("")+""};
So.prototype.equals=function(a){return!(!a||this.getYear()!=a.getYear()||this.getMonth()!=a.getMonth()||this.getDate()!=a.getDate())};
So.prototype.toString=function(){return To(this)};
var Ro=function(a,b){a.getDate()!=b&&a.date.setUTCHours(a.date.getUTCHours()+(a.getDate()<b?1:-1))};
So.prototype.valueOf=function(){return this.date.valueOf()};var Uo=function(){},Wo=function(a){if("number"==typeof a){var b=new Uo;
b.standardOffset_=a;var c=a;if(0==c)c="Etc/GMT";else{var d=["Etc/GMT",0>c?"-":"+"];c=Math.abs(c);d.push(Math.floor(c/60)%100);c%=60;0!=c&&d.push(":",cb(c,2));c=d.join("")}b.timeZoneId_=c;c=a;0==c?c="UTC":(d=["UTC",0>c?"+":"-"],c=Math.abs(c),d.push(Math.floor(c/60)%100),c%=60,0!=c&&d.push(":",c),c=d.join(""));a=Vo(a);b.tzNames_=[c,c];b.tzNamesExt_={STD_LONG_NAME_GMT:a,STD_GENERIC_LOCATION:a};b.transitions_=[];return b}b=new Uo;b.timeZoneId_=a.id;b.standardOffset_=-a.std_offset;b.tzNames_=a.names;b.tzNamesExt_=
a.names_ext;b.transitions_=a.transitions;return b},Vo=function(a){var b=["GMT"];
b.push(0>=a?"+":"-");a=Math.abs(a);b.push(cb(Math.floor(a/60)%100,2),":",cb(a%60,2));return b.join("")},Xo=function(a,b){b=Date.UTC(b.getUTCFullYear(),b.getUTCMonth(),b.getUTCDate(),b.getUTCHours(),b.getUTCMinutes())/36E5;
for(var c=0;c<a.transitions_.length&&b>=a.transitions_[c];)c+=2;return 0==c?0:a.transitions_[c-1]};var Yo=function(a,b){this.patternParts_=[];this.dateTimeSymbols_=b||Po;"number"==typeof a?this.applyStandardPattern_(a):this.applyPattern_(a)},Zo=[/^\'(?:[^\']|\'\')*(\'|$)/,
/^(?:G+|y+|M+|k+|S+|E+|a+|h+|K+|H+|c+|L+|Q+|d+|m+|s+|v+|V+|w+|z+|Z+)/,/^[^\'GyMkSEahKHcLQdmsvVwzZ]+/],$o=function(a){return a.getHours?a.getHours():0};
Yo.prototype.applyPattern_=function(a){for(ap&&(a=a.replace(/\u200f/g,""));a;){for(var b=a,c=0;c<Zo.length;++c){var d=a.match(Zo[c]);if(d){var e=d[0];a=a.substring(e.length);0==c&&("''"==e?e="'":(e=e.substring(1,"'"==d[1]?e.length-1:e.length),e=e.replace(/\'\'/g,"'")));this.patternParts_.push({text:e,type:c});break}}if(b===a)throw Error("Malformed pattern part: "+a);}};
Yo.prototype.format=function(a,b){if(!a)throw Error("The date to format must be non-null.");var c=b?6E4*(a.getTimezoneOffset()-(b.standardOffset_-Xo(b,a))):0,d=c?new Date(a.getTime()+c):a,e=d;b&&d.getTimezoneOffset()!=a.getTimezoneOffset()&&(d=new Date(d.getTime()+6E4*(d.getTimezoneOffset()-a.getTimezoneOffset())),e=new Date(a.getTime()+(c+(0<c?-864E5:864E5))));for(var c=[],f=0;f<this.patternParts_.length;++f){var h=this.patternParts_[f].text;1==this.patternParts_[f].type?c.push(bp(this,h,a,d,e,b)):
c.push(h)}return c.join("")};
Yo.prototype.applyStandardPattern_=function(a){if(4>a)var b=this.dateTimeSymbols_.DATEFORMATS[a];else if(8>a)b=this.dateTimeSymbols_.TIMEFORMATS[a-4];else if(12>a)b=this.dateTimeSymbols_.DATETIMEFORMATS[a-8],b=b.replace("{1}",this.dateTimeSymbols_.DATEFORMATS[a-8]),b=b.replace("{0}",this.dateTimeSymbols_.TIMEFORMATS[a-8]);else{this.applyStandardPattern_(10);return}this.applyPattern_(b)};
var cp=function(a,b){b=String(b);a=a.dateTimeSymbols_||Po;if(void 0!==a.ZERODIGIT){for(var c=[],d=0;d<b.length;d++){var e=b.charCodeAt(d);c.push(48<=e&&57>=e?String.fromCharCode(a.ZERODIGIT+e-48):b.charAt(d))}b=c.join("")}return b},ap=!1,dp=function(a){if(!(a.getHours&&a.getSeconds&&a.getMinutes))throw Error("The date to format has no time (probably a goog.date.Date). Use Date or goog.date.DateTime, or use a pattern without time fields.");
},bp=function(a,b,c,d,e,f){var h=b.length;
switch(b.charAt(0)){case "G":return c=0<d.getFullYear()?1:0,4<=h?a.dateTimeSymbols_.ERANAMES[c]:a.dateTimeSymbols_.ERAS[c];case "y":return c=d.getFullYear(),0>c&&(c=-c),2==h&&(c%=100),cp(a,cb(c,h));case "M":a:switch(c=d.getMonth(),h){case 5:h=a.dateTimeSymbols_.NARROWMONTHS[c];break a;case 4:h=a.dateTimeSymbols_.MONTHS[c];break a;case 3:h=a.dateTimeSymbols_.SHORTMONTHS[c];break a;default:h=cp(a,cb(c+1,h))}return h;case "k":return dp(e),cp(a,cb($o(e)||24,h));case "S":return cp(a,(e.getTime()%1E3/1E3).toFixed(Math.min(3,
h)).substr(2)+(3<h?cb(0,h-3):""));case "E":return c=d.getDay(),4<=h?a.dateTimeSymbols_.WEEKDAYS[c]:a.dateTimeSymbols_.SHORTWEEKDAYS[c];case "a":return dp(e),h=$o(e),a.dateTimeSymbols_.AMPMS[12<=h&&24>h?1:0];case "h":return dp(e),cp(a,cb($o(e)%12||12,h));case "K":return dp(e),cp(a,cb($o(e)%12,h));case "H":return dp(e),cp(a,cb($o(e),h));case "c":a:switch(c=d.getDay(),h){case 5:h=a.dateTimeSymbols_.STANDALONENARROWWEEKDAYS[c];break a;case 4:h=a.dateTimeSymbols_.STANDALONEWEEKDAYS[c];break a;case 3:h=
a.dateTimeSymbols_.STANDALONESHORTWEEKDAYS[c];break a;default:h=cp(a,cb(c,1))}return h;case "L":a:switch(c=d.getMonth(),h){case 5:h=a.dateTimeSymbols_.STANDALONENARROWMONTHS[c];break a;case 4:h=a.dateTimeSymbols_.STANDALONEMONTHS[c];break a;case 3:h=a.dateTimeSymbols_.STANDALONESHORTMONTHS[c];break a;default:h=cp(a,cb(c+1,h))}return h;case "Q":return c=Math.floor(d.getMonth()/3),4>h?a.dateTimeSymbols_.SHORTQUARTERS[c]:a.dateTimeSymbols_.QUARTERS[c];case "d":return cp(a,cb(d.getDate(),h));case "m":return dp(e),
cp(a,cb(e.getMinutes(),h));case "s":return dp(e),cp(a,cb(e.getSeconds(),h));case "v":return h=f||Wo(c.getTimezoneOffset()),h.timeZoneId_;case "V":return a=f||Wo(c.getTimezoneOffset()),2>=h?a.timeZoneId_:0<Xo(a,c)?a.tzNamesExt_.DST_GENERIC_LOCATION:a.tzNamesExt_.STD_GENERIC_LOCATION;case "w":return c=a.dateTimeSymbols_.FIRSTWEEKCUTOFFDAY,e=new Date(e.getFullYear(),e.getMonth(),e.getDate()),b=a.dateTimeSymbols_.FIRSTDAYOFWEEK||0,c=e.valueOf()+864E5*(((p(c)?c:3)-b+7)%7-((e.getDay()+6)%7-b+7)%7),cp(a,
cb(Math.floor(Math.round((c-(new Date((new Date(c)).getFullYear(),0,1)).valueOf())/864E5)/7)+1,h));case "z":return a=f||Wo(c.getTimezoneOffset()),4>h?a.tzNames_[0<Xo(a,c)?2:0]:a.tzNames_[0<Xo(a,c)?3:1];case "Z":return e=f||Wo(c.getTimezoneOffset()),4>h?(h=-(e.standardOffset_-Xo(e,c)),a=[0>h?"-":"+"],h=Math.abs(h),a.push(cb(Math.floor(h/60)%100,2),cb(h%60,2)),h=a.join("")):h=cp(a,Vo(e.standardOffset_-Xo(e,c))),h;default:return""}};var ep=!1,hp=function(a){var b=fp.CURRENCY_PATTERN,c=["0"];a=gp[a][0]&7;if(0<a){c.push(".");for(var d=0;d<a;d++)c.push("0")}return b.replace(/0.00/g,c.join(""))},gp={AED:[2,
"dh","\u062f.\u0625.","DH"],ALL:[0,"Lek","Lek"],AUD:[2,"$","AU$"],BDT:[2,"\u09f3","Tk"],BGN:[2,"lev","lev"],BRL:[2,"R$","R$"],CAD:[2,"$","C$"],CDF:[2,"FrCD","CDF"],CHF:[2,"CHF","CHF"],CLP:[0,"$","CL$"],CNY:[2,"\u00a5","RMB\u00a5"],COP:[32,"$","COL$"],CRC:[0,"\u20a1","CR\u20a1"],CZK:[50,"K\u010d","K\u010d"],DKK:[50,"kr.","kr."],DOP:[2,"RD$","RD$"],EGP:[2,"\u00a3","LE"],ETB:[2,"Birr","Birr"],EUR:[2,"\u20ac","\u20ac"],GBP:[2,"\u00a3","GB\u00a3"],HKD:[2,"$","HK$"],HRK:[2,"kn","kn"],HUF:[34,"Ft","Ft"],
IDR:[0,"Rp","Rp"],ILS:[34,"\u20aa","IL\u20aa"],INR:[2,"\u20b9","Rs"],IRR:[0,"Rial","IRR"],ISK:[0,"kr","kr"],JMD:[2,"$","JA$"],JPY:[0,"\u00a5","JP\u00a5"],KRW:[0,"\u20a9","KR\u20a9"],LKR:[2,"Rs","SLRs"],LTL:[2,"Lt","Lt"],MNT:[0,"\u20ae","MN\u20ae"],MVR:[2,"Rf","MVR"],MXN:[2,"$","Mex$"],MYR:[2,"RM","RM"],NOK:[50,"kr","NOkr"],PAB:[2,"B/.","B/."],PEN:[2,"S/.","S/."],PHP:[2,"\u20b1","PHP"],PKR:[0,"Rs","PKRs."],PLN:[50,"z\u0142","z\u0142"],RON:[2,"RON","RON"],RSD:[0,"din","RSD"],RUB:[50,"\u20bd","RUB"],
SAR:[2,"Rial","Rial"],SEK:[50,"kr","kr"],SGD:[2,"$","S$"],THB:[2,"\u0e3f","THB"],TRY:[2,"TL","YTL"],TWD:[2,"NT$","NT$"],TZS:[0,"TSh","TSh"],UAH:[2,"\u0433\u0440\u043d.","UAH"],USD:[2,"$","US$"],UYU:[2,"$","$U"],VND:[48,"\u20ab","VN\u20ab"],YER:[0,"Rial","Rial"],ZAR:[2,"R","ZAR"]},ip={AFN:[48,"Af.","AFN"],AMD:[32,"Dram","dram"],ANG:[2,"NAf.","ANG"],AOA:[2,"Kz","Kz"],ARS:[34,"$","AR$"],AWG:[2,"Afl.","Afl."],AZN:[34,"\u20bc","AZN"],BAM:[2,"KM","KM"],BBD:[2,"$","Bds$"],BHD:[3,"din","din"],BIF:[0,"FBu",
"FBu"],BMD:[2,"$","BD$"],BND:[2,"$","B$"],BOB:[2,"Bs","Bs"],BSD:[2,"$","BS$"],BTN:[2,"Nu.","Nu."],BWP:[2,"P","pula"],BYR:[48,"p.","BYR"],BZD:[2,"$","BZ$"],CUC:[1,"$","CUC$"],CUP:[2,"$","CU$"],CVE:[2,"CVE","Esc"],DJF:[0,"Fdj","Fdj"],DZD:[2,"din","din"],ERN:[2,"Nfk","Nfk"],FJD:[2,"$","FJ$"],FKP:[2,"\u00a3","FK\u00a3"],GEL:[2,"GEL","GEL"],GHS:[2,"GHS","GHS"],GIP:[2,"\u00a3","GI\u00a3"],GMD:[2,"GMD","GMD"],GNF:[0,"FG","FG"],GTQ:[2,"Q","GTQ"],GYD:[0,"$","GY$"],HNL:[2,"L","HNL"],HTG:[2,"HTG","HTG"],IQD:[0,
"din","IQD"],JOD:[3,"din","JOD"],KES:[2,"Ksh","Ksh"],KGS:[2,"KGS","KGS"],KHR:[2,"Riel","KHR"],KMF:[0,"CF","KMF"],KPW:[0,"\u20a9KP","KPW"],KWD:[3,"din","KWD"],KYD:[2,"$","KY$"],KZT:[2,"\u20b8","KZT"],LAK:[0,"\u20ad","\u20ad"],LBP:[0,"L\u00a3","LBP"],LRD:[2,"$","L$"],LSL:[2,"LSL","LSL"],LYD:[3,"din","LD"],MAD:[2,"dh","MAD"],MDL:[2,"MDL","MDL"],MGA:[0,"Ar","MGA"],MKD:[2,"din","MKD"],MMK:[0,"K","MMK"],MOP:[2,"MOP","MOP$"],MRO:[0,"MRO","MRO"],MUR:[0,"MURs","MURs"],MWK:[2,"MWK","MWK"],MZN:[2,"MTn","MTn"],
NAD:[2,"$","N$"],NGN:[2,"\u20a6","NG\u20a6"],NIO:[2,"C$","C$"],NPR:[2,"Rs","NPRs"],NZD:[2,"$","NZ$"],OMR:[3,"Rial","OMR"],PGK:[2,"PGK","PGK"],PYG:[16,"Gs.","PYG"],QAR:[2,"Rial","QR"],RWF:[0,"RF","RF"],SBD:[2,"$","SI$"],SCR:[2,"SCR","SCR"],SDG:[2,"SDG","SDG"],SHP:[2,"\u00a3","SH\u00a3"],SLL:[0,"SLL","SLL"],SOS:[0,"SOS","SOS"],SRD:[2,"$","SR$"],SSP:[2,"\u00a3","SSP"],STD:[0,"Db","Db"],SYP:[0,"\u00a3","SY\u00a3"],SZL:[2,"SZL","SZL"],TJS:[2,"Som","TJS"],TND:[3,"din","DT"],TOP:[2,"T$","T$"],TTD:[2,"$",
"TT$"],UGX:[0,"UGX","UGX"],UZS:[0,"so\u02bcm","UZS"],VEF:[2,"Bs","Bs"],VUV:[0,"VUV","VUV"],WST:[2,"WST","WST"],XAF:[0,"FCFA","FCFA"],XCD:[2,"$","EC$"],XOF:[0,"CFA","CFA"],XPF:[48,"FCFP","FCFP"],ZMW:[0,"ZMW","ZMW"],ZWD:[0,"$","Z$"]};var jp={COMPACT_DECIMAL_SHORT_PATTERN:{1E3:{other:"0K"},1E4:{other:"00K"},1E5:{other:"000K"},1E6:{other:"0M"},1E7:{other:"00M"},1E8:{other:"000M"},1E9:{other:"0B"},1E10:{other:"00B"},1E11:{other:"000B"},1E12:{other:"0T"},1E13:{other:"00T"},1E14:{other:"000T"}},COMPACT_DECIMAL_LONG_PATTERN:{1E3:{other:"0 thousand"},1E4:{other:"00 thousand"},1E5:{other:"000 thousand"},1E6:{other:"0 million"},1E7:{other:"00 million"},1E8:{other:"000 million"},1E9:{other:"0 billion"},1E10:{other:"00 billion"},1E11:{other:"000 billion"},
1E12:{other:"0 trillion"},1E13:{other:"00 trillion"},1E14:{other:"000 trillion"}}},kp=jp,kp=jp;var lp={DECIMAL_SEP:".",GROUP_SEP:",",PERCENT:"%",ZERO_DIGIT:"0",PLUS_SIGN:"+",MINUS_SIGN:"-",EXP_SYMBOL:"E",PERMILL:"\u2030",INFINITY:"\u221e",NAN:"NaN",DECIMAL_PATTERN:"#,##0.###",SCIENTIFIC_PATTERN:"#E0",PERCENT_PATTERN:"#,##0%",CURRENCY_PATTERN:"\u00a4#,##0.00",DEF_CURRENCY_CODE:"USD"},fp=lp,fp=lp;var mp=function(a,b,c){this.intlCurrencyCode_=b||fp.DEF_CURRENCY_CODE;this.currencyStyle_=c||0;this.maximumIntegerDigits_=40;this.minimumIntegerDigits_=1;this.significantDigits_=0;this.maximumFractionDigits_=3;this.minExponentDigits_=this.minimumFractionDigits_=0;this.showTrailingZeros_=this.useSignForPositiveExponent_=!1;this.positiveSuffix_=this.positivePrefix_="";this.negativePrefix_="-";this.negativeSuffix_="";this.multiplier_=1;this.negativePercentSignExpected_=!1;this.groupingArray_=[];this.useExponentialNotation_=
this.decimalSeparatorAlwaysShown_=!1;this.compactStyle_=0;this.baseFormattingNumber_=null;"number"==typeof a?this.applyStandardPattern_(a):this.applyPattern_(a)};
mp.prototype.applyPattern_=function(a){a.replace(/ /g,"\u00a0");var b=[0];this.positivePrefix_=np(this,a,b);for(var c=b[0],d=-1,e=0,f=0,h=0,k=-1,l=a.length,m=!0;b[0]<l&&m;b[0]++)switch(a.charAt(b[0])){case "#":0<f?h++:e++;0<=k&&0>d&&k++;break;case "0":if(0<h)throw Error('Unexpected "0" in pattern "'+a+'"');f++;0<=k&&0>d&&k++;break;case ",":0<k&&this.groupingArray_.push(k);k=0;break;case ".":if(0<=d)throw Error('Multiple decimal separators in pattern "'+a+'"');d=e+f+h;break;case "E":if(this.useExponentialNotation_)throw Error('Multiple exponential symbols in pattern "'+
a+'"');this.useExponentialNotation_=!0;this.minExponentDigits_=0;b[0]+1<l&&"+"==a.charAt(b[0]+1)&&(b[0]++,this.useSignForPositiveExponent_=!0);for(;b[0]+1<l&&"0"==a.charAt(b[0]+1);)b[0]++,this.minExponentDigits_++;if(1>e+f||1>this.minExponentDigits_)throw Error('Malformed exponential pattern "'+a+'"');m=!1;break;default:b[0]--,m=!1}0==f&&0<e&&0<=d&&(f=d,0==f&&f++,h=e-f,e=f-1,f=1);if(0>d&&0<h||0<=d&&(d<e||d>e+f)||0==k)throw Error('Malformed pattern "'+a+'"');h=e+f+h;this.maximumFractionDigits_=0<=
d?h-d:0;0<=d&&(this.minimumFractionDigits_=e+f-d,0>this.minimumFractionDigits_&&(this.minimumFractionDigits_=0));this.minimumIntegerDigits_=(0<=d?d:h)-e;this.useExponentialNotation_&&(this.maximumIntegerDigits_=e+this.minimumIntegerDigits_,0==this.maximumFractionDigits_&&0==this.minimumIntegerDigits_&&(this.minimumIntegerDigits_=1));this.groupingArray_.push(Math.max(0,k));this.decimalSeparatorAlwaysShown_=0==d||d==h;c=b[0]-c;this.positiveSuffix_=np(this,a,b);b[0]<a.length&&";"==a.charAt(b[0])?(b[0]++,
1!=this.multiplier_&&(this.negativePercentSignExpected_=!0),this.negativePrefix_=np(this,a,b),b[0]+=c,this.negativeSuffix_=np(this,a,b)):(this.negativePrefix_+=this.positivePrefix_,this.negativeSuffix_+=this.positiveSuffix_)};
mp.prototype.applyStandardPattern_=function(a){switch(a){case 1:this.applyPattern_(fp.DECIMAL_PATTERN);break;case 2:this.applyPattern_(fp.SCIENTIFIC_PATTERN);break;case 3:this.applyPattern_(fp.PERCENT_PATTERN);break;case 4:this.applyPattern_(hp(this.intlCurrencyCode_));break;case 5:op(this,1);break;case 6:op(this,2);break;default:throw Error("Unsupported pattern type.");}};
var op=function(a,b){a.compactStyle_=b;a.applyPattern_(fp.DECIMAL_PATTERN);a.minimumFractionDigits_=0;a.maximumFractionDigits_=2;if(0<a.minimumFractionDigits_)throw Error("Can't combine significant digits and minimum fraction digits");a.significantDigits_=2};
mp.prototype.parse=function(a,b){b=b||[0];if(0!=this.compactStyle_)throw Error("Parsing of compact numbers is unimplemented");a=a.replace(/ /g,"\u00a0");var c=a.indexOf(this.positivePrefix_,b[0])==b[0],d=a.indexOf(this.negativePrefix_,b[0])==b[0];c&&d&&(this.positivePrefix_.length>this.negativePrefix_.length?d=!1:this.positivePrefix_.length<this.negativePrefix_.length&&(c=!1));c?b[0]+=this.positivePrefix_.length:d&&(b[0]+=this.negativePrefix_.length);if(a.indexOf(fp.INFINITY,b[0])==b[0]){b[0]+=fp.INFINITY.length;
var e=Infinity}else{e=a;var f=!1,h=!1,k=!1,l=1,m=fp.DECIMAL_SEP,t=fp.GROUP_SEP,H=fp.EXP_SYMBOL;if(0!=this.compactStyle_)throw Error("Parsing of compact style numbers is not implemented");for(var N="";b[0]<e.length;b[0]++){var F=e.charAt(b[0]),I=pp(F);if(0<=I&&9>=I)N+=I,k=!0;else if(F==m.charAt(0)){if(f||h)break;N+=".";f=!0}else if(F==t.charAt(0)&&("\u00a0"!=t.charAt(0)||b[0]+1<e.length&&0<=pp(e.charAt(b[0]+1)))){if(f||h)break}else if(F==H.charAt(0)){if(h)break;N+="E";h=!0}else if("+"==F||"-"==F)N+=
F;else if(1==this.multiplier_&&F==fp.PERCENT.charAt(0)){if(1!=l)break;l=100;if(k){b[0]++;break}}else if(1==this.multiplier_&&F==fp.PERMILL.charAt(0)){if(1!=l)break;l=1E3;if(k){b[0]++;break}}else break}1!=this.multiplier_&&(l=this.multiplier_);e=parseFloat(N)/l}if(c){if(a.indexOf(this.positiveSuffix_,b[0])!=b[0])return NaN;b[0]+=this.positiveSuffix_.length}else if(d){if(a.indexOf(this.negativeSuffix_,b[0])!=b[0])return NaN;b[0]+=this.negativeSuffix_.length}return d?-e:e};
mp.prototype.format=function(a){if(isNaN(a))return fp.NAN;var b=[];var c=null===this.baseFormattingNumber_?a:this.baseFormattingNumber_;if(0==this.compactStyle_)c=qp;else{c=Math.abs(c);var d=rp(this,1>=c?0:sp(c)).divisorBase;c=rp(this,d+sp(tp(this,c/Math.pow(10,d)).intValue))}a/=Math.pow(10,c.divisorBase);b.push(c.prefix);d=0>a||0==a&&0>1/a;b.push(d?this.negativePrefix_:this.positivePrefix_);if(isFinite(a))if(a=a*(d?-1:1)*this.multiplier_,this.useExponentialNotation_){var e=a;if(0==e)up(this,e,this.minimumIntegerDigits_,
b),vp(this,0,b);else{a=Math.floor(Math.log(e)/Math.log(10)+2E-15);var f=Math.pow(10,a);isFinite(f)&&0!==f?e/=f:(f=Math.pow(10,Math.floor(a/2)),e=e/f/f,1==a%2&&(e=0<a?e/10:10*e));f=this.minimumIntegerDigits_;if(1<this.maximumIntegerDigits_&&this.maximumIntegerDigits_>this.minimumIntegerDigits_){for(;0!=a%this.maximumIntegerDigits_;)e*=10,a--;f=1}else 1>this.minimumIntegerDigits_?(a++,e/=10):(a-=this.minimumIntegerDigits_-1,e*=Math.pow(10,this.minimumIntegerDigits_-1));up(this,e,f,b);vp(this,a,b)}}else up(this,
a,this.minimumIntegerDigits_,b);else b.push(fp.INFINITY);b.push(d?this.negativeSuffix_:this.positiveSuffix_);b.push(c.suffix);return b.join("")};
var tp=function(a,b){var c=Math.pow(10,a.maximumFractionDigits_);if(0>=a.significantDigits_)var d=Math.round(b*c);else{d=b*c;var e=a.maximumFractionDigits_;d&&(a=a.significantDigits_-sp(d)-1,a<-e?(e=Math.pow(10,e),d=Math.round(d/e)*e):(e=Math.pow(10,a),d=Math.round(d*e)/e));d=Math.round(d)}isFinite(d)?(b=Math.floor(d/c),c=Math.floor(d-b*c)):c=0;return{intValue:b,fracValue:c}},up=function(a,b,c,d){if(a.minimumFractionDigits_>a.maximumFractionDigits_)throw Error("Min value must be less than max value");
d||(d=[]);b=tp(a,b);var e=Math.pow(10,a.maximumFractionDigits_),f=b.intValue,h=b.fracValue,k=0==f?0:sp(f)+1,l=0<a.minimumFractionDigits_||0<h||a.showTrailingZeros_&&k<a.significantDigits_;b=a.minimumFractionDigits_;l&&(b=a.showTrailingZeros_&&0<a.significantDigits_?a.significantDigits_-k:a.minimumFractionDigits_);for(var m="",k=f;1E20<k;)m="0"+m,k=Math.round(k/10);var m=k+m,t=fp.DECIMAL_SEP,k=fp.ZERO_DIGIT.charCodeAt(0),H=m.length,N=0;if(0<f||0<c){for(f=H;f<c;f++)d.push(String.fromCharCode(k));if(2<=
a.groupingArray_.length)for(c=1;c<a.groupingArray_.length;c++)N+=a.groupingArray_[c];c=H-N;if(0<c)for(var f=a.groupingArray_,N=H=0,F,I=fp.GROUP_SEP,ga=m.length,L=0;L<ga;L++){if(d.push(String.fromCharCode(k+1*Number(m.charAt(L)))),1<ga-L)if(F=f[N],L<c){var Ld=c-L;(1===F||0<F&&1===Ld%F)&&d.push(I)}else N<f.length&&(L===c?N+=1:F===L-c-H+1&&(d.push(I),H+=F,N+=1))}else{c=m;m=a.groupingArray_;f=fp.GROUP_SEP;F=c.length;I=[];for(H=m.length-1;0<=H&&0<F;H--){N=m[H];for(ga=0;ga<N&&0<=F-ga-1;ga++)I.push(String.fromCharCode(k+
1*Number(c.charAt(F-ga-1))));F-=N;0<F&&I.push(f)}d.push.apply(d,I.reverse())}}else l||d.push(String.fromCharCode(k));(a.decimalSeparatorAlwaysShown_||l)&&d.push(t);a=""+(h+e);for(e=a.length;"0"==a.charAt(e-1)&&e>b+1;)e--;for(f=1;f<e;f++)d.push(String.fromCharCode(k+1*Number(a.charAt(f))))},vp=function(a,b,c){c.push(fp.EXP_SYMBOL);
0>b?(b=-b,c.push(fp.MINUS_SIGN)):a.useSignForPositiveExponent_&&c.push(fp.PLUS_SIGN);b=""+b;for(var d=fp.ZERO_DIGIT,e=b.length;e<a.minExponentDigits_;e++)c.push(d);c.push(b)},pp=function(a){a=a.charCodeAt(0);
if(48<=a&&58>a)return a-48;var b=fp.ZERO_DIGIT.charCodeAt(0);return b<=a&&a<b+10?a-b:-1},np=function(a,b,c){for(var d="",e=!1,f=b.length;c[0]<f;c[0]++){var h=b.charAt(c[0]);
if("'"==h)c[0]+1<f&&"'"==b.charAt(c[0]+1)?(c[0]++,d+="'"):e=!e;else if(e)d+=h;else switch(h){case "#":case "0":case ",":case ".":case ";":return d;case "\u00a4":if(c[0]+1<f&&"\u00a4"==b.charAt(c[0]+1))c[0]++,d+=a.intlCurrencyCode_;else switch(a.currencyStyle_){case 0:d+=gp[a.intlCurrencyCode_][1];break;case 2:var h=a.intlCurrencyCode_,k=gp[h],d=d+(h==k[1]?h:h+" "+k[1]);break;case 1:d+=gp[a.intlCurrencyCode_][2]}break;case "%":if(!a.negativePercentSignExpected_&&1!=a.multiplier_)throw Error("Too many percent/permill");
if(a.negativePercentSignExpected_&&100!=a.multiplier_)throw Error("Inconsistent use of percent/permill characters");a.multiplier_=100;a.negativePercentSignExpected_=!1;d+=fp.PERCENT;break;case "\u2030":if(!a.negativePercentSignExpected_&&1!=a.multiplier_)throw Error("Too many percent/permill");if(a.negativePercentSignExpected_&&1E3!=a.multiplier_)throw Error("Inconsistent use of percent/permill characters");a.multiplier_=1E3;a.negativePercentSignExpected_=!1;d+=fp.PERMILL;break;default:d+=h}}return d},
qp={prefix:"",
suffix:"",divisorBase:0},rp=function(a,b){a=1==a.compactStyle_?kp.COMPACT_DECIMAL_SHORT_PATTERN:kp.COMPACT_DECIMAL_LONG_PATTERN;null==a&&(a=kp.COMPACT_DECIMAL_SHORT_PATTERN);if(3>b)return qp;b=Math.min(14,b);var c=a[Math.pow(10,b)];for(--b;!c&&3<=b;)c=a[Math.pow(10,b)],b--;if(!c)return qp;a=c.other;return a&&"0"!=a?(a=/([^0]*)(0+)(.*)/.exec(a))?{prefix:a[1],suffix:a[3],divisorBase:b+1-(a[2].length-1)}:qp:qp},sp=function(a){if(!isFinite(a))return 0<a?a:0;
for(var b=0;1<=(a/=10);)b++;return b};var wp=function(){return!1},xp=function(){return null};var yp=function(){return parseInt(A("DCLKSTAT",0),10)};var Cp=function(a){a=a||{};this.url=a.url||"";this.urlV9As2=a.url_v9as2||"";this.args=a.args||Zb(zp);this.assets=a.assets||{};this.attrs=a.attrs||Zb(Ap);this.params=a.params||Zb(Bp);this.minVersion=a.min_version||"8.0.0";this.fallback=a.fallback||null;this.fallbackMessage=a.fallbackMessage||null;this.html5=!!a.html5;this.disable=a.disable||{};this.loaded=!!a.loaded;this.messages=a.messages||{}},zp={enablejsapi:1},Ap={},Bp={allowscriptaccess:"always",
allowfullscreen:"true",bgcolor:"#000000"};Cp.prototype.clone=function(){var a=new Cp,b;for(b in this)if(this.hasOwnProperty(b)){var c=this[b];"object"==qa(c)?a[b]=Zb(c):a[b]=c}return a};var Dp=function(){this.rev=this.minor=this.major=0;this.pluginDescription_="";var a=r("window.navigator.plugins"),b=r("window.navigator.mimeTypes"),a=a&&a["Shockwave Flash"],b=b&&b["application/x-shockwave-flash"],b=a&&b&&b.enabledPlugin&&a.description||"";if(a=b){var c=a.indexOf("Shockwave Flash");0<=c&&(a=a.substr(c+15));for(var c=a.split(" "),d="",a="",e=0,f=c.length;e<f;e++)if(d)if(a)break;else a=c[e];else d=c[e];d=d.split(".");c=parseInt(d[0],10)||0;d=parseInt(d[1],10)||0;e=0;if("r"==a.charAt(0)||
"d"==a.charAt(0))e=parseInt(a.substr(1),10)||0;a=[c,d,e]}else a=[0,0,0];this.pluginDescription_=b;this.setVersion(a);if(0>=this.major){if(Nc)try{var h=new ActiveXObject("ShockwaveFlash.ShockwaveFlash")}catch(t){h=null}else{var k=document.body;var l=document.createElement("object");l.setAttribute("type","application/x-shockwave-flash");h=k.appendChild(l)}if(h&&"GetVariable"in h)try{var m=h.GetVariable("$version")}catch(t){m=""}k&&l&&k.removeChild(l);(h=m||"")?(h=h.split(" ")[1].split(","),h=[parseInt(h[0],
10)||0,parseInt(h[1],10)||0,parseInt(h[2],10)||0]):h=[0,0,0];this.setVersion(h)}};
pa(Dp);Dp.prototype.setVersion=function(a){this.major=a[0];this.minor=a[1];this.rev=a[2]};
Dp.prototype.getVersion=function(){return[this.major,this.minor,this.rev]};
Dp.prototype.isSupported=function(a,b,c){a="string"==typeof a?a.split("."):[a,b,c];a[0]=parseInt(a[0],10)||0;a[1]=parseInt(a[1],10)||0;a[2]=parseInt(a[2],10)||0;return this.major>a[0]||this.major==a[0]&&this.minor>a[1]||this.major==a[0]&&this.minor==a[1]&&this.rev>=a[2]};q("yt.msgs_",window.yt&&window.yt.msgs_||window.ytcfg&&window.ytcfg.msgs||{},void 0);var Ep=r("yt.abuse.botguardInitialized")||wp;q("yt.abuse.botguardInitialized",Ep,void 0);var Fp=r("yt.abuse.invokeBotguard")||xp;q("yt.abuse.invokeBotguard",Fp,void 0);var Gp=r("yt.abuse.dclkstatus.checkDclkStatus")||yp;q("yt.abuse.dclkstatus.checkDclkStatus",Gp,void 0);var Hp=r("yt.player.exports.navigate")||No;q("yt.player.exports.navigate",Hp,void 0);var Ip=r("yt.util.activity.init")||Wk;q("yt.util.activity.init",Ip,void 0);var Jp=r("yt.util.activity.getTimeSinceActive")||Yk;
q("yt.util.activity.getTimeSinceActive",Jp,void 0);var Kp=r("yt.util.activity.setTimestamp")||Zk;q("yt.util.activity.setTimestamp",Kp,void 0);var Lp={},Mp=(Lp["api.invalidparam"]=2,Lp.auth=150,Lp["drm.auth"]=150,Lp["heartbeat.net"]=150,Lp["heartbeat.servererror"]=150,Lp["heartbeat.stop"]=150,Lp["html5.unsupportedads"]=5,Lp["fmt.noneavailable"]=5,Lp["fmt.decode"]=5,Lp["fmt.unplayable"]=5,Lp["html5.missingapi"]=5,Lp["html5.unsupportedlive"]=5,Lp["drm.unavailable"]=5,Lp);var Np;var Op=Ib,Op=Op.toLowerCase();if(-1!=Op.indexOf("android")){var Pp=Op.match(/android\D*(\d\.\d)[^\;|\)]*[\;\)]/);if(Pp)Np=Number(Pp[1]);else{var Qp={cupcake:1.5,donut:1.6,eclair:2,froyo:2.2,gingerbread:2.3,honeycomb:3,"ice cream sandwich":4,jellybean:4.1,kitkat:4.4,lollipop:5.1,marshmallow:6,nougat:7.1},Rp=Op.match("("+Rb(Qp).join("|")+")");Np=Rp?Qp[Rp[0]]:0}}else Np=void 0;var Sp=['video/mp4; codecs="avc1.42001E, mp4a.40.2"','video/webm; codecs="vp8.0, vorbis"'],Tp=['audio/mp4; codecs="mp4a.40.2"'];var Up;var Vp=Ib,Wp=Vp.match(/\((iPad|iPhone|iPod)( Simulator)?;/);if(!Wp||2>Wp.length)Up=void 0;else{var Xp=Vp.match(/\((iPad|iPhone|iPod)( Simulator)?; (U; )?CPU (iPhone )?OS (\d+_\d)[_ ]/);Up=Xp&&6==Xp.length?Number(Xp[5].replace("_",".")):0}0<=Up&&0<=Ib.search("Safari")&&Ib.search("Version");var Yp=function(a){ae.call(this);this.eventHandlers_=[];this.context_=a||this};
x(Yp,ae);var Zp=function(a,b,c,d){d=Uc(v(d,a.context_));d={target:b,name:c,callback:d};b.addEventListener(c,d.callback,void 0);a.eventHandlers_.push(d)};
Yp.prototype.unlisten=function(a){for(var b=0;b<this.eventHandlers_.length;b++)if(this.eventHandlers_[b]==a){this.eventHandlers_.splice(b,1);a.target.removeEventListener(a.name,a.callback);break}};
var $p=function(a){for(;a.eventHandlers_.length;){var b=a.eventHandlers_.pop();b.target.removeEventListener(b.name,b.callback)}};
Yp.prototype.disposeInternal=function(){$p(this);Yp.superClass_.disposeInternal.call(this)};var bq=function(a,b){ae.call(this);this.containerElement_=this.targetElement_=a;this.playerId_=b;this.isCurrentPlayerApiSetup_=!1;this.api={};this.playerRemoveEventListener_=this.playerAddEventListener_=null;this.pubsub_=new Jg;ce(this,this.pubsub_);this.globalCallbacks_={};this.currentPlayerType_=this.readyCallback_=this.elementId_=this.unmodifiedConfig_=this.config_=null;this.creatingHtml5Player_=!1;this.flashAccessibilitySpanAfter_=this.flashAccessibilitySpanBefore_=this.bootstrapHtml5Player_=
this.createPlayerCallback_=null;this.wrappedCallbacks_={};this.internalEvents_=["onReady"];this.flashAccessibilityListeners_=new Yp(this);ce(this,this.flashAccessibilityListeners_);this.lastError_=null;this.readyPollTimer_=NaN;this.globalCallbackTimerIds_={};aq(this);this.addEventListener_("onDetailedError",v(this.onPlayerError_,this));this.addEventListener_("onTabOrderChange",v(this.changeTabOrder_,this));this.addEventListener_("onTabAnnounce",v(this.a11yAnnounce_,this));this.addEventListener_("WATCH_LATER_VIDEO_ADDED",
v(this.onPlayerWatchLaterVideoAdded_,this));this.addEventListener_("WATCH_LATER_VIDEO_REMOVED",v(this.onPlayerWatchLaterVideoRemoved_,this));Mg||(this.addEventListener_("onMouseWheelCapture",v(this.onMouseWheelCapture_,this)),this.addEventListener_("onMouseWheelRelease",v(this.onMouseWheelRelease_,this)));this.addEventListener_("onAdAnnounce",v(this.a11yAnnounce_,this));this.mouseWheelListeners_=new Yp(this);ce(this,this.mouseWheelListeners_);this.mouseWheelCaptured_=!1;this.lastDocumentScroll_=null};
x(bq,ae);var cq=["drm.unavailable","fmt.noneavailable","html5.missingapi","html5.unsupportedads","html5.unsupportedlive"];bq.prototype.getId=function(){return this.playerId_};
bq.prototype.loadNewVideoConfig=function(a,b){this.isDisposed()||(dq(this,a),eq(this,b),this.isReady_()&&fq(this))};
var dq=function(a,b){a.unmodifiedConfig_=b;a.config_=b.clone();a.elementId_=a.config_.attrs.id||a.elementId_;"video-player"==a.elementId_&&(a.elementId_=a.playerId_,a.config_.attrs.id=a.playerId_);a.containerElement_.id==a.elementId_&&(a.elementId_+="-player",a.config_.attrs.id=a.elementId_);a.config_.args.enablejsapi="1";a.config_.args.playerapiid=a.playerId_;a.readyCallback_||(a.readyCallback_=gq(a,a.config_.args.jsapicallback||"onYouTubePlayerReady"));a.config_.args.jsapicallback=null;if(b=a.config_.attrs.width)a.containerElement_.style.width=
jj(Number(b)||b,!0);if(b=a.config_.attrs.height)a.containerElement_.style.height=jj(Number(b)||b,!0)};
bq.prototype.getConfig_=function(){return this.unmodifiedConfig_};
var fq=function(a){a.config_.loaded||(a.config_.loaded=!0,"0"!=a.config_.args.autoplay?a.api.loadVideoByPlayerVars(a.config_.args):a.api.cueVideoByPlayerVars(a.config_.args))},hq=function(a){if(!p(a.config_.disable.flash)){var b=a.config_.disable;
var c=Dp.getInstance().isSupported(a.config_.minVersion);b.flash=!c}return!a.config_.disable.flash},jq=function(a,b){var c;
(c=!b)||(c=5!=(Mp[b.errorCode]||5)?!1:(c=a.config_&&a.config_.args&&a.config_.args.fflags)&&0<=c.indexOf("web_player_disable_flash_fallback=true")?!1:-1!=cq.indexOf(b.errorCode));c&&hq(a)&&((b=iq(a))&&b.stopVideo&&b.stopVideo(),c=a.config_,b&&b.getUpdatedConfigurationData&&(b=b.getUpdatedConfigurationData(),b instanceof Cp||(b=new Cp(b)),c=b),c.args.autoplay=1,c.args.html5_unavailable="1",dq(a,c),eq(a,"flash"))},eq=function(a,b){if(!a.isDisposed()){if(!b){if(!(b=!a.config_.html5&&hq(a))){if(!p(a.config_.disable.html5)){b=
!0;
void 0!=a.config_.args.deviceHasDisplay&&(b=a.config_.args.deviceHasDisplay);if(2.2==Np)var c=!0;else{a:{var d=b;b=r("yt.player.utils.videoElement_");b||(b=Yf("VIDEO"),q("yt.player.utils.videoElement_",b,void 0));try{if(b.canPlayType)for(var d=d?Sp:Tp,e=0;e<d.length;e++)if(b.canPlayType(d[e])){c=null;break a}c="fmt.noneavailable"}catch(f){c="html5.missingapi"}}c=!c}c&&(c=kq(a)||a.config_.assets.js);a.config_.disable.html5=!c;c||(a.config_.args.html5_unavailable="1")}b=!!a.config_.disable.html5}b=
b?hq(a)?"flash":"unsupported":"html5"}("flash"==b?a.writeFlashPlayer_:a.writeHtml5Player_).call(a)}},kq=function(a){var b=!0,c=iq(a);
c&&a.config_&&(a=a.config_,b=J(c,"version")==a.assets.js);return b&&!!r("yt.player.Application.create")};
bq.prototype.writeHtml5Player_=function(){if(!this.creatingHtml5Player_){var a=kq(this);if(a&&"html5"==lq(this))this.currentPlayerType_="html5",this.isReady_()||this.pollPlayerReady_();else if(mq(this),this.currentPlayerType_="html5",a&&this.bootstrapHtml5Player_)this.targetElement_.appendChild(this.bootstrapHtml5Player_),this.pollPlayerReady_();else{this.config_.loaded=!0;var b=!1;this.createPlayerCallback_=v(function(){b=!0;var a=this.targetElement_,d=this.config_.clone();r("yt.player.Application.create")(a,
d);this.pollPlayerReady_()},this);
this.creatingHtml5Player_=!0;a?this.createPlayerCallback_():(Lh(this.config_.assets.js,this.createPlayerCallback_),Nh(this.config_.assets.css),nq(this)&&!b&&q("yt.player.Application.create",null,void 0))}}};
bq.prototype.writeFlashPlayer_=function(){var a=this.config_.clone();if(!this.flashAccessibilitySpanBefore_){var b=iq(this);b&&(this.flashAccessibilitySpanBefore_=Yf("SPAN"),this.flashAccessibilitySpanBefore_.tabIndex=0,Zp(this.flashAccessibilityListeners_,this.flashAccessibilitySpanBefore_,"focus",this.onFlashAccessibilityElementFocus_),this.flashAccessibilitySpanAfter_=Yf("SPAN"),this.flashAccessibilitySpanAfter_.tabIndex=0,Zp(this.flashAccessibilityListeners_,this.flashAccessibilitySpanAfter_,
"focus",this.onFlashAccessibilityElementFocus_),bg(this.flashAccessibilitySpanBefore_,b),cg(this.flashAccessibilitySpanAfter_,b))}a.attrs.width=a.attrs.width||"100%";a.attrs.height=a.attrs.height||"100%";if("flash"==lq(this))this.currentPlayerType_="flash",this.isReady_()||this.pollPlayerReady_();else{mq(this);this.currentPlayerType_="flash";this.config_.loaded=!0;var b=Dp.getInstance(),c;(c=-1<b.pluginDescription_.indexOf("Gnash")&&-1==b.pluginDescription_.indexOf("AVM2")||9==b.major&&1==b.minor||
9==b.major&&0==b.minor&&1==b.rev?!1:9<=b.major)||(c=!(!(-1<navigator.userAgent.indexOf("Sony/COM2"))||b.isSupported(9,1,58)));var d=c?a.url:a.urlV9As2;window!=window.top&&document.referrer&&(a.args.framer=document.referrer.substring(0,128));b=this.targetElement_;if(d){var b=u(b)?If(b):b,e=Zb(a.attrs);e.tabindex=0;c=Zb(a.params);c.flashvars=sd(a.args);if(Nc){e.classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000";c.movie=d;var a=document.createElement("object");for(h in e)a.setAttribute(h,e[h]);for(var f in c){var h=
document.createElement("param");h.setAttribute("name",f);h.setAttribute("value",c[f]);a.appendChild(h)}}else{e.type="application/x-shockwave-flash";e.src=d;a=document.createElement("embed");a.setAttribute("name",e.id);for(var k in e)a.setAttribute(k,e[k]);for(var l in c)a.setAttribute(l,c[l])}f=document.createElement("div");f.appendChild(a);b.innerHTML=f.innerHTML}this.pollPlayerReady_()}};
bq.prototype.onFlashAccessibilityElementFocus_=function(){iq(this).focus()};
var iq=function(a){var b=D(a.elementId_);!b&&a.containerElement_&&a.containerElement_.querySelector&&(b=a.containerElement_.querySelector("#"+a.elementId_));return b};
bq.prototype.pollPlayerReady_=function(){if(!this.isDisposed()){var a=iq(this),b=!1;try{a&&a.getApiInterface&&a.getApiInterface()&&(b=!0)}catch(f){}if(b)if(this.creatingHtml5Player_=!1,a.isNotServable&&a.isNotServable(this.config_.args.video_id))jq(this);else{aq(this);this.isCurrentPlayerApiSetup_=!0;a=iq(this);a.addEventListener&&(this.playerAddEventListener_=oq(this,a,"addEventListener"));a.removeEventListener&&(this.playerRemoveEventListener_=oq(this,a,"removeEventListener"));for(var b=a.getApiInterface(),
b=b.concat(a.getInternalApiInterface()),c=0;c<b.length;c++){var d=b[c];this.api[d]||(this.api[d]=oq(this,a,d))}for(var e in this.globalCallbacks_)this.playerAddEventListener_(e,this.globalCallbacks_[e]);fq(this);this.readyCallback_&&this.readyCallback_(this.api);this.pubsub_.publish("onReady",this.api)}else this.readyPollTimer_=ah(v(this.pollPlayerReady_,this),50)}};
var oq=function(a,b,c){var d=b[c];return function(){try{return a.lastError_=null,d.apply(b,arguments)}catch(e){"Bad NPObject as private data!"!=e.message&&"sendAbandonmentPing"!=c&&(e.message+=" ("+c+")",a.lastError_=e,Sc(e,"WARNING"))}}},aq=function(a){a.isCurrentPlayerApiSetup_=!1;
if(a.playerRemoveEventListener_)for(var b in a.globalCallbacks_)a.playerRemoveEventListener_(b,a.globalCallbacks_[b]);for(var c in a.globalCallbackTimerIds_)$g(parseInt(c,10));a.globalCallbackTimerIds_={};a.playerAddEventListener_=null;a.playerRemoveEventListener_=null;for(var d in a.api)a.api[d]=null;a.api.addEventListener=v(a.addEventListener_,a);a.api.removeEventListener=v(a.removeEventListener_,a);a.api.destroy=v(a.dispose,a);a.api.getLastError=v(a.getLastError_,a);a.api.getPlayerType=v(a.getPlayerType_,
a);a.api.getCurrentVideoConfig=v(a.getConfig_,a);a.api.loadNewVideoConfig=v(a.loadNewVideoConfig,a);a.api.isReady=v(a.isReady_,a)};
bq.prototype.isReady_=function(){return this.isCurrentPlayerApiSetup_};
bq.prototype.addEventListener_=function(a,b){if(!this.isDisposed()&&(b=gq(this,b))){if(!tb(this.internalEvents_,a)&&!this.globalCallbacks_[a]){var c=pq(this,a);this.playerAddEventListener_&&this.playerAddEventListener_(a,c)}this.pubsub_.subscribe(a,b);"onReady"==a&&this.isReady_()&&ah(Ba(b,this.api),0)}};
bq.prototype.removeEventListener_=function(a,b){this.isDisposed()||(b=gq(this,b))&&this.pubsub_.unsubscribe(a,b)};
var gq=function(a,b){var c=b;if("string"==typeof b){if(a.wrappedCallbacks_[b])return a.wrappedCallbacks_[b];c=function(){var a=r(b);a&&a.apply(n,arguments)};
a.wrappedCallbacks_[b]=c}return c?c:null},pq=function(a,b){var c="ytPlayer"+b+a.playerId_;
a.globalCallbacks_[b]=c;n[c]=function(c){var d=ah(function(){if(!a.isDisposed()){a.pubsub_.publish(b,c);var e=a.globalCallbackTimerIds_,h=String(d);h in e&&delete e[h]}},0);
Wb(a.globalCallbackTimerIds_,String(d))};
return c};
g=bq.prototype;g.changeTabOrder_=function(a){a=a?lg:kg;for(var b=a(document.activeElement);b&&(1!=b.nodeType||b==this.flashAccessibilitySpanBefore_||b==this.flashAccessibilitySpanAfter_||(b.focus(),b!=document.activeElement));)b=a(b)};
g.a11yAnnounce_=function(a){K("a11y-announce",a)};
g.onPlayerError_=function(a){jq(this,a)};
g.onPlayerWatchLaterVideoAdded_=function(a){K("WATCH_LATER_VIDEO_ADDED",a)};
g.onPlayerWatchLaterVideoRemoved_=function(a){K("WATCH_LATER_VIDEO_REMOVED",a)};
g.onMouseWheelCapture_=function(){this.mouseWheelCaptured_||(Qg?(this.lastDocumentScroll_=Sf(document),Zp(this.mouseWheelListeners_,window,"scroll",this.onWindowScroll_),Zp(this.mouseWheelListeners_,this.targetElement_,"touchmove",this.onTouchMove_)):(Zp(this.mouseWheelListeners_,this.targetElement_,"mousewheel",this.onMouseWheel_),Zp(this.mouseWheelListeners_,this.targetElement_,"wheel",this.onMouseWheel_)),this.mouseWheelCaptured_=!0)};
g.onMouseWheelRelease_=function(){$p(this.mouseWheelListeners_);this.mouseWheelCaptured_=!1};
g.onMouseWheel_=function(a){Fk(a)};
g.onWindowScroll_=function(){window.scrollTo(this.lastDocumentScroll_.x,this.lastDocumentScroll_.y)};
g.onTouchMove_=function(a){a.preventDefault()};
g.getPlayerType_=function(){return this.currentPlayerType_||lq(this)};
g.getLastError_=function(){return this.lastError_};
var lq=function(a){return(a=iq(a))?"div"==a.tagName.toLowerCase()?"html5":"flash":null},mq=function(a){vn("dcp");
a.cancel();aq(a);a.currentPlayerType_=null;a.config_&&(a.config_.loaded=!1);var b=iq(a);"html5"==lq(a)?kq(a)||!nq(a)?a.bootstrapHtml5Player_=b:(b&&b.destroy&&b.destroy(),a.bootstrapHtml5Player_=null):b&&b.destroy&&b.destroy();ag(a.targetElement_);$p(a.flashAccessibilityListeners_);a.flashAccessibilitySpanBefore_=null;a.flashAccessibilitySpanAfter_=null};
bq.prototype.cancel=function(){if(this.createPlayerCallback_){var a=this.createPlayerCallback_;this.config_.assets.js&&a&&(a=""+ya(a),(a=Jh[a])&&Ah(a))}$g(this.readyPollTimer_);this.creatingHtml5Player_=!1};
bq.prototype.disposeInternal=function(){mq(this);if(this.bootstrapHtml5Player_&&this.config_)try{this.bootstrapHtml5Player_.destroy()}catch(b){Sc(b)}this.wrappedCallbacks_=null;for(var a in this.globalCallbacks_)n[this.globalCallbacks_[a]]=null;this.unmodifiedConfig_=this.config_=this.api=null;delete this.targetElement_;delete this.containerElement_;bq.superClass_.disposeInternal.call(this)};
var nq=function(a){return a.config_&&a.config_.args&&a.config_.args.fflags?-1!=a.config_.args.fflags.indexOf("player_destroy_old_version=true"):!1};var qq={},rq="player_uid_"+(1E9*Math.random()>>>0);q("yt.pubsub.publish",K,void 0);var sq=function(a,b){this.bcError_=a;this.lastHttpStatusCode_=b};
sq.prototype.getBrowserChannelErrorCode=function(){return this.bcError_};
sq.prototype.getLastHttpStatusCode=function(){return this.lastHttpStatusCode_};var tq=function(a,b,c){this.messageType_=a;this.name_=b.name||null;this.fields_={};for(a=0;a<c.length;a++)b=c[a],this.fields_[b.tag_]=b};
tq.prototype.getName=function(){return this.name_};
var uq=function(a){a=Qb(a.fields_);Cb(a,function(a,c){return a.tag_-c.tag_});
return a},vq=function(a,b){return Ub(a.fields_,function(a){return a.getName()==b})||null};var wq=function(a,b,c){this.parent_=a;this.tag_=b;this.name_=c.name;this.isRepeated_=!!c.repeated;this.isRequired_=!!c.required;this.fieldType_=c.fieldType;this.nativeType_=c.type;this.deserializationConversionPermitted_=!1;switch(this.fieldType_){case 3:case 4:case 6:case 16:case 18:case 2:case 1:this.deserializationConversionPermitted_=!0}this.defaultValue_=c.defaultValue};
wq.prototype.getName=function(){return this.name_};
var xq=function(a){return 11==a.fieldType_||10==a.fieldType_};
wq.prototype.isRequired=function(){return this.isRequired_};var T=function(){this.values_={};this.fields_=this.getDescriptor().fields_;this.deserializedFields_=this.lazyDeserializer_=null},yq=function(a,b,c){c=c||a;
for(var d in a.values_){var e=Number(d);a.fields_[e]||b.call(c,e,a.values_[d])}};
g=T.prototype;g.has=function(a){return U(this,a.tag_)};
g.get=function(a,b){return V(this,a.tag_,b)};
g.set=function(a,b){W(this,a.tag_,b)};
g.add=function(a,b){zq(this,a.tag_,b)};
g.clear=function(a){Aq(this,a.tag_)};
g.equals=function(a){if(!a||this.constructor!=a.constructor)return!1;for(var b=uq(this.getDescriptor()),c=0;c<b.length;c++){var d=b[c],e=d.tag_;if(U(this,e)!=U(a,e))return!1;if(U(this,e)){var f=xq(d),h=Bq(this,e),e=Bq(a,e);if(d.isRepeated_){if(h.length!=e.length)return!1;for(d=0;d<h.length;d++){var k=h[d],l=e[d];if(f?!k.equals(l):k!=l)return!1}}else if(f?!h.equals(e):h!=e)return!1}}return!0};
var Cq=function(a,b){for(var c=uq(a.getDescriptor()),d=0;d<c.length;d++){var e=c[d],f=e.tag_;if(U(b,f)){a.deserializedFields_&&delete a.deserializedFields_[e.tag_];var h=xq(e);if(e.isRepeated_)for(var e=Bq(b,f)||[],k=0;k<e.length;k++)zq(a,f,h?e[k].clone():e[k]);else e=Bq(b,f),h?(h=Bq(a,f))?Cq(h,e):W(a,f,e.clone()):W(a,f,e)}}};
T.prototype.clone=function(){var a=new this.constructor;a!=this&&(a.values_={},a.deserializedFields_&&(a.deserializedFields_={}),Cq(a,this));return a};
var U=function(a,b){return null!=a.values_[b]},Bq=function(a,b){var c=a.values_[b];
return null==c?null:a.lazyDeserializer_?b in a.deserializedFields_?a.deserializedFields_[b]:(c=a.lazyDeserializer_.deserializeField(a,a.fields_[b],c),a.deserializedFields_[b]=c):c},V=function(a,b,c){var d=Bq(a,b);
return a.fields_[b].isRepeated_?d[c||0]:d},Dq=function(a,b){if(U(a,b))a=V(a,b,void 0);
else a:{a=a.fields_[b];if(void 0===a.defaultValue_)if(b=a.nativeType_,b===Boolean)a.defaultValue_=!1;else if(b===Number)a.defaultValue_=0;else if(b===String)a.defaultValue_=a.deserializationConversionPermitted_?"0":"";else{a=new b;break a}a=a.defaultValue_}return a},Eq=function(a,b){return a.fields_[b].isRepeated_?U(a,b)?a.values_[b].length:0:U(a,b)?1:0},W=function(a,b,c){a.values_[b]=c;
a.deserializedFields_&&(a.deserializedFields_[b]=c)},zq=function(a,b,c){a.values_[b]||(a.values_[b]=[]);
a.values_[b].push(c);a.deserializedFields_&&delete a.deserializedFields_[b]},Aq=function(a,b){delete a.values_[b];
a.deserializedFields_&&delete a.deserializedFields_[b]},X=function(a,b){var c=[],d=b[0],e;
for(e in b)0!=e&&c.push(new wq(a,e,b[e]));return new tq(a,d,c)};var Fq=function(){T.call(this)};
x(Fq,T);var Gq=null;g=Fq.prototype;g.getAuthuser=function(){return V(this,1)};
g.setAuthuser=function(a){W(this,1,a)};
g.getClientType=function(){return V(this,2)};
g.setClientType=function(a){W(this,2,a)};
g.setGapiSrc=function(a){W(this,5,a)};
g.setPropertyId=function(a){W(this,6,a)};
g.setApplicationVersion=function(a){W(this,7,a)};
g.setRetryOnAuthError=function(a){W(this,8,a)};
g.getPageId=function(){return V(this,10)};
g.setPageId=function(a){W(this,10,a)};
g.setUseSharedChannel=function(a){W(this,13,a)};
var Hq=function(){T.call(this)};
x(Hq,T);var Iq=null;g=Hq.prototype;g.setOrigin=function(a){W(this,1,a)};
g.getScheme=function(){return V(this,2)};
g.setScheme=function(a){W(this,2,a)};
g.hasScheme=function(){return U(this,2)};
g.getAuthuser=function(){return V(this,4)};
g.setAuthuser=function(a){W(this,4,a)};
Fq.prototype.getDescriptor=function(){var a=Gq;a||(Gq=a=X(Fq,{0:{name:"BrowserChannelConfig",fullName:"buzz.channel.proto.BrowserChannelConfig"},1:{name:"authuser",fieldType:4,type:Number},2:{name:"client_type",fieldType:9,type:String},3:{name:"init_delay_ms",fieldType:5,type:Number},4:{name:"service_override",fieldType:9,type:String},5:{name:"gapi_src",fieldType:9,type:String},6:{name:"property_id",fieldType:9,type:String},7:{name:"application_version",fieldType:9,type:String},8:{name:"retry_on_auth_error",
fieldType:8,type:Boolean},9:{name:"gsid_servlet_path",fieldType:9,type:String},10:{name:"page_id",fieldType:9,type:String},11:{name:"initial_retry_delay_ms",fieldType:5,defaultValue:1E4,type:Number},12:{name:"max_backoff_factor",fieldType:5,defaultValue:180,type:Number},13:{name:"use_shared_channel",fieldType:8,type:Boolean},14:{name:"stable_connection_threshold_ms",fieldType:5,defaultValue:3E5,type:Number}}));return a};
Fq.getDescriptor=Fq.prototype.getDescriptor;Hq.prototype.getDescriptor=function(){var a=Iq;a||(Iq=a=X(Hq,{0:{name:"AuthenticationParameters",fullName:"buzz.channel.proto.AuthenticationParameters"},1:{name:"origin",fieldType:9,type:String},2:{name:"scheme",fieldType:5,type:Number},3:{name:"token",fieldType:9,type:String},4:{name:"authuser",fieldType:13,type:Number}}));return a};
Hq.getDescriptor=Hq.prototype.getDescriptor;var Jq={APISIDHASH:1,SAPISIDHASH:2,OAuth:3};new Ud([1,2,3]);var Kq=new Ud([1,2]);var Lq=function(a,b,c){this.initialMaxDelay_=b;this.maxExponentialFactor_=c;this.random_=a;this.reset()};
Lq.prototype.reset=function(){this.currentMaxDelay_=this.initialMaxDelay_;this.inRetryMode_=!1};
var Mq=function(a){var b=0;if(a.inRetryMode_){var b=Math.ceil(a.random_()*a.currentMaxDelay_),c=a.initialMaxDelay_*a.maxExponentialFactor_;a.currentMaxDelay_<=c&&(a.currentMaxDelay_*=2,a.currentMaxDelay_>c&&(a.currentMaxDelay_=c))}a.inRetryMode_=!0;return b};var Oq=function(a,b){var c=Array.prototype.slice.call(arguments),d=c.shift();if("undefined"==typeof d)throw Error("[goog.string.format] Template required");return d.replace(/%([0\-\ \+]*)(\d+)?(\.(\d+))?([%sfdiu])/g,function(a,b,d,k,l,m,t,H){if("%"==m)return"%";var e=c.shift();if("undefined"==typeof e)throw Error("[goog.string.format] Not enough arguments");arguments[0]=e;return Nq[m].apply(null,arguments)})},Nq={s:function(a,b,c){return isNaN(c)||""==c||a.length>=Number(c)?a:a=-1<b.indexOf("-",0)?
a+bb(" ",Number(c)-a.length):bb(" ",Number(c)-a.length)+a},
f:function(a,b,c,d,e){d=a.toString();isNaN(e)||""==e||(d=parseFloat(a).toFixed(e));var f=0>Number(a)?"-":0<=b.indexOf("+")?"+":0<=b.indexOf(" ")?" ":"";0<=Number(a)&&(d=f+d);if(isNaN(c)||d.length>=Number(c))return d;d=isNaN(e)?Math.abs(Number(a)).toString():Math.abs(Number(a)).toFixed(e);a=Number(c)-d.length-f.length;0<=b.indexOf("-",0)?d=f+d+bb(" ",a):(b=0<=b.indexOf("0",0)?"0":" ",d=f+bb(b,a)+d);return d},
d:function(a,b,c,d,e,f,h,k){return Nq.f(parseInt(a,10),b,c,d,0,f,h,k)}};
Nq.i=Nq.d;Nq.u=Nq.d;var Pq=function(){this.logger_=null};
g=Pq.prototype;g.severe=function(a,b){na.log&&na.log.ENABLED&&Qq(this,Da.Logger.Level.SEVERE,arguments)};
g.warning=function(a,b){na.log&&na.log.ENABLED&&Qq(this,Da.Logger.Level.WARNING,arguments)};
g.info=function(a,b){na.log&&na.log.ENABLED&&Qq(this,Da.Logger.Level.INFO,arguments)};
g.fine=function(a,b){na.log&&na.log.ENABLED&&Qq(this,Da.Logger.Level.FINE,arguments)};
g.isLoggable=function(a){return null!=this.logger_&&na.log.ENABLED&&this.logger_.isLoggable(a)};
var Qq=function(a,b,c){a.logger_&&a.logger_.isLoggable(b)&&Oq.apply(null,c)};var Rq=function(){};
Rq.prototype.getSerializedValue=function(a,b){return xq(a)?this.serialize(b):ta(b)&&!isFinite(b)?b.toString():b};
var Sq=function(a,b,c){b=new b.messageType_;a.deserializeTo(b,c);return b};
Rq.prototype.getDeserializedValue=function(a,b){if(xq(a))return b instanceof T?b:Sq(this,a.nativeType_.prototype.getDescriptor(),b);if(14==a.fieldType_)return u(b)&&Tq.test(b)&&(a=Number(b),0<a)?a:b;if(!a.deserializationConversionPermitted_)return b;a=a.nativeType_;if(a===String){if(ta(b))return String(b)}else if(a===Number&&u(b)&&("Infinity"===b||"-Infinity"===b||"NaN"===b||Tq.test(b)))return Number(b);return b};
var Tq=/^-?[0-9]+$/;var Uq=function(a,b){this.keyOption_=a;this.serializeBooleanAsNumber_=b};
x(Uq,Rq);Uq.prototype.serialize=function(a){for(var b=uq(a.getDescriptor()),c={},d=0;d<b.length;d++){var e=b[d],f=1==this.keyOption_?e.getName():e.tag_;if(a.has(e))if(e.isRepeated_){var h=[];c[f]=h;for(f=0;f<Eq(a,e.tag_);f++)h.push(this.getSerializedValue(e,a.get(e,f)))}else c[f]=this.getSerializedValue(e,a.get(e))}yq(a,function(a,b){c[a]=b});
return c};
Uq.prototype.getSerializedValue=function(a,b){return this.serializeBooleanAsNumber_&&8==a.fieldType_&&"boolean"==typeof b?b?1:0:Uq.superClass_.getSerializedValue.call(this,a,b)};
Uq.prototype.getDeserializedValue=function(a,b){return 8==a.fieldType_&&ta(b)?!!b:Uq.superClass_.getDeserializedValue.call(this,a,b)};
Uq.prototype.deserializeTo=function(a,b){var c=a.getDescriptor(),d;for(d in b){var e,f=b[d],h=!/[^0-9]/.test(d);if(e=h?c.fields_[parseInt(d,10)]||null:vq(c,d))if(e.isRepeated_)for(h=0;h<f.length;h++)a.add(e,this.getDeserializedValue(e,f[h]));else a.set(e,this.getDeserializedValue(e,f));else h&&(e=a,h=Number(d),e.values_[h]=f,e.deserializedFields_&&delete e.deserializedFields_[h])}};var Vq=function(a,b){this.ignoreMissingFields_=!!a;this.useEnumValues_=!!b};
x(Vq,Rq);Vq.prototype.deserializeTo=function(a,b){var c=new Wq;return c.parse(a,b.toString(),this.ignoreMissingFields_)?null:c.getError()};
Vq.prototype.serialize=function(a){var b=new Xq;Yq(this,a,b);return b.toString()};
var Yq=function(a,b,c){var d=uq(b.getDescriptor());y(d,function(a){if(b.has(a))for(var d=Eq(b,a.tag_),e=0;e<d;++e){c.append(a.getName());11==a.fieldType_||10==a.fieldType_?(c.append(" {"),Zq(c),c.indentation_+=2):c.append(": ");$q(this,b.get(a,e),a,c);if(11==a.fieldType_||10==a.fieldType_)c.indentation_-=2,c.append("}");Zq(c)}},a);
yq(b,function(a,b){ar(this,a,b,c)},a)},ar=function(a,b,c,d){if(null!=c)if(ra(c))y(c,function(a){ar(this,b,a,d)},a);
else{if(va(c)){d.append(b);d.append(" {");Zq(d);d.indentation_+=2;if(c instanceof T)Yq(a,c,d);else for(var e in c)ar(a,kb(e),c[e],d);d.indentation_-=2;d.append("}")}else u(c)&&(c=ab(c)),d.append(b),d.append(": "),d.append(c.toString());Zq(d)}},$q=function(a,b,c,d){switch(c.fieldType_){case 1:case 2:case 3:case 4:case 5:case 13:case 6:case 7:case 8:case 15:case 16:case 17:case 18:d.append(b);
break;case 12:case 9:b=ab(b.toString());d.append(b);break;case 14:if(!a.useEnumValues_){var e=!1;Lb(c.nativeType_,function(a,c){e||a!=b||(d.append(c),e=!0)})}e&&!a.useEnumValues_||d.append(b.toString());
break;case 10:case 11:Yq(a,b,d)}},Xq=function(){this.indentation_=0;
this.buffer_=[];this.requiresIndentation_=!0};
Xq.prototype.toString=function(){return this.buffer_.join("")};
Xq.prototype.append=function(a){if(this.requiresIndentation_){for(var b=0;b<this.indentation_;++b)this.buffer_.push(" ");this.requiresIndentation_=!1}this.buffer_.push(a.toString())};
var Zq=function(a){a.buffer_.push("\n");a.requiresIndentation_=!0},cr=function(a,b,c){this.ignoreWhitespace_=!!b;
this.ignoreComments_=!!c;this.data_=a;this.index_=0;this.currentData_=a;this.current_={type:br,value:null}},br=/---end---/,dr=/^-?[a-zA-Z][a-zA-Z0-9_]*/,er=/^(0x[0-9a-f]+)|(([-])?[0-9][0-9]*(\.?[0-9]+)?(e[+-]?[0-9]+|[f])?)/,fr=/^#.*/,gr=/^"([^"\\]|\\.)*"/,hr=/^\s/,ir={END:br,
IDENTIFIER:dr,NUMBER:er,COMMENT:fr,OPEN_BRACE:/^{/,CLOSE_BRACE:/^}/,OPEN_TAG:/^</,CLOSE_TAG:/^>/,OPEN_LIST:/^\[/,CLOSE_LIST:/^\]/,STRING:gr,COLON:/^:/,COMMA:/^,/,SEMI:/^;/,WHITESPACE:hr};cr.prototype.next=function(){for(;jr(this);){var a=this.current_.type;if(a!=hr&&a!=fr||a==hr&&!this.ignoreWhitespace_||a==fr&&!this.ignoreComments_)return!0}this.current_={type:br,value:null};return!1};
var jr=function(a){if(a.index_>=a.data_.length)return!1;var b=a.currentData_,c=null;Ob(ir,function(a){if(c||a==br)return!1;var d=a.exec(b);d&&0==d.index&&(c={type:a,value:d[0]});return!!c});
c&&(a.current_=c,a.index_+=c.value.length,a.currentData_=a.currentData_.substring(c.value.length));return!!c},Wq=function(){this.tokenizer_=this.error_=null;
this.ignoreMissingFields_=!1};
Wq.prototype.parse=function(a,b,c){this.error_=null;this.ignoreMissingFields_=!!c;this.tokenizer_=new cr(b,!0,!0);this.tokenizer_.next();return kr(this,a,"")};
Wq.prototype.getError=function(){return this.error_};
var kr=function(a,b,c){for(;">"!=a.tokenizer_.current_.value&&"}"!=a.tokenizer_.current_.value&&a.tokenizer_.current_.type!=br;)if(!lr(a,b))return!1;if(c){if(!mr(a,c))return!1}else a.tokenizer_.current_.type!=br&&(a.error_="Expected END token");return!0},or=function(a,b,c){a=nr(a,c);
if(null===a)return!1;c.isRepeated_?b.add(c,a):b.set(c,a);return!0},pr=function(a){return-1!=a.indexOf(".")?parseFloat(a):kb(a)},nr=function(a,b){switch(b.fieldType_){case 1:case 2:if(b=qr(a,dr))if(b=/^-?inf(?:inity)?f?$/i.test(b)?Infinity*(0==b.lastIndexOf("-",0)?-1:1):/^nanf?$/i.test(b)?NaN:null,null!=b)return b;
case 5:case 13:case 7:case 15:case 17:return(a=qr(a,er))?pr(a):null;case 3:case 4:case 6:case 16:case 18:return(a=qr(a,er))?b.nativeType_==Number?pr(a):a:null;case 8:b=qr(a,dr);if(!b)return null;switch(b){case "true":return!0;case "false":return!1;default:return a.error_="Unknown type for bool: "+b,null}case 14:if(a.tokenizer_.current_.type==er)return(a=qr(a,er))?pr(a):null;var c=qr(a,dr);if(!c)return null;b=b.nativeType_[c];return null==b?(a.error_="Unknown enum value: "+c,null):b;case 12:case 9:if(b=
qr(a,gr)){for(c=Sj(b).toString();a.tokenizer_.current_.type==gr;)b=qr(a,gr),c+=Sj(b).toString();a=c}else a=null;return a}},sr=function(a){rr(a,":");
if(rr(a,"[")){for(;;){a.tokenizer_.next();if(rr(a,"]"))break;if(!mr(a,","))return!1}return!0}if(rr(a,"<"))return kr(a,null,">");if(rr(a,"{"))return kr(a,null,"}");a.tokenizer_.next();return!0},lr=function(a,b){var c=qr(a,dr);
if(!c)return a.error_="Missing field name",!1;var d=null;b&&(d=vq(b.getDescriptor(),c.toString()));if(null==d){if(a.ignoreMissingFields_)return sr(a);a.error_="Unknown field: "+c;return!1}if(11==d.fieldType_||10==d.fieldType_){rr(a,":");a:{c=d;if(rr(a,"<"))d=">";else{if(!mr(a,"{")){b=!1;break a}d="}"}var e=new (c.nativeType_.prototype.getDescriptor().messageType_);kr(a,e,d)?(c.isRepeated_?b.add(c,e):b.set(c,e),b=!0):b=!1}if(!b)return!1}else{if(!mr(a,":"))return!1;if(d.isRepeated_&&rr(a,"["))for(;;){if(!or(a,
b,d))return!1;if(rr(a,"]"))break;if(!mr(a,","))return!1}else if(!or(a,b,d))return!1}rr(a,",")||rr(a,";");return!0},rr=function(a,b){return a.tokenizer_.current_.value==b?(a.tokenizer_.next(),!0):!1},qr=function(a,b){if(a.tokenizer_.current_.type!=b)return a.error_="Expected token type: "+b,null;
b=a.tokenizer_.current_.value;a.tokenizer_.next();return b},mr=function(a,b){return rr(a,b)?!0:(a.error_='Expected token "'+b+'"',!1)};var tr=new Uq,ur=new Vq,vr=function(a){a=tr.serialize(a);return Vj(a)};
try{var wr=window.JSON.parse}catch(a){wr=Sj}var xr=function(a,b){try{var c=wr(b)}catch(e){return null}try{var d=Sq(tr,a,c)}catch(e){return null}return null==d?null:d};
T.prototype.toString=function(){return ur.serialize(this)};
var yr=function(a){var b=D(a);null==b&&(b=Vf("DIV",{id:a,style:"display:none"}),Kf(document,"body",void 0,void 0)[0].appendChild(b));return b};var zr=function(a,b){this.serializer_=new Uj(a);this.parser_=b?Tj:Sj};
zr.prototype.stringify=function(a){return this.serializer_.serialize(a)};
zr.prototype.parse=function(a){return this.parser_(a)};var Ar=function(a,b,c){ae.call(this);this.listener_=null!=c?v(a,c):a;this.interval_=b;this.callback_=v(this.onTimer_,this);this.args_=[]};
x(Ar,ae);g=Ar.prototype;g.shouldFire_=!1;g.pauseCount_=0;g.timer_=null;g.fire=function(a){this.args_=arguments;this.timer_||this.pauseCount_?this.shouldFire_=!0:this.doAction_()};
g.stop=function(){this.timer_&&(n.clearTimeout(this.timer_),this.timer_=null,this.shouldFire_=!1,this.args_=[])};
g.pause=function(){this.pauseCount_++};
g.resume=function(){this.pauseCount_--;this.pauseCount_||!this.shouldFire_||this.timer_||(this.shouldFire_=!1,this.doAction_())};
g.disposeInternal=function(){Ar.superClass_.disposeInternal.call(this);this.stop()};
g.onTimer_=function(){this.timer_=null;this.shouldFire_&&!this.pauseCount_&&(this.shouldFire_=!1,this.doAction_())};
g.doAction_=function(){this.timer_=Si(this.callback_,this.interval_);this.listener_.apply(null,this.args_)};var Br=function(a){switch(a){case 0:return"No Error";case 1:return"Access denied to content document";case 2:return"File not found";case 3:return"Firefox silently errored";case 4:return"Application custom error";case 5:return"An exception occurred";case 6:return"Http response at 400 or 500 level";case 7:return"Request was aborted";case 8:return"Request timed out";case 9:return"The resource is not available offline";default:return"Unrecognized error code"}};var Cr=function(){};
Cr.prototype.cachedOptions_=null;Cr.prototype.getOptions=function(){var a;(a=this.cachedOptions_)||(a={},Dr(this)&&(a[0]=!0,a[1]=!0),a=this.cachedOptions_=a);return a};var Er,Fr=function(){};
x(Fr,Cr);var Gr=function(a){return(a=Dr(a))?new ActiveXObject(a):new XMLHttpRequest},Dr=function(a){if(!a.ieProgId_&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var b=["MSXML2.XMLHTTP.6.0",
"MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],c=0;c<b.length;c++){var d=b[c];try{return new ActiveXObject(d),a.ieProgId_=d}catch(e){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed");}return a.ieProgId_};
Er=new Fr;var Hr=function(a,b,c,d,e){this.channel_=a;this.channelDebug_=b;this.sid_=c;this.rid_=d;this.retryId_=e||1;this.timeout_=45E3;this.eventHandler_=new Ui(this);this.pollingTimer_=new Ri;this.pollingTimer_.setInterval(250)};
g=Hr.prototype;g.extraHeaders_=null;g.successful_=!1;g.watchDogTimerId_=null;g.watchDogTimeoutTime_=null;g.requestStartTime_=null;g.type_=null;g.baseUri_=null;g.requestUri_=null;g.postData_=null;g.xmlHttp_=null;g.xmlHttpChunkStart_=0;g.trident_=null;g.verb_=null;g.lastError_=null;g.lastStatusCode_=-1;g.sendClose_=!0;g.cancelled_=!1;g.readyStateChangeThrottleMs_=0;g.readyStateChangeThrottle_=null;
var Ir=function(a,b){switch(a){case 0:return"Non-200 return code ("+b+")";case 1:return"XMLHTTP failure (no data)";case 2:return"HttpConnection timeout";default:return"Unknown error"}},Jr={},Kr={};
Hr.prototype.setExtraHeaders=function(a){this.extraHeaders_=a};
Hr.prototype.setTimeout=function(a){this.timeout_=a};
Hr.prototype.setReadyStateChangeThrottle=function(a){this.readyStateChangeThrottleMs_=a};
var Mr=function(a,b,c){a.type_=1;a.baseUri_=so(b.clone());a.postData_=c;a.decodeChunks_=!0;Lr(a,null)},Nr=function(a,b,c,d,e){a.type_=1;
a.baseUri_=so(b.clone());a.postData_=null;a.decodeChunks_=c;e&&(a.sendClose_=!1);Lr(a,d)},Lr=function(a,b){a.requestStartTime_=w();
Or(a);a.requestUri_=a.baseUri_.clone();qo(a.requestUri_,"t",a.retryId_);a.xmlHttpChunkStart_=0;a.xmlHttp_=a.channel_.createXhrIo(a.channel_.shouldUseSecondaryDomains()?b:null);0<a.readyStateChangeThrottleMs_&&(a.readyStateChangeThrottle_=new Ar(v(a.xmlHttpHandler_,a,a.xmlHttp_),a.readyStateChangeThrottleMs_));a.eventHandler_.listen(a.xmlHttp_,"readystatechange",a.readyStateChangeHandler_);b=a.extraHeaders_?Zb(a.extraHeaders_):{};a.postData_?(a.verb_="POST",b["Content-Type"]="application/x-www-form-urlencoded",
a.xmlHttp_.send(a.requestUri_,a.verb_,a.postData_,b)):(a.verb_="GET",a.sendClose_&&!me&&(b.Connection="close"),a.xmlHttp_.send(a.requestUri_,a.verb_,null,b));a.channel_.notifyServerReachabilityEvent(1);var c=a.postData_;if(c){b="";for(var c=c.split("&"),d=0;d<c.length;d++){var e=c[d].split("=");if(1<e.length){var f=e[0],e=e[1],h=f.split("_");b=2<=h.length&&"type"==h[1]?b+(f+"="+e+"&"):b+(f+"=redacted&")}}}else b=null;a.channelDebug_.info("XMLHTTP REQ ("+a.rid_+") [attempt "+a.retryId_+"]: "+a.verb_+
"\n"+a.requestUri_+"\n"+b)};
Hr.prototype.readyStateChangeHandler_=function(a){a=a.target;var b=this.readyStateChangeThrottle_;b&&3==a.getReadyState()?(this.channelDebug_.debug("Throttling readystatechange."),b.fire()):this.xmlHttpHandler_(a)};
Hr.prototype.xmlHttpHandler_=function(a){try{if(a==this.xmlHttp_)a:{var b=this.xmlHttp_.getReadyState(),c=this.xmlHttp_.lastErrorCode_,d=this.xmlHttp_.getStatus();if(C&&!Ee(10)||me&&!Ce("420+")){if(4>b)break a}else if(3>b||3==b&&!ie&&!this.xmlHttp_.getResponseText())break a;this.cancelled_||4!=b||7==c||(8==c||0>=d?this.channel_.notifyServerReachabilityEvent(3):this.channel_.notifyServerReachabilityEvent(2));Pr(this);var e=this.xmlHttp_.getStatus();this.lastStatusCode_=e;var f=this.xmlHttp_.getResponseText();
f||this.channelDebug_.debug("No response text for uri "+this.requestUri_+" status "+e);this.successful_=200==e;this.channelDebug_.info("XMLHTTP RESP ("+this.rid_+") [ attempt "+this.retryId_+"]: "+this.verb_+"\n"+this.requestUri_+"\n"+b+" "+e);if(this.successful_){if(4==b&&Qr(this),this.decodeChunks_?(Rr(this,b,f),ie&&this.successful_&&3==b&&(this.eventHandler_.listen(this.pollingTimer_,"tick",this.pollResponse_),this.pollingTimer_.start())):(Sr(this.channelDebug_,this.rid_,f,null),Tr(this,f)),this.successful_&&
!this.cancelled_)if(4==b)this.channel_.onRequestComplete(this);else this.successful_=!1,Or(this)}else 400==e&&0<f.indexOf("Unknown SID")?(this.lastError_=3,Ur(13),this.channelDebug_.warning("XMLHTTP Unknown SID ("+this.rid_+")")):(this.lastError_=0,Ur(14),this.channelDebug_.warning("XMLHTTP Bad status "+e+" ("+this.rid_+")")),Qr(this),Vr(this)}else this.channelDebug_.warning("Called back with an unexpected xmlhttp")}catch(h){this.channelDebug_.debug("Failed call to OnXmlHttpReadyStateChanged_"),this.xmlHttp_&&
this.xmlHttp_.getResponseText()?Wr(this.channelDebug_,h,"ResponseText: "+this.xmlHttp_.getResponseText()):Wr(this.channelDebug_,h,"No response text")}finally{}};
var Rr=function(a,b,c){for(var d=!0;!a.cancelled_&&a.xmlHttpChunkStart_<c.length;){var e=Xr(a,c);if(e==Kr){4==b&&(a.lastError_=4,Ur(15),d=!1);Sr(a.channelDebug_,a.rid_,null,"[Incomplete Response]");break}else if(e==Jr){a.lastError_=4;Ur(16);Sr(a.channelDebug_,a.rid_,c,"[Invalid Chunk]");d=!1;break}else Sr(a.channelDebug_,a.rid_,e,null),Tr(a,e)}4==b&&0==c.length&&(a.lastError_=1,Ur(17),d=!1);a.successful_=a.successful_&&d;d||(Sr(a.channelDebug_,a.rid_,c,"[Invalid Chunked Response]"),Qr(a),Vr(a))};
Hr.prototype.pollResponse_=function(){var a=this.xmlHttp_.getReadyState(),b=this.xmlHttp_.getResponseText();this.xmlHttpChunkStart_<b.length&&(Pr(this),Rr(this,a,b),this.successful_&&4!=a&&Or(this))};
var Xr=function(a,b){var c=a.xmlHttpChunkStart_,d=b.indexOf("\n",c);if(-1==d)return Kr;c=Number(b.substring(c,d));if(isNaN(c))return Jr;d+=1;if(d+c>b.length)return Kr;b=b.substr(d,c);a.xmlHttpChunkStart_=d+c;return b},Yr=function(a,b){a.requestStartTime_=w();
Or(a);var c=b?window.location.hostname:"";a.requestUri_=a.baseUri_.clone();S(a.requestUri_,"DOMAIN",c);S(a.requestUri_,"t",a.retryId_);try{a.trident_=new ActiveXObject("htmlfile")}catch(h){a.channelDebug_.severe("ActiveX blocked");Qr(a);a.lastError_=7;Ur(22);Vr(a);return}var d="<html><body>";if(b){b="";for(var e=0;e<c.length;e++){var f=c.charAt(e);b="<"==f?b+"\\x3c":">"==f?b+"\\x3e":b+$a(f)}d+='<script>document.domain="'+b+'"\x3c/script>'}d+="</body></html>";c=Bf(Pe("b/12014412"),d);a.trident_.open();
a.trident_.write(lf(c));a.trident_.close();a.trident_.parentWindow.m=v(a.onTridentRpcMessage_,a);a.trident_.parentWindow.d=v(a.onTridentDone_,a,!0);a.trident_.parentWindow.rpcClose=v(a.onTridentDone_,a,!1);c=a.trident_.createElement("DIV");a.trident_.parentWindow.document.body.appendChild(c);d=hf(a.requestUri_.toString());d=Ta(bf(d));d=Bf(Pe("b/12014412"),'<iframe src="'+d+'"></iframe>');vf(c,d);a.channelDebug_.info("TRIDENT REQ ("+a.rid_+") [ attempt "+a.retryId_+"]: GET\n"+a.requestUri_);a.channel_.notifyServerReachabilityEvent(1)};
g=Hr.prototype;g.onTridentRpcMessage_=function(a){Zr(v(this.onTridentRpcMessageAsync_,this,a),0)};
g.onTridentRpcMessageAsync_=function(a){if(!this.cancelled_){var b=this.channelDebug_;b.info("TRIDENT TEXT ("+this.rid_+"): "+$r(b,a));Pr(this);Tr(this,a);Or(this)}};
g.onTridentDone_=function(a){Zr(v(this.onTridentDoneAsync_,this,a),0)};
g.onTridentDoneAsync_=function(a){this.cancelled_||(this.channelDebug_.info("TRIDENT TEXT ("+this.rid_+"): "+a?"success":"failure"),Qr(this),this.successful_=a,this.channel_.onRequestComplete(this),this.channel_.notifyServerReachabilityEvent(4))};
g.cancel=function(){this.cancelled_=!0;Qr(this)};
var Or=function(a){a.watchDogTimeoutTime_=w()+a.timeout_;as(a,a.timeout_)},as=function(a,b){if(null!=a.watchDogTimerId_)throw Error("WatchDog timer not null");
a.watchDogTimerId_=Zr(v(a.onWatchDogTimeout_,a),b)},Pr=function(a){a.watchDogTimerId_&&(n.clearTimeout(a.watchDogTimerId_),a.watchDogTimerId_=null)};
Hr.prototype.onWatchDogTimeout_=function(){this.watchDogTimerId_=null;var a=w();0<=a-this.watchDogTimeoutTime_?this.handleTimeout_():(this.channelDebug_.warning("WatchDog timer called too early"),as(this,this.watchDogTimeoutTime_-a))};
Hr.prototype.handleTimeout_=function(){this.successful_&&this.channelDebug_.severe("Received watchdog timeout even though request loaded successfully");this.channelDebug_.info("TIMEOUT: "+this.requestUri_);2!=this.type_&&this.channel_.notifyServerReachabilityEvent(3);Qr(this);this.lastError_=2;Ur(18);Vr(this)};
var Vr=function(a){if(!a.channel_.isClosed()&&!a.cancelled_)a.channel_.onRequestComplete(a)},Qr=function(a){Pr(a);
be(a.readyStateChangeThrottle_);a.readyStateChangeThrottle_=null;a.pollingTimer_.stop();a.eventHandler_.removeAll();if(a.xmlHttp_){var b=a.xmlHttp_;a.xmlHttp_=null;b.abort();b.dispose()}a.trident_&&(a.trident_=null)};
Hr.prototype.getLastError=function(){return this.lastError_};
Hr.prototype.getSessionId=function(){return this.sid_};
var Tr=function(a,b){try{a.channel_.onRequestData(a,b),a.channel_.notifyServerReachabilityEvent(4)}catch(c){Wr(a.channelDebug_,c,"Error in httprequest callback")}};var bs=function(){this.logger_=null};
bs.prototype.getLogger=function(){return this.logger_};
var Sr=function(a,b,c,d){a.info("XMLHTTP TEXT ("+b+"): "+$r(a,c)+(d?" "+d:""))};
bs.prototype.debug=function(a){this.info(a)};
var Wr=function(a,b,c){a.severe((c||"Exception")+b)};
bs.prototype.info=function(){};
bs.prototype.warning=function(){};
bs.prototype.severe=function(){};
var $r=function(a,b){if(!b||"y2f%"==b)return b;try{var c=Tj(b);if(c)for(var d=0;d<c.length;d++)if(ra(c[d])){var e=c[d];if(!(2>e.length)){var f=e[1];if(ra(f)&&!(1>f.length)){var h=f[0];if("noop"!=h&&"stop"!=h)for(var k=1;k<f.length;k++)f[k]=""}}}return Vj(c)}catch(l){return a.debug("Exception parsing expected JS array - probably was not JS"),b}};var ds=function(a,b,c,d,e){(new bs).debug("TestLoadImageWithRetries: "+e);if(0==d)c(!1);else{var f=e||0;d--;cs(a,b,function(e){e?c(!0):n.setTimeout(function(){ds(a,b,c,d,f)},f)})}},cs=function(a,b,c){var d=new bs;
d.debug("TestLoadImage: loading "+a);var e=new Image;e.onload=function(){try{d.debug("TestLoadImage: loaded"),es(e),c(!0)}catch(f){Wr(d,f)}};
e.onerror=function(){try{d.debug("TestLoadImage: error"),es(e),c(!1)}catch(f){Wr(d,f)}};
e.onabort=function(){try{d.debug("TestLoadImage: abort"),es(e),c(!1)}catch(f){Wr(d,f)}};
e.ontimeout=function(){try{d.debug("TestLoadImage: timeout"),es(e),c(!1)}catch(f){Wr(d,f)}};
n.setTimeout(function(){if(e.ontimeout)e.ontimeout()},b);
e.src=a},es=function(a){a.onload=null;
a.onerror=null;a.onabort=null;a.ontimeout=null};var fs=function(a,b){this.channel_=a;this.channelDebug_=b;this.parser_=new zr(null,!0)};
g=fs.prototype;g.extraHeaders_=null;g.request_=null;g.receivedIntermediateResult_=!1;g.startTime_=null;g.firstTime_=null;g.lastTime_=null;g.path_=null;g.state_=null;g.lastStatusCode_=-1;g.hostPrefix_=null;g.blockedPrefix_=null;g.setExtraHeaders=function(a){this.extraHeaders_=a};
g.setParser=function(a){this.parser_=a};
g.connect=function(a){this.path_=a;a=gs(this.channel_,this.path_);Ur(3);this.startTime_=w();var b=this.channel_.firstTestResults_;null!=b?(this.hostPrefix_=this.channel_.correctHostPrefix(b[0]),(this.blockedPrefix_=b[1])?(this.state_=1,hs(this)):(this.state_=2,is(this))):(qo(a,"MODE","init"),this.request_=new Hr(this,this.channelDebug_,void 0,void 0,void 0),this.request_.setExtraHeaders(this.extraHeaders_),Nr(this.request_,a,!1,null,!0),this.state_=0)};
var hs=function(a){var b=js(a.channel_,a.blockedPrefix_,"/mail/images/cleardot.gif");so(b);ds(b.toString(),5E3,v(a.checkBlockedCallback_,a),3,2E3);a.notifyServerReachabilityEvent(1)};
fs.prototype.checkBlockedCallback_=function(a){if(a)this.state_=2,is(this);else{Ur(4);var b=this.channel_;b.channelDebug_.debug("Test Connection Blocked");b.lastStatusCode_=b.connectionTest_.lastStatusCode_;ks(b,9)}a&&this.notifyServerReachabilityEvent(2)};
var is=function(a){a.channelDebug_.debug("TestConnection: starting stage 2");var b=a.channel_.secondTestResults_;if(null!=b)a.channelDebug_.debug("TestConnection: skipping stage 2, precomputed result is "+b?"Buffered":"Unbuffered"),Ur(5),b?(Ur(11),ls(a.channel_,a,!1)):(Ur(12),ls(a.channel_,a,!0));else if(a.request_=new Hr(a,a.channelDebug_,void 0,void 0,void 0),a.request_.setExtraHeaders(a.extraHeaders_),b=ms(a.channel_,a.hostPrefix_,a.path_),Ur(5),!C||Ee(10))qo(b,"TYPE","xmlhttp"),Nr(a.request_,
b,!1,a.hostPrefix_,!1);else{qo(b,"TYPE","html");var c=a.request_;a=!!a.hostPrefix_;c.type_=3;c.baseUri_=so(b.clone());Yr(c,a)}};
g=fs.prototype;g.createXhrIo=function(a){return this.channel_.createXhrIo(a)};
g.abort=function(){this.request_&&(this.request_.cancel(),this.request_=null);this.lastStatusCode_=-1};
g.isClosed=function(){return!1};
g.onRequestData=function(a,b){this.lastStatusCode_=a.lastStatusCode_;if(0==this.state_)if(this.channelDebug_.debug("TestConnection: Got data for stage 1"),b){try{var c=this.parser_.parse(b)}catch(d){Wr(this.channelDebug_,d);ns(this.channel_,this);return}this.hostPrefix_=this.channel_.correctHostPrefix(c[0]);this.blockedPrefix_=c[1]}else this.channelDebug_.debug("TestConnection: Null responseText"),ns(this.channel_,this);else if(2==this.state_)if(this.receivedIntermediateResult_)Ur(7),this.lastTime_=
w();else if("11111"==b){if(Ur(6),this.receivedIntermediateResult_=!0,this.firstTime_=w(),a=this.firstTime_-this.startTime_,!C||Ee(10)||500>a)this.lastStatusCode_=200,this.request_.cancel(),this.channelDebug_.debug("Test connection succeeded; using streaming connection"),Ur(12),ls(this.channel_,this,!0)}else Ur(8),this.firstTime_=this.lastTime_=w(),this.receivedIntermediateResult_=!1};
g.onRequestComplete=function(){this.lastStatusCode_=this.request_.lastStatusCode_;this.request_.successful_?0==this.state_?(this.channelDebug_.debug("TestConnection: request complete for initial check"),this.blockedPrefix_?(this.state_=1,hs(this)):(this.state_=2,is(this))):2==this.state_&&(this.channelDebug_.debug("TestConnection: request complete for stage 2"),(!C||Ee(10)?!this.receivedIntermediateResult_:200>this.lastTime_-this.firstTime_)?(this.channelDebug_.debug("Test connection failed; not using streaming"),
Ur(11),ls(this.channel_,this,!1)):(this.channelDebug_.debug("Test connection succeeded; using streaming connection"),Ur(12),ls(this.channel_,this,!0))):(this.channelDebug_.debug("TestConnection: request failed, in state "+this.state_),0==this.state_?Ur(9):2==this.state_&&Ur(10),ns(this.channel_,this))};
g.shouldUseSecondaryDomains=function(){return this.channel_.shouldUseSecondaryDomains()};
g.isActive=function(){return this.channel_.isActive()};
g.notifyServerReachabilityEvent=function(a){this.channel_.notifyServerReachabilityEvent(a)};var os=function(a){Pi.call(this);this.headers=new cd;this.xmlHttpFactory_=a||null;this.active_=!1;this.xhrOptions_=this.xhr_=null;this.lastUri_="";this.lastErrorCode_=0;this.lastError_="";this.inAbort_=this.inOpen_=this.inSend_=this.errorDispatched_=!1;this.timeoutInterval_=0;this.timeoutId_=null;this.responseType_="";this.useXhr2Timeout_=this.progressEventsEnabled_=this.withCredentials_=!1};
x(os,Pi);os.prototype.logger_=null;var ps=/^https?$/i,qs=["POST","PUT"],rs=[],ss=function(a,b,c,d,e,f){var h=new os;rs.push(h);b&&h.listen("complete",b);h.listenOnce("ready",h.cleanupSend_);e&&(h.timeoutInterval_=Math.max(0,e));f&&(h.withCredentials_=f);h.send(a,"POST",c,d)};
os.prototype.cleanupSend_=function(){this.dispose();ub(rs,this)};
os.prototype.send=function(a,b,c,d){if(this.xhr_)throw Error("[goog.net.XhrIo] Object is active with another request="+this.lastUri_+"; newUri="+a);b=b?b.toUpperCase():"GET";this.lastUri_=a;this.lastError_="";this.lastErrorCode_=0;this.errorDispatched_=!1;this.active_=!0;this.xhr_=this.createXhr();this.xhrOptions_=this.xmlHttpFactory_?this.xmlHttpFactory_.getOptions():Er.getOptions();this.xhr_.onreadystatechange=v(this.onReadyStateChange_,this);this.progressEventsEnabled_&&"onprogress"in this.xhr_&&
(this.xhr_.onprogress=v(function(a){this.onProgressHandler_(a,!0)},this),this.xhr_.upload&&(this.xhr_.upload.onprogress=v(this.onProgressHandler_,this)));
try{this.inOpen_=!0,this.xhr_.open(b,String(a),!0),this.inOpen_=!1}catch(f){this.error_(5,f);return}a=c||"";var e=this.headers.clone();d&&Sd(d,function(a,b){e.set(b,a)});
d=qb(e.getKeys(),ts);c=n.FormData&&a instanceof n.FormData;!tb(qs,b)||d||c||e.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");e.forEach(function(a,b){this.xhr_.setRequestHeader(b,a)},this);
this.responseType_&&(this.xhr_.responseType=this.responseType_);"withCredentials"in this.xhr_&&this.xhr_.withCredentials!==this.withCredentials_&&(this.xhr_.withCredentials=this.withCredentials_);try{us(this),0<this.timeoutInterval_&&((this.useXhr2Timeout_=vs(this.xhr_))?(this.xhr_.timeout=this.timeoutInterval_,this.xhr_.ontimeout=v(this.timeout_,this)):this.timeoutId_=Si(this.timeout_,this.timeoutInterval_,this)),this.inSend_=!0,this.xhr_.send(a),this.inSend_=!1}catch(f){this.error_(5,f)}};
var vs=function(a){return C&&Ce(9)&&ta(a.timeout)&&p(a.ontimeout)},ts=function(a){return"content-type"==a.toLowerCase()};
os.prototype.createXhr=function(){return this.xmlHttpFactory_?Gr(this.xmlHttpFactory_):Gr(Er)};
os.prototype.timeout_=function(){"undefined"!=typeof na&&this.xhr_&&(this.lastError_="Timed out after "+this.timeoutInterval_+"ms, aborting",this.lastErrorCode_=8,this.dispatchEvent("timeout"),this.abort(8))};
os.prototype.error_=function(a,b){this.active_=!1;this.xhr_&&(this.inAbort_=!0,this.xhr_.abort(),this.inAbort_=!1);this.lastError_=b;this.lastErrorCode_=a;ws(this);xs(this)};
var ws=function(a){a.errorDispatched_||(a.errorDispatched_=!0,a.dispatchEvent("complete"),a.dispatchEvent("error"))};
os.prototype.abort=function(a){this.xhr_&&this.active_&&(this.active_=!1,this.inAbort_=!0,this.xhr_.abort(),this.inAbort_=!1,this.lastErrorCode_=a||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),xs(this))};
os.prototype.disposeInternal=function(){this.xhr_&&(this.active_&&(this.active_=!1,this.inAbort_=!0,this.xhr_.abort(),this.inAbort_=!1),xs(this,!0));os.superClass_.disposeInternal.call(this)};
os.prototype.onReadyStateChange_=function(){if(!this.isDisposed())if(this.inOpen_||this.inSend_||this.inAbort_)ys(this);else this.onReadyStateChangeEntryPoint_()};
os.prototype.onReadyStateChangeEntryPoint_=function(){ys(this)};
var ys=function(a){if(a.active_&&"undefined"!=typeof na&&(!a.xhrOptions_[1]||4!=a.getReadyState()||2!=a.getStatus()))if(a.inSend_&&4==a.getReadyState())Si(a.onReadyStateChange_,0,a);else if(a.dispatchEvent("readystatechange"),a.isComplete()){a.active_=!1;try{if(a.isSuccess())a.dispatchEvent("complete"),a.dispatchEvent("success");else{a.lastErrorCode_=6;try{var b=2<a.getReadyState()?a.xhr_.statusText:""}catch(c){b=""}a.lastError_=b+" ["+a.getStatus()+"]";ws(a)}}finally{xs(a)}}};
os.prototype.onProgressHandler_=function(a,b){this.dispatchEvent(zs(a,"progress"));this.dispatchEvent(zs(a,b?"downloadprogress":"uploadprogress"))};
var zs=function(a,b){return{type:b,lengthComputable:a.lengthComputable,loaded:a.loaded,total:a.total}},xs=function(a,b){if(a.xhr_){us(a);
var c=a.xhr_,d=a.xhrOptions_[0]?oa:null;a.xhr_=null;a.xhrOptions_=null;b||a.dispatchEvent("ready");try{c.onreadystatechange=d}catch(e){}}},us=function(a){a.xhr_&&a.useXhr2Timeout_&&(a.xhr_.ontimeout=null);
ta(a.timeoutId_)&&(n.clearTimeout(a.timeoutId_),a.timeoutId_=null)};
g=os.prototype;g.isActive=function(){return!!this.xhr_};
g.isComplete=function(){return 4==this.getReadyState()};
g.isSuccess=function(){var a=this.getStatus();a:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break a;default:b=!1}if(!b){if(a=0===a)a=id(String(this.lastUri_))[1]||null,!a&&n.self&&n.self.location&&(a=n.self.location.protocol,a=a.substr(0,a.length-1)),a=!ps.test(a?a.toLowerCase():"");b=a}return b};
g.getReadyState=function(){return this.xhr_?this.xhr_.readyState:0};
g.getStatus=function(){try{return 2<this.getReadyState()?this.xhr_.status:-1}catch(a){return-1}};
g.getResponseText=function(){try{return this.xhr_?this.xhr_.responseText:""}catch(a){return""}};
g.getResponseJson=function(a){if(this.xhr_){var b=this.xhr_.responseText;a&&0==b.indexOf(a)&&(b=b.substring(a.length));return Sj(b)}};
g.getResponseHeader=function(a){if(this.xhr_&&this.isComplete())return a=this.xhr_.getResponseHeader(a),null===a?void 0:a};
g.getAllResponseHeaders=function(){return this.xhr_&&this.isComplete()?this.xhr_.getAllResponseHeaders():""};
g.getLastError=function(){return u(this.lastError_)?this.lastError_:String(this.lastError_)};var As=function(a,b,c,d){this.clientVersion_=a||null;this.state_=1;this.outgoingMaps_=[];this.pendingMaps_=[];this.channelDebug_=new bs;this.parser_=new zr(null,!0);this.firstTestResults_=b||null;this.secondTestResults_=null!=c?c:null;this.asyncTest_=d||!1},Bs=function(a,b,c){this.mapId=a;
this.map=b;this.context=c||null};
g=As.prototype;g.extraHeaders_=null;g.extraParams_=null;g.forwardChannelRequest_=null;g.backChannelRequest_=null;g.path_=null;g.forwardChannelUri_=null;g.backChannelUri_=null;g.hostPrefix_=null;g.allowHostPrefix_=!0;g.nextRid_=0;g.nextMapId_=0;g.failFast_=!1;g.handler_=null;g.forwardChannelTimerId_=null;g.backChannelTimerId_=null;g.deadBackChannelTimerId_=null;g.connectionTest_=null;g.useChunked_=null;g.allowChunkedMode_=!0;g.lastArrayId_=-1;g.lastPostResponseArrayId_=-1;g.lastStatusCode_=-1;
g.forwardChannelRetryCount_=0;g.backChannelRetryCount_=0;g.baseRetryDelayMs_=5E3;g.retryDelaySeedMs_=1E4;g.forwardChannelMaxRetries_=2;g.forwardChannelRequestTimeoutMs_=2E4;g.readyStateChangeThrottleMs_=0;g.supportsCrossDomainXhrs_=!1;g.channelVersion_=8;var Cs=new Pi,Ds=function(a,b){ji.call(this,"statevent",a);this.stat=b};
x(Ds,ji);var Es=function(a,b){ji.call(this,"timingevent",a);this.size=b};
x(Es,ji);var Fs=function(a){ji.call(this,"serverreachability",a)};
x(Fs,ji);As.prototype.connect=function(a,b,c,d,e){this.channelDebug_.debug("connect()");Ur(0);this.path_=b;this.extraParams_=c||{};d&&p(e)&&(this.extraParams_.OSID=d,this.extraParams_.OAID=e);this.asyncTest_?(Zr(v(this.connectTest_,this,a),100),Gs(this)):this.connectTest_(a)};
As.prototype.disconnect=function(){this.channelDebug_.debug("disconnect()");Hs(this);if(3==this.state_){var a=this.nextRid_++,b=this.forwardChannelUri_.clone();S(b,"SID",this.sid_);S(b,"RID",a);S(b,"TYPE","terminate");Is(this,b);a=new Hr(this,this.channelDebug_,this.sid_,a,void 0);a.type_=2;a.baseUri_=so(b.clone());(new Image).src=a.baseUri_;a.requestStartTime_=w();Or(a)}this.onClose_()};
As.prototype.getSessionId=function(){return this.sid_};
As.prototype.connectTest_=function(a){this.channelDebug_.debug("connectTest_()");this.connectionTest_=new fs(this,this.channelDebug_);this.connectionTest_.setExtraHeaders(this.extraHeaders_);this.connectionTest_.setParser(this.parser_);this.connectionTest_.connect(a)};
var Gs=function(a){a.channelDebug_.debug("connectChannel_()");a.ensureInState_(1,0);a.forwardChannelUri_=gs(a,a.path_);Js(a)},Hs=function(a){a.connectionTest_&&(a.connectionTest_.abort(),a.connectionTest_=null);
a.backChannelRequest_&&(a.backChannelRequest_.cancel(),a.backChannelRequest_=null);a.backChannelTimerId_&&(n.clearTimeout(a.backChannelTimerId_),a.backChannelTimerId_=null);Ks(a);a.forwardChannelRequest_&&(a.forwardChannelRequest_.cancel(),a.forwardChannelRequest_=null);a.forwardChannelTimerId_&&(n.clearTimeout(a.forwardChannelTimerId_),a.forwardChannelTimerId_=null)};
g=As.prototype;g.setExtraHeaders=function(a){this.extraHeaders_=a};
g.setReadyStateChangeThrottle=function(a){this.readyStateChangeThrottleMs_=a};
g.getHandler=function(){return this.handler_};
g.sendMap=function(a,b){if(0==this.state_)throw Error("Invalid operation: sending map when state is closed");1E3==this.outgoingMaps_.length&&this.channelDebug_.severe("Already have 1000 queued maps upon queueing "+Vj(a));this.outgoingMaps_.push(new Bs(this.nextMapId_++,a,b));2!=this.state_&&3!=this.state_||Js(this)};
g.isClosed=function(){return 0==this.state_};
g.getState=function(){return this.state_};
g.setParser=function(a){this.parser_=a};
var Js=function(a){a.forwardChannelRequest_||a.forwardChannelTimerId_||(a.forwardChannelTimerId_=Zr(v(a.onStartForwardChannelTimer_,a),0),a.forwardChannelRetryCount_=0)};
As.prototype.onStartForwardChannelTimer_=function(a){this.forwardChannelTimerId_=null;this.channelDebug_.debug("startForwardChannel_");if(1==this.state_)if(a)this.channelDebug_.severe("Not supposed to retry the open");else{this.channelDebug_.debug("open_()");this.nextRid_=Math.floor(1E5*Math.random());a=this.nextRid_++;var b=new Hr(this,this.channelDebug_,"",a,void 0);b.setExtraHeaders(this.extraHeaders_);var c=Ls(this),d=this.forwardChannelUri_.clone();S(d,"RID",a);this.clientVersion_&&S(d,"CVER",
this.clientVersion_);Is(this,d);Mr(b,d,c);this.forwardChannelRequest_=b;this.state_=2}else 3==this.state_&&(a?Ms(this,a):0==this.outgoingMaps_.length?this.channelDebug_.debug("startForwardChannel_ returned: nothing to send"):this.forwardChannelRequest_?this.channelDebug_.severe("startForwardChannel_ returned: connection already in progress"):(Ms(this),this.channelDebug_.debug("startForwardChannel_ finished, sent request")))};
var Ms=function(a,b){if(b)if(6<a.channelVersion_){a.outgoingMaps_=a.pendingMaps_.concat(a.outgoingMaps_);a.pendingMaps_.length=0;var c=a.nextRid_-1;b=Ls(a)}else c=b.rid_,b=b.postData_;else c=a.nextRid_++,b=Ls(a);var d=a.forwardChannelUri_.clone();S(d,"SID",a.sid_);S(d,"RID",c);S(d,"AID",a.lastArrayId_);Is(a,d);c=new Hr(a,a.channelDebug_,a.sid_,c,a.forwardChannelRetryCount_+1);c.setExtraHeaders(a.extraHeaders_);c.setTimeout(Math.round(.5*a.forwardChannelRequestTimeoutMs_)+Math.round(.5*a.forwardChannelRequestTimeoutMs_*
Math.random()));a.forwardChannelRequest_=c;Mr(c,d,b)},Is=function(a,b){a.handler_&&(a={},Lb(a,function(a,d){S(b,d,a)}))},Ls=function(a){var b=Math.min(a.outgoingMaps_.length,1E3),c=["count="+b];
if(6<a.channelVersion_&&0<b){var d=a.outgoingMaps_[0].mapId;c.push("ofs="+d)}else d=0;for(var e=0;e<b;e++){var f=a.outgoingMaps_[e].mapId,h=a.outgoingMaps_[e].map,f=6>=a.channelVersion_?e:f-d;try{Sd(h,function(a,b){c.push("req"+f+"_"+b+"="+encodeURIComponent(a))})}catch(k){c.push("req"+f+"_type="+encodeURIComponent("_badmap"))}}a.pendingMaps_=a.pendingMaps_.concat(a.outgoingMaps_.splice(0,b));
return c.join("&")},Ns=function(a){a.backChannelRequest_||a.backChannelTimerId_||(a.backChannelAttemptId_=1,a.backChannelTimerId_=Zr(v(a.onStartBackChannelTimer_,a),0),a.backChannelRetryCount_=0)},Ps=function(a){if(a.backChannelRequest_||a.backChannelTimerId_)return a.channelDebug_.severe("Request already in progress"),!1;
if(3<=a.backChannelRetryCount_)return!1;a.channelDebug_.debug("Going to retry GET");a.backChannelAttemptId_++;a.backChannelTimerId_=Zr(v(a.onStartBackChannelTimer_,a),Os(a,a.backChannelRetryCount_));a.backChannelRetryCount_++;return!0};
As.prototype.onStartBackChannelTimer_=function(){this.backChannelTimerId_=null;this.channelDebug_.debug("Creating new HttpRequest");this.backChannelRequest_=new Hr(this,this.channelDebug_,this.sid_,"rpc",this.backChannelAttemptId_);this.backChannelRequest_.setExtraHeaders(this.extraHeaders_);this.backChannelRequest_.setReadyStateChangeThrottle(this.readyStateChangeThrottleMs_);var a=this.backChannelUri_.clone();S(a,"RID","rpc");S(a,"SID",this.sid_);S(a,"CI",this.useChunked_?"0":"1");S(a,"AID",this.lastArrayId_);
Is(this,a);if(!C||Ee(10))S(a,"TYPE","xmlhttp"),Nr(this.backChannelRequest_,a,!0,this.hostPrefix_,!1);else{S(a,"TYPE","html");var b=this.backChannelRequest_,c=!!this.hostPrefix_;b.type_=3;b.baseUri_=so(a.clone());Yr(b,c)}this.channelDebug_.debug("New Request created")};
var ls=function(a,b,c){a.channelDebug_.debug("Test Connection Finished");a.useChunked_=a.allowChunkedMode_&&c;a.lastStatusCode_=b.lastStatusCode_;a.asyncTest_||Gs(a)},ns=function(a,b){a.channelDebug_.debug("Test Connection Failed");
a.lastStatusCode_=b.lastStatusCode_;ks(a,2)};
As.prototype.onRequestData=function(a,b){if(0!=this.state_&&(this.backChannelRequest_==a||this.forwardChannelRequest_==a))if(this.lastStatusCode_=a.lastStatusCode_,this.forwardChannelRequest_==a&&3==this.state_)if(7<this.channelVersion_){try{var c=this.parser_.parse(b)}catch(d){c=null}if(ra(c)&&3==c.length)if(b=c,0==b[0])a:if(this.channelDebug_.debug("Server claims our backchannel is missing."),this.backChannelTimerId_)this.channelDebug_.debug("But we are currently starting the request.");else{if(this.backChannelRequest_)if(this.backChannelRequest_.requestStartTime_+
3E3<this.forwardChannelRequest_.requestStartTime_)Ks(this),this.backChannelRequest_.cancel(),this.backChannelRequest_=null;else break a;else this.channelDebug_.warning("We do not have a BackChannel established");Ps(this);Ur(19)}else this.lastPostResponseArrayId_=b[1],a=this.lastPostResponseArrayId_-this.lastArrayId_,0<a&&(b=b[2],this.channelDebug_.debug(b+" bytes (in "+a+" arrays) are outstanding on the BackChannel"),37500>b&&this.useChunked_&&0==this.backChannelRetryCount_&&!this.deadBackChannelTimerId_&&
(this.deadBackChannelTimerId_=Zr(v(this.onBackChannelDead_,this),6E3)));else this.channelDebug_.debug("Bad POST response data returned"),ks(this,11)}else"y2f%"!=b&&(this.channelDebug_.debug("Bad data returned - missing/invald magic cookie"),ks(this,11));else this.backChannelRequest_==a&&Ks(this),Ia(b)||(c=this.parser_.parse(b),this.onInput_(c))};
As.prototype.correctHostPrefix=function(a){return this.allowHostPrefix_?this.handler_?this.handler_.correctHostPrefix(a):a:null};
As.prototype.onBackChannelDead_=function(){null!=this.deadBackChannelTimerId_&&(this.deadBackChannelTimerId_=null,this.backChannelRequest_.cancel(),this.backChannelRequest_=null,Ps(this),Ur(20))};
var Ks=function(a){null!=a.deadBackChannelTimerId_&&(n.clearTimeout(a.deadBackChannelTimerId_),a.deadBackChannelTimerId_=null)};
As.prototype.onRequestComplete=function(a){this.channelDebug_.debug("Request complete");if(this.backChannelRequest_==a){Ks(this);this.backChannelRequest_=null;var b=2}else if(this.forwardChannelRequest_==a)this.forwardChannelRequest_=null,b=1;else return;this.lastStatusCode_=a.lastStatusCode_;if(0!=this.state_)if(a.successful_)1==b?(w(),Cs.dispatchEvent(new Es(Cs,a.postData_?a.postData_.length:0)),Js(this),this.pendingMaps_.length=0):Ns(this);else{var c=a.getLastError();if(3==c||7==c||0==c&&0<this.lastStatusCode_)this.channelDebug_.debug("Not retrying due to error type");
else{this.channelDebug_.debug("Maybe retrying, last error: "+Ir(c,this.lastStatusCode_));var d;if(d=1==b)this.forwardChannelRequest_||this.forwardChannelTimerId_?(this.channelDebug_.severe("Request already in progress"),d=!1):1==this.state_||this.forwardChannelRetryCount_>=(this.failFast_?0:this.forwardChannelMaxRetries_)?d=!1:(this.channelDebug_.debug("Going to retry POST"),this.forwardChannelTimerId_=Zr(v(this.onStartForwardChannelTimer_,this,a),Os(this,this.forwardChannelRetryCount_)),this.forwardChannelRetryCount_++,
d=!0);if(d||2==b&&Ps(this))return;this.channelDebug_.debug("Exceeded max number of retries")}this.channelDebug_.debug("Error: HTTP request failed");switch(c){case 1:ks(this,5);break;case 4:ks(this,10);break;case 3:ks(this,6);break;case 7:ks(this,12);break;default:ks(this,2)}}};
var Os=function(a,b){var c=a.baseRetryDelayMs_+Math.floor(Math.random()*a.retryDelaySeedMs_);a.isActive()||(a.channelDebug_.debug("Inactive channel"),c*=2);return c*b};
As.prototype.onInput_=function(a){for(var b=this.handler_&&this.handler_.channelHandleMultipleArrays?[]:null,c=0;c<a.length;c++){var d=a[c];this.lastArrayId_=d[0];d=d[1];2==this.state_?"c"==d[0]?(this.sid_=d[1],this.hostPrefix_=this.correctHostPrefix(d[2]),d=d[3],this.channelVersion_=null!=d?d:6,this.state_=3,this.handler_&&this.handler_.channelOpened(this),this.backChannelUri_=ms(this,this.hostPrefix_,this.path_),Ns(this)):"stop"==d[0]&&ks(this,7):3==this.state_&&("stop"==d[0]?(b&&0!=b.length&&(this.handler_.channelHandleMultipleArrays(this,
b),b.length=0),ks(this,7)):"noop"!=d[0]&&(b?b.push(d):this.handler_&&this.handler_.channelHandleArray(this,d)),this.backChannelRetryCount_=0)}b&&0!=b.length&&this.handler_.channelHandleMultipleArrays(this,b)};
As.prototype.ensureInState_=function(a){if(!tb(arguments,this.state_))throw Error("Unexpected channel state: "+this.state_);};
var ks=function(a,b){a.channelDebug_.info("Error code "+b);if(2==b||9==b){var c=null;a.handler_&&(c=null);var d=v(a.testGoogleComCallback_,a);c||(c=new $n("//www.google.com/images/cleardot.gif"),so(c));cs(c.toString(),1E4,d)}else Ur(2);a.onError_(b)};
As.prototype.testGoogleComCallback_=function(a){a?(this.channelDebug_.info("Successfully pinged google.com"),Ur(2)):(this.channelDebug_.info("Failed to ping google.com"),Ur(1),this.onError_(8))};
As.prototype.onError_=function(a){this.channelDebug_.debug("HttpChannel: error - "+a);this.state_=0;this.handler_&&this.handler_.channelError(this,a);this.onClose_();Hs(this)};
As.prototype.onClose_=function(){this.state_=0;this.lastStatusCode_=-1;if(this.handler_)if(0==this.pendingMaps_.length&&0==this.outgoingMaps_.length)this.handler_.channelClosed(this);else{this.channelDebug_.debug("Number of undelivered maps, pending: "+this.pendingMaps_.length+", outgoing: "+this.outgoingMaps_.length);var a=wb(this.pendingMaps_),b=wb(this.outgoingMaps_);this.pendingMaps_.length=0;this.outgoingMaps_.length=0;this.handler_.channelClosed(this,a,b)}};
var gs=function(a,b){b=js(a,null,b);a.channelDebug_.debug("GetForwardChannelUri: "+b);return b},ms=function(a,b,c){b=js(a,a.shouldUseSecondaryDomains()?b:null,c);
a.channelDebug_.debug("GetBackChannelUri: "+b);return b},js=function(a,b,c){var d=to(c);
if(""!=d.domain_)b&&bo(d,b+"."+d.domain_),co(d,d.port_);else var e=window.location,d=uo(e.protocol,b?b+"."+e.hostname:e.hostname,e.port,c);a.extraParams_&&Lb(a.extraParams_,function(a,b){S(d,b,a)});
S(d,"VER",a.channelVersion_);Is(a,d);return d};
As.prototype.createXhrIo=function(a){if(a&&!this.supportsCrossDomainXhrs_)throw Error("Can't create secondary domain capable XhrIo object.");a=new os;a.withCredentials_=this.supportsCrossDomainXhrs_;return a};
As.prototype.isActive=function(){return!!this.handler_&&this.handler_.isActive(this)};
var Zr=function(a,b){if(!ua(a))throw Error("Fn must not be null and must be a function");return n.setTimeout(function(){a()},b)};
As.prototype.notifyServerReachabilityEvent=function(){Cs.dispatchEvent(new Fs(Cs))};
var Ur=function(a){Cs.dispatchEvent(new Ds(Cs,a))};
As.prototype.shouldUseSecondaryDomains=function(){return this.supportsCrossDomainXhrs_||!(!C||Ee(10))};
var Qs=function(){};
g=Qs.prototype;g.channelHandleMultipleArrays=null;g.channelOpened=function(){};
g.channelHandleArray=function(){};
g.channelError=function(){};
g.channelClosed=function(){};
g.isActive=function(){return!0};
g.correctHostPrefix=function(a){return a};var Rs=null,Ss=function(){if(!Rs){try{var a=!!n.chrome.loadTimes().wasFetchedViaSpdy}catch(b){a=!1}a?Rs="0":(a=parseInt(Ig.get("llbcs","-1"),10),isNaN(a)&&(a=-1),a=((a+1)%30).toString(),Ig.set("llbcs",a,-1,"/",void 0,!1),Rs=a)}return Rs};var Ts=function(){T.call(this)};
x(Ts,T);var Us=null;Ts.prototype.setMajorVersion=function(a){W(this,1,a)};
Ts.prototype.setMinorVersion=function(a){W(this,2,a)};
var Vs=function(){T.call(this)};
x(Vs,T);var Ws=null;Vs.prototype.getVersion=function(){return V(this,1)};
Vs.prototype.setVersion=function(a){W(this,1,a)};
var Xs=function(){T.call(this)};
x(Xs,T);var Ys=null;g=Xs.prototype;g.getVersion=function(){return V(this,1)};
g.setVersion=function(a){W(this,1,a)};
g.getPlatform=function(){return V(this,2)};
g.setPlatform=function(a){W(this,2,a)};
g.setLanguage=function(a){W(this,3,a)};
g.setApplicationInfo=function(a){W(this,4,a)};
var Zs=function(){T.call(this)};
x(Zs,T);var $s=null;Zs.prototype.getServiceName=function(){return V(this,1)};
Zs.prototype.getSessionName=function(){return V(this,2)};
var at=function(){T.call(this)};
x(at,T);var bt=null;at.prototype.setHeader=function(a){W(this,1,a)};
at.prototype.setInitSessionMessage=function(a){W(this,3,a)};
var ct=function(){T.call(this)};
x(ct,T);var dt=null;g=ct.prototype;g.getProtocolVersion=function(){return V(this,1)};
g.setProtocolVersion=function(a){W(this,1,a)};
g.setClientVersion=function(a){W(this,2,a)};
g.setClientTimeMs=function(a){W(this,3,a)};
g.setMaxKnownServerTimeMs=function(a){W(this,4,a)};
g.getMessageId=function(){return V(this,5)};
g.setMessageId=function(a){W(this,5,a)};
var et=function(){T.call(this)};
x(et,T);var ft=null,gt=function(){T.call(this)};
x(gt,T);var ht=null;gt.prototype.getSessionId=function(){return V(this,1)};
gt.prototype.setSessionId=function(a){W(this,1,a)};
var it=function(){T.call(this)};
x(it,T);var jt=null;it.prototype.getSessionId=function(){return V(this,1)};
it.prototype.setSessionId=function(a){W(this,1,a)};
var kt=function(){T.call(this)};
x(kt,T);var lt=null;kt.prototype.getSessionId=function(){return V(this,1)};
kt.prototype.setSessionId=function(a){W(this,1,a)};
kt.prototype.getMessage=function(){return V(this,2)};
var mt=function(){T.call(this)};
x(mt,T);var nt=null;mt.prototype.getSessionId=function(){return V(this,1)};
mt.prototype.setSessionId=function(a){W(this,1,a)};
mt.prototype.getStatus=function(){return V(this,4)};
mt.prototype.hasStatus=function(){return U(this,4)};
var ot=function(){T.call(this)};
x(ot,T);var pt=null;ot.prototype.setHeader=function(a){W(this,1,a)};
ot.prototype.getSessionStatusMessage=function(){return V(this,4)};
ot.prototype.hasSessionStatusMessage=function(){return U(this,4)};
var qt=function(){T.call(this)};
x(qt,T);var rt=null;qt.prototype.getProtocolVersion=function(){return V(this,1)};
qt.prototype.setProtocolVersion=function(a){W(this,1,a)};
qt.prototype.getMessageId=function(){return V(this,5)};
qt.prototype.setMessageId=function(a){W(this,5,a)};
var st=function(){T.call(this)};
x(st,T);var tt=null;st.prototype.getCode=function(){return V(this,1)};
st.prototype.setDescription=function(a){W(this,2,a)};
var ut=function(){T.call(this)};
x(ut,T);var vt=null;ut.prototype.getStatus=function(){return V(this,1)};
ut.prototype.hasStatus=function(){return U(this,1)};
Ts.prototype.getDescriptor=function(){var a=Us;a||(Us=a=X(Ts,{0:{name:"Version",fullName:"buzz.channel.Version"},1:{name:"major_version",fieldType:5,type:Number},2:{name:"minor_version",fieldType:5,type:Number}}));return a};
Ts.getDescriptor=Ts.prototype.getDescriptor;Vs.prototype.getDescriptor=function(){var a=Ws;a||(Ws=a=X(Vs,{0:{name:"ProtocolVersion",fullName:"buzz.channel.ProtocolVersion"},1:{name:"version",fieldType:11,type:Ts}}));return a};
Vs.getDescriptor=Vs.prototype.getDescriptor;Xs.prototype.getDescriptor=function(){var a=Ys;a||(Ys=a=X(Xs,{0:{name:"ClientVersion",fullName:"buzz.channel.ClientVersion"},1:{name:"version",fieldType:11,type:Ts},2:{name:"platform",fieldType:9,type:String},3:{name:"language",fieldType:9,type:String},4:{name:"application_info",fieldType:9,type:String}}));return a};
Xs.getDescriptor=Xs.prototype.getDescriptor;Zs.prototype.getDescriptor=function(){var a=$s;a||($s=a=X(Zs,{0:{name:"SessionId",fullName:"buzz.channel.SessionId"},1:{name:"service_name",fieldType:9,type:String},2:{name:"session_name",fieldType:9,type:String}}));return a};
Zs.getDescriptor=Zs.prototype.getDescriptor;
at.prototype.getDescriptor=function(){var a=bt;a||(bt=a=X(at,{0:{name:"ClientToServerMessage",fullName:"buzz.channel.ClientToServerMessage"},1:{name:"header",fieldType:11,type:ct},2:{name:"init_endpoint_message",fieldType:11,type:et},3:{name:"init_session_message",fieldType:11,type:gt},4:{name:"client_data_message_deprecated",fieldType:11,type:kt},5:{name:"send_on_disconnect_message",fieldType:11,type:kt},6:{name:"close_session_message",fieldType:11,type:it}}));return a};
at.getDescriptor=at.prototype.getDescriptor;ct.prototype.getDescriptor=function(){var a=dt;a||(dt=a=X(ct,{0:{name:"ClientHeader",fullName:"buzz.channel.ClientHeader"},1:{name:"protocol_version",fieldType:11,type:Vs},2:{name:"client_version",fieldType:11,type:Xs},3:{name:"client_time_ms",fieldType:3,type:Number},4:{name:"max_known_server_time_ms",fieldType:3,type:Number},5:{name:"message_id",fieldType:9,type:String}}));return a};
ct.getDescriptor=ct.prototype.getDescriptor;et.prototype.getDescriptor=function(){var a=ft;a||(ft=a=X(et,{0:{name:"InitEndpointMessage",fullName:"buzz.channel.InitEndpointMessage"}}));return a};
et.getDescriptor=et.prototype.getDescriptor;gt.prototype.getDescriptor=function(){var a=ht;a||(ht=a=X(gt,{0:{name:"InitSessionMessage",fullName:"buzz.channel.InitSessionMessage"},1:{name:"session_id",fieldType:11,type:Zs}}));return a};
gt.getDescriptor=gt.prototype.getDescriptor;it.prototype.getDescriptor=function(){var a=jt;a||(jt=a=X(it,{0:{name:"CloseSessionMessage",fullName:"buzz.channel.CloseSessionMessage"},1:{name:"session_id",fieldType:11,type:Zs}}));return a};
it.getDescriptor=it.prototype.getDescriptor;kt.prototype.getDescriptor=function(){var a=lt;a||(lt=a=X(kt,{0:{name:"DataMessage",fullName:"buzz.channel.DataMessage"},1:{name:"session_id",fieldType:11,type:Zs},2:{name:"message",fieldType:9,type:String}}));return a};
kt.getDescriptor=kt.prototype.getDescriptor;mt.prototype.getDescriptor=function(){var a=nt;a||(nt=a=X(mt,{0:{name:"SessionStatusMessage",fullName:"buzz.channel.SessionStatusMessage"},1:{name:"session_id",fieldType:11,type:Zs},2:{name:"address",fieldType:9,type:String},3:{name:"is_broadcast_to_user",fieldType:8,type:Boolean},4:{name:"status",fieldType:11,type:st}}));return a};
mt.getDescriptor=mt.prototype.getDescriptor;ot.prototype.getDescriptor=function(){var a=pt;a||(pt=a=X(ot,{0:{name:"ServerToClientMessage",fullName:"buzz.channel.ServerToClientMessage"},1:{name:"header",fieldType:11,type:qt},2:{name:"server_data_message",fieldType:11,type:kt},3:{name:"channel_status_message",fieldType:11,type:ut},4:{name:"session_status_message",fieldType:11,type:mt}}));return a};
ot.getDescriptor=ot.prototype.getDescriptor;qt.prototype.getDescriptor=function(){var a=rt;a||(rt=a=X(qt,{0:{name:"ServerHeader",fullName:"buzz.channel.ServerHeader"},1:{name:"protocol_version",fieldType:11,type:Vs},4:{name:"server_time_ms",fieldType:3,type:Number},5:{name:"message_id",fieldType:9,type:String}}));return a};
qt.getDescriptor=qt.prototype.getDescriptor;st.prototype.getDescriptor=function(){var a=tt;a||(tt=a=X(st,{0:{name:"StatusP",fullName:"buzz.channel.StatusP"},1:{name:"code",fieldType:5,type:Number},2:{name:"description",fieldType:9,type:String}}));return a};
st.getDescriptor=st.prototype.getDescriptor;ut.prototype.getDescriptor=function(){var a=vt;a||(vt=a=X(ut,{0:{name:"ChannelStatusMessage",fullName:"buzz.channel.ChannelStatusMessage"},1:{name:"status",fieldType:11,type:st},2:{name:"jid_resource",fieldType:9,type:String}}));return a};
ut.getDescriptor=ut.prototype.getDescriptor;var wt=new Vs,xt=new Ts;xt.setMajorVersion(3);xt.setMinorVersion(2);wt.setVersion(xt);var zt=new Ts;zt.setMajorVersion(3);zt.setMinorVersion(2);var At=new Ts;At.setMajorVersion(3);At.setMinorVersion(2);var Bt=function(){T.call(this)};
x(Bt,T);var Ct=null;Bt.prototype.setInitSessionMessage=function(a){W(this,2,a)};
var Dt=function(){T.call(this)};
x(Dt,T);var Et=null;Dt.prototype.getSessionStatusMessage=function(){return V(this,2)};
Dt.prototype.hasSessionStatusMessage=function(){return U(this,2)};
var Ft=function(){T.call(this)};
x(Ft,T);var Gt=null,Ht={CREATED:1,STARTED:2},It=function(){T.call(this)};
x(It,T);var Jt=null,Kt=function(){T.call(this)};
x(Kt,T);var Lt=null,Mt=function(){T.call(this)};
x(Mt,T);var Nt=null,Ot=function(){T.call(this)};
x(Ot,T);var Pt=null,Qt=function(){T.call(this)};
x(Qt,T);var Rt=null,St=function(){T.call(this)};
x(St,T);var Tt=null;St.prototype.getBrowserChannelErrorCode=function(){return V(this,1)};
St.prototype.getLastHttpStatusCode=function(){return V(this,2)};
Bt.prototype.getDescriptor=function(){var a=Ct;a||(Ct=a=X(Bt,{0:{name:"ClientToSharedWorkerMessage",fullName:"buzz.channel.proto.ClientToSharedWorkerMessage"},1:{name:"auth_params",fieldType:11,type:Hq},2:{name:"init_session_message",fieldType:11,type:gt},3:{name:"browser_channel_config",fieldType:11,type:Fq},4:{name:"heartbeat",fieldType:11,type:It}}));return a};
Bt.getDescriptor=Bt.prototype.getDescriptor;
Dt.prototype.getDescriptor=function(){var a=Et;a||(Et=a=X(Dt,{0:{name:"SharedWorkerToClientMessage",fullName:"buzz.channel.proto.SharedWorkerToClientMessage"},1:{name:"data_message",fieldType:11,type:kt},2:{name:"session_status_message",fieldType:11,type:mt},3:{name:"channel_status_message",fieldType:11,type:ut},4:{name:"shared_worker_event_message",fieldType:11,type:Ft},5:{name:"auth_params_request_message",fieldType:11,type:Kt},6:{name:"config_request_message",fieldType:11,type:Mt},7:{name:"sender_id",
fieldType:9,type:String},9:{name:"channel_stat_message",fieldType:11,type:Ot},10:{name:"browser_channel_closed_message",fieldType:11,type:Qt},11:{name:"browser_channel_error_message",fieldType:11,type:St}}));return a};
Dt.getDescriptor=Dt.prototype.getDescriptor;Ft.prototype.getDescriptor=function(){var a=Gt;a||(Gt=a=X(Ft,{0:{name:"SharedWorkerEventMessage",fullName:"buzz.channel.proto.SharedWorkerEventMessage"},1:{name:"event",fieldType:14,defaultValue:1,type:Ht},2:{name:"connection_count",fieldType:5,type:Number}}));return a};
Ft.getDescriptor=Ft.prototype.getDescriptor;It.prototype.getDescriptor=function(){var a=Jt;a||(Jt=a=X(It,{0:{name:"Heartbeat",fullName:"buzz.channel.proto.Heartbeat"}}));return a};
It.getDescriptor=It.prototype.getDescriptor;Kt.prototype.getDescriptor=function(){var a=Lt;a||(Lt=a=X(Kt,{0:{name:"AuthenticationParametersRequestMessage",fullName:"buzz.channel.proto.AuthenticationParametersRequestMessage"}}));return a};
Kt.getDescriptor=Kt.prototype.getDescriptor;Mt.prototype.getDescriptor=function(){var a=Nt;a||(Nt=a=X(Mt,{0:{name:"BrowserChannelConfigRequestMessage",fullName:"buzz.channel.proto.BrowserChannelConfigRequestMessage"}}));return a};
Mt.getDescriptor=Mt.prototype.getDescriptor;Ot.prototype.getDescriptor=function(){var a=Pt;a||(Pt=a=X(Ot,{0:{name:"ChannelStatMessage",fullName:"buzz.channel.proto.ChannelStatMessage"},1:{name:"stat",fieldType:5,type:Number}}));return a};
Ot.getDescriptor=Ot.prototype.getDescriptor;Qt.prototype.getDescriptor=function(){var a=Rt;a||(Rt=a=X(Qt,{0:{name:"BrowserChannelClosedMessage",fullName:"buzz.channel.proto.BrowserChannelClosedMessage"}}));return a};
Qt.getDescriptor=Qt.prototype.getDescriptor;St.prototype.getDescriptor=function(){var a=Tt;a||(Tt=a=X(St,{0:{name:"BrowserChannelErrorMessage",fullName:"buzz.channel.proto.BrowserChannelErrorMessage"},1:{name:"browser_channel_error_code",fieldType:5,type:Number},2:{name:"last_http_status_code",fieldType:5,type:Number}}));return a};
St.getDescriptor=St.prototype.getDescriptor;var Ut=function(){if(oe){var a=/Windows NT ([0-9.]+)/;return(a=a.exec(Ib))?a[1]:"0"}return ne?(a=/10[_.][0-9_.]+/,(a=a.exec(Ib))?a[0].replace(/_/g,"."):"10"):re?(a=/Android\s+([^\);]+)(\)|;)/,(a=a.exec(Ib))?a[1]:""):se||te||ue?(a=/(?:iPhone|CPU)\s+OS\s+(\S+)/,(a=a.exec(Ib))?a[1].replace(/_/g,"."):""):""}();var Vt=function(){var a=new Xs;a.setVersion(At);a.setPlatform(Ut);a.setLanguage("JS");a.setApplicationInfo("lcsclient");return a},Wt=function(a,b){var c=new Zs;
W(c,1,a);null!=b&&W(c,2,b);return c},Xt=function(a,b){var c=new gt;
c.setSessionId(Wt(a,b));return c};var Yt=function(a,b){a=new $n(a);var c=a.domain_;if("client-channel.google.com"==c){var d=Ss();d&&bo(a,d+"."+c)}this.uri_=a;this.authuser_=0;this.pageId_=null;this.clientType_=b;this.applicationVersion_=this.propertyId_=this.gapiSrc_=this.gaiaServiceOverride_=null;this.useCors_=this.useSharedChannel_=this.retryOnAuthError_=!1;this.domHelper_=null;(b=(b=window.gapi)?b.load:null)&&b("auth")};
g=Yt.prototype;g.getClientType=function(){return this.clientType_};
g.getAuthuser=function(){return this.authuser_};
g.setAuthuser=function(a){this.authuser_=a};
g.getPageId=function(){return this.pageId_};
g.setPageId=function(a){this.pageId_=a};
g.setGapiSrc=function(a){this.gapiSrc_=a};
g.setApplicationVersion=function(a){this.applicationVersion_=a};
g.setPropertyId=function(a){this.propertyId_=a};
g.setRetryOnAuthError=function(a){this.retryOnAuthError_=a};
g.setUseSharedChannel=function(a){if(-1!=this.uri_.domain_.indexOf("client-channel.google.com")){var b=a?this.getClientType():Ss();bo(this.uri_,b+".client-channel.google.com")}this.useSharedChannel_=a};
g.getDomHelper=function(){return this.domHelper_};
var Zt=function(a){return!a.pageId_&&self.SharedWorker&&a.isIframed()?a.useSharedChannel_:!1},$t=function(a){var b=a.clientType_,c=a.gaiaServiceOverride_,d=a.gapiSrc_,e=a.propertyId_,f=a.applicationVersion_,h=a.retryOnAuthError_,k=a.pageId_;
a=Zt(a);var l=new Fq;l.setClientType(b);null!==c&&W(l,4,c);null===d||l.setGapiSrc(d);null===e||l.setPropertyId(e);null===f||l.setApplicationVersion(f);l.setRetryOnAuthError(h);null===k||l.setPageId(k);l.setUseSharedChannel(a);return l};
Yt.prototype.getFirstPartyAuthSchemeAndHash=function(){var a;if(n.gapi&&n.gapi.auth&&(a=n.gapi.auth.getAuthHeaderValueForFirstParty))try{var b=a([]);if(b){var c=b.split(" ");var d={scheme:c[0],hash:c[1]}}else d=null;return d}catch(e){}return null};var au=function(){ae.call(this);this.services_={}};
x(au,ae);au.prototype.connect=function(a){a&&a()};
au.prototype.isConnected=function(){return!0};
au.prototype.registerService=function(a,b,c){this.services_[a]={callback:b,objectPayload:!!c}};
au.prototype.getService=function(a,b){var c=this.services_[a];return c?c:this.defaultService_?{callback:Ba(this.defaultService_,a),objectPayload:va(b)}:null};
var bu=function(a,b){if(b&&u(a))try{return Sj(a)}catch(c){return null}else if(!b&&!u(a))return Vj(a);return a};
au.prototype.disposeInternal=function(){au.superClass_.disposeInternal.call(this);delete this.services_;delete this.defaultService_};var cu={1:"NativeMessagingTransport",2:"FrameElementMethodTransport",3:"IframeRelayTransport",4:"IframePollingTransport",5:"FlashTransport",6:"NixTransport",7:"DirectTransport"},du=["pu","lru","pru","lpu","ppu"],eu={},gu=function(a){for(var b=fu,c=b.length,d="";0<a--;)d+=b.charAt(Math.floor(Math.random()*c));return d},fu="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";var hu=function(a){ae.call(this);this.domHelper_=a||Hf()};
x(hu,ae);hu.prototype.transportType=0;hu.prototype.getWindow=function(){return this.domHelper_.getWindow()};
hu.prototype.getName=function(){return cu[String(this.transportType)]||""};/*
 Portions of this code are from MochiKit, received by
 The Closure Authors under the MIT license. All other code is Copyright
 2005-2009 The Closure Authors. All Rights Reserved.
*/
var iu=function(a,b){this.sequence_=[];this.onCancelFunction_=a;this.defaultScope_=b||null;this.hadError_=this.fired_=!1;this.result_=void 0;this.silentlyCanceled_=this.blocking_=this.blocked_=!1;this.unhandledErrorId_=0;this.parent_=null;this.branches_=0};
iu.prototype.cancel=function(a){if(this.fired_)this.result_ instanceof iu&&this.result_.cancel();else{if(this.parent_){var b=this.parent_;delete this.parent_;a?b.cancel(a):(b.branches_--,0>=b.branches_&&b.cancel())}this.onCancelFunction_?this.onCancelFunction_.call(this.defaultScope_,this):this.silentlyCanceled_=!0;this.fired_||this.errback(new ju)}};
iu.prototype.continue_=function(a,b){this.blocked_=!1;ku(this,a,b)};
var ku=function(a,b,c){a.fired_=!0;a.result_=c;a.hadError_=!b;lu(a)},nu=function(a){if(a.fired_){if(!a.silentlyCanceled_)throw new mu;
a.silentlyCanceled_=!1}};
iu.prototype.callback=function(a){nu(this);ku(this,!0,a)};
iu.prototype.errback=function(a){nu(this);ku(this,!1,a)};
var pu=function(a,b,c){ou(a,b,null,c)},ou=function(a,b,c,d){a.sequence_.push([b,
c,d]);a.fired_&&lu(a)};
iu.prototype.then=function(a,b,c){var d,e,f=new uc(function(a,b){d=a;e=b});
ou(this,d,function(a){a instanceof ju?f.cancel():e(a)});
return f.then(a,b,c)};
sc(iu);var qu=function(a,b){b instanceof iu?pu(a,v(b.branch,b)):pu(a,function(){return b})};
iu.prototype.branch=function(a){var b=new iu;ou(this,b.callback,b.errback,b);a&&(b.parent_=this,this.branches_++);return b};
iu.prototype.isError=function(a){return a instanceof Error};
var ru=function(a){return ob(a.sequence_,function(a){return ua(a[1])})},lu=function(a){if(a.unhandledErrorId_&&a.fired_&&ru(a)){var b=a.unhandledErrorId_,c=su[b];
c&&(n.clearTimeout(c.id_),delete su[b]);a.unhandledErrorId_=0}a.parent_&&(a.parent_.branches_--,delete a.parent_);for(var b=a.result_,d=c=!1;a.sequence_.length&&!a.blocked_;){var e=a.sequence_.shift(),f=e[0],h=e[1],e=e[2];if(f=a.hadError_?h:f)try{var k=f.call(e||a.defaultScope_,b);p(k)&&(a.hadError_=a.hadError_&&(k==b||a.isError(k)),a.result_=b=k);if(tc(b)||"function"===typeof n.Promise&&b instanceof n.Promise)d=!0,a.blocked_=!0}catch(l){b=l,a.hadError_=!0,ru(a)||(c=!0)}}a.result_=b;d&&(k=v(a.continue_,
a,!0),d=v(a.continue_,a,!1),b instanceof iu?(ou(b,k,d),b.blocking_=!0):b.then(k,d));c&&(b=new tu(b),su[b.id_]=b,a.unhandledErrorId_=b.id_)},mu=function(){Ea.call(this)};
x(mu,Ea);mu.prototype.message="Deferred has already fired";mu.prototype.name="AlreadyCalledError";var ju=function(){Ea.call(this)};
x(ju,Ea);ju.prototype.message="Deferred was canceled";ju.prototype.name="CanceledError";var tu=function(a){this.id_=n.setTimeout(v(this.throwError,this),0);this.error_=a};
tu.prototype.throwError=function(){delete su[this.id_];throw this.error_;};
var su={};var wu=function(a,b){hu.call(this,b);this.channel_=a;this.eventHandler_=new Ui(this);ce(this,this.eventHandler_);this.maybeAttemptToConnectTimer_=new Ri(100,this.getWindow());ce(this,this.maybeAttemptToConnectTimer_);this.setupAckReceived_=new iu;this.setupAckSent_=new iu;this.connected_=new iu;this.endpointId_=gu(10);this.peerEndpointId_=null;this.asyncSendsMap_={};this.originalChannelName_=this.channel_.name;uu(this.channel_,this.channel_.name+"_"+vu(this.channel_));this.initialized_=!1;qu(this.connected_,
this.setupAckReceived_);qu(this.connected_,this.setupAckSent_);pu(this.connected_,this.notifyConnected_,this);this.connected_.callback(!0);this.eventHandler_.listen(this.maybeAttemptToConnectTimer_,"tick",this.maybeAttemptToConnect_)};
x(wu,hu);var xu={},Au=function(a){var b=new yu(a.channelName,a.service,a.payload);a=b.channelName;var c=b.service,b=b.payload,d=eu[a];if(d)return d.xpcDeliver(c,b),!0;var d=zu(b)[0],e;for(e in eu){var f=eu[e];if(1==vu(f)&&!f.isConnected()&&"tp"==c&&"SETUP"==d)return uu(f,a),f.xpcDeliver(c,b),!0}return!1};
g=wu.prototype;g.transportType=7;g.transportServiceHandler=function(a){a=zu(a);var b=a[1];switch(a[0]){case "SETUP_ACK":this.setupAckReceived_.fired_||this.setupAckReceived_.callback(!0);break;case "SETUP":this.sendSetupAckMessage_(),null!=this.peerEndpointId_&&this.peerEndpointId_!=b&&this.sendSetupMessage_(),this.peerEndpointId_=b}};
g.sendSetupMessage_=function(){this.send("tp","SETUP,"+this.endpointId_)};
g.sendSetupAckMessage_=function(){this.send("tp","SETUP_ACK");this.setupAckSent_.fired_||this.setupAckSent_.callback(!0)};
g.connect=function(){var a=this.getWindow();if(a){var b=ya(a);0==(xu[b]||0)&&null==r("crosswindowmessaging.channel",a)&&q("crosswindowmessaging.channel",Au,a);xu[b]++;this.initialized_=!0;this.maybeAttemptToConnect_()}};
g.maybeAttemptToConnect_=function(){this.channel_.isConnected()?this.maybeAttemptToConnectTimer_.stop():(this.maybeAttemptToConnectTimer_.start(),this.sendSetupMessage_())};
g.send=function(a,b){this.channel_.peerWindowObject_&&(a=new yu(this.originalChannelName_+"_"+(0==vu(this.channel_)?1:0),a,b),this.channel_.cfg_.directSyncMode?this.executeScheduledSend_(a):this.asyncSendsMap_[ya(a)]=Si(v(this.executeScheduledSend_,this,a),0))};
g.executeScheduledSend_=function(a){var b=ya(a);this.asyncSendsMap_[b]&&delete this.asyncSendsMap_[b];try{var c=r("crosswindowmessaging.channel",this.channel_.peerWindowObject_)}catch(d){return}if(null!==c)try{c({channelName:a.channelName,service:a.service,payload:a.payload})}catch(d){}};
g.notifyConnected_=function(){Bu(this.channel_,0)};
g.disposeInternal=function(){if(this.initialized_){var a=this.getWindow(),b=ya(a);1==--xu[b]&&q("crosswindowmessaging.channel",null,a)}this.asyncSendsMap_&&(Lb(this.asyncSendsMap_,function(a){n.clearTimeout(a)}),this.asyncSendsMap_=null);
this.setupAckReceived_&&(this.setupAckReceived_.cancel(),delete this.setupAckReceived_);this.setupAckSent_&&(this.setupAckSent_.cancel(),delete this.setupAckSent_);this.connected_&&(this.connected_.cancel(),delete this.connected_);wu.superClass_.disposeInternal.call(this)};
var zu=function(a){a=a.split(",");a[1]=a[1]||null;return a},yu=function(a,b,c){this.channelName=a;
this.service=b;this.payload=c};var Cu=function(a,b){hu.call(this,b);this.channel_=a;this.queue_=[];this.deliverQueuedCb_=v(this.deliverQueued_,this)};
x(Cu,hu);g=Cu.prototype;g.transportType=2;g.recursive_=!1;g.connect=function(){0==vu(this.channel_)?(this.iframeElm_=this.channel_.iframeElement_,this.iframeElm_.XPC_toOuter=v(this.incoming_,this)):this.attemptSetup_()};
g.attemptSetup_=function(){var a=!0;try{this.iframeElm_||(this.iframeElm_=this.getWindow().frameElement),this.iframeElm_&&this.iframeElm_.XPC_toOuter&&(this.outgoing_=this.iframeElm_.XPC_toOuter,this.iframeElm_.XPC_toOuter.XPC_toInner=v(this.incoming_,this),a=!1,this.send("tp","SETUP_ACK"),Bu(this.channel_))}catch(b){}a&&(this.attemptSetupCb_||(this.attemptSetupCb_=v(this.attemptSetup_,this)),this.getWindow().setTimeout(this.attemptSetupCb_,100))};
g.transportServiceHandler=function(a){if(0!=vu(this.channel_)||this.channel_.isConnected()||"SETUP_ACK"!=a)throw Error("Got unexpected transport message.");this.outgoing_=this.iframeElm_.XPC_toOuter.XPC_toInner;Bu(this.channel_)};
g.incoming_=function(a,b){this.recursive_||0!=this.queue_.length?(this.queue_.push({serviceName:a,payload:b}),1==this.queue_.length&&this.getWindow().setTimeout(this.deliverQueuedCb_,1)):this.channel_.xpcDeliver(a,b)};
g.deliverQueued_=function(){for(;this.queue_.length;){var a=this.queue_.shift();this.channel_.xpcDeliver(a.serviceName,a.payload)}};
g.send=function(a,b){this.recursive_=!0;this.outgoing_(a,b);this.recursive_=!1};
g.disposeInternal=function(){Cu.superClass_.disposeInternal.call(this);this.iframeElm_=this.outgoing_=null};var Du=function(a,b){hu.call(this,b);this.channel_=a;this.sendUri_=this.channel_.cfg_.ppu;this.rcvUri_=this.channel_.cfg_.lpu;this.sendQueue_=[]},Eu,Fu;
x(Du,hu);g=Du.prototype;g.pollsBeforeReconnect_=5;g.transportType=4;g.sequence_=0;g.waitForAck_=!1;g.initialized_=!1;g.reconnectFrame_=null;var Gu=function(a){return"googlexpc_"+a.channel_.name+"_msg"},Hu=function(a){return"googlexpc_"+a.channel_.name+"_ack"},Ju=function(a){try{if(!a.isDisposed()&&Iu(a.channel_))return a.channel_.peerWindowObject_.frames||{}}catch(b){}return{}};
Du.prototype.connect=function(){if(!this.isDisposed()&&Iu(this.channel_)){if(!this.initialized_){var a=Gu(this);this.msgIframeElm_=Ku(this,a);this.msgWinObj_=this.getWindow().frames[a];a=Hu(this);this.ackIframeElm_=Ku(this,a);this.ackWinObj_=this.getWindow().frames[a];this.initialized_=!0}if(Lu(this,Gu(this))&&Lu(this,Hu(this)))this.msgReceiver_=new Mu(this,Ju(this)[Gu(this)],v(this.processIncomingMsg,this)),this.ackReceiver_=new Mu(this,Ju(this)[Hu(this)],v(this.processIncomingAck,this)),this.checkLocalFramesPresent_();
else{if(1==vu(this.channel_))this.reconnectFrame_||0<this.pollsBeforeReconnect_--||(uu(this.channel_,gu(10)),Nu(this),this.initialized_=!1,this.reconnectFrame_=Ku(this,"googlexpc_reconnect_"+this.channel_.name));else if(0==vu(this.channel_))for(var a=Ju(this),b=a.length,c=0;c<b;c++){try{if(a[c]&&a[c].name)var d=a[c].name}catch(f){}if(d){var e=d.split("_");if(3==e.length&&"googlexpc"==e[0]&&"reconnect"==e[1]){this.channel_.name=e[2];Nu(this);this.initialized_=!1;break}}}this.getWindow().setTimeout(v(this.connect,
this),100)}}};
var Ku=function(a,b){var c=Yf("IFRAME"),d=c.style;d.position="absolute";d.top="-10px";d.left="10px";d.width="1px";d.height="1px";c.id=c.name=b;c.src=a.sendUri_+"#INITIAL";a.getWindow().document.body.appendChild(c);return c},Nu=function(a){a.msgIframeElm_&&(a.msgIframeElm_.parentNode.removeChild(a.msgIframeElm_),a.msgIframeElm_=null,a.msgWinObj_=null);
a.ackIframeElm_&&(a.ackIframeElm_.parentNode.removeChild(a.ackIframeElm_),a.ackIframeElm_=null,a.ackWinObj_=null)},Lu=function(a,b){try{var c=Ju(a)[b];
if(!c||0!=c.location.href.indexOf(a.rcvUri_))return!1}catch(d){return!1}return!0};
Du.prototype.checkLocalFramesPresent_=function(){var a=Ju(this);a[Hu(this)]&&a[Gu(this)]?(this.msgSender_=new Ou(this.sendUri_,this.msgWinObj_),this.ackSender_=new Ou(this.sendUri_,this.ackWinObj_),this.getWindow().setTimeout(v(function(){this.msgSender_.send("SETUP");this.waitForAck_=!0},this),100)):(this.checkLocalFramesPresentCb_||(this.checkLocalFramesPresentCb_=v(this.checkLocalFramesPresent_,this)),this.getWindow().setTimeout(this.checkLocalFramesPresentCb_,100))};
var Pu=function(a){if(a.sentConnectionSetupAck_&&a.rcvdConnectionSetupAck_&&(Bu(a.channel_),a.deliveryQueue_)){for(var b=0,c;b<a.deliveryQueue_.length;b++)c=a.deliveryQueue_[b],a.channel_.xpcDeliver(c.service,c.payload);delete a.deliveryQueue_}};
Du.prototype.processIncomingMsg=function(a){if("SETUP"==a)this.ackSender_&&(this.ackSender_.send("SETUP_ACK"),this.sentConnectionSetupAck_=!0,Pu(this));else if(this.channel_.isConnected()||this.sentConnectionSetupAck_){var b=a.indexOf("|");var c=a.substring(0,b);a=a.substring(b+1);b=c.indexOf(",");if(-1==b)this.ackSender_.send("ACK:"+c),Qu(this,a);else{var d=c.substring(0,b);this.ackSender_.send("ACK:"+d);b=c.substring(b+1).split("/");c=parseInt(b[0],10);b=parseInt(b[1],10);1==c&&(this.parts_=[]);
this.parts_.push(a);c==b&&(Qu(this,this.parts_.join("")),delete this.parts_)}}};
Du.prototype.processIncomingAck=function(a){"SETUP_ACK"==a?(this.waitForAck_=!1,this.rcvdConnectionSetupAck_=!0,Pu(this)):this.channel_.isConnected()&&this.waitForAck_&&parseInt(a.split(":")[1],10)==this.sequence_&&(this.waitForAck_=!1,Ru(this))};
var Ru=function(a){if(!a.waitForAck_&&a.sendQueue_.length){var b=a.sendQueue_.shift();++a.sequence_;a.msgSender_.send(a.sequence_+b);a.waitForAck_=!0}},Qu=function(a,b){var c=b.indexOf(":"),d=b.substr(0,c);
b=b.substring(c+1);a.channel_.isConnected()?a.channel_.xpcDeliver(d,b):(a.deliveryQueue_||(a.deliveryQueue_=[])).push({service:d,payload:b})};
Du.prototype.MAX_FRAME_LENGTH_=3800;Du.prototype.send=function(a,b){a=a+":"+b;if(!C||b.length<=this.MAX_FRAME_LENGTH_)this.sendQueue_.push("|"+a);else{b=b.length;for(var c=Math.ceil(b/this.MAX_FRAME_LENGTH_),d=0,e=1;d<b;)this.sendQueue_.push(","+e+"/"+c+"|"+a.substr(d,this.MAX_FRAME_LENGTH_)),e++,d+=this.MAX_FRAME_LENGTH_}Ru(this)};
Du.prototype.disposeInternal=function(){Du.superClass_.disposeInternal.call(this);var a=Su;ub(a,this.msgReceiver_);ub(a,this.ackReceiver_);this.msgReceiver_=this.ackReceiver_=null;eg(this.msgIframeElm_);eg(this.ackIframeElm_);this.msgWinObj_=this.ackWinObj_=this.msgIframeElm_=this.ackIframeElm_=null};
var Su=[],Tu=v(function(){var a=Su,b,c=!1;try{for(var d=0;b=a[d];d++)c=c||b.receive()}catch(e){if(b.transport_.channel_.close(),!a.length)return}a=w();c&&(Eu=a);Fu=window.setTimeout(Tu,1E3>a-Eu?10:100)},Du),Uu=function(){Eu=w();
Fu&&window.clearTimeout(Fu);Fu=window.setTimeout(Tu,10)},Ou=function(a,b){if(!/^https?:\/\//.test(a))throw Error("URL "+a+" is invalid");
this.sanitizedSendUri_=a;this.sendFrame_=b;this.cycle_=0};
Ou.prototype.send=function(a){this.cycle_=++this.cycle_%2;a=this.sanitizedSendUri_+"#"+this.cycle_+encodeURIComponent(a);try{me?this.sendFrame_.location.href=a:this.sendFrame_.location.replace(a)}catch(b){}Uu()};
var Mu=function(a,b,c){this.transport_=a;this.rcvFrame_=b;this.cb_=c;this.currentLoc_=this.rcvFrame_.location.href.split("#")[0]+"#INITIAL";Su.push(this);Uu()};
Mu.prototype.receive=function(){var a=this.rcvFrame_.location.href;if(a!=this.currentLoc_){this.currentLoc_=a;if(a=a.split("#")[1])a=a.substr(1),this.cb_(decodeURIComponent(a));return!0}return!1};var Wu=function(a,b){hu.call(this,b);this.channel_=a;this.peerRelayUri_=this.channel_.cfg_.pru;this.peerIframeId_=this.channel_.cfg_.ifrid;me&&Vu()};
x(Wu,hu);if(me)var Xu=[],Yu=0,Vu=function(){Yu||(Yu=window.setTimeout(function(){Zu()},1E3))},Zu=function(a){var b=w();
for(a=a||3E3;Xu.length&&b-Xu[0].timestamp>=a;){var c=Xu.shift().iframeElement;eg(c)}Yu=window.setTimeout($u,1E3)},$u=function(){Zu()};
var av={};Wu.prototype.transportType=3;Wu.prototype.connect=function(){this.getWindow().xpcRelay||(this.getWindow().xpcRelay=bv);this.send("tp","SETUP")};
var bv=function(a,b){var c=b.indexOf(":"),d=b.substr(0,c),e=b.substr(c+1);if(C&&-1!=(c=d.indexOf("|"))){b=d.substr(0,c);var d=d.substr(c+1),c=d.indexOf("+"),f=d.substr(0,c),c=parseInt(d.substr(c+1),10),h=av[f];h||(h=av[f]={fragments:[],received:0,expected:0});-1!=d.indexOf("++")&&(h.expected=c+1);h.fragments[c]=e;h.received++;if(h.received!=h.expected)return;e=h.fragments.join("");delete av[f]}else b=d;eu[a].xpcDeliver(b,decodeURIComponent(e))};
Wu.prototype.transportServiceHandler=function(a){"SETUP"==a?(this.send("tp","SETUP_ACK"),Bu(this.channel_)):"SETUP_ACK"==a&&Bu(this.channel_)};
Wu.prototype.send=function(a,b){b=encodeURIComponent(b);var c=b.length;if(C&&1800<c)for(var d=eb(),e=0,f=0;e<c;f++){var h=b.substr(e,1800),e=e+1800;cv(this,a,h,d+(e>=c?"++":"+")+f)}else cv(this,a,b)};
var cv=function(a,b,c,d){if(C){var e=a.getWindow().document.createElement("DIV");var f={onload:Pe("this.xpcOnload()"),sandbox:null};var h={src:null,srcdoc:null},k={sandbox:""},l={},m;for(m in h)l[m]=h[m];for(m in k)l[m]=k[m];for(m in f){var t=m.toLowerCase();if(t in h)throw Error('Cannot override "'+t+'" attribute, got "'+m+'" with value "'+f[m]+'"');t in k&&delete l[t];l[m]=f[m]}f=pf("iframe",l,void 0);vf(e,f);e=e.childNodes[0];e.xpcOnload=dv}else e=a.getWindow().document.createElement("IFRAME"),
me?Xu.push({timestamp:w(),iframeElement:e}):Bi(e,"load",dv);f=e.style;f.visibility="hidden";f.width=e.style.height="0px";f.position="absolute";f=a.peerRelayUri_;f+="#"+a.channel_.name;a.peerIframeId_&&(f+=","+a.peerIframeId_);f+="|"+b;d&&(f+="|"+d);e.src=f+(":"+c);a.getWindow().document.body.appendChild(e)},dv=function(){eg(this)};
Wu.prototype.disposeInternal=function(){Wu.superClass_.disposeInternal.call(this);me&&Zu(0)};var ev=function(a,b,c,d,e){hu.call(this,c);this.channel_=a;this.protocolVersion_=e||2;this.peerHostname_=b||"*";this.eventHandler_=new Ui(this);this.maybeAttemptToConnectTimer_=new Ri(100,this.getWindow());this.oneSidedHandshake_=!!d;this.setupAckReceived_=new iu;this.setupAckSent_=new iu;this.connected_=new iu;this.endpointId_=gu(10);this.peerEndpointId_=null;this.oneSidedHandshake_?1==vu(this.channel_)?qu(this.connected_,this.setupAckReceived_):qu(this.connected_,this.setupAckSent_):(qu(this.connected_,
this.setupAckReceived_),2==this.protocolVersion_&&qu(this.connected_,this.setupAckSent_));pu(this.connected_,this.notifyConnected_,this);this.connected_.callback(!0);this.eventHandler_.listen(this.maybeAttemptToConnectTimer_,"tick",this.maybeAttemptToConnect_)};
x(ev,hu);ev.prototype.peerProtocolVersion_=null;ev.prototype.initialized_=!1;ev.prototype.transportType=1;var fv={};ev.prototype.sendTimerId_=0;
var iv=function(a){var b=a.event_.data;if(!u(b))return!1;var c=b.indexOf("|"),d=b.indexOf(":");if(-1==c||-1==d)return!1;var e=b.substring(0,c),c=b.substring(c+1,d),b=b.substring(d+1);if(d=eu[e])return d.xpcDeliver(c,b,a.event_.origin),!0;var d=gv(b)[0],f;for(f in eu){var h=eu[f];if(1==vu(h)&&!h.isConnected()&&"tp"==c&&("SETUP"==d||"SETUP_NTPV2"==d)&&hv(h,a.event_.origin))return uu(h,e),h.xpcDeliver(c,b),!0}return!1};
ev.prototype.transportServiceHandler=function(a){var b=gv(a);a=b[1];switch(b[0]){case "SETUP_ACK":jv(this,1);this.setupAckReceived_.fired_||this.setupAckReceived_.callback(!0);break;case "SETUP_ACK_NTPV2":2==this.protocolVersion_&&(jv(this,2),this.setupAckReceived_.fired_||this.setupAckReceived_.callback(!0));break;case "SETUP":jv(this,1);this.sendSetupAckMessage_(1);break;case "SETUP_NTPV2":2==this.protocolVersion_&&(b=this.peerProtocolVersion_,jv(this,2),this.sendSetupAckMessage_(2),1!=b&&null==
this.peerEndpointId_||this.peerEndpointId_==a||this.sendSetupMessage_(),this.peerEndpointId_=a)}};
ev.prototype.sendSetupMessage_=function(){2!=this.protocolVersion_||null!=this.peerProtocolVersion_&&2!=this.peerProtocolVersion_||this.send("tp","SETUP_NTPV2,"+this.endpointId_);null!=this.peerProtocolVersion_&&1!=this.peerProtocolVersion_||this.send("tp","SETUP")};
ev.prototype.sendSetupAckMessage_=function(a){if(2!=this.protocolVersion_||null!=this.peerProtocolVersion_&&2!=this.peerProtocolVersion_||2!=a){if(null!=this.peerProtocolVersion_&&1!=this.peerProtocolVersion_||1!=a)return;this.send("tp","SETUP_ACK")}else this.send("tp","SETUP_ACK_NTPV2");this.setupAckSent_.fired_||this.setupAckSent_.callback(!0)};
var jv=function(a,b){b>a.peerProtocolVersion_&&(a.peerProtocolVersion_=b);1==a.peerProtocolVersion_&&(a.setupAckSent_.fired_||a.oneSidedHandshake_||a.setupAckSent_.callback(!0),a.peerEndpointId_=null)};
g=ev.prototype;g.connect=function(){var a=this.getWindow(),b=ya(a),c=fv[b];ta(c)||(c=0);0==c&&Bi(a.postMessage?a:a.document,"message",iv,!1,ev);fv[b]=c+1;this.initialized_=!0;this.maybeAttemptToConnect_()};
g.maybeAttemptToConnect_=function(){var a=0==vu(this.channel_);this.oneSidedHandshake_&&a||this.channel_.isConnected()||this.isDisposed()?this.maybeAttemptToConnectTimer_.stop():(this.maybeAttemptToConnectTimer_.start(),this.sendSetupMessage_())};
g.send=function(a,b){var c=this.channel_.peerWindowObject_;c&&(this.send=function(a,b){var d=this,e=this.channel_.name;this.sendTimerId_=Si(function(){d.sendTimerId_=0;try{var f=c.postMessage?c:c.document;f.postMessage&&f.postMessage(e+"|"+a+":"+b,d.peerHostname_)}catch(l){}},0)},this.send(a,b))};
g.notifyConnected_=function(){Bu(this.channel_,1==this.protocolVersion_||1==this.peerProtocolVersion_?200:void 0)};
g.disposeInternal=function(){if(this.initialized_){var a=this.getWindow(),b=ya(a),c=fv[b];fv[b]=c-1;1==c&&Ji(a.postMessage?a:a.document,"message",iv,!1,ev)}this.sendTimerId_&&(n.clearTimeout(this.sendTimerId_),this.sendTimerId_=0);be(this.eventHandler_);delete this.eventHandler_;be(this.maybeAttemptToConnectTimer_);delete this.maybeAttemptToConnectTimer_;this.setupAckReceived_.cancel();delete this.setupAckReceived_;this.setupAckSent_.cancel();delete this.setupAckSent_;this.connected_.cancel();delete this.connected_;
delete this.send;ev.superClass_.disposeInternal.call(this)};
var gv=function(a){a=a.split(",");a[1]=a[1]||null;return a};var kv=function(a,b){hu.call(this,b);this.channel_=a;this.authToken_=a.at||"";this.remoteAuthToken_=a.rat||"";a=this.getWindow();if(!a.nix_setup_complete)try{a.execScript("Class GCXPC____NIXVBS_wrapper\n Private m_Transport\nPrivate m_Auth\nPublic Sub SetTransport(transport)\nIf isEmpty(m_Transport) Then\nSet m_Transport = transport\nEnd If\nEnd Sub\nPublic Sub SetAuth(auth)\nIf isEmpty(m_Auth) Then\nm_Auth = auth\nEnd If\nEnd Sub\nPublic Function GetAuthToken()\n GetAuthToken = m_Auth\nEnd Function\nPublic Sub SendMessage(service, payload)\n Call m_Transport.GCXPC____NIXJS_handle_message(service, payload)\nEnd Sub\nPublic Sub CreateChannel(channel)\n Call m_Transport.GCXPC____NIXJS_create_channel(channel)\nEnd Sub\nPublic Sub GCXPC____NIXVBS_container()\n End Sub\nEnd Class\n Function GCXPC____NIXVBS_get_wrapper(transport, auth)\nDim wrap\nSet wrap = New GCXPC____NIXVBS_wrapper\nwrap.SetTransport transport\nwrap.SetAuth auth\nSet GCXPC____NIXVBS_get_wrapper = wrap\nEnd Function",
"vbscript"),a.nix_setup_complete=!0}catch(c){}this.GCXPC____NIXJS_handle_message=this.handleMessage_;this.GCXPC____NIXJS_create_channel=this.createChannel_};
x(kv,hu);g=kv.prototype;g.transportType=6;g.localSetupCompleted_=!1;g.nixChannel_=null;g.connect=function(){0==vu(this.channel_)?this.attemptOuterSetup_():this.attemptInnerSetup_()};
g.attemptOuterSetup_=function(){if(!this.localSetupCompleted_){var a=this.channel_.iframeElement_;try{a.contentWindow.opener=(0,this.getWindow().GCXPC____NIXVBS_get_wrapper)(this,this.authToken_),this.localSetupCompleted_=!0}catch(b){}this.localSetupCompleted_||this.getWindow().setTimeout(v(this.attemptOuterSetup_,this),100)}};
g.attemptInnerSetup_=function(){if(!this.localSetupCompleted_){try{var a=this.getWindow().opener;if(a&&"GCXPC____NIXVBS_container"in a){this.nixChannel_=a;if(this.nixChannel_.GetAuthToken()!=this.remoteAuthToken_)return;this.nixChannel_.CreateChannel((0,this.getWindow().GCXPC____NIXVBS_get_wrapper)(this,this.authToken_));this.localSetupCompleted_=!0;Bu(this.channel_)}}catch(b){return}this.localSetupCompleted_||this.getWindow().setTimeout(v(this.attemptInnerSetup_,this),100)}};
g.createChannel_=function(a){this.nixChannel_=a;this.nixChannel_.GetAuthToken()==this.remoteAuthToken_&&Bu(this.channel_)};
g.handleMessage_=function(a,b){this.getWindow().setTimeout(v(function(){this.channel_.xpcDeliver(a,b)},this),1)};
g.send=function(a,b){this.nixChannel_.SendMessage(a,b)};
g.disposeInternal=function(){kv.superClass_.disposeInternal.call(this);this.nixChannel_=null};var mv=function(a,b){au.call(this);for(var c=0,d;d=du[c];c++)if(d in a&&!/^https?:\/\//.test(a[d]))throw Error("URI "+a[d]+" is invalid for field "+d);this.cfg_=a;this.name=this.cfg_.cn||gu(10);this.domHelper_=b||Hf();this.deferredDeliveries_=[];this.peerLoadHandler_=new Ui(this);a.lpu=a.lpu||ld(this.domHelper_.getWindow().location.href)+"/robots.txt";a.ppu=a.ppu||ld(a.pu||"")+"/robots.txt";eu[this.name]=this;Li(window,"unload",lv)||Ii(window,"unload",lv)};
x(mv,au);var nv=/^%*tp$/,ov=/^%+tp$/;g=mv.prototype;g.connectionDelay_=null;g.peerWindowDeferred_=null;g.transport_=null;g.state_=1;g.isConnected=function(){return 2==this.state_};
g.peerWindowObject_=null;g.iframeElement_=null;var Iu=function(a){try{return!!a.peerWindowObject_&&!a.peerWindowObject_.closed}catch(b){return!1}},rv=function(a,b){var c=a.cfg_.ifrid;
c||(c=a.cfg_.ifrid="xpcpeer"+gu(4));var d=Hf(b).createElement("IFRAME");d.id=d.name=c;d.style.width=d.style.height="100%";pv(a);a.peerWindowDeferred_=new iu(void 0,a);var e=qv(a);Wi(a.peerLoadHandler_,d,"load",a.peerWindowDeferred_.callback,!1,a.peerWindowDeferred_);le||me?window.setTimeout(v(function(){b.appendChild(d);d.src=e.toString()},a),1):(d.src=e.toString(),b.appendChild(d))},pv=function(a){a.peerWindowDeferred_&&(a.peerWindowDeferred_.cancel(),a.peerWindowDeferred_=null);
a.deferredDeliveries_.length=0;a.peerLoadHandler_.removeAll()},qv=function(a){var b=a.cfg_.pu;
u(b)&&(b=a.cfg_.pu=new $n(b));var c={};c.cn=a.name;c.tp=a.cfg_.tp;c.osh=a.cfg_.osh;a.cfg_.lru&&(c.pru=a.cfg_.lru);a.cfg_.lpu&&(c.ppu=a.cfg_.lpu);a.cfg_.ppu&&(c.lpu=a.cfg_.ppu);(a=a.cfg_.role)&&(c.role=1==a?0:1);S(b,"xpc",Vj(c));return b};
mv.prototype.connect=function(a){this.connectCb_=a||oa;3==this.state_&&(this.state_=1);this.peerWindowDeferred_?pu(this.peerWindowDeferred_,this.continueConnection_):this.continueConnection_()};
mv.prototype.continueConnection_=function(){this.peerWindowDeferred_=null;this.cfg_.ifrid&&(this.iframeElement_=this.domHelper_.getElement(this.cfg_.ifrid));if(this.iframeElement_){var a=this.iframeElement_.contentWindow;a||(a=window.frames[this.cfg_.ifrid]);this.peerWindowObject_=a}if(!this.peerWindowObject_){if(window==window.top)throw Error("CrossPageChannel: Can't connect, peer window-object not set.");this.peerWindowObject_=window.parent}if(!this.transport_){if(!this.cfg_.tp){var a=this.cfg_;
if(ua(document.postMessage)||ua(window.postMessage)||C&&window.postMessage)var b=1;else if(le)b=2;else if(C&&this.cfg_.pru)b=3;else{var c;if(c=C){c=!1;try{b=window.opener,window.opener={},c=ge(window,"opener"),window.opener=b}catch(d){}}b=c?6:4}a.tp=b}switch(this.cfg_.tp){case 1:this.transport_=new ev(this,this.cfg_.ph,this.domHelper_,!!this.cfg_.osh,this.cfg_.nativeProtocolVersion||2);break;case 6:this.transport_=new kv(this,this.domHelper_);break;case 2:this.transport_=new Cu(this,this.domHelper_);
break;case 3:this.transport_=new Wu(this,this.domHelper_);break;case 4:this.transport_=new Du(this,this.domHelper_);break;case 7:if(a=this.peerWindowObject_)try{a=window.document.domain==this.peerWindowObject_.document.domain}catch(d){a=!1}a&&(this.transport_=new wu(this,this.domHelper_))}if(!this.transport_)throw Error("CrossPageChannel: No suitable transport found!");}for(this.transport_.connect();0<this.deferredDeliveries_.length;)this.deferredDeliveries_.shift()()};
mv.prototype.close=function(){pv(this);this.state_=3;be(this.transport_);this.connectCb_=this.transport_=null;be(this.connectionDelay_);this.connectionDelay_=null};
var Bu=function(a,b){a.isConnected()||a.connectionDelay_&&a.connectionDelay_.isActive()||(a.state_=2,be(a.connectionDelay_),p(b)?(a.connectionDelay_=new Ti(a.connectCb_,b),a.connectionDelay_.start()):(a.connectionDelay_=null,a.connectCb_()))};
mv.prototype.send=function(a,b){this.isConnected()&&(Iu(this)?(va(b)&&(b=Vj(b)),this.transport_.send(sv(a),b)):this.close())};
mv.prototype.xpcDeliver=function(a,b,c){this.peerWindowDeferred_?this.deferredDeliveries_.push(v(this.xpcDeliver,this,a,b,c)):hv(this,c)&&!this.isDisposed()&&3!=this.state_&&(a&&"tp"!=a?this.isConnected()&&(a=a.replace(/%[0-9a-f]{2}/gi,decodeURIComponent),a=ov.test(a)?a.substring(1):a,a=this.getService(a,b))&&(b=bu(b,a.objectPayload),null!=b&&a.callback(b)):this.transport_.transportServiceHandler(b))};
var sv=function(a){nv.test(a)&&(a="%"+a);return a.replace(/[%:|]/g,encodeURIComponent)},vu=function(a){var b=a.cfg_.role;
return ta(b)?b:window.parent==a.peerWindowObject_?1:0},uu=function(a,b){delete eu[a.name];
a.name=b;eu[b]=a},hv=function(a,b){var c=a.cfg_.ph;
return Ia(db(b))||Ia(db(c))||b==a.cfg_.ph};
mv.prototype.disposeInternal=function(){this.close();this.iframeElement_=this.peerWindowObject_=null;delete eu[this.name];be(this.peerLoadHandler_);delete this.peerLoadHandler_;mv.superClass_.disposeInternal.call(this)};
var lv=function(){for(var a in eu)be(eu[a])};var tv=function(a,b,c,d){this.xpcConfig_=a;this.iframeContainerId_=b;this.domHelper_=c;this.connectionCallback_=d;this.delayGenerator_=new Lq(Math.random,5E3,128);this.crossPageChannel_=null},uv=function(a){a.crossPageChannel_=new mv(a.xpcConfig_,a.domHelper_||void 0);
var b=yr(a.iframeContainerId_);rv(a.crossPageChannel_,b);Si(a.checkConnectionTimeout_,Mq(a.delayGenerator_)+5E3,a);a.crossPageChannel_.connect(v(function(){this.delayGenerator_.reset();this.connectionCallback_(this.crossPageChannel_)},a))},vv=function(a,b){a=gg(D(a));
b=new $n(b);for(var c=0;c<a.length;++c)if("IFRAME"==a[c].tagName){var d=new $n(a[c].src);d.domain_==b.domain_&&d.path_==b.path_&&eg(a[c])}};
tv.prototype.checkConnectionTimeout_=function(){this.crossPageChannel_&&!this.crossPageChannel_.isConnected()&&(wv(this),uv(this))};
var wv=function(a){a.crossPageChannel_&&(a.crossPageChannel_.close(),a.crossPageChannel_=null);vv(a.iframeContainerId_,a.xpcConfig_.pu)};var xv=function(a,b,c,d,e){this.isDisposed_=!1;this.iframeUri=a;this.iframeContainerId=b;this.iframeChannel_=c;this.config=e;this.handler_=d;this.authParams_=null;this.logger_=new Pq};
g=xv.prototype;g.start=function(){this.iframeChannel_.start(this.getIframeUri(),this.iframeContainerId,v(this.onConnect,this))};
g.onConnect=function(){this.iframeChannel_.registerService("cha",v(this.channelHandleArray,this),!0);this.iframeChannel_.registerService("co",v(this.channelOpened,this),!0);this.iframeChannel_.registerService("cc",v(this.channelClosed,this),!0);this.iframeChannel_.registerService("ce",v(this.channelError,this),!0);this.iframeChannel_.registerService("cse",v(this.channelStatEvent_,this),!0);this.authParams_&&this.updateAuthParams(this.authParams_);yv(this.iframeChannel_,"s",[])};
g.getIframeUri=function(){var a=new $n(this.iframeUri),b=vr(this.config);S(a,"cfg",b);S(a,"ctype",this.config.getClientType());(b=V(this.config,5))&&S(a,"gapi_src",b);(b=V(this.config,4))&&S(a,"service",b);null!=this.authParams_&&3==this.authParams_.getScheme()&&S(a,"oauth_token",V(this.authParams_,3));this.config.getPageId()&&S(a,"pageId",this.config.getPageId());return a.toString()};
g.close=function(){this.iframeChannel_.close();vv(this.iframeContainerId,this.iframeUri)};
g.updateAuthParams=function(a){this.authParams_=a;a=tr.serialize(this.authParams_);yv(this.iframeChannel_,"uap",a)};
g.sendMap=function(a){yv(this.iframeChannel_,"sm",a)};
g.channelOpened=function(){this.handler_.channelOpened(this)};
g.channelHandleArray=function(a){this.handler_.channelHandleArray(a,this)};
g.channelClosed=function(){this.handler_.channelClosed(this)};
g.channelError=function(a){this.handler_.channelError("object"==typeof a?new sq(a[0],a[1]):new sq(parseInt(a,10),-1),this)};
g.channelStatEvent_=function(){};
g.isDisposed=function(){return this.isDisposed_};
g.dispose=function(){this.isDisposed_=!0};var zv=function(a){this.domHelper_=a;this.xpcIframeCreator_=this.crossPageChannel_=null;this.logger_=new Pq};
zv.prototype.start=function(a,b,c){var d={};d.pu=a;this.xpcIframeCreator_=new tv(d,b,this.domHelper_,v(this.onXpcConnect_,this,c));uv(this.xpcIframeCreator_)};
zv.prototype.onXpcConnect_=function(a,b){this.crossPageChannel_=b;a()};
zv.prototype.registerService=function(a,b,c){this.crossPageChannel_.registerService(a,b,c)};
var yv=function(a,b,c){a.crossPageChannel_&&a.crossPageChannel_.isConnected()&&a.crossPageChannel_.send(b,c||[])};
zv.prototype.close=function(){wv(this.xpcIframeCreator_);this.crossPageChannel_=null};var Av=function(a,b,c){Yt.call(this,a,b);this.iframeContainerId_=c};
x(Av,Yt);Av.prototype.isIframed=Hb;Av.prototype.getFirstPartyAuthSchemeAndHash=function(a){(a=Av.superClass_.getFirstPartyAuthSchemeAndHash.call(this,a))||((a=Kl())?(a=a.split(" "),a={scheme:a[0],hash:a[1]}):a=null);return a};var Bv=function(){};
Bv.prototype.validate=function(a){for(var b=a.getDescriptor(),c=this.specifications_[b.getName()],d=uq(b),e=0;e<d.length;++e);for(var f in c)for(var d=c[f],h=vq(b,f),e=0;e<d.length;++e){if(!d[e](h,a))return!1;for(var k=0;k<Eq(a,h.tag_);++k){var l=a.get(h,k);if(l instanceof T&&!this.validate(l))return!1}}return!0};
Bv.prototype.required=function(a,b){(b=b.has(a))||a.getName();return b};
Bv.prototype.greaterOrEqualTo=function(a,b,c){a=!c.has(b)||c.get(b)>=a;a||(b.getName(),c.get(b));return a};
Bv.prototype.nonEmpty=function(a,b){(b=!b.has(a)||""!=b.get(a))||a.getName();return b};var Cv=function(){var a=function(){return!0},b=v(this.required,this),c=v(this.greaterOrEqualTo,this,0),d=v(this.nonEmpty,this);
this.specifications_={Version:{major_version:[b,c],minor_version:[b,c]},ProtocolVersion:{version:[b]},ClientVersion:{version:[b],platform:[b],language:[b,d],application_info:[b,d]},ClientToServerMessage:{header:[b],init_endpoint_message:[a],init_session_message:[a],client_data_message_deprecated:[a],send_on_disconnect_message:[a],close_session_message:[a]},ClientHeader:{protocol_version:[b],client_version:[b],client_time_ms:[b],max_known_server_time_ms:[b],message_id:[a]},SessionId:{service_name:[b,
d],session_name:[a]},InitEndpointMessage:{},InitSessionMessage:{session_id:[b]},CloseSessionMessage:{session_id:[b]},SessionStatusMessage:{session_id:[b],address:[a,d],is_broadcast_to_user:[a],status:[a]},DataMessage:{session_id:[b],message:[b]},ServerToClientMessage:{header:[b],server_data_message:[a],channel_status_message:[a],session_status_message:[a]},ServerHeader:{protocol_version:[b],server_time_ms:[b,c],message_id:[a,d]},StatusP:{code:[b],description:[a]},ChannelStatusMessage:{status:[b],
jid_resource:[a]}}};
x(Cv,Bv);Cv.prototype.isClientMessageValid=function(a){return this.validate(a)};
Cv.prototype.isServerMessageValid=function(a){return this.validate(a)?!0:!1};var Dv=function(a,b,c){this.channel_=a;this.serviceName_=b;this.sessionHandler_=c;this.sessionName_=null;this.isOpen_=!1};
Dv.prototype.open=function(){this.isOpen_=!0;this.channel_.sendSubscription_(this)};
Dv.prototype.getServiceName=function(){return this.serviceName_};
Dv.prototype.getSessionName=function(){return this.sessionName_};
var Ev=function(a,b){this.channelConfig_=b;this.unnamedSessions_=[];this.sessions_=new cd;this.broadcastSessions_=new cd;this.browserChannel_=null;this.nextChannelReloadTimeMs_=0;this.logger_=new Pq;this.msgValidator_=new Cv;this.channelHandler_=a;this.isOpen_=!1;this.authParams_=new Hq;this.channelConfig_.useCors_?this.authParams_.setScheme(5):(this.authParams_.setScheme(2),this.authParams_.setOrigin(ld(self.location.href)));a=b.getAuthuser();0!=a&&this.authParams_.setAuthuser(a);this.messageId_=
this.lastKnownServerTimeMs_=0;this.isDisposed_=!1};
g=Ev.prototype;g.setOAuthToken=function(a){5!=this.authParams_.getScheme()&&(this.authParams_.setScheme(3),W(this.authParams_,3,a),Fv(this))};
g.setAppAuthToken=function(a){5!=this.authParams_.getScheme()&&(this.authParams_.setScheme(4),W(this.authParams_,3,a),Fv(this))};
g.open=function(){var a=this.channelConfig_;this.browserChannel_=new xv(a.uri_.toString(),a.iframeContainerId_,new zv(a.getDomHelper()),this,$t(a));Fv(this);this.browserChannel_.start()};
g.close=function(){null!=this.browserChannel_&&this.browserChannel_.close()};
g.dispose=function(){this.close();this.isDisposed_=!0};
g.isDisposed=function(){return this.isDisposed_};
var Fv=function(a){if(Kq.contains(a.authParams_.getScheme())){var b=a.channelConfig_.getFirstPartyAuthSchemeAndHash(V(a.authParams_,1));if(null!=b){var c=b.scheme,b=b.hash;b!=V(a.authParams_,3)&&(a.authParams_.setScheme(Jq[c]),W(a.authParams_,3,b))}else W(a.authParams_,3,"")}a.browserChannel_&&a.browserChannel_.updateAuthParams(a.authParams_)};
g=Ev.prototype;g.channelOpened=function(){Gv(this,new et)};
g.handleSessionStatusMessage_=function(a){var b=a.getSessionId(),c=b.getSessionName();if(null!=c){var d=this.getSession_(b);if(null==d)for(var e=0;e<this.unnamedSessions_.length;++e){var f=this.unnamedSessions_[e],h=b.getServiceName();if(f.serviceName_==h){d=f;d.sessionName_=c;this.unnamedSessions_.splice(e,1);Dq(a,3)?this.broadcastSessions_.containsKey(h)||this.broadcastSessions_.set(h,d):this.sessions_.set(d.sessionName_,d);break}}if(null!=d)if(a.hasStatus()&&1!=a.getStatus().getCode()){if(b.getServiceName(),
V(a.getStatus(),2),b=d.sessionHandler_,b.onSessionError)b.onSessionError({isTransient:!1,description:V(a.getStatus(),2)||""})}else V(a,2),b.getSessionName(),b.getServiceName(),b=d.sessionHandler_,a=V(a,2),b.address_=a,Hv(b,!0)}};
g.channelHandleArray=function(a){for(var b=0;b<a.length;b++){var c=a[b].p;if(c&&(c=this.deserializeMessage(c),null!=c&&this.msgValidator_.isServerMessageValid(c))){var d=V(c,1);this.lastKnownServerTimeMs_=Math.max(this.lastKnownServerTimeMs_,V(d,4));if(U(c,3)){var d=V(c,3),e=d.getStatus().getCode();if(1==e){this.isOpen_=!0;for(var f=this.sessions_.getValues(),e=0;e<f.length;++e)this.sendSubscription_(f[e]);for(e=0;e<this.unnamedSessions_.length;++e)this.sendSubscription_(this.unnamedSessions_[e]);
f=this.broadcastSessions_.getValues();for(e=0;e<f.length;++e)this.sendSubscription_(f[e]);e={};U(d,2)&&(e.jidResource=V(d,2));Iv(this.channelHandler_,this,e)}else 4==e?(this.isOpen_=!1,yv(this.browserChannel_.iframeChannel_,"sh",[])):5==e&&(d=w(),d>this.nextChannelReloadTimeMs_&&(this.nextChannelReloadTimeMs_=d+Math.ceil(18E5*Math.random()),this.close(),this.channelClosed(),this.browserChannel_=null,this.open()))}c.hasSessionStatusMessage()&&(d=c.getSessionStatusMessage(),this.handleSessionStatusMessage_(d));
U(c,2)&&(c=V(c,2),d=c.getSessionId(),d=this.getSession_(d),null==d||d.sessionHandler_.receive(d,c.getMessage()))}}};
g.channelError=function(a){Fv(this);this.channelHandler_.onError(this,a)};
g.channelClosed=function(){this.isOpen_=!1;Jv(this.channelHandler_,this)};
g.newSession=function(a,b){a=new Dv(this,a,b);this.unnamedSessions_.push(a);return a};
g.getSession_=function(a){var b=this.sessions_.get(a.getSessionName(),null);null==b&&(b=this.broadcastSessions_.get(a.getServiceName(),null));return b};
g.sendSubscription_=function(a){this.isOpen_&&(a=Xt(a.serviceName_,a.sessionName_),Gv(this,a))};
var Gv=function(a,b){var c="c"+ ++a.messageId_,d=w(),e=a.lastKnownServerTimeMs_,f=new ct;f.setProtocolVersion(wt);f.setClientTimeMs(d);f.setMaxKnownServerTimeMs(e);f.setMessageId(c);f.setClientVersion(Vt());c=new at;c.setHeader(f);b instanceof et?W(c,2,b):b instanceof gt?c.setInitSessionMessage(b):b instanceof it&&W(c,6,b);a.msgValidator_.isClientMessageValid(c)&&(b={},f=vr(c),b.p=f,a.browserChannel_.sendMap(b))};
Ev.prototype.deserializeMessage=function(a){var b=ot.getDescriptor();return xr(b,a)};var Kv=function(a,b){this.channelHandler_=a;this.channelConfig_=b;this.authParams_=new Hq;this.authParams_.setOrigin(ld(self.location.href));this.authParams_.setScheme(2);a=b.getAuthuser();null!=a&&this.authParams_.setAuthuser(a);this.unnamedSessions_=[];this.sessions_=new cd;this.broadcastSessions_=new cd;this.isDisposed_=this.isConnectedToWorker_=!1;this.nextChannelReloadTimeMs_=0;this.logger_=new Pq;this.iframeChannel_=new zv(this.channelConfig_.getDomHelper());this.delayGenerator_=new Lq(Math.random,
1E4,100)};
g=Kv.prototype;g.setOAuthToken=function(){};
g.setAppAuthToken=function(){};
g.getIframeUri=function(){var a=new $n(this.channelConfig_.uri_.toString()),b=vr($t(this.channelConfig_));S(a,"cfg",b);S(a,"ctype",this.channelConfig_.getClientType());S(a,"sw",!0);return a.toString()};
g.open=function(){this.iframeUri_=this.getIframeUri();this.iframeChannel_.start(this.iframeUri_,this.channelConfig_.iframeContainerId_,v(this.onXpcConnect_,this))};
g.onXpcConnect_=function(){this.iframeChannel_.registerService("sw2c",v(this.channelHandleMessage,this),!1);Lv(this)};
g.newSession=function(a,b){a=new Dv(this,a,b);this.unnamedSessions_.push(a);return a};
g.dispose=function(){this.close();this.isDisposed_=!0};
g.isDisposed=function(){return this.isDisposed_};
g.close=function(){this.iframeChannel_.close();this.isConnectedToWorker_=!1;Jv(this.channelHandler_,this)};
g.updateAuthParams=function(){var a=this.channelConfig_.getFirstPartyAuthSchemeAndHash(V(this.authParams_,1));if(null!=a){var b=a.scheme,a=a.hash;a!=V(this.authParams_,3)&&(this.authParams_.setScheme(Jq[b]),W(this.authParams_,3,a))}else W(this.authParams_,3,"")};
var Lv=function(a){a.updateAuthParams();var b=new Bt;W(b,1,a.authParams_);a.send(b)},Mv=function(a){var b=Mq(a.delayGenerator_)+1E4;
Si(function(){this.isConnectedToWorker_?this.delayGenerator_.reset():(this.close(),this.open())},b,a)},Nv=function(a){a.isConnectedToWorker_=!0;
for(var b=a.sessions_.getValues(),c=0;c<b.length;c++)a.sendSubscription_(b[c]);for(c=0;c<a.unnamedSessions_.length;c++)a.sendSubscription_(a.unnamedSessions_[c]);b=a.broadcastSessions_.getValues();for(c=0;c<b.length;c++)a.sendSubscription_(b[c])};
g=Kv.prototype;g.sendSubscription_=function(a){if(this.isConnectedToWorker_){a=Xt(a.getServiceName(),a.getSessionName());var b=new Bt;b.setInitSessionMessage(a);this.send(b)}};
g.send=function(a){a=vr(a);yv(this.iframeChannel_,"c2sw",a)};
g.getSession_=function(a){var b=this.sessions_.get(a.getSessionName(),null);null==b&&(b=this.broadcastSessions_.get(a.getServiceName(),null));return b};
g.channelHandleMessage=function(a){var b=Dt.getDescriptor();a=xr(b,a);if(null!=a)if(U(a,1))a=V(a,1),b=a.getSessionId(),b=this.getSession_(b),null==b||b.sessionHandler_.receive(b,a.getMessage());else if(U(a,6))a=new Bt,b=$t(this.channelConfig_),W(a,3,b),this.send(a);else if(a.hasSessionStatusMessage())this.handleSessionStatusMessage_(a.getSessionStatusMessage());else if(U(a,3))a=V(a,3),b=a.getStatus().getCode(),1==b?(b={},U(a,2)&&(b.jidResource=V(a,2)),Iv(this.channelHandler_,this,b)):4!=b&&5==b&&
(a=w(),a>this.nextChannelReloadTimeMs_&&(this.nextChannelReloadTimeMs_=a+Math.ceil(18E5*Math.random()),this.close(),this.open()));else if(U(a,9))a=V(a,9),V(a,1);else if(U(a,5))Lv(this);else if(U(a,4))if(a=V(a,4),U(a,1))switch(V(a,1)){case 1:Mv(this);break;case 2:Nv(this,V(a,2))}else Nv(this);else U(a,10)?Jv(this.channelHandler_,this):U(a,11)&&(Lv(this),a=V(a,11),a=new sq(a.getBrowserChannelErrorCode(),a.getLastHttpStatusCode()),this.channelHandler_.onError(this,a))};
g.handleSessionStatusMessage_=function(a){var b=a.getSessionId(),c=b.getSessionName();if(null!=c){var d=this.getSession_(b);if(null==d)for(var e=0;e<this.unnamedSessions_.length;++e){var f=this.unnamedSessions_[e],h=b.getServiceName();if(f.getServiceName()==h){d=f;d.sessionName_=c;this.unnamedSessions_.splice(e,1);Dq(a,3)?this.broadcastSessions_.containsKey(h)||this.broadcastSessions_.set(h,d):this.sessions_.set(d.getSessionName(),d);break}}if(a.hasStatus()&&1!=a.getStatus().getCode()){if(b.getServiceName(),
V(a.getStatus(),2),b=d.sessionHandler_,b.onSessionError)b.onSessionError({isTransient:!1,description:V(a.getStatus(),2)||""})}else V(a,2),b.getSessionName(),b.getServiceName(),b=d.sessionHandler_,a=V(a,2),b.address_=a,Hv(b,!0)}};var Ov=function(a){!document.currentScript||-1==document.currentScript.src.indexOf("?"+a)&&document.currentScript.src.indexOf("&"+a)};
Ov("loadGamesSDK");Ov("loadCastFramework");window.navigator.userAgent.match(/Chrome\/([0-9]+)/);var Pv=document,Qv=window;var Rv=function(a){try{return!!a&&null!=a.location.href&&ge(a,"foo")}catch(b){return!1}},Sv=function(a){if(!(1E-4>Math.random())){var b=Math.random();
if(0>b){try{var c=new Uint32Array(1);n.crypto.getRandomValues(c);b=c[0]/65536/65536}catch(d){b=Math.random()}return a[Math.floor(b*a.length)]}}return null},Tv=function(a,b){for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&b.call(void 0,a[c],c,a)};var Uv=function(){var a=!1;try{var b=Object.defineProperty({},"passive",{get:function(){a=!0}});
n.addEventListener("test",null,b)}catch(c){}return a}(),Vv=function(a,b,c){a.addEventListener?a.addEventListener(b,c,Uv?void 0:!1):a.attachEvent&&a.attachEvent("on"+b,c)};var Wv=function(a){a=a||n;var b=a.context;if(!b)try{b=a.parent.context}catch(c){}try{if(b&&"pageViewId"in b&&"canonicalUrl"in b)return b}catch(c){}return null};var Xv=function(a,b,c,d,e){this.maxPathLength_=c||4E3;this.paramDelimiter_=a||"&";this.arrayDelimiters_=b||",$";this.truncationParam=p(d)?d:"trn";this.truncationValue=e||null;this.allowHardTrunctation_=!1;this.allPriorityLists_={};this.nextPriority_=0;this.allPriorities_=[]},Yv=function(a,b){var c={};
c[a]=b;return[c]},$v=function(a,b,c,d,e){var f=[];
Tv(a,function(a,k){(a=Zv(a,b,c,d,e))&&f.push(k+"="+a)});
return f.join(b)},Zv=function(a,b,c,d,e){if(null==a)return"";
b=b||"&";c=c||",$";"string"==typeof c&&(c=c.split(""));if(a instanceof Array){if(d=d||0,d<c.length){for(var f=[],h=0;h<a.length;h++)f.push(Zv(a[h],b,c,d+1,e));return f.join(c[d])}}else if("object"==typeof a)return e=e||0,2>e?encodeURIComponent($v(a,b,c,d,e+1)):"...";return encodeURIComponent(String(a))},aw=function(a,b,c,d){a.allPriorities_.push(b);
a.allPriorityLists_[b]=Yv(c,d)};
Xv.prototype.getUrl=function(a,b,c,d){a=a+"//"+b+c;var e=bw(this)-c.length-d.length;if(0>e)return"";this.allPriorities_.sort(function(a,b){return a-b});
c=null;b="";for(var f=0;f<this.allPriorities_.length;f++)for(var h=this.allPriorities_[f],k=this.allPriorityLists_[h],l=0;l<k.length;l++){if(!e){c=null==c?h:c;break}var m=$v(k[l],this.paramDelimiter_,this.arrayDelimiters_);if(m){m=b+m;if(e>=m.length){e-=m.length;a+=m;b=this.paramDelimiter_;break}else this.allowHardTrunctation_&&(b=e,m[b-1]==this.paramDelimiter_&&--b,a+=m.substr(0,b),b=this.paramDelimiter_,e=0);c=null==c?h:c}}f="";this.truncationParam&&null!=c&&(f=b+this.truncationParam+"="+(this.truncationValue||
c));return a+f+d};
var bw=function(a){if(!a.truncationParam)return a.maxPathLength_;var b=1,c;for(c in a.allPriorityLists_)b=c.length>b?c.length:b;return a.maxPathLength_-a.truncationParam.length-b-a.paramDelimiter_.length-1};var dw=function(a,b,c,d,e){if((d?a.staticReportThreshold_:Math.random())<(e||a.defaultReportFreq_))try{if(c instanceof Xv)var f=c;else f=new Xv,Tv(c,function(a,b){var c=f,d=c.nextPriority_++;a=Yv(b,a);c.allPriorities_.push(d);c.allPriorityLists_[d]=a});
var h=f.getUrl(a.protocol_,a.domain_,a.path_+b+"&","");h&&cw(n,h)}catch(k){}},cw=function(a,b){a.google_image_requests||(a.google_image_requests=[]);
var c=a.document.createElement("img");c.src=b;a.google_image_requests.push(c)};var ew=Object.prototype.hasOwnProperty,gw=function(a){var b=fw,c;for(c in b)ew.call(b,c)&&a.call(void 0,b[c],c,b)},iw=function(){var a=hw();
"google_onload_fired"in a||(a.google_onload_fired=!1,Vv(a,"load",function(){a.google_onload_fired=!0}))},jw=!!window.google_async_iframe_id,kw=jw&&window.parent||window,hw=function(){if(jw&&!Rv(kw)){var a="."+Pv.domain;
try{for(;2<a.split(".").length&&!Rv(kw);)Pv.domain=a=a.substr(a.indexOf(".")+1),kw=window.parent}catch(b){}Rv(kw)||(kw=window)}return kw};var lw=function(a,b){this.topFullUrl=a;this.topOriginOnly=b},mw=function(a,b,c){this.url=a;
this.isOriginOnly=!!c;this.depth=ta(void 0)?void 0:null};var ow=function(a,b){var c=nw();this.label=a;this.type=b;this.value=c;this.duration=0;this.uniqueId=this.label+"_"+this.type+"_"+Math.random()};var pw=function(a,b){this.events=[];this.installedWindow=b||n;var c=null;b&&(b.google_js_reporting_queue=b.google_js_reporting_queue||[],this.events=b.google_js_reporting_queue,c=b.google_measure_js_timing);this.collectionEnabled=null!=c?c:Math.random()<a};
pw.prototype.disable=function(){y(this.events,this.clearMarksForEvent,this);this.events.length=0;this.collectionEnabled=!1};
pw.prototype.clearMarksForEvent=function(a){var b=this.installedWindow.performance;a&&b&&b.clearMarks&&(b.clearMarks("goog_"+a.uniqueId+"_start"),b.clearMarks("goog_"+a.uniqueId+"_end"))};
pw.prototype.start=function(a,b){if(!this.collectionEnabled)return null;a=new ow(a,b);(b=this.installedWindow.performance)&&b.mark&&b.mark("goog_"+a.uniqueId+"_start");return a};
pw.prototype.end=function(a){if(this.collectionEnabled){a.duration=nw()-a.value;var b=this.installedWindow.performance;b&&b.mark&&b.mark("goog_"+a.uniqueId+"_end");this.collectionEnabled&&this.events.push(a)}};
var nw=function(){var a=n.performance;return a&&a.now?a.now():w()};var qw=function(a,b,c,d){this.pinger_=a;this.errorTypeId_=b;this.silenceErrors_=c;this.addParamsToErrorsFn_=null;this.errorHandler_=this.maybeReportError;this.timer_=void 0===d?null:d;this.useStaticThresholdForErrors_=!1},sw=function(a,b){try{if(a.timer_&&a.timer_.collectionEnabled){var c=a.timer_.start((192).toString(),3);
var d=b();a.timer_.end(c)}else d=b()}catch(f){b=a.silenceErrors_;try{a.timer_&&c&&a.timer_.clearMarksForEvent(c);var e=rw(f);b=a.errorHandler_.call(a,192,e,void 0,void 0)}catch(h){a.maybeReportError(217,h)}if(!b)throw f;}return d},uw=function(a){var b=tw;
return function(c){for(var d=[],e=0;e<arguments.length;++e)d[e-0]=arguments[e];return sw(b,function(){return a.apply(void 0,d)})}};
qw.prototype.maybeReportError=function(a,b,c,d,e){e=e||this.errorTypeId_;try{var f=new Xv;f.allowHardTrunctation_=!0;aw(f,1,"context",a);b instanceof vw||(b=rw(b));aw(f,2,"msg",b.message.substring(0,512));b.fileName&&aw(f,3,"file",b.fileName);0<b.lineNumber&&aw(f,4,"line",b.lineNumber.toString());b={};if(this.addParamsToErrorsFn_)try{this.addParamsToErrorsFn_(b)}catch(L){}if(d)try{d(b)}catch(L){}d=[b];f.allPriorities_.push(5);f.allPriorityLists_[5]=d;b=n;d=[];var h=null;do{var k=b;if(Rv(k)){var l=
k.location.href;h=k.document&&k.document.referrer||null}else l=h,h=null;d.push(new mw(l||"",k));try{b=k.parent}catch(L){b=null}}while(b&&k!=b);l=0;for(var m=d.length-1;l<=m;++l)d[l].depth=m-l;k=n;if(k.location&&k.location.ancestorOrigins&&k.location.ancestorOrigins.length==d.length-1)for(l=1;l<d.length;++l){var t=d[l];t.url||(t.url=k.location.ancestorOrigins[l-1]||"",t.isOriginOnly=!0)}var H=new mw(n.location.href,n,!1),N=d.length-1;for(k=N;0<=k;--k){var F=d[k];if(F.url&&!F.isOriginOnly){H=F;break}}var F=
null,I=d.length&&d[N].url;0!=H.depth&&I&&(F=d[N]);var ga=new lw(H,F);ga.topOriginOnly&&aw(f,6,"top",ga.topOriginOnly.url||"");aw(f,7,"url",ga.topFullUrl.url||"");dw(this.pinger_,e,f,this.useStaticThresholdForErrors_,c)}catch(L){try{dw(this.pinger_,e,{context:"ecmserr",rctx:a,msg:ww(L),url:ga.topFullUrl.url},this.useStaticThresholdForErrors_,c)}catch(Ld){}}return this.silenceErrors_};
var rw=function(a){return new vw(ww(a),a.fileName,a.lineNumber)},ww=function(a){var b=a.toString();
a.name&&-1==b.indexOf(a.name)&&(b+=": "+a.name);a.message&&-1==b.indexOf(a.message)&&(b+=": "+a.message);if(a.stack){a=a.stack;var c=b;try{-1==a.indexOf(c)&&(a=c+"\n"+a);for(var d;a!=d;)d=a,a=a.replace(/((https?:\/..*\/)[^\/:]*:\d+(?:.|\n)*)\2/,"$1");b=a.replace(/\n */g,"\n")}catch(e){b=c}}return b},vw=function(a,b,c){this.message=a;
this.fileName=b||"";this.lineNumber=c||-1};var tw,xw=hw(),yw=new pw(1,xw);tw=new qw(new function(){this.protocol_="http:"===Qv.location.protocol?"http:":"https:";this.domain_="pagead2.googlesyndication.com";this.path_="/pagead/gen_204?id=";this.defaultReportFreq_=.01;this.staticReportThreshold_=Math.random()},"jserror",!0,yw);
"complete"==xw.document.readyState?xw.google_measure_js_timing||yw.disable():yw.collectionEnabled&&Vv(xw,"load",function(){xw.google_measure_js_timing||yw.disable()});var fw={AD_FORMAT:{name:"adFormat",verifier:ta},AD_CLIENT:{name:"adClient",verifier:/^[a-z0-9-]+$/i},AD_TEST:{name:"adTest",verifier:/^on$/i},REQUEST_SOURCE:{name:"reqSrc",verifier:ta},PUB_VARS:{name:"pubVars",verifier:null},AD_KEY:{name:"adKey",verifier:ta}},zw=[{name:"google_ad_channel",verifier:{predicate:/^[a-z0-9_-]+$/i,nullOnInvalid:!0}},{name:"google_reactive_sra_index",verifier:{predicate:ta,nullOnInvalid:!0}},{name:"google_ad_unit_key",verifier:{predicate:ta,nullOnInvalid:!0}}];var Aw=null;var Bw=function(a){this.schemaFn_=this.schema_=null;ua(a)?this.schemaFn_=a:this.schema_=a};
Bw.prototype.getVerifier=function(a){return this.schema_?this.schema_[a]:null};
Bw.prototype.getSchema=function(a){return this.schemaFn_?this.schemaFn_(a):null};
Bw.prototype.doesReturnAnotherSchema=function(){return this.schemaFn_?!0:!1};le||me||C&&Ce(11);new Bw({notify:/^expandable-xpc-ready$/});(function(a){var b={msg_type:/^[a-zA-Z0-9_-]+$/},c=function(a){a.verifier&&(b[a.name]=a.verifier)};
gw(c);for(var d=0;d<zw.length;d++)c(zw[d]);for(d=0;d<a.length;d++)c(a[d]);return new Bw(b)})([]);var Cw=function(){if(!(window&&Math.random&&navigator))return-1;if(window.__google_ad_urls){var a=window.__google_ad_urls;try{if(a&&a.getOseId())return a.getOseId()}catch(c){}}if(!window.__google_ad_urls_id){var a=window.google_enable_ose;if(!0===a)var b=2;else!1!==a&&(b=Sv([0]),null==b&&((b=Sv([2]))||(b=3)));if(!b)return 0;window.__google_ad_urls_id=b}return window.__google_ad_urls_id};var Dw=/Trident|MSIE/,Ew=/rv:11|Trident\/[78]/,Gw=function(){var a=Fw;if(!n.google_osd_loaded){var b=n.document,c=b.createElement("script");c.src=a;(a=b.getElementsByTagName("script")[0])&&a.parentNode&&a.parentNode.insertBefore(c,a);return n.google_osd_loaded=!0}return!1},Iw=function(a,b){Hw()?Vv(a,"readystatechange",function(c){a&&"complete"==a.readyState&&b(c)}):Vv(a,"load",b)},Jw=function(){var a=(hw()||n).google_osd_amcb;
return ua(a)?a:null},Hw=function(){var a=n.navigator;
return(a=a&&a.userAgent)?Dw.test(a)&&!Ew.test(a):!1};var Kw=function(a,b){this.w_=a;this.js_=b&&b.js_?b.js_:[];this.oseId_=b&&b.oseId_?b.oseId_:0;this.correlator_=b?b.correlator_:"";this.adBlocks_=b&&b.adBlocks_?b.adBlocks_:[];if(b){for(a=0;a<this.js_.length;++a)this.js_[a].push("true");for(a=0;a<this.adBlocks_.length;++a)this.adBlocks_[a].isFromCopiedInstance=!0}},Fw="",Lw=function(a,b){var c=a.js_,d=a.w_.google_ad_request_done;
d&&(d=d.orig_callback||d,a.w_.google_ad_request_done=function(a){if(a&&0<a.length){var e=1<a.length?a[1].url:null,h=a[0].log_info||null,k=a[0].activeview_url||null,l=a[0].activeview_js_enabled||null,m=a[0].activeview_js_immediate_enabled||null,t=a[0].activeview_js_tos_enabled||null,H=a[0].activeview_cid||null,N=a[0].activeview_metadata||null,F=a[0].image_url||"",I=a[0].type||null;c.push([b,Wa(a[0].url),e,h,null,k,l,m,t,H,N,Wa(F),I])}d(a)},a.w_.google_ad_request_done.orig_callback=d)},Nw=function(a,
b,c,d){var e=a.js_,f=d||0,h=b.document;
if(0<e.length){var k=h.getElementsByTagName("a");for(var l=0;l<k.length;l++)for(var m=0;m<e.length;m++)if(0<=k[l].href.indexOf(e[m][1])){var t=k[l].parentNode;if(e[m][2])for(var H=t,N=0;4>N;N++){if(0<=H.innerHTML.indexOf(e[m][2])){t=H;break}H=H.parentNode}Mw(e[m],t,f,c);e.splice(m,1);break}}if(0<e.length)for(H=h.getElementsByTagName("embed"),l=0;l<H.length;l++)for(m=0;m<e.length;m++)if(t=e[m][12],k=e[m][11],"flash"==t&&k&&(t=H[l],t.src==k)){var F=t;0==F.getBoundingClientRect().height&&F.parentElement&&
"OBJECT"==F.parentElement.tagName&&(F=F.parentElement);Mw(e[m],F,f,c);e.splice(m,1);break}if(0<e.length)for(h=h.getElementsByTagName("param"),l=0;l<h.length;l++)for(m=0;m<e.length;m++)if(t=e[m][12],k=e[m][11],"flash"==t&&k&&(t=h[l],"movie"==t.name&&t.value==k)){t.parentNode&&"OBJECT"==t.parentNode.tagName&&(F=t.parentNode);if(!F)break;Mw(e[m],F,f,c);e.splice(m,1);break}if(l=0<e.length){if(!Aw){F=l=n;for(f=0;l&&l!=l.parent;)if(l=l.parent,f++,Rv(l))F=l;else break;Aw=F}l=b!=Aw}if(l)try{Nw(a,b.parent,
c,d)}catch(I){}for(l=0;l<e.length;++l)a=e[l],"true"==a[6]&&Ow("osd2",a[3]),"true"==a[7]&&Ow("osdim",a[3])},Mw=function(a,b,c,d){d(b,a[0],c,!0,a[3],void 0,a[5],"true"==a[6],"true"==a[7],"true"==a[13],"true"==a[8],a[9],a[10])},Ow=function(a,b){if(a&&b){var c=["//"];
c.push("pagead2.googlesyndication.com");c.push("/activeview");c.push("?id="+a);c.push("&r=j");c.push("&avi="+b);cw(n,c.join(""))}},Pw=function(a,b){var c=["//"];
c.push("pagead2.googlesyndication.com");c.push("/pagead/gen_204");c.push("?id=osd");c.push("&r=om");c.push("&rs="+a);c.push("&req="+b);cw(n,c.join(""))};
g=Kw.prototype;g.getNewBlocks=function(a,b){b&&Nw(this,this.w_,a,1);for(var c=this.adBlocks_.length,d=0;d<c;d++){var e=this.adBlocks_[d];!e.hasBeenMonitoredByOsd_&&e.adDomElement_&&(a(e.adDomElement_,e.adUrl_,e.requestSource_,e.adElementLoaded_,"",void 0,"",!1,!1,e.isFromCopiedInstance,!1,"","",e.metricsChangeCallback_),e.hasBeenMonitoredByOsd_=!0)}b&&((hw()||n).google_osd_amcb=a)};
g.setupOse=function(a){if(this.getOseId())return this.getOseId();var b=Cw();if(!b)return 0;this.oseId_=b;this.correlator_=String(a||0);return this.getOseId()};
g.getOseId=function(){return window&&Math.random&&navigator?this.oseId_:-1};
g.getCorrelator=function(){return this.correlator_};
g.numBlocks=function(){return this.js_.length+this.adBlocks_.length};
g.registerAdBlock=function(a,b,c,d,e,f,h){if((e=Jw())&&d)e(d,a,b,!0,"",void 0,"",!1,!1,!1,!1,"","",h);else{if("js"==c)Lw(this,a);else{var k=new Qw(a,b,d,h);this.adBlocks_.push(k);d&&Iw(d,uw(function(){k.adElementLoaded_=!0}))}Fw||(Pw(b,a),Fw=(new Xv).getUrl("https:","pagead2.googlesyndication.com","/pagead/osd.js",""));
Gw()&&iw()}};
g.unloadAdBlock=function(a,b){p(window.Goog_Osd_UnloadAdBlock)&&window.Goog_Osd_UnloadAdBlock(a,b)};
var Qw=function(a,b,c,d){this.adUrl_=a;this.requestSource_=b;this.adDomElement_=c;this.isFromCopiedInstance=this.hasBeenMonitoredByOsd_=this.adElementLoaded_=!1;this.metricsChangeCallback_=d||oa};
q("Goog_AdSense_getAdAdapterInstance",function(){var a=hw(),b=a.__google_ad_urls;if(!b)return a.__google_ad_urls=new Kw(a);try{if(0<=b.getOseId())return b}catch(c){}try{return a.__google_ad_urls=new Kw(a,b)}catch(c){return a.__google_ad_urls=new Kw(a)}},void 0);
q("Goog_AdSense_OsdAdapter",Kw,void 0);q("Goog_AdSense_OsdAdapter.prototype.numBlocks",Kw.prototype.numBlocks,void 0);q("Goog_AdSense_OsdAdapter.prototype.getNewBlocks",Kw.prototype.getNewBlocks,void 0);q("Goog_AdSense_OsdAdapter.prototype.getOseId",Kw.prototype.getOseId,void 0);q("Goog_AdSense_OsdAdapter.prototype.getCorrelator",Kw.prototype.getCorrelator,void 0);q("Goog_AdSense_OsdAdapter.prototype.setupOse",Kw.prototype.setupOse,void 0);
q("Goog_AdSense_OsdAdapter.prototype.registerAdBlock",Kw.prototype.registerAdBlock,void 0);q("Goog_AdSense_OsdAdapter.prototype.unloadAdBlock",Kw.prototype.unloadAdBlock,void 0);var Rw=!1,Sw=function(a){if(a=a.match(/[\d]+/g))a.length=3,a.join(".")};
(function(){if(navigator.plugins&&navigator.plugins.length){var a=navigator.plugins["Shockwave Flash"];if(a&&(Rw=!0,a.description)){Sw(a.description);return}if(navigator.plugins["Shockwave Flash 2.0"]){Rw=!0;return}}if(navigator.mimeTypes&&navigator.mimeTypes.length&&(a=navigator.mimeTypes["application/x-shockwave-flash"],Rw=!(!a||!a.enabledPlugin))){Sw(a.enabledPlugin.description);return}try{var b=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7");Rw=!0;Sw(b.GetVariable("$version"));return}catch(c){}try{b=
new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6");Rw=!0;return}catch(c){}try{b=new ActiveXObject("ShockwaveFlash.ShockwaveFlash"),Rw=!0,Sw(b.GetVariable("$version"))}catch(c){}})();tw.silenceErrors_=!0;Ta("var i=this.id,s=window.google_iframe_oncopy,H=s&&s.handlers,h=H&&H[i],w=this.contentWindow,d;try{d=w.document}catch(e){}if(h&&d&&(!d.body||!d.body.firstChild)){if(h.call){setTimeout(h,0)}else if(h.match){try{h=s.upd(h,i)}catch(e){}w.location.replace(h)}}");fe("script");var Tw=Wv(Qv)||Wv();Tw&&Rv(Tw.master);Pe('body {display: block;border: 0px;margin: 0px;width: 100%;height: 100%;font-family: Roboto;background-color: #4285F4;-webkit-touchcallout: none;-webkit-user-select: none;-khtml-user-select: none;-moz-user-select: none;-ms-user-select: none;user-select: none;}.header {width: 100%;height: 30px;background-color: rgba(0,0,0,0.15);}.header-text {margin: 0px 0px 0px 9px;display: block;float: left;font-size: 9px;line-height: 30px;color: rgba(255,255,255,0.8);}[dir="rtl"] .header-text {margin: 0px 9px 0px 0px;float: right;}.logo {display: inline-block;vertical-align: middle;height: 15px;}.logo-spacer {height: 100%;display: inline-block;vertical-align: middle;}.logo-wrapper {height: 100%;display: block;float: left;margin: 0px 2px 0px 2px;}[dir="rtl"] .logo-wrapper {float: right;}.mute-wrapper {float: right;display: block;height: 100%;}[dir="rtl"] .mute-wrapper {float: left;}.interrogative-text {color: rgba(255,255,255,0.8);}.interrogative-wrapper {display: block;margin: 9px 0px 0px 9px;}.response-wrapper {display: block;min-width: 300px;}.response-wrapper a {display: inline-block;margin: 5px;padding: 4px;cursor: pointer;}.response-wrapper a.button {color: #4285F4;background-color: rgba(255, 255, 255, 1.0);border-radius: 1px;box-shadow: 0px 2px 8px rgba(0, 0, 0, 0.35);}.response-wrapper a.radio {color: rgba(255,255,255,0.95);}.response-wrapper svg {display: inline-block;float: left;height: 1.3em;width: 1.3em;}[dir="rtl"] .response-wrapper svg {float: right;}.response-wrapper span {display: inline-block;float: left;line-height: 1.3em;}[dir="rtl"] .response-wrapper span {float: right;}.response-wrapper circle.radio-select {opacity: 0;}.response-wrapper a:hover circle.radio-select {opacity: 1;}.response-wrapper a.button:hover {background-color: rgba(255, 255, 255, 0.8);}.response-wrapper a.button:active {box-shadow: 0px 0px 1px rgba(0, 0, 0, 0.15);}.response-wrapper a.radio:hover {color: rgba(255, 255, 255, 0.95);background-color: rgba(255, 255, 255, 0.1);}.response-wrapper a.radio:active {color: rgba(255, 255, 255, 1.0);background-color: rgba(255, 255, 255, 0.2);}@media (max-width: 480px) {.content-text {font-size: 12px;}}@media (min-width: 480px) and (max-width: 640px) {.content-text {font-size: 14px;}}@media (min-width: 640px) {.content-text {font-size: 16px;}}@media screen and (max-device-width: 640px){svg.radio-button {display:none;}}@media screen and (max-device-width: 480px) and (-webkit-min-device-pixel-ratio: 2){svg.radio-button {display:none;}}@media screen and (min-device-width: 768px) and (max-device-width: 1024px){svg.radio-button {display:none;}}@media screen and (min-width: 1024px){}');var Uw={};(function(a,b){var c=Uw[b];if(c)return c;c=(c=r(b))?yc(c):(new uc(function(b,c){var d=document.createElement("script");d.async=!0;zf(d,Ze(Oe(a)));d.onload=d.onreadystatechange=function(){d.readyState&&"loaded"!=d.readyState&&"complete"!=d.readyState||b()};
d.onerror=c;(document.head||document.getElementsByTagName("head")[0]).appendChild(d)})).then(function(){var c=r(b);
if(!c)throw Error("Failed to load "+b+" from "+a);return c});
return Uw[b]=c})(Pe("https://www.gstatic.com/feedback/js/help/prod/service/lazy.min.js"),"help.service.Lazy.create");var Vw=function(a,b,c,d){a=new $n(a);0!=b&&S(a,"authuser",b);null!=c&&S(a,"service",c);this.servletUri=a.toString();this.handler=d;this.nextRequestId=0};
Vw.prototype.start=function(){var a=this.handler;a.xpcOpen_=!0;Hv(a,!0)};
Vw.prototype.send=function(a,b,c){var d=new $n(this.servletUri),e;for(e in c)S(d,e,c[e]);ss(d.toString(),v(this.handleSendResult_,this,this.nextRequestId++),a,b,void 0,!0)};
Vw.prototype.handleSendResult_=function(a,b){if(b.target.isSuccess())this.handler.onSuccess(a)};var Ww=function(){T.call(this)};
x(Ww,T);var Xw=null;Ww.prototype.setMajorVersion=function(a){W(this,1,a)};
Ww.prototype.setMinorVersion=function(a){W(this,2,a)};
var Yw=function(){T.call(this)};
x(Yw,T);var Zw=null;Yw.prototype.getVersion=function(){return V(this,1)};
Yw.prototype.setVersion=function(a){W(this,1,a)};
var $w=function(){T.call(this)};
x($w,T);var ax=null;g=$w.prototype;g.getVersion=function(){return V(this,1)};
g.setVersion=function(a){W(this,1,a)};
g.getPlatform=function(){return V(this,2)};
g.setPlatform=function(a){W(this,2,a)};
g.setLanguage=function(a){W(this,3,a)};
g.setApplicationInfo=function(a){W(this,4,a)};
var bx=function(){T.call(this)};
x(bx,T);var cx=null;bx.prototype.getCode=function(){return V(this,1)};
bx.prototype.setDescription=function(a){W(this,2,a)};
var dx={SUCCESS:1,TRANSIENT_FAILURE:2,PERMANENT_FAILURE:3},ex=function(){T.call(this)};
x(ex,T);var fx=null;ex.prototype.getSource=function(){return V(this,1)};
ex.prototype.getName=function(){return V(this,2)};
ex.prototype.setName=function(a){W(this,2,a)};
var gx=function(){T.call(this)};
x(gx,T);var hx=null;gx.prototype.getClientType=function(){return V(this,1)};
gx.prototype.setClientType=function(a){W(this,1,a)};
gx.prototype.getClientName=function(){return V(this,2)};
var ix=function(){T.call(this)};
x(ix,T);var jx=null;g=ix.prototype;g.getObjectId=function(){return V(this,1)};
g.setObjectId=function(a){W(this,1,a)};
g.getVersion=function(){return V(this,3)};
g.setVersion=function(a){W(this,3,a)};
g.getPayload=function(){return V(this,4)};
var kx=function(){T.call(this)};
x(kx,T);var lx=null;kx.prototype.getObjectId=function(){return V(this,1)};
kx.prototype.setObjectId=function(a){W(this,1,a)};
var mx={REGISTER:1,UNREGISTER:2},nx=function(){T.call(this)};
x(nx,T);var ox=null,px=function(){T.call(this)};
x(px,T);var qx=null;g=px.prototype;g.getProtocolVersion=function(){return V(this,1)};
g.setProtocolVersion=function(a){W(this,1,a)};
g.getClientToken=function(){return V(this,2)};
g.setClientToken=function(a){W(this,2,a)};
g.hasClientToken=function(){return U(this,2)};
g.getRegistrationSummary=function(){return V(this,3)};
g.setRegistrationSummary=function(a){W(this,3,a)};
g.setClientTimeMs=function(a){W(this,4,a)};
g.setMaxKnownServerTimeMs=function(a){W(this,5,a)};
g.getMessageId=function(){return V(this,6)};
g.setMessageId=function(a){W(this,6,a)};
g.getClientType=function(){return V(this,7)};
g.setClientType=function(a){W(this,7,a)};
var rx=function(){T.call(this)};
x(rx,T);var sx=null;rx.prototype.setHeader=function(a){W(this,1,a)};
rx.prototype.setInitializeMessage=function(a){W(this,2,a)};
rx.prototype.setInfoMessage=function(a){W(this,6,a)};
var tx=function(){T.call(this)};
x(tx,T);var ux=null;tx.prototype.getClientType=function(){return V(this,1)};
tx.prototype.setClientType=function(a){W(this,1,a)};
var vx={BYTE_BASED:1,NUMBER_BASED:2},wx=function(){T.call(this)};
x(wx,T);var xx=null;wx.prototype.getRegistration=function(a){return V(this,1,a)};
wx.prototype.addRegistration=function(a){zq(this,1,a)};
var yx=function(){T.call(this)};
x(yx,T);var zx=null,Ax=function(){T.call(this)};
x(Ax,T);var Bx=null,Cx=function(){T.call(this)};
x(Cx,T);var Dx=null;Cx.prototype.setClientVersion=function(a){W(this,1,a)};
Cx.prototype.getClientConfig=function(){return V(this,5)};
Cx.prototype.setClientConfig=function(a){W(this,5,a)};
var Ex=function(){T.call(this)};
x(Ex,T);var Fx=null;Ex.prototype.getName=function(){return V(this,1)};
Ex.prototype.setName=function(a){W(this,1,a)};
Ex.prototype.getValue=function(){return V(this,2)};
Ex.prototype.setValue=function(a){W(this,2,a)};
var Gx=function(){T.call(this)};
x(Gx,T);var Hx=null;g=Gx.prototype;g.getProtocolVersion=function(){return V(this,1)};
g.setProtocolVersion=function(a){W(this,1,a)};
g.getClientToken=function(){return V(this,2)};
g.setClientToken=function(a){W(this,2,a)};
g.hasClientToken=function(){return U(this,2)};
g.getRegistrationSummary=function(){return V(this,3)};
g.setRegistrationSummary=function(a){W(this,3,a)};
g.getMessageId=function(){return V(this,5)};
g.setMessageId=function(a){W(this,5,a)};
var Ix=function(){T.call(this)};
x(Ix,T);var Jx=null;Ix.prototype.setHeader=function(a){W(this,1,a)};
Ix.prototype.getErrorMessage=function(){return V(this,8)};
var Kx=function(){T.call(this)};
x(Kx,T);var Lx=null,Mx=function(){T.call(this)};
x(Mx,T);var Nx=null;Mx.prototype.getRegistration=function(){return V(this,1)};
Mx.prototype.getStatus=function(){return V(this,2)};
Mx.prototype.hasStatus=function(){return U(this,2)};
var Ox=function(){T.call(this)};
x(Ox,T);var Px=null,Qx=function(){T.call(this)};
x(Qx,T);var Rx=null,Sx=function(){T.call(this)};
x(Sx,T);var Tx=null;Sx.prototype.getInvalidation=function(a){return V(this,1,a)};
var Ux=function(){T.call(this)};
x(Ux,T);var Vx=null,Wx={GET_PERFORMANCE_COUNTERS:1},Xx=function(){T.call(this)};
x(Xx,T);var Yx=null;Xx.prototype.getCount=function(){return V(this,2)};
var Zx=function(){T.call(this)};
x(Zx,T);var $x=null,ay=function(){T.call(this)};
x(ay,T);var by=null;ay.prototype.getVersion=function(){return V(this,1)};
ay.prototype.setVersion=function(a){W(this,1,a)};
ay.prototype.getAllowSuppression=function(){return V(this,13)};
ay.prototype.setAllowSuppression=function(a){W(this,13,a)};
var cy=function(){T.call(this)};
x(cy,T);var dy=null,ey=function(){T.call(this)};
x(ey,T);var fy=null;ey.prototype.getCode=function(){return V(this,1)};
ey.prototype.setDescription=function(a){W(this,2,a)};
var gy={AUTH_FAILURE:1,UNKNOWN_FAILURE:1E4};Ww.prototype.getDescriptor=function(){var a=Xw;a||(Xw=a=X(Ww,{0:{name:"Version",fullName:"ipc.invalidation.Version"},1:{name:"major_version",fieldType:5,type:Number},2:{name:"minor_version",fieldType:5,type:Number}}));return a};
Ww.getDescriptor=Ww.prototype.getDescriptor;Yw.prototype.getDescriptor=function(){var a=Zw;a||(Zw=a=X(Yw,{0:{name:"ProtocolVersion",fullName:"ipc.invalidation.ProtocolVersion"},1:{name:"version",fieldType:11,type:Ww}}));return a};
Yw.getDescriptor=Yw.prototype.getDescriptor;$w.prototype.getDescriptor=function(){var a=ax;a||(ax=a=X($w,{0:{name:"ClientVersion",fullName:"ipc.invalidation.ClientVersion"},1:{name:"version",fieldType:11,type:Ww},2:{name:"platform",fieldType:9,type:String},3:{name:"language",fieldType:9,type:String},4:{name:"application_info",fieldType:9,type:String}}));return a};
$w.getDescriptor=$w.prototype.getDescriptor;bx.prototype.getDescriptor=function(){var a=cx;a||(cx=a=X(bx,{0:{name:"StatusP",fullName:"ipc.invalidation.StatusP"},1:{name:"code",fieldType:14,defaultValue:1,type:dx},2:{name:"description",fieldType:9,type:String}}));return a};
bx.getDescriptor=bx.prototype.getDescriptor;ex.prototype.getDescriptor=function(){var a=fx;a||(fx=a=X(ex,{0:{name:"ObjectIdP",fullName:"ipc.invalidation.ObjectIdP"},1:{name:"source",fieldType:5,type:Number},2:{name:"name",fieldType:12,type:String}}));return a};
ex.getDescriptor=ex.prototype.getDescriptor;gx.prototype.getDescriptor=function(){var a=hx;a||(hx=a=X(gx,{0:{name:"ApplicationClientIdP",fullName:"ipc.invalidation.ApplicationClientIdP"},1:{name:"client_type",fieldType:5,type:Number},2:{name:"client_name",fieldType:12,type:String}}));return a};
gx.getDescriptor=gx.prototype.getDescriptor;ix.prototype.getDescriptor=function(){var a=jx;a||(jx=a=X(ix,{0:{name:"InvalidationP",fullName:"ipc.invalidation.InvalidationP"},1:{name:"object_id",fieldType:11,type:ex},2:{name:"is_known_version",fieldType:8,type:Boolean},3:{name:"version",fieldType:3,type:String},6:{name:"is_trickle_restart",fieldType:8,defaultValue:!0,type:Boolean},4:{name:"payload",fieldType:12,type:String}}));return a};
ix.getDescriptor=ix.prototype.getDescriptor;kx.prototype.getDescriptor=function(){var a=lx;a||(lx=a=X(kx,{0:{name:"RegistrationP",fullName:"ipc.invalidation.RegistrationP"},1:{name:"object_id",fieldType:11,type:ex},2:{name:"op_type",fieldType:14,defaultValue:1,type:mx}}));return a};
kx.getDescriptor=kx.prototype.getDescriptor;nx.prototype.getDescriptor=function(){var a=ox;a||(ox=a=X(nx,{0:{name:"RegistrationSummary",fullName:"ipc.invalidation.RegistrationSummary"},1:{name:"num_registrations",fieldType:5,type:Number},2:{name:"registration_digest",fieldType:12,type:String}}));return a};
nx.getDescriptor=nx.prototype.getDescriptor;
px.prototype.getDescriptor=function(){var a=qx;a||(qx=a=X(px,{0:{name:"ClientHeader",fullName:"ipc.invalidation.ClientHeader"},1:{name:"protocol_version",fieldType:11,type:Yw},2:{name:"client_token",fieldType:12,type:String},3:{name:"registration_summary",fieldType:11,type:nx},4:{name:"client_time_ms",fieldType:3,type:Number},5:{name:"max_known_server_time_ms",fieldType:3,type:Number},6:{name:"message_id",fieldType:9,type:String},7:{name:"client_type",fieldType:5,type:Number}}));return a};
px.getDescriptor=px.prototype.getDescriptor;rx.prototype.getDescriptor=function(){var a=sx;a||(sx=a=X(rx,{0:{name:"ClientToServerMessage",fullName:"ipc.invalidation.ClientToServerMessage"},1:{name:"header",fieldType:11,type:px},2:{name:"initialize_message",fieldType:11,type:tx},3:{name:"registration_message",fieldType:11,type:wx},4:{name:"registration_sync_message",fieldType:11,type:yx},5:{name:"invalidation_ack_message",fieldType:11,type:Sx},6:{name:"info_message",fieldType:11,type:Cx}}));return a};
rx.getDescriptor=rx.prototype.getDescriptor;tx.prototype.getDescriptor=function(){var a=ux;a||(ux=a=X(tx,{0:{name:"InitializeMessage",fullName:"ipc.invalidation.InitializeMessage"},1:{name:"client_type",fieldType:5,type:Number},2:{name:"nonce",fieldType:12,type:String},3:{name:"application_client_id",fieldType:11,type:gx},4:{name:"digest_serialization_type",fieldType:14,defaultValue:1,type:vx}}));return a};
tx.getDescriptor=tx.prototype.getDescriptor;wx.prototype.getDescriptor=function(){var a=xx;a||(xx=a=X(wx,{0:{name:"RegistrationMessage",fullName:"ipc.invalidation.RegistrationMessage"},1:{name:"registration",repeated:!0,fieldType:11,type:kx}}));return a};
wx.getDescriptor=wx.prototype.getDescriptor;yx.prototype.getDescriptor=function(){var a=zx;a||(zx=a=X(yx,{0:{name:"RegistrationSyncMessage",fullName:"ipc.invalidation.RegistrationSyncMessage"},1:{name:"subtree",repeated:!0,fieldType:11,type:Ax}}));return a};
yx.getDescriptor=yx.prototype.getDescriptor;Ax.prototype.getDescriptor=function(){var a=Bx;a||(Bx=a=X(Ax,{0:{name:"RegistrationSubtree",fullName:"ipc.invalidation.RegistrationSubtree"},1:{name:"registered_object",repeated:!0,fieldType:11,type:ex}}));return a};
Ax.getDescriptor=Ax.prototype.getDescriptor;Cx.prototype.getDescriptor=function(){var a=Dx;a||(Dx=a=X(Cx,{0:{name:"InfoMessage",fullName:"ipc.invalidation.InfoMessage"},1:{name:"client_version",fieldType:11,type:$w},2:{name:"config_parameter",repeated:!0,fieldType:11,type:Ex},3:{name:"performance_counter",repeated:!0,fieldType:11,type:Ex},4:{name:"server_registration_summary_requested",fieldType:8,type:Boolean},5:{name:"client_config",fieldType:11,type:ay}}));return a};
Cx.getDescriptor=Cx.prototype.getDescriptor;Ex.prototype.getDescriptor=function(){var a=Fx;a||(Fx=a=X(Ex,{0:{name:"PropertyRecord",fullName:"ipc.invalidation.PropertyRecord"},1:{name:"name",fieldType:9,type:String},2:{name:"value",fieldType:5,type:Number}}));return a};
Ex.getDescriptor=Ex.prototype.getDescriptor;Gx.prototype.getDescriptor=function(){var a=Hx;a||(Hx=a=X(Gx,{0:{name:"ServerHeader",fullName:"ipc.invalidation.ServerHeader"},1:{name:"protocol_version",fieldType:11,type:Yw},2:{name:"client_token",fieldType:12,type:String},3:{name:"registration_summary",fieldType:11,type:nx},4:{name:"server_time_ms",fieldType:3,type:Number},5:{name:"message_id",fieldType:9,type:String}}));return a};
Gx.getDescriptor=Gx.prototype.getDescriptor;
Ix.prototype.getDescriptor=function(){var a=Jx;a||(Jx=a=X(Ix,{0:{name:"ServerToClientMessage",fullName:"ipc.invalidation.ServerToClientMessage"},1:{name:"header",fieldType:11,type:Gx},2:{name:"token_control_message",fieldType:11,type:Kx},3:{name:"invalidation_message",fieldType:11,type:Sx},4:{name:"registration_status_message",fieldType:11,type:Ox},5:{name:"registration_sync_request_message",fieldType:11,type:Qx},6:{name:"config_change_message",fieldType:11,type:cy},7:{name:"info_request_message",
fieldType:11,type:Ux},8:{name:"error_message",fieldType:11,type:ey}}));return a};
Ix.getDescriptor=Ix.prototype.getDescriptor;Kx.prototype.getDescriptor=function(){var a=Lx;a||(Lx=a=X(Kx,{0:{name:"TokenControlMessage",fullName:"ipc.invalidation.TokenControlMessage"},1:{name:"new_token",fieldType:12,type:String}}));return a};
Kx.getDescriptor=Kx.prototype.getDescriptor;Mx.prototype.getDescriptor=function(){var a=Nx;a||(Nx=a=X(Mx,{0:{name:"RegistrationStatus",fullName:"ipc.invalidation.RegistrationStatus"},1:{name:"registration",fieldType:11,type:kx},2:{name:"status",fieldType:11,type:bx}}));return a};
Mx.getDescriptor=Mx.prototype.getDescriptor;Ox.prototype.getDescriptor=function(){var a=Px;a||(Px=a=X(Ox,{0:{name:"RegistrationStatusMessage",fullName:"ipc.invalidation.RegistrationStatusMessage"},1:{name:"registration_status",repeated:!0,fieldType:11,type:Mx}}));return a};
Ox.getDescriptor=Ox.prototype.getDescriptor;Qx.prototype.getDescriptor=function(){var a=Rx;a||(Rx=a=X(Qx,{0:{name:"RegistrationSyncRequestMessage",fullName:"ipc.invalidation.RegistrationSyncRequestMessage"}}));return a};
Qx.getDescriptor=Qx.prototype.getDescriptor;Sx.prototype.getDescriptor=function(){var a=Tx;a||(Tx=a=X(Sx,{0:{name:"InvalidationMessage",fullName:"ipc.invalidation.InvalidationMessage"},1:{name:"invalidation",repeated:!0,fieldType:11,type:ix}}));return a};
Sx.getDescriptor=Sx.prototype.getDescriptor;Ux.prototype.getDescriptor=function(){var a=Vx;a||(Vx=a=X(Ux,{0:{name:"InfoRequestMessage",fullName:"ipc.invalidation.InfoRequestMessage"},1:{name:"info_type",repeated:!0,fieldType:14,defaultValue:1,type:Wx}}));return a};
Ux.getDescriptor=Ux.prototype.getDescriptor;Xx.prototype.getDescriptor=function(){var a=Yx;a||(Yx=a=X(Xx,{0:{name:"RateLimitP",fullName:"ipc.invalidation.RateLimitP"},1:{name:"window_ms",fieldType:5,type:Number},2:{name:"count",fieldType:5,type:Number}}));return a};
Xx.getDescriptor=Xx.prototype.getDescriptor;Zx.prototype.getDescriptor=function(){var a=$x;a||($x=a=X(Zx,{0:{name:"ProtocolHandlerConfigP",fullName:"ipc.invalidation.ProtocolHandlerConfigP"},1:{name:"batching_delay_ms",fieldType:5,defaultValue:500,type:Number},2:{name:"rate_limit",repeated:!0,fieldType:11,type:Xx}}));return a};
Zx.getDescriptor=Zx.prototype.getDescriptor;
ay.prototype.getDescriptor=function(){var a=by;a||(by=a=X(ay,{0:{name:"ClientConfigP",fullName:"ipc.invalidation.ClientConfigP"},1:{name:"version",fieldType:11,type:Ww},2:{name:"network_timeout_delay_ms",fieldType:5,defaultValue:6E4,type:Number},3:{name:"write_retry_delay_ms",fieldType:5,defaultValue:1E4,type:Number},4:{name:"heartbeat_interval_ms",fieldType:5,defaultValue:12E5,type:Number},5:{name:"perf_counter_delay_ms",fieldType:5,defaultValue:216E5,type:Number},6:{name:"max_exponential_backoff_factor",
fieldType:5,defaultValue:500,type:Number},7:{name:"smear_percent",fieldType:5,defaultValue:20,type:Number},8:{name:"is_transient",fieldType:8,defaultValue:!1,type:Boolean},9:{name:"initial_persistent_heartbeat_delay_ms",fieldType:5,defaultValue:2E3,type:Number},10:{name:"protocol_handler_config",fieldType:11,type:Zx},11:{name:"channel_supports_offline_delivery",fieldType:8,defaultValue:!1,type:Boolean},12:{name:"offline_heartbeat_threshold_ms",fieldType:5,defaultValue:6E4,type:Number},13:{name:"allow_suppression",
fieldType:8,defaultValue:!0,type:Boolean}}));return a};
ay.getDescriptor=ay.prototype.getDescriptor;cy.prototype.getDescriptor=function(){var a=dy;a||(dy=a=X(cy,{0:{name:"ConfigChangeMessage",fullName:"ipc.invalidation.ConfigChangeMessage"},1:{name:"next_message_delay_ms",fieldType:3,type:Number}}));return a};
cy.getDescriptor=cy.prototype.getDescriptor;ey.prototype.getDescriptor=function(){var a=fy;a||(fy=a=X(ey,{0:{name:"ErrorMessage",fullName:"ipc.invalidation.ErrorMessage"},1:{name:"code",fieldType:14,defaultValue:1,type:gy},2:{name:"description",fieldType:9,type:String}}));return a};
ey.getDescriptor=ey.prototype.getDescriptor;var hy=function(a,b){this.low_=a|0;this.high_=b|0},iy={},jy={},ky=function(a){return he(iy,a,function(a){return new hy(a,0>a?-1:0)})},py=function(a){return isNaN(a)?ky(0):a<=-ly?my():a+1>=ly?ny():0>a?oy(py(-a)):new hy(a%4294967296|0,a/4294967296|0)},qy=function(a,b){return new hy(a,b)},ry=function(a,b){if(0==a.length)throw Error("number format error: empty string");
b=b||10;if(2>b||36<b)throw Error("radix out of range: "+b);if("-"==a.charAt(0))return oy(ry(a.substring(1),b));if(0<=a.indexOf("-"))throw Error('number format error: interior "-" character: '+a);for(var c=py(Math.pow(b,8)),d=ky(0),e=0;e<a.length;e+=8){var f=Math.min(8,a.length-e),h=parseInt(a.substring(e,e+f),b);8>f?(f=py(Math.pow(b,f)),d=d.multiply(f).add(py(h))):(d=d.multiply(c),d=d.add(py(h)))}return d},ly=4294967296*4294967296/2,ny=function(){return he(jy,1,function(){return qy(-1,2147483647)})},
my=function(){return he(jy,2,function(){return qy(0,-2147483648)})},sy=function(){return he(jy,6,function(){return new hy(16777216,0)})};
hy.prototype.toString=function(a){a=a||10;if(2>a||36<a)throw Error("radix out of range: "+a);if(ty(this))return"0";if(0>this.high_){if(this.equals(my())){var b=py(a);var c=uy(this,b);b=vy(c.multiply(b),this);return c.toString(a)+b.low_.toString(a)}return"-"+oy(this).toString(a)}c=py(Math.pow(a,6));b=this;for(var d="";;){var e=uy(b,c),f=(vy(b,e.multiply(c)).low_>>>0).toString(a);b=e;if(ty(b))return f+d;for(;6>f.length;)f="0"+f;d=""+f+d}};
var wy=function(a){return 0<=a.low_?a.low_:4294967296+a.low_},ty=function(a){return 0==a.high_&&0==a.low_};
hy.prototype.equals=function(a){return this.high_==a.high_&&this.low_==a.low_};
hy.prototype.compare=function(a){if(this.equals(a))return 0;var b=0>this.high_,c=0>a.high_;return b&&!c?-1:!b&&c?1:0>vy(this,a).high_?-1:1};
var oy=function(a){return a.equals(my())?my():a.not().add(ky(1))};
hy.prototype.add=function(a){var b=this.high_>>>16,c=this.high_&65535,d=this.low_>>>16,e=a.high_>>>16,f=a.high_&65535,h=a.low_>>>16;a=0+((this.low_&65535)+(a.low_&65535));h=0+(a>>>16)+(d+h);d=0+(h>>>16);d+=c+f;b=0+(d>>>16)+(b+e)&65535;return qy((h&65535)<<16|a&65535,b<<16|d&65535)};
var vy=function(a,b){return a.add(oy(b))};
hy.prototype.multiply=function(a){if(ty(this)||ty(a))return ky(0);if(this.equals(my()))return 1==(a.low_&1)?my():ky(0);if(a.equals(my()))return 1==(this.low_&1)?my():ky(0);if(0>this.high_)return 0>a.high_?oy(this).multiply(oy(a)):oy(oy(this).multiply(a));if(0>a.high_)return oy(this.multiply(oy(a)));if(0>this.compare(sy())&&0>a.compare(sy()))return py((4294967296*this.high_+wy(this))*(4294967296*a.high_+wy(a)));var b=this.high_>>>16,c=this.high_&65535,d=this.low_>>>16,e=this.low_&65535,f=a.high_>>>
16,h=a.high_&65535,k=a.low_>>>16;a=a.low_&65535;var l=0+e*a;var m=0+(l>>>16)+d*a;var t=0+(m>>>16);m=(m&65535)+e*k;t+=m>>>16;t+=c*a;var H=0+(t>>>16);t=(t&65535)+d*k;H+=t>>>16;t=(t&65535)+e*h;H=H+(t>>>16)+(b*a+c*k+d*h+e*f)&65535;return qy((m&65535)<<16|l&65535,H<<16|t&65535)};
var uy=function(a,b){if(ty(b))throw Error("division by zero");if(ty(a))return ky(0);if(a.equals(my())){if(b.equals(ky(1))||b.equals(ky(-1)))return my();if(b.equals(my()))return ky(1);var c=1;if(0==c)c=a;else{var d=a.high_;c=32>c?qy(a.low_>>>c|d<<32-c,d>>c):qy(d>>c-32,0<=d?0:-1)}c=uy(c,b).shiftLeft(1);if(c.equals(ky(0)))return 0>b.high_?ky(1):ky(-1);a=vy(a,b.multiply(c));return c.add(uy(a,b))}if(b.equals(my()))return ky(0);if(0>a.high_)return 0>b.high_?uy(oy(a),oy(b)):oy(uy(oy(a),b));if(0>b.high_)return oy(uy(a,
oy(b)));for(d=ky(0);0<=a.compare(b);){c=Math.max(1,Math.floor((4294967296*a.high_+wy(a))/(4294967296*b.high_+wy(b))));for(var e=Math.ceil(Math.log(c)/Math.LN2),e=48>=e?1:Math.pow(2,e-48),f=py(c),h=f.multiply(b);0>h.high_||0<h.compare(a);)c-=e,f=py(c),h=f.multiply(b);ty(f)&&(f=ky(1));d=d.add(f);a=vy(a,h)}return d};
hy.prototype.not=function(){return qy(~this.low_,~this.high_)};
hy.prototype.and=function(a){return qy(this.low_&a.low_,this.high_&a.high_)};
hy.prototype.or=function(a){return qy(this.low_|a.low_,this.high_|a.high_)};
hy.prototype.shiftLeft=function(a){a&=63;if(0==a)return this;var b=this.low_;return 32>a?qy(b<<a,this.high_<<a|b>>>32-a):qy(0,b<<a-32)};var xy=function(){this.highestAckedVersionMap_=new cd},yy=function(a){return a.getSource().toString()+":"+a.getName()};var zy=function(){T.call(this)};
x(zy,T);var Ay=null;zy.prototype.getInvalidation=function(){return V(this,1)};
var By=function(){T.call(this)};
x(By,T);var Cy=null;By.prototype.getClientToken=function(){return V(this,1)};
By.prototype.setClientToken=function(a){W(this,1,a)};
By.prototype.hasClientToken=function(){return U(this,1)};
var Dy=function(){T.call(this)};
x(Dy,T);var Ey=null;zy.prototype.getDescriptor=function(){var a=Ay;a||(Ay=a=X(zy,{0:{name:"AckHandleP",fullName:"ipc.invalidation.AckHandleP"},1:{name:"invalidation",fieldType:11,type:ix}}));return a};
zy.getDescriptor=zy.prototype.getDescriptor;By.prototype.getDescriptor=function(){var a=Cy;a||(Cy=a=X(By,{0:{name:"PersistentTiclState",fullName:"ipc.invalidation.PersistentTiclState"},1:{name:"client_token",fieldType:12,type:String},2:{name:"last_message_send_time_ms",fieldType:3,defaultValue:"0",type:String}}));return a};
By.getDescriptor=By.prototype.getDescriptor;Dy.prototype.getDescriptor=function(){var a=Ey;a||(Ey=a=X(Dy,{0:{name:"PersistentStateBlob",fullName:"ipc.invalidation.PersistentStateBlob"},1:{name:"ticl_state",fieldType:11,type:By},2:{name:"authentication_code",fieldType:12,type:String}}));return a};
Dy.getDescriptor=Dy.prototype.getDescriptor;var Fy=function(){this.currentState_=1};
Fy.prototype.start=function(){this.currentState_=2};
Fy.prototype.stop=function(){this.currentState_=3};
Fy.prototype.isStarted=function(){return 2==this.currentState_};
Fy.prototype.isStopped=function(){return 3==this.currentState_};var Gy=function(a,b){this.name_=a;this.operation_=b};
Gy.prototype.getName=function(){return this.name_};
Gy.prototype.run=function(){this.operation_()};
Gy.prototype.toString=function(){return this.name_};var Hy=function(a,b){null!=a&&this.append.apply(this,arguments)};
g=Hy.prototype;g.buffer_="";g.set=function(a){this.buffer_=""+a};
g.append=function(a,b,c){this.buffer_+=String(a);if(null!=b)for(var d=1;d<arguments.length;d++)this.buffer_+=arguments[d];return this};
g.clear=function(){this.buffer_=""};
g.toString=function(){return this.buffer_};var Iy=function(){};
Iy.prototype.toString=function(){var a=new Hy,b=!0,c;for(c in this){var d=this[c];ua(d)||(b||a.append(", "),b=!1,a.append(c+" = "+d))}return a.toString()};var Jy=function(a,b){this.source_=a;this.name_=b;for(a=0;a<b.length;a++);};
x(Jy,Iy);q("invalidation.Types.ObjectId",Jy,void 0);Jy.prototype.getSource=function(){return this.source_};
Jy.prototype.getSource=Jy.prototype.getSource;Jy.prototype.getName=function(){return this.name_};
Jy.prototype.getName=Jy.prototype.getName;Jy.prototype.equals=function(a){return this==a?!0:this.source_==a.source_&&this.name_==a.name_};
var Ky=function(a,b,c,d){this.objectId_=a;this.version_=b;this.payload_=c||null;this.isTrickleRestart_=void 0!==d?d:!0};
x(Ky,Iy);q("invalidation.Types.Invalidation",Ky,void 0);Ky.prototype.getObjectId=function(){return this.objectId_};
Ky.prototype.getObjectId=Ky.prototype.getObjectId;Ky.prototype.getVersion=function(){return this.version_};
Ky.prototype.getVersion=Ky.prototype.getVersion;Ky.prototype.getIsTrickleRestartForInternalUse=function(){return this.isTrickleRestart_};
Ky.prototype.getIsTrickleRestartForInternalUse=Ky.prototype.getIsTrickleRestartForInternalUse;Ky.prototype.getPayload=function(){return this.payload_};
Ky.prototype.getPayload=Ky.prototype.getPayload;var Ly=function(a,b){this.code_=a;this.message_=b};
x(Ly,Iy);q("invalidation.Types.Status",Ly,void 0);var My=function(){return new Ly(0,"")};
q("invalidation.Types.newSuccessStatus",My,void 0);q("invalidation.Types.newTransientFailureStatus",function(a){return new Ly(1,a)},void 0);
var Ny=function(a){return new Ly(2,a)};
q("invalidation.Types.newPermanentFailureStatus",Ny,void 0);Ly.prototype.getCode=function(){return this.code_};
Ly.prototype.getCode=Ly.prototype.getCode;Ly.prototype.getMessage=function(){return this.message_};
Ly.prototype.getMessage=Ly.prototype.getMessage;Ly.prototype.isSuccess=function(){return 0==this.code_};
Ly.Code={SUCCESS:0,TRANSIENT_FAILURE:1,PERMANENT_FAILURE:2};var Oy=function(a,b,c,d){this.errorReason_=a;this.isTransient_=b;this.errorMessage_=c;this.context_=d};
x(Oy,Iy);q("invalidation.Types.ErrorInfo",Oy,void 0);Oy.prototype.getErrorReason=function(){return this.errorReason_};
Oy.prototype.getErrorReason=Oy.prototype.getErrorReason;Oy.prototype.isTransient=function(){return this.isTransient_};
Oy.prototype.isTransient=Oy.prototype.isTransient;Oy.prototype.getErrorMessage=function(){return this.errorMessage_||"(no description)"};
Oy.prototype.getErrorMessage=Oy.prototype.getErrorMessage;Oy.prototype.getContext=function(){return this.context_};
Oy.prototype.getContext=Oy.prototype.getContext;q("invalidation.Types.ErrorContext",function(){},void 0);
Oy.ErrorReason={AUTH_FAILURE:1,UNKNOWN_FAILURE:-1};var Py=function(a){this.clientName_=a};
x(Py,Iy);q("invalidation.Types.ApplicationClientId",Py,void 0);Py.prototype.getClientName=function(){return this.clientName_};
Py.prototype.getClientName=Py.prototype.getClientName;var Qy=function(a){this.handleData_=a};
x(Qy,Iy);q("invalidation.Types.AckHandle",Qy,void 0);Qy.prototype.getHandleData=function(){return this.handleData_};
Qy.prototype.getHandleData=Qy.prototype.getHandleData;Qy.prototype.equals=function(a){return a instanceof Qy&&this.handleData_===a.handleData_};
Qy.prototype.equals=Qy.prototype.equals;var Ry=function(){};
q("invalidation.SystemResources",Ry,void 0);Ry.prototype.start=Ry.prototype.start;Ry.prototype.stop=Ry.prototype.stop;Ry.prototype.isStarted=Ry.prototype.isStarted;Ry.prototype.getPlatform=Ry.prototype.getPlatform;Ry.prototype.getLogger=Ry.prototype.getLogger;Ry.prototype.getStorage=Ry.prototype.getStorage;Ry.prototype.getNetwork=Ry.prototype.getNetwork;Ry.prototype.getInternalScheduler=Ry.prototype.getInternalScheduler;Ry.prototype.getListenerScheduler=Ry.prototype.getListenerScheduler;
Ry.ResourceComponent=function(){};
var Sy=function(){};
Ry.Logger=Sy;Sy.prototype.severe=Sy.prototype.severe;Sy.prototype.warning=Sy.prototype.warning;Sy.prototype.info=Sy.prototype.info;Sy.prototype.fine=Sy.prototype.fine;Sy.prototype.isLoggable=Sy.prototype.isLoggable;var Ty=function(){};
Ry.Scheduler=Ty;Ty.prototype.schedule=Ty.prototype.schedule;Ty.prototype.getCurrentTimeMs=Ty.prototype.getCurrentTimeMs;var Uy=function(){};
Ry.NetworkChannel=Uy;Uy.prototype.sendMessage=Uy.prototype.sendMessage;Uy.prototype.setMessageReceiver=Uy.prototype.setMessageReceiver;Uy.prototype.addNetworkStatusReceiver=Uy.prototype.addNetworkStatusReceiver;var Vy=function(){};
Ry.Storage=Vy;Vy.prototype.writeKey=Vy.prototype.writeKey;Vy.prototype.readKey=Vy.prototype.readKey;Vy.prototype.deleteKey=Vy.prototype.deleteKey;Vy.prototype.readAllKeys=Vy.prototype.readAllKeys;var Wy=function(a,b,c,d,e){this.internalScheduler_=b;this.listenerScheduler_=c;this.logger_=a;this.network_=d;this.storage_=e;this.runState_=new Fy;this.internalScheduler_.setSystemResources(this);this.listenerScheduler_.setSystemResources(this);this.logger_&&this.logger_.setSystemResources(this);this.network_.setSystemResources(this);this.storage_.setSystemResources(this)};
g=Wy.prototype;g.start=function(){this.runState_.start()};
g.stop=function(){this.runState_.stop();this.network_.stop()};
g.isStarted=function(){return this.runState_.isStarted()};
g.getPlatform=function(){return Ut};
g.getLogger=function(){return this.logger_};
g.getStorage=function(){return this.storage_};
g.getNetwork=function(){return this.network_};
g.getInternalScheduler=function(){return this.internalScheduler_};
g.getListenerScheduler=function(){return this.listenerScheduler_};var Xy=new Yw,Yy=new Ww;Yy.setMajorVersion(3);Yy.setMinorVersion(2);Xy.setVersion(Yy);var Zy=new Ww;Zy.setMajorVersion(3);Zy.setMinorVersion(2);var $y=new Ww;$y.setMajorVersion(3);$y.setMinorVersion(20150820);var az=new ex;az.setName("");W(az,1,1);var bz={PROTOBUF_BINARY_FORMAT:1,PROTOBUF_JSON_FORMAT:2},cz=function(){T.call(this)};
x(cz,T);var dz=null,ez={TEST:1,BUZZ:111,STUBBY:112,ANDROID:113,LCS:114,TIPS_GCM:115,PROBER:116,TIPS_GCM_STAGING:117,TIPS_GCM_DEV:118};cz.prototype.getDescriptor=function(){var a=dz;a||(dz=a=X(cz,{0:{name:"NetworkEndpointId",fullName:"ipc.invalidation.NetworkEndpointId"},1:{name:"network_address",fieldType:14,defaultValue:1,type:ez},2:{name:"client_address",fieldType:12,type:String},3:{name:"is_offline",fieldType:8,type:Boolean}}));return a};
cz.getDescriptor=cz.prototype.getDescriptor;var fz=function(){T.call(this)};
x(fz,T);var gz=null;fz.prototype.getProtocolVersion=function(){return V(this,5)};
fz.prototype.setProtocolVersion=function(a){W(this,5,a)};
var hz={CLIENT_TO_SERVER:1,SERVER_TO_CLIENT:2,DISCONNECT:3,TIPS_CLIENT_TO_SERVER:4,SERVER_TO_TIPS_CLIENT:5};
fz.prototype.getDescriptor=function(){var a=gz;a||(gz=a=X(fz,{0:{name:"ClientGatewayMessage",fullName:"ipc.invalidation.ClientGatewayMessage"},1:{name:"is_client_to_server",fieldType:8,type:Boolean},2:{name:"service_context",fieldType:12,type:String},3:{name:"rpc_scheduling_hash",fieldType:3,type:String},5:{name:"protocol_version",fieldType:11,type:Yw},6:{name:"message_type",fieldType:14,defaultValue:1,type:hz},7:{name:"encoding",fieldType:14,defaultValue:1,type:bz},8:{name:"client_endpoint_id",fieldType:11,
type:cz},9:{name:"service_endpoint_id",fieldType:12,type:String},4:{name:"network_message",fieldType:12,type:String},10:{name:"debug_info",fieldType:9,type:String}}));return a};
fz.getDescriptor=fz.prototype.getDescriptor;var iz=function(a,b){var c=new kx;c.setObjectId(a);W(c,2,b?1:2);return c},jz=function(a){var b=new By;
b.setClientToken(a);return b};q("invalidation.ConcurrentStore",function(){},void 0);
var kz=function(a,b){this.logger_=b;this.storeName_=a;this.uniqueId_=eb();this.lastRemoverStorage_=(this.storage_=Jo("google_notification_values_"+this.storeName_))?Jo("google_notification_remover_"+this.storeName_):null};
kz.prototype.add=function(a){if(null!=this.storage_&&!(10<=this.storage_.getCount())){var b=eb();null!=a?this.storage_.set(b,a):this.storage_.remove(b)}};
var lz=function(a){for(var b=null,c=5;null==b&&0<c--;){var d=a.storage_?bd(a.storage_.__iterator__(!0)):[];if(0==d.length)break;var b=a,d=d[Math.floor(Math.random()*d.length)],e=b,f=d,h=b.uniqueId_;h?e.lastRemoverStorage_.set(f,h):e.lastRemoverStorage_.remove(f);e=b.storage_.get(d);b.storage_.remove(d);b.lastRemoverStorage_.get(d)!=b.uniqueId_&&(e=null);b.lastRemoverStorage_.remove(d);b=e}return b};var mz=function(){this.logger_=this.resources_=null};
mz.prototype.getCurrentTimeMs=function(){return w()};
mz.prototype.schedule=function(a,b){var c=v(function(){this.resources_.isStarted()&&b.run()},this);
Si(c,a)};
mz.prototype.setSystemResources=function(a){this.resources_=a;this.logger_=this.resources_.logger_};
var nz=function(){this.logger_=null};
x(nz,Pq);nz.prototype.setSystemResources=function(){};
var oz=function(){this.logger_=this.internalScheduler_=null;this.persistentState_=new cd};
g=oz.prototype;g.setSystemResources=function(a){this.internalScheduler_=a.internalScheduler_;this.logger_=a.logger_};
g.writeKey=function(a,b,c){var d=v(function(){this.persistentState_.set(a,b);c(My())},this);
this.internalScheduler_.schedule(0,new Gy("writeKey",d))};
g.readKey=function(a,b){var c=v(function(){var c=this.persistentState_.get(a);c?b(My(),c):b(Ny("No value present in map for "+a),"")},this);
this.internalScheduler_.schedule(0,new Gy("readKey",c))};
g.deleteKey=function(a,b){var c=v(function(){this.persistentState_.remove(a);b(!0)},this);
this.internalScheduler_.schedule(0,new Gy("deleteKey",c))};
g.readAllKeys=function(a){var b=v(function(){for(var b=this.persistentState_.getKeys(),d=0;d<b.length;d++)a(My(),b[d])},this);
this.internalScheduler_.schedule(0,new Gy("readAllKeys",b))};q("invalidation.DigestFunction",function(){},void 0);
var pz=function(a){this.value_=a};
pz.prototype.serialize=function(){return Kj(this.value_)};
pz.prototype.equals=function(a){a:{var b=this.value_;a=a.value_;if(sa(b)&&sa(a)&&b.length==a.length){for(var c=b.length,d=0;d<c;d++)if(b[d]!==a[d]){b=!1;break a}b=!0}else b=!1}return b};
pz.prototype.toString=function(){return Oq("Digest: <%s, %s>",this.serialize(),this.value_.toString())};q("invalidation.DigestStore",function(){},void 0);var qz=function(){this.blockSize=-1};var rz=function(){this.blockSize=-1;this.blockSize=64;this.chain_=[];this.buf_=[];this.W_=[];this.pad_=[];this.pad_[0]=128;for(var a=1;a<this.blockSize;++a)this.pad_[a]=0;this.total_=this.inbuf_=0;this.reset()};
x(rz,qz);rz.prototype.reset=function(){this.chain_[0]=1732584193;this.chain_[1]=4023233417;this.chain_[2]=2562383102;this.chain_[3]=271733878;this.chain_[4]=3285377520;this.total_=this.inbuf_=0};
var sz=function(a,b,c){c||(c=0);var d=a.W_;if(u(b))for(var e=0;16>e;e++)d[e]=b.charCodeAt(c)<<24|b.charCodeAt(c+1)<<16|b.charCodeAt(c+2)<<8|b.charCodeAt(c+3),c+=4;else for(e=0;16>e;e++)d[e]=b[c]<<24|b[c+1]<<16|b[c+2]<<8|b[c+3],c+=4;for(e=16;80>e;e++){var f=d[e-3]^d[e-8]^d[e-14]^d[e-16];d[e]=(f<<1|f>>>31)&4294967295}b=a.chain_[0];c=a.chain_[1];for(var h=a.chain_[2],k=a.chain_[3],l=a.chain_[4],m,e=0;80>e;e++)40>e?20>e?(f=k^c&(h^k),m=1518500249):(f=c^h^k,m=1859775393):60>e?(f=c&h|k&(c|h),m=2400959708):
(f=c^h^k,m=3395469782),f=(b<<5|b>>>27)+f+l+m+d[e]&4294967295,l=k,k=h,h=(c<<30|c>>>2)&4294967295,c=b,b=f;a.chain_[0]=a.chain_[0]+b&4294967295;a.chain_[1]=a.chain_[1]+c&4294967295;a.chain_[2]=a.chain_[2]+h&4294967295;a.chain_[3]=a.chain_[3]+k&4294967295;a.chain_[4]=a.chain_[4]+l&4294967295};
rz.prototype.update=function(a,b){if(null!=a){p(b)||(b=a.length);for(var c=b-this.blockSize,d=0,e=this.buf_,f=this.inbuf_;d<b;){if(0==f)for(;d<=c;)sz(this,a,d),d+=this.blockSize;if(u(a))for(;d<b;){if(e[f]=a.charCodeAt(d),++f,++d,f==this.blockSize){sz(this,e);f=0;break}}else for(;d<b;)if(e[f]=a[d],++f,++d,f==this.blockSize){sz(this,e);f=0;break}}this.inbuf_=f;this.total_+=b}};
rz.prototype.digest=function(){var a=[],b=8*this.total_;56>this.inbuf_?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var c=this.blockSize-1;56<=c;c--)this.buf_[c]=b&255,b/=256;sz(this,this.buf_);for(c=b=0;5>c;c++)for(var d=24;0<=d;d-=8)a[b]=this.chain_[c]>>d&255,++b;return a};var tz=function(){this.sha1_=new rz};
tz.prototype.reset=function(){this.sha1_.reset()};
tz.prototype.update=function(a){this.sha1_.update(a)};
tz.prototype.getDigest=function(){var a=this.sha1_.digest();return new pz(a)};
var uz=function(a,b){b.reset();for(var c=[],d=a.getSource(),e=0;4>e;e++)c[e]=d&255,d>>=8;b.update(c);b.update(a.getName());return b.getDigest()};var wz=function(a,b){b=vz(a,b).serialize();var c=new Dy;W(c,1,a);W(c,2,b);return vr(c)},vz=function(a,b){b.reset();
b.update(vr(a));return b.getDigest()};var Dz=function(){this.sentMessageTypes_=new cd;this.receivedMessageTypes_=new cd;this.incomingOperationTypes_=new cd;this.listenerEventTypes_=new cd;this.clientErrorTypes_=new cd;xz(this.sentMessageTypes_,Qb(yz));xz(this.receivedMessageTypes_,Qb(zz));xz(this.incomingOperationTypes_,Qb(Az));xz(this.listenerEventTypes_,Qb(Bz));xz(this.clientErrorTypes_,Qb(Cz))},xz=function(a,b){for(var c=0;c<b.length;c++)a.set(b[c],0)},Fz=function(a,b){Ez(a.clientErrorTypes_,b)},Gz=function(a,b,c){for(var d=a.getKeys(),
e=0;e<d.length;e++){var f=d[e],h=a.get(f),f=c+"."+f;
0<h&&b.set(f,h)}},Ez=function(a,b){a.set(b,a.get(b)+1)},yz={INFO:"INFO",
INITIALIZE:"INITIALIZE",INVALIDATION_ACK:"INVALIDATION_ACK",REGISTRATION:"REGISTRATION",REGISTRATION_SYNC:"REGISTRATION_SYNC",TOTAL:"TOTAL"},zz={INFO_REQUEST:"INFO_REQUEST",INVALIDATION:"INVALIDATION",REGISTRATION_STATUS:"REGISTRATION_STATUS",REGISTRATION_SYNC_REQUEST:"REGISTRATION_SYNC_REQUEST",TOKEN_CONTROL:"TOKEN_CONTROL",ERROR:"ERROR",CONFIG_CHANGE:"CONFIG_CHANGE",STALE_INVALIDATION:"STALE_INVALIDATION",TOTAL:"TOTAL"},Az={ACKNOWLEDGE:"ACKNOWLEDGE",REGISTRATION:"REGISTRATION",UNREGISTRATION:"UNREGISTRATION"},
Bz={INFORM_ERROR:"INFORM_ERROR",INFORM_REGISTRATION_FAILURE:"INFORM_REGISTRATION_FAILURE",INFORM_REGISTRATION_STATUS:"INFORM_REGISTRATION_STATUS",INVALIDATE:"INVALIDATE",INVALIDATE_ALL:"INVALIDATE_ALL",INVALIDATE_UNKNOWN:"INVALIDATE_UNKNOWN",REISSUE_REGISTRATIONS:"REISSUE_REGISTRATIONS"},Cz={ACKNOWLEDGE_HANDLE_FAILURE:"ACKNOWLEDGE_HANDLE_FAILURE",INCOMING_MESSAGE_FAILURE:"INCOMING_MESSAGE_FAILURE",OUTGOING_MESSAGE_FAILURE:"OUTGOING_MESSAGE_FAILURE",PERSISTENT_DESERIALIZATION_FAILURE:"PERSISTENT_DESERIALIZATION_FAILURE",
PERSISTENT_READ_FAILURE:"PERSISTENT_READ_FAILURE",PERSISTENT_WRITE_FAILURE:"PERSISTENT_WRITE_FAILURE",PROTOCOL_VERSION_FAILURE:"PROTOCOL_VERSION_FAILURE",REGISTRATION_DISCREPANCY:"REGISTRATION_DISCREPANCY",NONCE_MISMATCH:"NONCE_MISMATCH",TOKEN_MISMATCH:"TOKEN_MISMATCH",TOKEN_MISSING_FAILURE:"TOKEN_MISSING_FAILURE",TOKEN_TRANSIENT_FAILURE:"TOKEN_TRANSIENT_FAILURE",NETWORK_DISCONNECTED:"NETWORK_DISCONNECTED"};var Hz=function(){var a=function(){return!0},b=v(this.required,this),c=v(function(a){return v(this.greaterOrEqualTo,this,a)},this),d=c(0),e=v(this.nonEmpty,this);
this.specifications_={Version:{major_version:[b,d],minor_version:[b,d]},ProtocolVersion:{version:[b]},ObjectIdP:{name:[b],source:[b,d]},InvalidationP:{object_id:[b],is_known_version:[b],version:[b,d],payload:[a],is_trickle_restart:[a]},RegistrationP:{object_id:[b],op_type:[b]},RegistrationSummary:{num_registrations:[b,d],registration_digest:[b,e]},InvalidationMessage:{invalidation:[b]},ClientHeader:{protocol_version:[b],client_token:[a,e],registration_summary:[a],client_time_ms:[b],max_known_server_time_ms:[b],
client_type:[a],message_id:[a]},ApplicationClientIdP:{client_type:[b],client_name:[b,e]},InitializeMessage:{client_type:[b],nonce:[b,e],digest_serialization_type:[b],application_client_id:[b]},RegistrationMessage:{registration:[b]},ClientVersion:{version:[b],platform:[b],language:[b],application_info:[b]},PropertyRecord:{name:[b],value:[b]},InfoMessage:{client_version:[b],config_parameter:[a],performance_counter:[a],client_config:[a],server_registration_summary_requested:[a]},ClientConfigP:{version:[b],
network_timeout_delay_ms:[a],write_retry_delay_ms:[a],heartbeat_interval_ms:[a],perf_counter_delay_ms:[a],max_exponential_backoff_factor:[a],smear_percent:[a],is_transient:[a],initial_persistent_heartbeat_delay_ms:[a],channel_supports_offline_delivery:[a],protocol_handler_config:[b],offline_heartbeat_threshold_ms:[a],allow_suppression:[a]},ProtocolHandlerConfigP:{batching_delay_ms:[a],rate_limit:[a]},RateLimitP:{window_ms:[b,c(1E3)],count:[b]},RegistrationSubtree:{registered_object:[a]},RegistrationSyncMessage:{subtree:[b]},
ClientToServerMessage:{header:[b],info_message:[a],initialize_message:[a],invalidation_ack_message:[a],registration_message:[a],registration_sync_message:[a]},ServerHeader:{protocol_version:[b],client_token:[b,e],registration_summary:[a],server_time_ms:[b,d],message_id:[a,e]},StatusP:{code:[b],description:[a]},TokenControlMessage:{new_token:[a]},ErrorMessage:{code:[b],description:[b]},RegistrationStatus:{registration:[b],status:[b]},RegistrationStatusMessage:{registration_status:[b]},RegistrationSyncRequestMessage:{},
InfoRequestMessage:{info_type:[b]},ConfigChangeMessage:{next_message_delay_ms:[a,c(1)]},ServerToClientMessage:{header:[b],token_control_message:[a],invalidation_message:[a],registration_status_message:[a],registration_sync_request_message:[a],config_change_message:[a],info_request_message:[a],error_message:[a]}}};
x(Hz,Bv);Hz.prototype.isClientMessageValid=function(a){if(!this.validate(a))return!1;var b=V(a,1).hasClientToken();return U(a,2)?!b:b};
Hz.prototype.isServerMessageValid=function(a){return this.validate(a)};var Jz=function(a,b,c,d,e,f,h,k){a=b.getPlatform()+"";c=new $w;c.setVersion($y);c.setPlatform(a);c.setLanguage("JS");c.setApplicationInfo(f);this.clientVersion_=c;this.internalScheduler=b.internalScheduler_;this.network_=b.network_;this.listener_=h;this.msgValidator_=k;this.messageId_=1;this.nextMessageSendTimeMs_=this.lastKnownServerTimeMs_=0;this.statistics_=d;this.batcher_=new Iz(b,d);this.clientType_=e},Iz=function(a,b){this.statistics_=b;
this.resources_=a;this.pendingRegistrations_=new cd;this.pendingAckedInvalidations_=new cd;this.pendingRegSubtrees_=new cd;this.pendingInfoMessage_=this.pendingInitializeMessage_=null};
Iz.prototype.setInitializeMessage=function(a){this.pendingInitializeMessage_=a};
Iz.prototype.setInfoMessage=function(a){this.pendingInfoMessage_=a};
Iz.prototype.addRegistration=function(a,b){b=iz(a,b);this.pendingRegistrations_.set(vr(a),b)};
var Kz=function(a,b){this.token=a;this.registrationSummary=b};
Kz.prototype.toString=function(){return Oq("Token: %s, Summary: %s",null==this.token?"null":this.token,this.registrationSummary.toString())};
var Lz=function(a){var b=V(a,1);this.header=new Kz(b.getClientToken(),U(b,3)?b.getRegistrationSummary():null);this.tokenControlMessage=U(a,2)?V(a,2):null;this.invalidationMessage=U(a,3)?V(a,3):null;this.registrationStatusMessage=U(a,4)?V(a,4):null;this.registrationSyncRequestMessage=U(a,5)?V(a,5):null;U(a,6)&&V(a,6);this.infoRequestMessage=U(a,7)?V(a,7):null;this.errorMessage=U(a,8)?a.getErrorMessage():null},Mz=function(a,b){b=a.deserializeMessage(b);
if(null==b)return null;if(!a.msgValidator_.isServerMessageValid(b))return Fz(a.statistics_,"INCOMING_MESSAGE_FAILURE"),null;var c=V(b,1);if(3!=V(c.getProtocolVersion().getVersion(),1))return Fz(a.statistics_,"PROTOCOL_VERSION_FAILURE"),null;if(U(b,6))return b=V(b,6),Ez(a.statistics_.receivedMessageTypes_,"CONFIG_CHANGE"),U(b,1)&&(a.nextMessageSendTimeMs_=a.internalScheduler.getCurrentTimeMs()+Dq(b,1)),null;a.lastKnownServerTimeMs_=Math.max(a.lastKnownServerTimeMs_,V(c,4));return new Lz(b)},Nz=function(a){var b=
new px;
b.setProtocolVersion(Xy);b.setClientTimeMs(a.internalScheduler.getCurrentTimeMs());b.setMessageId(a.messageId_.toString());b.setMaxKnownServerTimeMs(a.lastKnownServerTimeMs_);b.setRegistrationSummary(a.listener_.getRegistrationSummary());b.setClientType(a.clientType_);a=a.listener_.getClientToken();null!=a&&b.setClientToken(a);return b};
Jz.prototype.deserializeMessage=function(a){var b=Ix.getDescriptor();return xr(b,a)};var Oz=function(a){return new Jy(a.getSource(),a.getName())},Pz=function(a){var b=a.getSource();
a=a.getName();var c=new ex;W(c,1,b);c.setName(a);return c};var Rz=function(a,b,c,d,e,f,h){this.name_=a;this.scheduler=b;this.initialDelayMs_=f;this.timeoutDelayMs_=h;this.smearer=d;this.delayGenerator_=e;this.isScheduled_=!1;this.task_=new Gy(a,v(function(){this.isScheduled_=!1;this.runTask()?Qz(this,!0):null!=e&&this.delayGenerator_.reset()},this))};
x(Rz,Iy);var Qz=function(a,b){a.isScheduled_||(b=b?null!=a.delayGenerator_?a.timeoutDelayMs_+Mq(a.delayGenerator_):a.timeoutDelayMs_+Sz(a.smearer,a.initialDelayMs_):Sz(a.smearer,a.initialDelayMs_),a.scheduler.getCurrentTimeMs(),a.scheduler.schedule(b,a.task_),a.isScheduled_=!0)};var Uz=function(a){this.comparator_=a||Tz},Tz=function(a,b){return String(a)<String(b)?-1:String(a)>String(b)?1:0};
g=Uz.prototype;g.root_=null;g.comparator_=null;g.minNode_=null;g.maxNode_=null;g.add=function(a){if(null==this.root_)return this.maxNode_=this.minNode_=this.root_=new Vz(a),!0;var b=null;Wz(this,function(c){var d=null,e=this.comparator_(c.value,a);0<e?(d=c.left,null==c.left&&(b=new Vz(a,c),c.left=b,c==this.minNode_&&(this.minNode_=b))):0>e&&(d=c.right,null==c.right&&(b=new Vz(a,c),c.right=b,c==this.maxNode_&&(this.maxNode_=b)));return d});
b&&(Wz(this,function(a){a.count++;return a.parent},b.parent),Xz(this,b.parent));
return!!b};
g.remove=function(a){var b=null;Wz(this,function(c){var d=null,e=this.comparator_(c.value,a);0<e?d=c.left:0>e?d=c.right:(b=c.value,Yz(this,c));return d});
return b};
g.clear=function(){this.maxNode_=this.minNode_=this.root_=null};
g.contains=function(a){var b=!1;Wz(this,function(c){var d=null,e=this.comparator_(c.value,a);0<e?d=c.left:0>e?d=c.right:b=!0;return d});
return b};
g.indexOf=function(a){var b=-1,c=0;Wz(this,function(d){var e=this.comparator_(d.value,a);if(0<e)return d.left;d.left&&(c+=d.left.count);if(0>e)return c++,d.right;b=c;return null});
return b};
g.getCount=function(){return this.root_?this.root_.count:0};
g.getHeight=function(){return this.root_?this.root_.height:0};
g.getValues=function(){var a=[];Zz(this,function(b){a.push(b)});
return a};
var Zz=function(a,b){if(a.root_){var c;a=c=$z(a);for(c=c.left?c.left:c;null!=a;)if(null!=a.left&&a.left!=c&&a.right!=c)a=a.left;else{if(a.right!=c&&b(a.value))break;var d=a;a=null!=a.right&&a.right!=c?a.right:a.parent;c=d}}},Wz=function(a,b,c){for(c=c?c:a.root_;c&&null!=c;)c=b.call(a,c)},Xz=function(a,b){Wz(a,function(a){var b=a.left?a.left.height:0,c=a.right?a.right.height:0;
1<b-c?(a.left.right&&(!a.left.left||a.left.left.height<a.left.right.height)&&aA(this,a.left),bA(this,a)):1<c-b&&(a.right.left&&(!a.right.right||a.right.right.height<a.right.left.height)&&bA(this,a.right),aA(this,a));b=a.left?a.left.height:0;c=a.right?a.right.height:0;a.height=Math.max(b,c)+1;return a.parent},b)},aA=function(a,b){cA(b)?(b.parent.left=b.right,b.right.parent=b.parent):dA(b)?(b.parent.right=b.right,b.right.parent=b.parent):(a.root_=b.right,a.root_.parent=null);
a=b.right;b.right=b.right.left;null!=b.right&&(b.right.parent=b);a.left=b;b.parent=a;a.count=b.count;b.count-=(a.right?a.right.count:0)+1},bA=function(a,b){cA(b)?(b.parent.left=b.left,b.left.parent=b.parent):dA(b)?(b.parent.right=b.left,b.left.parent=b.parent):(a.root_=b.left,a.root_.parent=null);
a=b.left;b.left=b.left.right;null!=b.left&&(b.left.parent=b);a.right=b;b.parent=a;a.count=b.count;b.count-=(a.left?a.left.count:0)+1},Yz=function(a,b){if(null!=b.left||null!=b.right){var c=null;
if(null!=b.left){var d=eA(a,b.left);Wz(a,function(a){a.count--;return a.parent},d);
if(d!=b.left){if(d.parent.right=d.left)d.left.parent=d.parent;d.left=b.left;d.left.parent=d;c=d.parent}d.parent=b.parent;d.right=b.right;d.right&&(d.right.parent=d);b==a.maxNode_&&(a.maxNode_=d)}else{d=$z(a,b.right);Wz(a,function(a){a.count--;return a.parent},d);
if(d!=b.right){if(d.parent.left=d.right)d.right.parent=d.parent;d.right=b.right;d.right.parent=d;c=d.parent}d.parent=b.parent;d.left=b.left;d.left&&(d.left.parent=d);b==a.minNode_&&(a.minNode_=d)}d.count=b.count;cA(b)?b.parent.left=d:dA(b)?b.parent.right=d:a.root_=d;Xz(a,c?c:d)}else Wz(a,function(a){a.count--;return a.parent},b.parent),cA(b)?(b.parent.left=null,b==a.minNode_&&(a.minNode_=b.parent),Xz(a,b.parent)):dA(b)?(b.parent.right=null,b==a.maxNode_&&(a.maxNode_=b.parent),Xz(a,b.parent)):a.clear()},
$z=function(a,b){if(!b)return a.minNode_;
var c=b;Wz(a,function(a){var b=null;a.left&&(b=c=a.left);return b},b);
return c},eA=function(a,b){if(!b)return a.maxNode_;
var c=b;Wz(a,function(a){var b=null;a.right&&(b=c=a.right);return b},b);
return c},Vz=function(a,b){this.value=a;
this.parent=b?b:null;this.count=1};
Vz.prototype.left=null;Vz.prototype.right=null;Vz.prototype.height=1;var dA=function(a){return!!a.parent&&a.parent.right==a},cA=function(a){return!!a.parent&&a.parent.left==a};var hA=function(a){this.registrations_=new Uz(fA);this.digestFunction_=a;gA(this)},iA=function(a,b){this.digest=a;
this.objectId=b};
iA.prototype.toString=function(){return Oq("[%s, %s]",this.digest.toString(),this.objectId.toString())};
var fA=function(a,b){a:{a=a.digest.value_;b=b.digest.value_;for(var c=Ab,d=Math.min(a.length,b.length),e=0;e<d;e++){var f=c(a[e],b[e]);if(0!=f){a=f;break a}}a=Ab(a.length,b.length)}return a};
g=hA.prototype;g.add=function(a){for(var b=[],c=0;c<a.length;c++){var d=a[c],e=uz(d,this.digestFunction_),e=new iA(e,d);this.registrations_.contains(e)||(this.registrations_.add(e),b.push(d))}0<b.length&&gA(this);return b};
g.remove=function(a){for(var b=[],c=0;c<a.length;c++){var d=a[c],e=uz(d,this.digestFunction_),e=new iA(e,d);this.registrations_.contains(e)&&(this.registrations_.remove(e),b.push(d))}0<b.length&&gA(this);return b};
g.removeAll=function(){for(var a=[],b=this.registrations_.getValues(),c=0;c<b.length;c++)a.push(b[c].objectId);this.registrations_.clear();gA(this);return a};
g.contains=function(a){var b=uz(a,this.digestFunction_);return this.registrations_.contains(new iA(b,a))};
g.size=function(){return this.registrations_.getCount()};
g.getDigest=function(){return this.digest_};
var gA=function(a){for(var b=[],c=a.registrations_.getValues(),d=0;d<c.length;d++)b.push(c[d].digest);c=a.digestFunction_;c.reset();for(d=0;d<b.length;d++)c.update(b[d].value_);b=c.getDigest();a.digest_=b};
hA.prototype.toString=function(){return Oq("Digest: %s, Regs: %s",this.digest_.toString(),this.registrations_.getValues().toString())};var jA=function(a,b,c){this.desiredRegistrations_=new hA(c);this.statistics_=b;this.lastKnownServerSummary_=this.getRegistrationSummary();this.pendingOperations_=new cd;this.logger_=a};
jA.prototype.getRegistrations=function(){for(var a=new Ax,b=[],c=this.desiredRegistrations_.registrations_.getValues(),d=0;d<c.length;d++)b.push(c[d].objectId);for(c=0;c<b.length;c++)zq(a,1,b[c]);return a};
jA.prototype.getRegistrationSummary=function(){var a=new nx,b=this.desiredRegistrations_.size();W(a,1,b);b=this.desiredRegistrations_.getDigest().serialize();W(a,2,b);return a};
var kA=function(a){return a.lastKnownServerSummary_.equals(a.getRegistrationSummary())};
jA.prototype.toString=function(){return Oq("Last known digest: %s, Requested regs: %s",this.lastKnownServerSummary_.toString(),this.desiredRegistrations_.toString())};var lA=function(a,b){this.random_=a;this.smearFraction_=b/100},Sz=function(a,b){a=(2*a.random_()-1)*a.smearFraction_;
return Math.ceil(b+b*a)};var mA=function(){};
q("invalidation.Client",mA,void 0);mA.prototype.start=mA.prototype.start;mA.prototype.stop=mA.prototype.stop;mA.prototype.register=mA.prototype.register;mA.prototype.unregister=mA.prototype.unregister;mA.prototype.acknowledge=mA.prototype.acknowledge;mA.prototype.getAppClientIdForTest=mA.prototype.getAppClientIdForTest;mA.prototype.getConfigForTest=mA.prototype.getConfigForTest;mA.prototype.getSystemResourcesForTest=mA.prototype.getSystemResourcesForTest;var sA=function(a,b,c,d,e,f,h){this.random_=null==b?Math.random:b;this.clientTokenKey_="ClientToken";this.resources_=a;this.internalScheduler_=a.internalScheduler_;this.logger_=a.logger_;this.listener_=h;this.config_=e;b=new gx;b.setClientType(c);W(b,2,d);this.applicationClientId_=b;this.statistics_=new Dz;this.digestFn_=new tz;this.registrationManager_=new jA(this.logger_,this.statistics_,this.digestFn_);this.msgValidator_=new Hz;this.smearer_=new lA(this.random_,Dq(e,7));Dq(e,10);this.protocolHandler_=
new Jz(0,a,0,this.statistics_,c,f,this,this.msgValidator_);this.ticlState_=new Fy;this.nonce_=this.clientToken_=null;this.shouldSendRegistrations_=!1;this.clientStartTimeMs_=a.internalScheduler_.getCurrentTimeMs();this.isOnline_=!0;this.lastNetworkTransitionTimeMs_=this.clientStartTimeMs_;this.lastMessageSendTimeMs_=this.pastNetworkDowntimeMs_=this.pastNetworkUptimeMs_=0;this.acquireTokenTask_=new nA(this);this.regSyncHeartbeatTask_=new oA(this);this.persistentWriteTask_=new pA(this);this.heartbeatTask_=
new qA(this);a=Dq(this.config_,10);this.batchingTask_=new rA(this.internalScheduler_,0,this.smearer_,Dq(a,1),this.protocolHandler_);this.resources_.network_.setMessageReceiver(v(this.handleIncomingMessage_,this));this.resources_.network_.addNetworkStatusReceiver(v(this.handleNetworkStatusChange_,this));this.ackCache_=new xy},nA=function(a){var b=a.config_,c=tA(a,Dq(b,2));
Rz.call(this,"AcquireToken",a.internalScheduler_,0,a.smearer_,c,0,Dq(b,2));this.client_=a};
x(nA,Rz);nA.prototype.runTask=function(){var a=this.client_;if(null==a.clientToken_){uA(a,(0,this.client_.random_)().toString());var b=a.protocolHandler_,c=a.applicationClientId_,a=a.nonce_,d=this.client_.batchingTask_;c.getClientType();var e=b.clientType_,f=new tx;f.setClientType(e);W(f,3,c);W(f,4,2);W(f,2,a);b.batcher_.setInitializeMessage(f);Qz(d,!1);return!0}return!1};
var oA=function(a){var b=Dq(a.config_,2),c=tA(a,b);Rz.call(this,"RegSyncHeartbeat",a.internalScheduler_,0,a.smearer_,c,b,b);this.client_=a};
x(oA,Rz);oA.prototype.runTask=function(){var a=this.client_;if(kA(a.registrationManager_))return!1;a.sendInfoMessageToServer_(!1,!0);return!0};
var pA=function(a){var b=a.config_,c=tA(a,Dq(b,3));Rz.call(this,"PersistentWrite",a.internalScheduler_,0,a.smearer_,c,0,Dq(b,3));this.client_=a;this.lastWrittenToken_=null};
x(pA,Rz);pA.prototype.runTask=function(){var a=this.client_,b=a.clientToken_,c=jz(b),d=wz(c,a.digestFn_);if(null==b||b==this.lastWrittenToken_)return!1;b=function(b){b.isSuccess()?this.lastWrittenToken_=c.getClientToken():Fz(a.statistics_,"PERSISTENT_WRITE_FAILURE")}.bind(this);
a.resources_.storage_.writeKey("ClientToken",d,b);return!0};
var qA=function(a){Rz.call(this,"Heartbeat",a.internalScheduler_,0,a.smearer_,null,Dq(a.config_,4),0);this.client_=a;this.nextPerformanceSendTimeMs_=0};
x(qA,Rz);qA.prototype.runTask=function(){var a=this.client_,b=this.nextPerformanceSendTimeMs_<=a.internalScheduler_.getCurrentTimeMs();if(b){var c=Dq(a.config_,5);this.nextPerformanceSendTimeMs_=a.internalScheduler_.getCurrentTimeMs()+Sz(this.smearer,c)}a.sendInfoMessageToServer_(b,!kA(a.registrationManager_));return!0};
var rA=function(a,b,c,d,e){Rz.call(this,"Batching",a,0,c,null,d,0);this.protocolHandler_=e};
x(rA,Rz);
rA.prototype.runTask=function(){var a=this.protocolHandler_;if(a.nextMessageSendTimeMs_>a.internalScheduler.getCurrentTimeMs())a.internalScheduler.getCurrentTimeMs();else{var b=null!=a.listener_.getClientToken();var c=a.batcher_;var d=new rx;null!=c.pendingInitializeMessage_&&(Ez(c.statistics_.sentMessageTypes_,"INITIALIZE"),d.setInitializeMessage(c.pendingInitializeMessage_),c.pendingInitializeMessage_=null);if(b||U(d,2)){if(!c.pendingAckedInvalidations_.isEmpty()){b=c.pendingAckedInvalidations_.getValues();c.pendingAckedInvalidations_.clear();
for(var e=new Sx,f=0;f<b.length;f++)zq(e,1,b[f]);W(d,5,e);Ez(c.statistics_.sentMessageTypes_,"INVALIDATION_ACK")}if(!c.pendingRegistrations_.isEmpty()){b=c.pendingRegistrations_.getValues();c.pendingRegistrations_.clear();e=new wx;for(f=0;f<b.length;f++)e.addRegistration(b[f]);W(d,3,e);Ez(c.statistics_.sentMessageTypes_,"REGISTRATION")}if(!c.pendingRegSubtrees_.isEmpty()){b=new yx;e=c.pendingRegSubtrees_.getValues();for(f=0;f<e.length;f++)zq(b,1,e[f]);W(d,4,b);c.pendingRegSubtrees_.clear();Ez(c.statistics_.sentMessageTypes_,
"REGISTRATION_SYNC")}null!=c.pendingInfoMessage_&&(Ez(c.statistics_.sentMessageTypes_,"INFO"),d.setInfoMessage(c.pendingInfoMessage_),c.pendingInfoMessage_=null);c=d}else Fz(c.statistics_,"TOKEN_MISSING_FAILURE"),c=null;null!=c&&(c.setHeader(Nz(a)),a.messageId_++,a.msgValidator_.isClientMessageValid(c)?(Ez(a.statistics_.sentMessageTypes_,"TOTAL"),c=vr(c),a.network_.sendMessage(c),a=a.listener_,a.lastMessageSendTimeMs_=a.internalScheduler_.getCurrentTimeMs()):Fz(a.statistics_,"OUTGOING_MESSAGE_FAILURE"))}return!1};
var vA=function(){var a=new ay;a.setVersion(Zy);var b=new Zx,c=new Xx;W(c,1,5E3);W(c,2,3);zq(b,2,c);W(a,10,b);return a};
sA.prototype.start=function(){this.ticlState_.isStarted()||(uA(this,(0,this.random_)().toString()),wA(this))};
sA.prototype.stop=function(){this.ticlState_.isStarted()&&this.ticlState_.stop()};
sA.prototype.register=function(a){xA(this,Array.prototype.slice.call(arguments),1)};
sA.prototype.unregister=function(a){xA(this,Array.prototype.slice.call(arguments),2)};
var xA=function(a,b,c){if(!a.ticlState_.isStopped())if(a.ticlState_.isStarted()){for(var d=[],e=0;e<b.length;e++){var f=b[e];f=Pz(f);Ez(a.statistics_.incomingOperationTypes_,1==c?"REGISTRATION":"UNREGISTRATION");d.push(f)}b=a.registrationManager_;for(e=0;e<d.length;e++)b.pendingOperations_.set(vr(d[e]),c);d=1==c?b.desiredRegistrations_.add(d):b.desiredRegistrations_.remove(d);if(a.shouldSendRegistrations_&&0<d.length){b=a.protocolHandler_;e=a.batchingTask_;c=1==c;for(f=0;f<d.length;f++)b.batcher_.addRegistration(d[f],
c);Qz(e,!1)}Qz(a.regSyncHeartbeatTask_,!1)}else for(var e=0;e<b.length;e++)f=b[e],a.listener_.informRegistrationFailure(a,f,!0,"Client not yet ready")};
g=sA.prototype;
g.acknowledge=function(a){a=xr(zy.getDescriptor(),a.handleData_);if(null==a)Fz(this.statistics_,"ACKNOWLEDGE_HANDLE_FAILURE");else{var b;if(b=U(a,1))b=a.getInvalidation(),b=this.msgValidator_.validate(b);if(b){var c=a.getInvalidation();Aq(c,4);Ez(this.statistics_.incomingOperationTypes_,"ACKNOWLEDGE");a=this.batchingTask_;this.protocolHandler_.batcher_.pendingAckedInvalidations_.set(vr(c),c);Qz(a,!1);a=this.ackCache_;if(V(c,6)&&V(c,2)){b=yy(c.getObjectId());var c=ry(c.getVersion()),d=a.highestAckedVersionMap_.get(b,
ky(-1));0<c.compare(d)&&a.highestAckedVersionMap_.set(b,c)}}else Fz(this.statistics_,"ACKNOWLEDGE_HANDLE_FAILURE")}};
g.getConfigForTest=function(){return this.config_};
g.getAppClientIdForTest=function(){return this.applicationClientId_};
g.getSystemResourcesForTest=function(){return this.resources_};
g.getRegistrationSummary=function(){return this.registrationManager_.getRegistrationSummary()};
g.getClientToken=function(){return this.clientToken_};
g.handleNetworkStatusChange_=function(a){var b=this.isOnline_;(this.isOnline_=a)&&!b&&this.internalScheduler_.getCurrentTimeMs()>this.lastMessageSendTimeMs_+Dq(this.config_,12)&&(this.internalScheduler_.getCurrentTimeMs(),this.sendInfoMessageToServer_(!0,!kA(this.registrationManager_)));if(a!=b){a=this.resources_.internalScheduler_.getCurrentTimeMs();var c=a-this.lastMessageSendTimeMs_;this.lastNetworkTransitionTimeMs_=a;b?(this.pastNetworkUptimeMs_+=c,Fz(this.statistics_,"NETWORK_DISCONNECTED")):
this.pastNetworkDowntimeMs_+=c}};
g.handleIncomingMessage_=function(a){Ez(this.statistics_.receivedMessageTypes_,"TOTAL");a=Mz(this.protocolHandler_,a);if(null!=a&&yA(this,a)){if(null!=a.tokenControlMessage){Ez(this.statistics_.receivedMessageTypes_,"TOKEN_CONTROL");var b=a.header.token,c=U(a.tokenControlMessage,1)?V(a.tokenControlMessage,1):null;if(null!=c){var d=b==this.clientToken_;if(b==this.nonce_||d)Qz(this.heartbeatTask_,!1),uA(this,null),zA(this,c),Qz(this.persistentWriteTask_,!1)}else zA(this,null),Qz(this.acquireTokenTask_,
!1)}if(null!=this.clientToken_){b=a.header;if(null!=b.registrationSummary){this.shouldSendRegistrations_=!0;c=this.registrationManager_;b=b.registrationSummary;null!=b&&(c.lastKnownServerSummary_=b);b=[];if(kA(c)){for(var d=c.pendingOperations_.getKeys(),e=(new ex).getDescriptor(),f=0;f<d.length;f++){var h=xr(e,d[f]),k=1==c.pendingOperations_.get(d[f]),h=iz(h,k);b.push(h)}c.pendingOperations_.clear()}for(c=0;c<b.length;c++)e=b[c],d=Oz(e.getObjectId()),e=V(e,2),this.listener_.informRegistrationStatus(this,
d,1==e?0:1)}if(null!=a.invalidationMessage)for(Ez(this.statistics_.receivedMessageTypes_,"INVALIDATION"),b=Bq(a.invalidationMessage,1)||[],c=0;c<b.length;c++)if(e=d=b[c],f=new zy,W(f,1,e),e=vr(f),e=new Qy(e),f=this.ackCache_,k=d,V(k,2)?(h=yy(k.getObjectId()),k=ry(k.getVersion()),f=0<=f.highestAckedVersionMap_.get(h,ky(-1)).compare(k)):f=!1,f)this.acknowledge(e),Ez(this.statistics_.receivedMessageTypes_,"STALE_INVALIDATION");else if(d.getObjectId().equals(az))this.listener_.invalidateAll(this,e),Ez(this.statistics_.listenerEventTypes_,
"INVALIDATE_ALL");else{var l=d,f=Oz(l.getObjectId()),h=parseInt(l.getVersion(),10),k=U(l,4)?l.getPayload():void 0,l=U(l,6)?V(l,6):!0,f=new Ky(f,h,k,l),h=Dq(d,6),k=Dq(this.config_,13);V(d,2);!V(d,2)||h&&!k?this.listener_.invalidateUnknownVersion(this,f.getObjectId(),e):this.listener_.invalidate(this,f,e)}null!=a.registrationStatusMessage&&(Ez(this.statistics_.receivedMessageTypes_,"REGISTRATION_STATUS"),this.handleRegistrationStatus_(Bq(a.registrationStatusMessage,1)||[]));null!=a.registrationSyncRequestMessage&&
(Ez(this.statistics_.receivedMessageTypes_,"REGISTRATION_SYNC_REQUEST"),b=this.registrationManager_.getRegistrations("",0),c=this.batchingTask_,this.protocolHandler_.batcher_.pendingRegSubtrees_.set(vr(b),b),Qz(c,!1));if(null!=a.infoRequestMessage){Ez(this.statistics_.receivedMessageTypes_,"INFO_REQUEST");b=Bq(a.infoRequestMessage,1)||[];c=!1;for(d=0;d<b.length&&!(c=1==b[d]);d++);this.sendInfoMessageToServer_(c,!kA(this.registrationManager_))}if(null!=a.errorMessage&&(Ez(this.statistics_.receivedMessageTypes_,
"ERROR"),b=a.errorMessage.getCode(),a=V(a.errorMessage,2),1==b)){c=this.registrationManager_;d=new cd;e=c.desiredRegistrations_.removeAll();for(b=0;b<e.length;b++)d.set(vr(e[b]),"");e=c.pendingOperations_.getKeys();for(b=0;b<e.length;b++)d.set(e[b],"");c.pendingOperations_.clear();c=[];d=d.getKeys();e=(new ex).getDescriptor();for(b=0;b<d.length;b++)f=xr(e,d[b]),c.push(f);for(b=0;b<c.length;b++)d=Oz(c[b]),this.listener_.informRegistrationFailure(this,d,!1,"Auth error: "+a)}}}};
g.handleRegistrationStatus_=function(a){for(var b=this.registrationManager_,c=[],d=0;d<a.length;d++){var e=a[d],f=e.getRegistration().getObjectId();b.pendingOperations_.remove(vr(f));var h=!0;if(1==e.getStatus().getCode()){var k=b.desiredRegistrations_.contains(f);1==V(e.getRegistration(),2)!=k&&(b.desiredRegistrations_.remove([f]),Fz(b.statistics_,"REGISTRATION_DISCREPANCY"),h=!1)}else b.desiredRegistrations_.remove([f]),h=!1;c.push(h)}for(b=0;b<a.length;++b)e=a[b],f=c[b],d=e.getRegistration().getObjectId(),
d=Oz(d),f?(e=V(e.getRegistration(),2),this.listener_.informRegistrationStatus(this,d,1==e?0:1)):(f=e.getStatus(),e=1==f.getCode()?"Registration discrepancy detected":V(e.getStatus(),2),f=3==f.getCode(),this.listener_.informRegistrationFailure(this,d,!f,e))};
var yA=function(a,b){return null!=a.clientToken_?a.clientToken_!=b.header.token?(Fz(a.statistics_,"TOKEN_MISMATCH"),!1):!0:null!=a.nonce_?a.nonce_!=b.header.token?(Fz(a.statistics_,"NONCE_MISMATCH"),!1):!0:!1};
sA.prototype.sendInfoMessageToServer_=function(a,b){var c=new cd,d=null;if(a){a=this.statistics_;Gz(a.sentMessageTypes_,c,"SentMessageType");Gz(a.receivedMessageTypes_,c,"ReceivedMessageType");Gz(a.incomingOperationTypes_,c,"IncomingOperationType");Gz(a.listenerEventTypes_,c,"ListenerEventType");Gz(a.clientErrorTypes_,c,"ClientErrorType");a=this.resources_.internalScheduler_.getCurrentTimeMs();c.set("NonCounterType.CLIENT_UPTIME_MS",a-this.clientStartTimeMs_);a-=this.lastNetworkTransitionTimeMs_;
var d=this.pastNetworkUptimeMs_,e=this.pastNetworkDowntimeMs_;if(this.isOnline_){d+=a;var f=1}else e+=a,f=0;c.set("NonCounterType.IS_NETWORK_ONLINE",f);c.set("NonCounterType.NETWORK_STATUS_DURATION_MS",a);c.set("NonCounterType.TOTAL_NETWORK_UPTIME_MS",d);c.set("NonCounterType.TOTAL_NETWORK_DOWNTIME_MS",e);d=this.config_}a=this.protocolHandler_;f=d;d=this.batchingTask_;e=new Cx;e.setClientVersion(a.clientVersion_);null!=f&&e.setClientConfig(f);f=c.getKeys();for(var h=0;h<f.length;h++){var k=f[h],l=
c.get(f[h]),m=new Ex;m.setName(k);m.setValue(l);zq(e,3,m)}W(e,4,b);a.batcher_.setInfoMessage(e);Qz(d,!1)};
var wA=function(a){a.resources_.storage_.readKey(a.clientTokenKey_,v(function(a,c){c=a.isSuccess()?c:null;a.isSuccess()||(Fz(this.statistics_,"PERSISTENT_READ_FAILURE"),a.getMessage());if(null==c)a=null;else{a=this.logger_;var b=this.digestFn_,e=Dy.getDescriptor(),e=xr(e,c),f=null==e?null:V(e,1);null==f?a=null:vz(f,b).serialize()!=V(e,2)?(a&&V(e,2),a=null):a=f}null!=c&&null==a&&Fz(this.statistics_,"PERSISTENT_DESERIALIZATION_FAILURE");null!=a?(c=a.getClientToken(),uA(this,null),zA(this,c),this.shouldSendRegistrations_=
!1,c=new Gy("SendFirstPersistentInfo",v(this.sendInfoMessageToServer_,this,!1,!0)),a=Dq(this.config_,9),this.internalScheduler_.schedule(a,c),Qz(this.heartbeatTask_,!1)):(this.shouldSendRegistrations_=!0,zA(this,null),Qz(this.acquireTokenTask_,!1))},a))},uA=function(a,b){if(null==b)b=null;
else if(Jj)b=n.btoa(b);else{for(var c=[],d=0,e=0;e<b.length;e++){for(var f=b.charCodeAt(e);255<f;)c[d++]=f&255,f>>=8;c[d++]=f}b=Kj(c,void 0)}a.nonce_=b},zA=function(a,b){var c=!a.ticlState_.isStarted()&&null==a.clientToken_&&null!=b;
a.clientToken_=b;c&&(a.ticlState_.start(),a.listener_.ready(a),a.listener_.reissueRegistrations(a,"",0))},tA=function(a,b){return new Lq(a.random_,b,Dq(a.config_,6))};
sA.prototype.toString=function(){var a=this.clientToken_;return Oq("Client: clientName = %s, token = %s, state = %s",this.applicationClientId_.toString(),null!=a?a.toString():"null",this.ticlState_.toString())};var AA=function(a,b,c,d,e,f,h){sA.call(this,a,b,c,d,e,f,h)};
x(AA,sA);var BA=function(a,b,c,d,e){this.internalScheduler_=b;this.listenerScheduler_=c;this.logger_=a;this.network_=d;this.storage_=e};
q("invalidation.SystemResourcesBuilderImpl.newDefaultBuilder",function(a,b){return new BA(new nz,new mz,new mz,b,new oz)},void 0);
g=BA.prototype;g.getInternalScheduler=function(){return this.internalScheduler_};
g.getListenerScheduler=function(){return this.listenerScheduler_};
g.getStorage=function(){return this.storage_};
g.getNetwork=function(){return this.network_};
g.getLogger=function(){return this.logger_};
g.setLogger=function(a){this.logger_=a};
BA.prototype.setLogger=BA.prototype.setLogger;BA.prototype.setStorage=function(a){this.storage_=a};
BA.prototype.setStorage=BA.prototype.setStorage;BA.prototype.setInternalScheduler=function(a){this.internalScheduler_=a};
BA.prototype.setInternalScheduler=BA.prototype.setInternalScheduler;BA.prototype.setListenerScheduler=function(a){this.listenerScheduler_=a};
BA.prototype.setListenerScheduler=BA.prototype.setListenerScheduler;BA.prototype.setNetwork=function(a){this.network_=a};
BA.prototype.setNetwork=BA.prototype.setNetwork;BA.prototype.build=function(){this.seal();return new Wy(this.logger_,this.internalScheduler_,this.listenerScheduler_,this.network_,this.storage_)};
BA.prototype.build=BA.prototype.build;BA.prototype.seal=function(){};var CA=function(a,b,c,d,e,f,h){Vw.call(this,a,d,e,h);a=new $n(this.servletUri);null!=c&&S(a,"oauth_token",c);0!=d&&S(a,"authuser",d);null!=e&&S(a,"service",e);c={};c.pu=a.toString();this.xpcIframeCreator_=new tv(c,b,f,v(this.onXpcConnect_,this));this.crossPageChannel_=null;this.logger_=new Pq};
x(CA,Vw);g=CA.prototype;g.onXpcConnect_=function(a){this.crossPageChannel_=a;this.crossPageChannel_.registerService("ss",v(this.sendSucceeded,this));this.crossPageChannel_.registerService("sf",v(this.sendFailed,this),!0);a=this.handler;a.xpcOpen_=!0;Hv(a,!0)};
g.start=function(){uv(this.xpcIframeCreator_)};
g.send=function(a,b,c){this.crossPageChannel_.send("s",[a,b,c])};
g.sendSucceeded=function(a){this.handler.onSuccess(a[0])};
g.sendFailed=function(){};var DA=function(a,b,c,d){this.incomingReceiver_=null;this.networkStatusReceivers_=[];this.logger_=new Pq;this.xpcOpen_=this.isOnline_=!1;this.senderUri_=b;this.iframeContainerId_=c||"lcssenderclient";this.bufferedMessages_=[];this.oauthToken_=d||null;this.channelHandler_=this.appAuthToken_=null;this.channelConfig_=a;this.channel_=Zt(a)?new Kv(this,a):new Ev(this,a);null!=this.oauthToken_&&this.channel_.setOAuthToken(this.oauthToken_);this.channel_.open();this.address_=this.session_=null;this.counter_=
0;b=a.getAuthuser();a.isIframed()?this.gatewaySender_=new CA(this.senderUri_,this.iframeContainerId_,this.oauthToken_,b,a.gaiaServiceOverride_,a.getDomHelper(),this):this.gatewaySender_=new Vw(this.senderUri_,b,a.gaiaServiceOverride_,this);this.gatewaySender_.start()};
q("invalidation.LcsPushChannelBase",DA,void 0);DA.prototype.setOAuthToken=function(a){this.oauthToken_=a;this.channel_.setOAuthToken(a)};
DA.prototype.setAppAuthToken=function(a){this.appAuthToken_=a;this.channel_.setAppAuthToken(a)};
var Iv=function(a,b,c){a.session_||(a.session_=b.newSession("tango_service",a),a.session_.open());null!=a.channelHandler_&&Iv(a.channelHandler_,b,c)};
g=DA.prototype;g.setSystemResources=function(a){this.logger_=a.logger_};
g.stop=function(){this.channel_.isDisposed()||this.channel_.dispose()};
g.setMessageReceiver=function(a){this.incomingReceiver_=a};
g.sendMessage=function(a){this.isOnline_?this.sendMessage_(a):(10<=this.bufferedMessages_.length&&this.bufferedMessages_.shift(),this.bufferedMessages_.push(a))};
g.addNetworkStatusReceiver=function(a){this.networkStatusReceivers_.push(a)};
g.sendMessage_=function(a){if(this.isOnline_){var b=this.address_,c=new cz;W(c,1,114);W(c,2,b);var b=this.counter_.toString(),d=new Ww;d.setMinorVersion(2);d.setMajorVersion(3);var e=new Yw;e.setVersion(d);d=new fz;d.setProtocolVersion(e);W(d,6,1);W(d,7,2);W(d,4,a);W(d,8,c);W(d,1,!0);W(d,10,b);this.counter_++;a=vr(d);c={"Content-Type":"text/plain"};b={};null!=this.oauthToken_?c.Authorization="OAuth "+this.oauthToken_:null!=this.appAuthToken_&&(b.app_auth=this.appAuthToken_);this.gatewaySender_.send(a,
c,b)}};
g.receive=function(a,b){this.incomingReceiver_&&this.incomingReceiver_(b)};
g.onError=function(a,b){if(null!=this.channelHandler_)this.channelHandler_.onError(a,b)};
var Jv=function(a,b){Hv(a,!1);null!=a.channelHandler_&&Jv(a.channelHandler_,b)};
DA.prototype.onSessionError=function(){};
DA.prototype.onSuccess=function(){};
var Hv=function(a,b){a.isOnline_=b&&null!=a.address_&&a.xpcOpen_;if(a.isOnline_&&0!=a.bufferedMessages_.length){for(b=0;b<a.bufferedMessages_.length;b++)a.sendMessage_(a.bufferedMessages_[b]);b=a.bufferedMessages_;if(!ra(b))for(var c=b.length-1;0<=c;c--)delete b[c];b.length=0}for(b=0;b<a.networkStatusReceivers_.length;++b)a.networkStatusReceivers_[b](a.isOnline_)};
DA.prototype.setChannelHandler=function(a){this.channelHandler_=a};
DA.prototype.setChannelHandler=DA.prototype.setChannelHandler;DA.prototype.getRawChannel=function(){return this.channel_};
DA.prototype.getRawChannel=DA.prototype.getRawChannel;var EA=function(a,b,c,d,e,f,h){a=new Av(a,c,"lcsclient");d&&a.setAuthuser(d);h&&(a.gaiaServiceOverride_=h);DA.call(this,a,b,e,f)};
x(EA,DA);var FA=function(a){this.scheduler=a.listenerScheduler_;this.registrations_=new cd;this.isReady_=!1;a=vA();this.exponentialBackoff_=new Lq(Math.random,Dq(a,2),Dq(a,6))};
g=FA.prototype;g.register=function(a,b){var c=Array.prototype.slice.call(arguments);c.shift();for(var d=0;d<c.length;d++){var e=c[d],f=vr(Pz(e));this.registrations_.set(f,e)}d=a;this.isReady_&&d.register.apply(d,c)};
g.unregister=function(a,b){var c=Array.prototype.slice.call(arguments);c.shift();for(var d=0;d<c.length;d++){var e=vr(Pz(c[d]));this.registrations_.remove(e)}d=a;this.isReady_&&d.unregister.apply(d,c)};
g.ready=function(a){this.isReady_=!0;GA(this,a)};
g.reissueRegistrations=function(a){this.isReady_&&GA(this,a)};
g.informRegistrationStatus=function(a,b,c){this.handleRegistrationStatus_(a,b,c);this.exponentialBackoff_.reset()};
g.informRegistrationFailure=function(a,b,c){c?this.handleRegistrationStatus_(a,b,null):(a=vr(Pz(b)),this.registrations_.remove(a))};
g.handleRegistrationStatus_=function(a,b,c){var d=vr(Pz(b)),e=this.registrations_.containsKey(d);if(null==c||0==c!=e)c=Mq(this.exponentialBackoff_),this.scheduler.schedule(c,new Gy("Reissue regop",v(function(){e?this.register(a,b):this.unregister(a,b)},this)))};
var GA=function(a,b){a.registrations_.isEmpty()||(a=a.registrations_.getValues(),b.register.apply(b,a))};var HA=function(a,b,c,d,e){this.client_=a;this.listener_=b;this.logger_=c;this.listenerScheduler_=d;this.pendingClientAckHandles_=[];this.isRecycledClientToken_=e};
g=HA.prototype;g.start=function(){this.client_.start()};
g.stop=function(){this.client_.stop()};
g.register=function(a){this.client_.register.apply(this.client_,arguments);for(var b=0;b<arguments.length;b++){var c=arguments[b];if(this.isRecycledClientToken_){var d=new Lq(Math.random,1E3,1E3);Mq(d);var e="client-ack-handle-"+eb(),e=new Qy(e);this.pendingClientAckHandles_.push(e);IA(this,c,e,d)}}};
g.unregister=function(a){this.client_.unregister.apply(this.client_,arguments)};
g.acknowledge=function(a){var b=JA(this,a);null!=b?(a=this.pendingClientAckHandles_,this.pendingClientAckHandles_=a.slice(0,b).concat(a.slice(b+1))):this.client_.acknowledge(a)};
var IA=function(a,b,c,d){a.listener_.invalidateUnknownVersion(a,b,c);var e=Mq(d);a.listenerScheduler_.schedule(e,new Gy("retry invalidation",v(function(){null!=JA(this,c)&&IA(this,b,c,d)},a)))},JA=function(a,b){for(var c=0;c<a.pendingClientAckHandles_.length;c++)if(a.pendingClientAckHandles_[c].equals(b))return c;
return null};
HA.prototype.getConfigForTest=function(){return this.client_.getConfigForTest()};
HA.prototype.getAppClientIdForTest=function(){return this.client_.getAppClientIdForTest()};
HA.prototype.getSystemResourcesForTest=function(){return this.client_.getSystemResourcesForTest()};var LA=function(a,b,c,d){this.ephemeralStorage_=a;this.clientTokenKey_=b;this.tokenStore_=c;this.logger_=d;this.clientTokenBlob_=null;this.isRecyledClientToken_=KA(this)};
g=LA.prototype;g.writeKey=function(a,b,c){this.ephemeralStorage_.writeKey(a,b,c);a==this.clientTokenKey_&&(this.clientTokenBlob_=b)};
g.readKey=function(a,b){return this.ephemeralStorage_.readKey(a,b)};
g.deleteKey=function(a,b){this.ephemeralStorage_.deleteKey(a,b)};
g.readAllKeys=function(a){this.ephemeralStorage_.readAllKeys(a)};
g.setSystemResources=function(a){this.ephemeralStorage_.setSystemResources(a)};
var KA=function(a){a.clientTokenBlob_=lz(a.tokenStore_);return null!=a.clientTokenBlob_?(a.writeKey(a.clientTokenKey_,a.clientTokenBlob_,function(){}),!0):!1};var MA=function(a){this.listener_=a;this.client_=null};
g=MA.prototype;g.ready=function(){this.listener_.ready(this.client_)};
g.invalidate=function(a,b,c){this.listener_.invalidate(this.client_,b,c)};
g.invalidateUnknownVersion=function(a,b,c){this.listener_.invalidateUnknownVersion(this.client_,b,c)};
g.invalidateAll=function(a,b){this.listener_.invalidateAll(this.client_,b)};
g.informRegistrationStatus=function(a,b,c){this.listener_.informRegistrationStatus(this.client_,b,c)};
g.informRegistrationFailure=function(a,b,c,d){this.listener_.informRegistrationFailure(this.client_,b,c,d)};
g.reissueRegistrations=function(a,b,c){this.listener_.reissueRegistrations(this.client_,b,c)};var NA=function(a,b,c){this.clientType_=a;this.clientName_=b;this.applicationName_=c;this.reuseClientTokens_=!0;this.clientConfig_=vA()};
q("invalidation.ClientFactory.Config",NA,void 0);NA.prototype.getClientType=function(){return this.clientType_};
NA.prototype.getClientType=NA.prototype.getClientType;NA.prototype.getClientName=function(){return this.clientName_};
NA.prototype.getClientName=NA.prototype.getClientName;NA.prototype.getApplicationName=function(){return this.applicationName_};
NA.prototype.getApplicationName=NA.prototype.getApplicationName;NA.prototype.getAllowSuppression=function(){return Dq(this.clientConfig_,13)};
NA.prototype.getAllowSuppression=NA.prototype.getAllowSuppression;NA.prototype.setAllowSuppression=function(a){this.clientConfig_.setAllowSuppression(a);return this};
NA.prototype.setAllowSuppression=NA.prototype.setAllowSuppression;NA.prototype.getReuseClientTokens=function(){return this.reuseClientTokens_};
NA.prototype.getReuseClientTokens=NA.prototype.getReuseClientTokens;NA.prototype.setReuseClientTokens=function(a){this.reuseClientTokens_=a;return this};
NA.prototype.setReuseClientTokens=NA.prototype.setReuseClientTokens;NA.prototype.getClientConfig=function(){return this.clientConfig_};
NA.prototype.setClientConfig=function(a){this.clientConfig_=a};
var OA=function(a,b,c){var d=a.logger_,e=b.getClientConfig(),f=a.listenerScheduler_;if(b.reuseClientTokens_){var h="tokens-"+b.getClientType(),h=new kz(h,d),k=new LA(a.storage_,"ClientToken",h,d);Ii(window,"unload",function(){null!=k.clientTokenBlob_&&k.tokenStore_.add(k.clientTokenBlob_)});
h=new Wy(d,a.internalScheduler_,f,a.network_,k);h.start();a=new MA(c);b=new AA(h,Math.random,b.getClientType(),b.getClientName(),e,b.applicationName_,a);c=new HA(b,c,d,f,k.isRecyledClientToken_);return a.client_=c}return new AA(a,Math.random,b.getClientType(),b.getClientName(),e,b.applicationName_,c)};
q("invalidation.ClientFactory.createClient",OA,void 0);q("invalidation.ClientFactory.create",function(a,b,c,d,e){b=new NA(b,c,d);b.setAllowSuppression(!0);b.setReuseClientTokens(!0);return OA(a,b,e)},void 0);var PA=function(a,b,c,d,e){BA.call(this,a,b,c,d,e)};
x(PA,BA);var QA=function(a,b){return new PA(new nz,new mz,new mz,b,new oz)};
q("invalidation.SystemResourcesBuilder.newDefaultBuilder",QA,void 0);var RA=function(a){this.id_=a;this.opts={}};
RA.prototype.setQuery=function(a){this.opts.query=a;return this};
RA.prototype.setParent=function(a){this.opts.parent=a;return this};
var SA=function(a){var b=Mb(a.opts,function(a){return null!==a}),b=Vb(b)?null:b;
a=[a.id_,a.label_,b];b=sb(a);return a=a.slice(0,b+1)};
RA.prototype.toString=function(){var a=SA(this);return"("+nb(a,function(a){return Vj(a)}).join(",")+")"};
RA.prototype.getId=function(){return this.id_};
RA.prototype.getOptions=function(){return Zb(this.opts)};
RA.prototype.getQuery=function(){return this.opts.query};var TA=function(){RA.call(this,"image-search")};
x(TA,RA);g=TA.prototype;g.setSite=function(a){this.opts.site=a;return this};
g.setType=function(a){this.opts.type=a;return this};
g.setSize=function(a){this.opts.imgsz=a;return this};
g.setQuery=function(a){TA.superClass_.setQuery.call(this,a);return this};
g.setParent=function(a){TA.superClass_.setParent.call(this,a);return this};var UA=function(){RA.call(this,"maps")};
x(UA,RA);UA.prototype.setQuery=function(a){UA.superClass_.setQuery.call(this,a);return this};
UA.prototype.setParent=function(a){UA.superClass_.setParent.call(this,a);return this};var VA=function(){RA.call(this,"photos")};
x(VA,RA);VA.prototype.setType=function(a){this.opts.type=a;return this};
VA.prototype.setQuery=function(a){VA.superClass_.setQuery.call(this,a);return this};
VA.prototype.setParent=function(a){VA.superClass_.setParent.call(this,a);return this};var WA=function(){RA.call(this,"url")};
x(WA,RA);WA.prototype.setSite=function(a){this.opts.site=a;return this};
WA.prototype.setType=function(a){this.opts.type=a;return this};
WA.prototype.setQuery=function(a){WA.superClass_.setQuery.call(this,a);return this};
WA.prototype.setParent=function(a){WA.superClass_.setParent.call(this,a);return this};var XA=function(){RA.call(this,"video-search")};
x(XA,RA);XA.prototype.setSite=function(a){this.opts.site=a;return this};
XA.prototype.setQuery=function(a){XA.superClass_.setQuery.call(this,a);return this};
XA.prototype.setParent=function(a){XA.superClass_.setParent.call(this,a);return this};var YA=function(){RA.call(this,"web")};
x(YA,RA);YA.prototype.setSite=function(a){this.opts.site=a;return this};
YA.prototype.setQuery=function(a){YA.superClass_.setQuery.call(this,a);return this};
YA.prototype.setParent=function(a){YA.superClass_.setParent.call(this,a);return this};var ZA=function(a){this.root_=u(a)?new RA(a):a;this.items_=[];this.opts={}},$A=function(a){switch(a){case "image-search":return new TA;
case "maps":return new UA;case "photos":return new VA;case "url":return new WA;case "video-search":return new XA;case "web":return new YA}return new RA(a)};
ZA.prototype.addView=function(a){this.items_.push(u(a)?$A(a):a);return this};
var aB=function(a){return"("+nb(a.items_,function(a){return a.toString()}).join(",")+")"},bB=function(a){a=Mb(a.opts,function(a){return null!==a});
return(a=Vb(a)?null:a)?Vj(Nb(a,function(a){return a.toString()})):""};
ZA.prototype.toString=function(){if(this.root_){var a=["{root:",this.root_.toString(),",items:",aB(this)],b=bB(this);b&&(a.push(",options:"),a.push(b));a.push("}");return a.join("")}return aB(this)};
ZA.prototype.getOptions=function(){return Zb(this.opts)};var cB=function(a){this.basePickerUrl_=a||"https://docs.google.com/picker";this.nav_=new ZA};
g=cB.prototype;g.nav_=null;g.domHelper_=null;g.addView=function(a){this.nav_.addView(a);return this};
g.getDomHelper=function(){return this.domHelper_};
g.setAppId=function(a){this.appId_=a;return this};
g.setCallback=function(a){this.callback_=a;return this};var eB=function(a,b,c,d,e,f,h){var k;if(k=c.offsetParent){var l="HTML"==k.tagName||"BODY"==k.tagName;if(!l||"static"!=ij(k)){var m=nj(k);l||(l=(l=vj(k))&&le?-k.scrollLeft:!l||ke&&Ce("8")||"visible"==hj(k,"overflowX")?k.scrollLeft:k.scrollWidth-k.clientWidth-k.scrollLeft,m=Df(m,new Cf(l,k.scrollTop)))}}k=m||new Cf;m=sj(a);(l=oj(a))&&m.intersection(new aj(l.left,l.top,l.right-l.left,l.bottom-l.top));var l=Hf(a),t=Hf(c);if(l.document_!=t.document_){var H=l.document_.body;var t=t.getWindow(),N=new Cf(0,
0),F=Tf(Gf(H));if(ge(F,"parent")){var I=H;do{if(F==t)var ga=nj(I);else ga=lj(I),ga=new Cf(ga.left,ga.top);N.x+=ga.x;N.y+=ga.y}while(F&&F!=t&&F!=F.parent&&(I=F.frameElement)&&(F=F.parent))}H=Df(N,nj(H));!C||Ee(9)||Qf(l.document_)||(H=Df(H,Sf(l.document_)));m.left+=H.x;m.top+=H.y}a=dB(a,b);b=m.left;a&4?b+=m.width:a&2&&(b+=m.width/2);b=new Cf(b,m.top+(a&1?m.height:0));b=Df(b,k);e&&(b.x+=(a&4?-1:1)*e.x,b.y+=(a&1?-1:1)*e.y);var L;h&&(L=oj(c))&&(L.top-=k.y,L.right-=k.x,L.bottom-=k.y,L.left-=k.x);e=L;L=
b.clone();b=dB(c,d);d=rj(c);a=d.clone();L=L.clone();a=a.clone();k=0;if(f||0!=b)b&4?L.x-=a.width+(f?f.right:0):b&2?L.x-=a.width/2:f&&(L.x+=f.left),b&1?L.y-=a.height+(f?f.bottom:0):f&&(L.y+=f.top);h&&(e?(f=L,b=a,k=0,65==(h&65)&&(f.x<e.left||f.x>=e.right)&&(h&=-2),132==(h&132)&&(f.y<e.top||f.y>=e.bottom)&&(h&=-5),f.x<e.left&&h&1&&(f.x=e.left,k|=1),h&16&&(m=f.x,f.x<e.left&&(f.x=e.left,k|=4),f.x+b.width>e.right&&(b.width=Math.min(e.right-f.x,m+b.width-e.left),b.width=Math.max(b.width,0),k|=4)),f.x+b.width>
e.right&&h&1&&(f.x=Math.max(e.right-b.width,e.left),k|=1),h&2&&(k|=(f.x<e.left?16:0)|(f.x+b.width>e.right?32:0)),f.y<e.top&&h&4&&(f.y=e.top,k|=2),h&32&&(m=f.y,f.y<e.top&&(f.y=e.top,k|=8),f.y+b.height>e.bottom&&(b.height=Math.min(e.bottom-f.y,m+b.height-e.top),b.height=Math.max(b.height,0),k|=8)),f.y+b.height>e.bottom&&h&4&&(f.y=Math.max(e.bottom-b.height,e.top),k|=2),h&8&&(k|=(f.y<e.top?64:0)|(f.y+b.height>e.bottom?128:0)),h=k):h=256,k=h);f=new aj(0,0,0,0);f.left=L.x;f.top=L.y;f.width=a.width;f.height=
a.height;h=k;h&496||(kj(c,new Cf(f.left,f.top)),a=cj(f),d==a||d&&a&&d.width==a.width&&d.height==a.height||(f=a,e=Qf(Hf(Gf(c)).document_),!C||Ce("10")||e&&Ce("8")?(c=c.style,le?c.MozBoxSizing="border-box":me?c.WebkitBoxSizing="border-box":c.boxSizing="border-box",c.width=Math.max(f.width,0)+"px",c.height=Math.max(f.height,0)+"px"):(d=c.style,e?(e=yj(c,"padding"),c=Bj(c),d.pixelWidth=f.width-c.left-e.left-e.right-c.right,d.pixelHeight=f.height-c.top-e.top-e.bottom-c.bottom):(d.pixelWidth=f.width,d.pixelHeight=
f.height))));return h},dB=function(a,b){return(b&8&&vj(a)?b^4:b)&-9};var fB=function(){};
pa(fB);fB.prototype.nextId_=0;var hB=function(a){Pi.call(this);this.dom_=a||Hf();this.rightToLeft_=gB;this.id_=null;this.inDocument_=!1;this.element_=null;this.googUiComponentHandler_=void 0;this.childIndex_=this.children_=this.parent_=null;this.wasDecorated_=!1};
x(hB,Pi);hB.prototype.idGenerator_=fB.getInstance();var gB=null;g=hB.prototype;g.getId=function(){return this.id_||(this.id_=":"+(this.idGenerator_.nextId_++).toString(36))};
g.getElement=function(){return this.element_};
g.getElementsByClass=function(a){return this.element_?this.dom_.getElementsByClass(a,this.element_):[]};
g.getElementByClass=function(a){return this.element_?this.dom_.getElementByClass(a,this.element_):null};
g.getRequiredElementByClass=function(a){return this.getElementByClass(a)};
g.getHandler=function(){this.googUiComponentHandler_||(this.googUiComponentHandler_=new Ui(this));return this.googUiComponentHandler_};
g.setParent=function(a){if(this==a)throw Error("Unable to set parent component");var b;if(b=a&&this.parent_&&this.id_){b=this.parent_;var c=this.id_;b=b.childIndex_&&c?Xb(b.childIndex_,c)||null:null}if(b&&this.parent_!=a)throw Error("Unable to set parent component");this.parent_=a;hB.superClass_.setParentEventTarget.call(this,a)};
g.getParent=function(){return this.parent_};
g.setParentEventTarget=function(a){if(this.parent_&&this.parent_!=a)throw Error("Method not supported");hB.superClass_.setParentEventTarget.call(this,a)};
g.getDomHelper=function(){return this.dom_};
g.createDom=function(){this.element_=this.dom_.createElement("DIV")};
g.render=function(a){if(this.inDocument_)throw Error("Component already rendered");this.element_||this.createDom();a?a.insertBefore(this.element_,null):this.dom_.document_.body.appendChild(this.element_);this.parent_&&!this.parent_.inDocument_||this.enterDocument()};
g.decorate=function(a){if(this.inDocument_)throw Error("Component already rendered");if(a&&this.canDecorate(a)){this.wasDecorated_=!0;var b=Gf(a);this.dom_&&this.dom_.document_==b||(this.dom_=Hf(a));this.decorateInternal(a);this.enterDocument()}else throw Error("Invalid element to decorate");};
g.canDecorate=function(){return!0};
g.decorateInternal=function(a){this.element_=a};
g.enterDocument=function(){this.inDocument_=!0;iB(this,function(a){!a.inDocument_&&a.getElement()&&a.enterDocument()})};
g.exitDocument=function(){iB(this,function(a){a.inDocument_&&a.exitDocument()});
this.googUiComponentHandler_&&this.googUiComponentHandler_.removeAll();this.inDocument_=!1};
g.disposeInternal=function(){this.inDocument_&&this.exitDocument();this.googUiComponentHandler_&&(this.googUiComponentHandler_.dispose(),delete this.googUiComponentHandler_);iB(this,function(a){a.dispose()});
!this.wasDecorated_&&this.element_&&eg(this.element_);this.parent_=this.element_=this.childIndex_=this.children_=null;hB.superClass_.disposeInternal.call(this)};
g.getContentElement=function(){return this.element_};
var iB=function(a,b){a.children_&&y(a.children_,b,void 0)};
hB.prototype.removeChild=function(a,b){if(a){var c=u(a)?a:a.getId();a=this.childIndex_&&c?Xb(this.childIndex_,c)||null:null;if(c&&a){var d=this.childIndex_;c in d&&delete d[c];ub(this.children_,a);b&&(a.exitDocument(),a.element_&&eg(a.element_));a.setParent(null)}}if(!a)throw Error("Child is not in parent component");return a};var jB=function(a){this.action=a;this.wfv=!1};var kB=function(a,b){jB.call(this,"set-drive-options");this.appId=a;this.appOrigin=b};
x(kB,jB);var lB=function(a){jB.call(this,"visibility");this.visible=a};
x(lB,jB);var mB=function(a,b,c){Pi.call(this);this.target=a;this.handle=b||a;this.limits=c||new aj(NaN,NaN,NaN,NaN);this.document_=Gf(a);this.eventHandler_=new Ui(this);ce(this,this.eventHandler_);this.deltaY=this.deltaX=this.startY=this.startX=this.screenY=this.screenX=this.clientY=this.clientX=0;this.enabled_=!0;this.dragging_=!1;this.preventMouseDown_=!0;this.hysteresisDistanceSquared_=0;this.useRightPositioningForRtl_=this.ieDragStartCancellingOn_=!1;Bi(this.handle,["touchstart","mousedown"],this.startDrag,
!1,this)};
x(mB,Pi);var nB=n.document&&n.document.documentElement&&!!n.document.documentElement.setCapture&&!!n.document.releaseCapture;mB.prototype.getHandler=function(){return this.eventHandler_};
mB.prototype.disposeInternal=function(){mB.superClass_.disposeInternal.call(this);Ji(this.handle,["touchstart","mousedown"],this.startDrag,!1,this);this.eventHandler_.removeAll();nB&&this.document_.releaseCapture();this.handle=this.target=null};
var oB=function(a){p(a.rightToLeft_)||(a.rightToLeft_=vj(a.target));return a.rightToLeft_};
mB.prototype.startDrag=function(a){var b="mousedown"==a.type;if(!this.enabled_||this.dragging_||b&&(!(li?0==a.event_.button:"click"==a.type||a.event_.button&pi[0])||me&&ne&&a.ctrlKey))this.dispatchEvent("earlycancel");else{if(0==this.hysteresisDistanceSquared_)if(this.dispatchEvent(new pB("start",this,a.clientX,a.clientY)))this.dragging_=!0,this.preventMouseDown_&&b&&a.preventDefault();else return;else this.preventMouseDown_&&b&&a.preventDefault();var b=this.document_,c=b.documentElement,d=!nB;this.eventHandler_.listen(b,
["touchmove","mousemove"],this.handleMove_,d);this.eventHandler_.listen(b,["touchend","mouseup"],this.endDrag,d);nB?(c.setCapture(!1),this.eventHandler_.listen(c,"losecapture",this.endDrag)):this.eventHandler_.listen(Tf(b),"blur",this.endDrag);C&&this.ieDragStartCancellingOn_&&this.eventHandler_.listen(b,"dragstart",ki);this.scrollTarget_&&this.eventHandler_.listen(this.scrollTarget_,"scroll",this.onScroll_,d);this.clientX=this.startX=a.clientX;this.clientY=this.startY=a.clientY;this.screenX=a.screenX;
this.screenY=a.screenY;this.useRightPositioningForRtl_?(a=this.target,c=a.offsetLeft,d=a.offsetParent,d||"fixed"!=ij(a)||(d=Gf(a).documentElement),d?(le?(b=Bj(d),c+=b.left):Ee(8)&&!Ee(9)&&(b=Bj(d),c-=b.left),a=vj(d)?d.clientWidth-(c+a.offsetWidth):c):a=c):a=this.target.offsetLeft;this.deltaX=a;this.deltaY=this.target.offsetTop;this.pageScroll=Sf(Hf(this.document_).document_)}};
mB.prototype.endDrag=function(a){this.eventHandler_.removeAll();nB&&this.document_.releaseCapture();this.dragging_?(this.dragging_=!1,this.dispatchEvent(new pB("end",this,a.clientX,a.clientY,0,qB(this,this.deltaX),rB(this,this.deltaY)))):this.dispatchEvent("earlycancel")};
mB.prototype.handleMove_=function(a){if(this.enabled_){var b=(this.useRightPositioningForRtl_&&oB(this)?-1:1)*(a.clientX-this.clientX),c=a.clientY-this.clientY;this.clientX=a.clientX;this.clientY=a.clientY;this.screenX=a.screenX;this.screenY=a.screenY;if(!this.dragging_){var d=this.startX-this.clientX,e=this.startY-this.clientY;if(d*d+e*e>this.hysteresisDistanceSquared_)if(this.dispatchEvent(new pB("start",this,a.clientX,a.clientY)))this.dragging_=!0;else{this.isDisposed()||this.endDrag(a);return}}c=
sB(this,b,c);b=c.x;c=c.y;this.dragging_&&this.dispatchEvent(new pB("beforedrag",this,a.clientX,a.clientY,0,b,c))&&(tB(this,a,b,c),a.preventDefault())}};
var sB=function(a,b,c){var d=Sf(Hf(a.document_).document_);b+=d.x-a.pageScroll.x;c+=d.y-a.pageScroll.y;a.pageScroll=d;a.deltaX+=b;a.deltaY+=c;return new Cf(qB(a,a.deltaX),rB(a,a.deltaY))};
mB.prototype.onScroll_=function(a){var b=sB(this,0,0);a.clientX=this.clientX;a.clientY=this.clientY;tB(this,a,b.x,b.y)};
var tB=function(a,b,c,d){a.useRightPositioningForRtl_&&oB(a)?a.target.style.right=c+"px":a.target.style.left=c+"px";a.target.style.top=d+"px";a.dispatchEvent(new pB("drag",a,b.clientX,b.clientY,0,c,d))},qB=function(a,b){var c=a.limits;
a=isNaN(c.left)?null:c.left;c=isNaN(c.width)?0:c.width;return Math.min(null!=a?a+c:Infinity,Math.max(null!=a?a:-Infinity,b))},rB=function(a,b){var c=a.limits;
a=isNaN(c.top)?null:c.top;c=isNaN(c.height)?0:c.height;return Math.min(null!=a?a+c:Infinity,Math.max(null!=a?a:-Infinity,b))},pB=function(a,b,c,d,e,f,h){ji.call(this,a);
this.clientX=c;this.clientY=d;this.left=p(f)?f:b.deltaX;this.top=p(h)?h:b.deltaY};
x(pB,ji);(function(){for(var a=["ms","moz","webkit","o"],b=0,c;c=a[b]&&!n.requestAnimationFrame;++b)n.requestAnimationFrame=n[c+"RequestAnimationFrame"],n.cancelAnimationFrame=n[c+"CancelAnimationFrame"]||n[c+"CancelRequestAnimationFrame"];if(!n.requestAnimationFrame){var d=0;n.requestAnimationFrame=function(a){var b=(new Date).getTime(),c=Math.max(0,16-(b-d));d=b+c;return n.setTimeout(function(){a(b+c)},c)};
n.cancelAnimationFrame||(n.cancelAnimationFrame=function(a){clearTimeout(a)})}})();
var uB=[[],[]],vB=0,wB=!1,xB=0,zB=function(a,b){var c=xB++,d={measureTask:{id:c,fn:a.measure,context:b},mutateTask:{id:c,fn:a.mutate,context:b},state:{},args:void 0,isScheduled:!1};return function(){0<arguments.length?(d.args||(d.args=[]),d.args.length=0,d.args.push.apply(d.args,arguments),d.args.push(d.state)):d.args&&0!=d.args.length?(d.args[0]=d.state,d.args.length=1):d.args=[d.state];d.isScheduled||(d.isScheduled=!0,uB[vB].push(d));wB||(wB=!0,window.requestAnimationFrame(yB))}},yB=function(){wB=
!1;
var a=uB[vB],b=a.length;vB=(vB+1)%2;for(var c,d=0;d<b;++d){c=a[d];var e=c.measureTask;c.isScheduled=!1;e.fn&&e.fn.apply(e.context,c.args)}for(d=0;d<b;++d)c=a[d],e=c.mutateTask,c.isScheduled=!1,e.fn&&e.fn.apply(e.context,c.args),c.state={};a.length=0};var AB=C?'javascript:""':"about:blank";var BB=function(a,b){this.element_=a;this.dom_=b};var CB=function(a,b){hB.call(this,b);this.useIframeMask_=!!a;this.lastFocus_=null;this.resizeBackgroundTask_=zB({mutate:this.resizeBackground_},this)};
x(CB,hB);g=CB.prototype;g.focusHandler_=null;g.visible_=!1;g.bgEl_=null;g.bgIframeEl_=null;g.tabCatcherElement_=null;g.backwardTabWrapInProgress_=!1;g.getCssClass=function(){return"goog-modalpopup"};
g.getBackgroundElement=function(){return this.bgEl_};
g.createDom=function(){CB.superClass_.createDom.call(this);var a=this.getElement(),b=Ja(this.getCssClass()).split(" ");Mj(a,b);a.tabIndex=0;uj(a,!1);DB(this);EB(this)};
var DB=function(a){if(a.useIframeMask_&&!a.bgIframeEl_){var b=a.getDomHelper().createDom("IFRAME",{frameborder:0,style:"border:0;vertical-align:bottom;",src:AB});a.bgIframeEl_=b;a.bgIframeEl_.className=a.getCssClass()+"-bg";uj(a.bgIframeEl_,!1);tj(a.bgIframeEl_,0)}a.bgEl_||(a.bgEl_=a.getDomHelper().createDom("DIV",a.getCssClass()+"-bg"),uj(a.bgEl_,!1))},EB=function(a){a.tabCatcherElement_||(a.tabCatcherElement_=a.getDomHelper().createElement("SPAN"),uj(a.tabCatcherElement_,!1),a.tabCatcherElement_.tabIndex=
0,a.tabCatcherElement_.style.position="absolute")};
g=CB.prototype;g.resetBackwardTabWrap_=function(){this.backwardTabWrapInProgress_=!1};
g.canDecorate=function(a){return!!a&&"DIV"==a.tagName};
g.decorateInternal=function(a){CB.superClass_.decorateInternal.call(this,a);a=Ja(this.getCssClass()).split(" ");Mj(this.getElement(),a);DB(this);EB(this);this.getElement().tabIndex=0;uj(this.getElement(),!1)};
g.enterDocument=function(){this.bgIframeEl_&&bg(this.bgIframeEl_,this.getElement());bg(this.bgEl_,this.getElement());CB.superClass_.enterDocument.call(this);cg(this.tabCatcherElement_,this.getElement());this.focusHandler_=new Xi(this.getDomHelper().document_);this.getHandler().listen(this.focusHandler_,"focusin",this.onFocus);FB(this,!1)};
g.exitDocument=function(){this.isVisible()&&this.setVisible(!1);be(this.focusHandler_);CB.superClass_.exitDocument.call(this);eg(this.bgIframeEl_);eg(this.bgEl_);eg(this.tabCatcherElement_)};
g.setVisible=function(a){if(a!=this.visible_)if(this.popupShowTransition_&&this.popupShowTransition_.stop(),this.bgShowTransition_&&this.bgShowTransition_.stop(),this.popupHideTransition_&&this.popupHideTransition_.stop(),this.bgHideTransition_&&this.bgHideTransition_.stop(),this.inDocument_&&FB(this,a),a){if(this.dispatchEvent("beforeshow")){try{this.lastFocus_=this.getDomHelper().document_.activeElement}catch(e){}this.resizeBackground_();this.reposition();this.getHandler().listen(this.getDomHelper().getWindow(),
"resize",this.resizeBackground_).listen(this.getDomHelper().getWindow(),"orientationchange",this.resizeBackgroundTask_);GB(this,!0);this.focus();this.visible_=!0;if(this.popupShowTransition_&&this.bgShowTransition_)Ii(this.popupShowTransition_,"end",this.onShow,!1,this),this.bgShowTransition_.play(),this.popupShowTransition_.play();else this.onShow()}}else if(this.dispatchEvent("beforehide")){this.getHandler().unlisten(this.getDomHelper().getWindow(),"resize",this.resizeBackground_).unlisten(this.getDomHelper().getWindow(),
"orientationchange",this.resizeBackgroundTask_);this.visible_=!1;if(this.popupHideTransition_&&this.bgHideTransition_)Ii(this.popupHideTransition_,"end",this.onHide,!1,this),this.bgHideTransition_.play(),this.popupHideTransition_.play();else this.onHide();a:{try{var b=this.getDomHelper(),c=b.document_.body,d=b.document_.activeElement||c;if(!this.lastFocus_||this.lastFocus_==c){this.lastFocus_=null;break a}(d==c||b.contains(this.getElement(),d))&&this.lastFocus_.focus()}catch(e){}this.lastFocus_=null}}};
var FB=function(a,b){a.modalAriaVisibilityHelper_||(a.modalAriaVisibilityHelper_=new BB(a.element_,a.dom_));a=a.modalAriaVisibilityHelper_;if(b){a.hiddenElements_||(a.hiddenElements_=[]);b=a.dom_.getChildren(a.dom_.document_.body);for(var c=0;c<b.length;c++){var d=b[c],e;if(e=d!=a.element_)e=d.getAttribute("aria-hidden"),e=!(null==e||void 0==e?0:String(e));e&&(ii(d,"hidden",!0),a.hiddenElements_.push(d))}}else if(a.hiddenElements_){for(c=0;c<a.hiddenElements_.length;c++)a.hiddenElements_[c].removeAttribute("aria-hidden");
a.hiddenElements_=null}},GB=function(a,b){a.bgIframeEl_&&uj(a.bgIframeEl_,b);
a.bgEl_&&uj(a.bgEl_,b);uj(a.getElement(),b);uj(a.tabCatcherElement_,b)};
g=CB.prototype;g.onShow=function(){this.dispatchEvent("show")};
g.onHide=function(){GB(this,!1);this.dispatchEvent("hide")};
g.isVisible=function(){return this.visible_};
g.focus=function(){this.focusElement_()};
g.resizeBackground_=function(){this.bgIframeEl_&&uj(this.bgIframeEl_,!1);this.bgEl_&&uj(this.bgEl_,!1);var a=this.getDomHelper().document_,b=Pf(Tf(a)||window),c=Math.max(b.width,Math.max(a.body.scrollWidth,a.documentElement.scrollWidth)),a=Math.max(b.height,Math.max(a.body.scrollHeight,a.documentElement.scrollHeight));this.bgIframeEl_&&(uj(this.bgIframeEl_,!0),pj(this.bgIframeEl_,c,a));this.bgEl_&&(uj(this.bgEl_,!0),pj(this.bgEl_,c,a))};
g.reposition=function(){var a;var b=this.getDomHelper().document_;var c=Tf(b)||window;"fixed"==ij(this.getElement())?b=a=0:(b=Sf(this.getDomHelper().document_),a=b.x,b=b.y);var d=rj(this.getElement()),c=Pf(c);a=Math.max(a+c.width/2-d.width/2,0);b=Math.max(b+c.height/2-d.height/2,0);kj(this.getElement(),a,b);kj(this.tabCatcherElement_,a,b)};
g.onFocus=function(a){this.backwardTabWrapInProgress_?this.resetBackwardTabWrap_():a.target==this.tabCatcherElement_&&Si(this.focusElement_,0,this)};
g.focusElement_=function(){try{C&&this.getDomHelper().document_.body.focus(),this.getElement().focus()}catch(a){}};
g.disposeInternal=function(){be(this.popupShowTransition_);this.popupShowTransition_=null;be(this.popupHideTransition_);this.popupHideTransition_=null;be(this.bgShowTransition_);this.bgShowTransition_=null;be(this.bgHideTransition_);this.bgHideTransition_=null;CB.superClass_.disposeInternal.call(this)};var KB=function(a,b,c){CB.call(this,b,c);this.class_=a||"modal-dialog";this.buttons_=(new HB).addButton(IB,!0).addButton(JB,!1,!0)};
x(KB,CB);g=KB.prototype;g.escapeToCancel_=!0;g.hasTitleCloseButton_=!0;g.modal_=!0;g.draggable_=!0;g.backgroundElementOpacity_=.5;g.title_="";g.content_=null;g.dragger_=null;g.disposeOnHide_=!1;g.titleEl_=null;g.titleTextEl_=null;g.titleTextId_=null;g.titleCloseEl_=null;g.contentEl_=null;g.buttonEl_=null;g.preferredAriaRole_="dialog";g.getCssClass=function(){return this.class_};
g.setTitle=function(a){this.title_=a;this.titleTextEl_&&qg(this.titleTextEl_,a)};
g.getContentElement=function(){this.getElement()||this.render();return this.contentEl_};
var LB=function(a){a.getElement()||a.render();return a.getElement()};
KB.prototype.getBackgroundElement=function(){this.getElement()||this.render();return KB.superClass_.getBackgroundElement.call(this)};
var MB=function(a,b){a.backgroundElementOpacity_=b;a.getElement()&&(b=a.getBackgroundElement())&&tj(b,a.backgroundElementOpacity_)},NB=function(a,b){var c=Ja(a.class_+"-title-draggable").split(" ");
a.getElement()&&(b?Mj(a.titleEl_,c):Nj(a.titleEl_,c));b&&!a.dragger_?(b=new mB(a.getElement(),a.titleEl_),a.dragger_=b,Mj(a.titleEl_,c),Bi(a.dragger_,"start",a.setDraggerLimits_,!1,a)):!b&&a.dragger_&&(a.dragger_.dispose(),a.dragger_=null)};
g=KB.prototype;
g.createDom=function(){KB.superClass_.createDom.call(this);var a=this.getElement(),b=this.getDomHelper();this.titleEl_=b.createDom("DIV",this.class_+"-title",this.titleTextEl_=b.createDom("SPAN",{className:this.class_+"-title-text",id:this.getId()},this.title_),this.titleCloseEl_=b.createDom("SPAN",this.class_+"-title-close"));$f(a,this.titleEl_,this.contentEl_=b.createDom("DIV",this.class_+"-content"),this.buttonEl_=b.createDom("DIV",this.class_+"-buttons"));hi(this.titleTextEl_,"heading");hi(this.titleCloseEl_,
"button");this.titleCloseEl_.tabIndex=0;ii(this.titleCloseEl_,"label","Close");this.titleTextId_=this.titleTextEl_.id;hi(a,this.preferredAriaRole_);ii(a,"labelledby",this.titleTextId_||"");this.content_&&vf(this.contentEl_,this.content_);uj(this.titleCloseEl_,this.hasTitleCloseButton_);this.buttons_&&(a=this.buttons_,a.element_=this.buttonEl_,a.render());uj(this.buttonEl_,!!this.buttons_);MB(this,this.backgroundElementOpacity_)};
g.decorateInternal=function(a){KB.superClass_.decorateInternal.call(this,a);a=this.getElement();var b=this.class_+"-content";this.contentEl_=Kf(document,null,b,a)[0];this.contentEl_||(this.contentEl_=this.getDomHelper().createDom("DIV",b),this.content_&&vf(this.contentEl_,this.content_),a.appendChild(this.contentEl_));var b=this.class_+"-title",c=this.class_+"-title-text",d=this.class_+"-title-close";(this.titleEl_=Kf(document,null,b,a)[0])?(this.titleTextEl_=Kf(document,null,c,this.titleEl_)[0],
this.titleCloseEl_=Kf(document,null,d,this.titleEl_)[0]):(this.titleEl_=this.getDomHelper().createDom("DIV",b),a.insertBefore(this.titleEl_,this.contentEl_));this.titleTextEl_?(this.title_=zg(this.titleTextEl_),this.titleTextEl_.id||(this.titleTextEl_.id=this.getId())):(this.titleTextEl_=Vf("SPAN",{className:c,id:this.getId()}),this.titleEl_.appendChild(this.titleTextEl_));this.titleTextId_=this.titleTextEl_.id;ii(a,"labelledby",this.titleTextId_||"");this.titleCloseEl_||(this.titleCloseEl_=this.getDomHelper().createDom("SPAN",
d),this.titleEl_.appendChild(this.titleCloseEl_));uj(this.titleCloseEl_,this.hasTitleCloseButton_);b=this.class_+"-buttons";(this.buttonEl_=Kf(document,null,b,a)[0])?(this.buttons_=new HB(this.getDomHelper()),this.buttons_.decorate(this.buttonEl_)):(this.buttonEl_=this.getDomHelper().createDom("DIV",b),a.appendChild(this.buttonEl_),this.buttons_&&(a=this.buttons_,a.element_=this.buttonEl_,a.render()),uj(this.buttonEl_,!!this.buttons_));MB(this,this.backgroundElementOpacity_)};
g.enterDocument=function(){KB.superClass_.enterDocument.call(this);this.getHandler().listen(this.getElement(),"keydown",this.onKey_).listen(this.getElement(),"keypress",this.onKey_);this.getHandler().listen(this.buttonEl_,"click",this.onButtonClick_);NB(this,this.draggable_);this.getHandler().listen(this.titleCloseEl_,"click",this.onTitleCloseClick_);var a=this.getElement();hi(a,this.preferredAriaRole_);""!==this.titleTextEl_.id&&ii(a,"labelledby",this.titleTextEl_.id);if(!this.modal_){this.modal_=
!1;if(this.inDocument_){var a=this.getDomHelper(),b=this.getBackgroundElement();a.removeNode(this.bgIframeEl_);a.removeNode(b)}this.isVisible()&&FB(this,!1)}};
g.exitDocument=function(){this.isVisible()&&this.setVisible(!1);NB(this,!1);KB.superClass_.exitDocument.call(this)};
g.setVisible=function(a){a!=this.isVisible()&&(this.inDocument_||this.render(),KB.superClass_.setVisible.call(this,a))};
g.onShow=function(){KB.superClass_.onShow.call(this);this.dispatchEvent("aftershow")};
g.onHide=function(){KB.superClass_.onHide.call(this);this.dispatchEvent("afterhide");this.disposeOnHide_&&this.dispose()};
g.setDraggerLimits_=function(){var a=this.getDomHelper().document_,b=Pf(Tf(a)||window),c=Math.max(a.body.scrollWidth,b.width),a=Math.max(a.body.scrollHeight,b.height),d=rj(this.getElement());"fixed"==ij(this.getElement())?this.dragger_.limits=new aj(0,0,Math.max(0,b.width-d.width),Math.max(0,b.height-d.height)):this.dragger_.limits=new aj(0,0,c-d.width,a-d.height)};
g.onTitleCloseClick_=function(){OB(this)};
var OB=function(a){if(a.hasTitleCloseButton_){var b=a.buttons_,c=b&&b.cancelButton_;c?(b=b.get(c),a.dispatchEvent(new PB(c,b))&&a.setVisible(!1)):a.setVisible(!1)}};
KB.prototype.setDisposeOnHide=function(a){this.disposeOnHide_=a};
KB.prototype.disposeInternal=function(){this.buttonEl_=this.titleCloseEl_=null;KB.superClass_.disposeInternal.call(this)};
KB.prototype.onButtonClick_=function(a){a:{for(a=a.target;null!=a&&a!=this.buttonEl_;){if("BUTTON"==a.tagName)break a;a=a.parentNode}a=null}if(a&&!a.disabled){a=a.name;var b=this.buttons_.get(a);this.dispatchEvent(new PB(a,b))&&this.setVisible(!1)}};
KB.prototype.onKey_=function(a){var b=!1,c=!1,d=this.buttons_;var e=a.target;if("keydown"==a.type)if(this.escapeToCancel_&&27==a.keyCode){var f=d&&d.cancelButton_;e="SELECT"==e.tagName&&!e.disabled;f&&!e?(c=!0,b=d.get(f),b=this.dispatchEvent(new PB(f,b))):e||(b=!0)}else{if(9==a.keyCode&&a.shiftKey&&e==this.getElement()){this.backwardTabWrapInProgress_=!0;try{this.tabCatcherElement_.focus()}catch(t){}Si(this.resetBackwardTabWrap_,0,this)}}else if(13==a.keyCode){if("BUTTON"==e.tagName&&!e.disabled)f=
e.name;else if(e==this.titleCloseEl_)OB(this);else if(d){var h=d.defaultButton_,k;if(k=h)a:{k=Jf("BUTTON",d.element_);for(var l=0,m;m=k[l];l++)if(m.name==h||m.id==h){k=m;break a}k=null}e=("TEXTAREA"==e.tagName||"SELECT"==e.tagName||"A"==e.tagName)&&!e.disabled;!k||k.disabled||e||(f=h)}f&&d&&(c=!0,b=this.dispatchEvent(new PB(f,String(d.get(f)))))}else e==this.titleCloseEl_&&32==a.keyCode&&OB(this);if(b||c)a.stopPropagation(),a.preventDefault();b&&this.setVisible(!1)};
var PB=function(a,b){this.type="dialogselect";this.key=a;this.caption=b};
x(PB,ji);var HB=function(a){this.dom_=a||Hf();cd.call(this)};
x(HB,cd);g=HB.prototype;g.class_="goog-buttonset";g.defaultButton_=null;g.element_=null;g.cancelButton_=null;g.set=function(a,b,c,d){cd.prototype.set.call(this,a,b);c&&(this.defaultButton_=a);d&&(this.cancelButton_=a);return this};
g.addButton=function(a,b,c){return this.set(a.key,a.caption,b,c)};
g.render=function(){if(this.element_){vf(this.element_,tf);var a=Hf(this.element_);this.forEach(function(b,c){b=a.createDom("BUTTON",{name:c},b);c==this.defaultButton_&&(b.className=this.class_+"-default");this.element_.appendChild(b)},this)}};
g.decorate=function(a){if(a&&1==a.nodeType){this.element_=a;a=Jf("BUTTON",this.element_);for(var b=0,c,d,e;c=a[b];b++)if(d=c.name||c.id,e=zg(c)||c.value,d){var f=0==b;this.set(d,e,f,"cancel"==c.name);f&&O(c,this.class_+"-default")}}};
g.getElement=function(){return this.element_};
g.getDomHelper=function(){return this.dom_};
var IB={key:"ok",caption:"OK"},JB={key:"cancel",caption:"Cancel"},QB={key:"yes",caption:"Yes"},RB={key:"no",caption:"No"},SB={key:"save",caption:"Save"},TB={key:"continue",caption:"Continue"};"undefined"!=typeof document&&((new HB).addButton(IB,!0,!0),(new HB).addButton(IB,!0).addButton(JB,!1,!0),(new HB).addButton(QB,!0).addButton(RB,!1,!0),(new HB).addButton(QB).addButton(RB,!0).addButton(JB,!1,!0),(new HB).addButton(TB).addButton(SB).addButton(JB,!0,!0));var UB=function(a,b,c){KB.call(this,a,b,c)};
x(UB,KB);var VB=function(a){cB.call(this,a)};
x(VB,cB);var WB=Ze(Oe(Pe("//www-onepick-opensocial.googleusercontent.com/gadgets/js/rpc.js?c=1&container=onepick"))),XB=Ze(Oe(Pe("//apis.google.com/js/rpc.js"))),YB=function(a){a=a&&a.getWindow()||window;return a.gadgets&&a.gadgets.rpc},ZB=null,$B=function(a,b){var c=b&&b.getWindow()||window;
if(YB(b))a();else if(ZB)ZB.push(a);else var d=ZB=[a],e=c.setInterval(function(){if(YB(b)){c.clearInterval(e);for(var a=0;a<d.length;a++)d[a]();ZB=null}},100)};var aC=function(a,b){var c;a:{for(c=b.target;c;){if(1==c.nodeType){var d=hj(c,"overflowY");if("auto"==d||"scroll"==d)break a}c=c.parentNode}c=null}if(!c||!og(a,c)||c.scrollHeight==c.clientHeight||0<b.deltaY&&1>=Math.abs(c.scrollTop-(c.scrollHeight-c.clientHeight))||0>b.deltaY&&0==c.scrollTop)b.preventDefault(),b.stopPropagation()};var bC;var cC=function(a,b,c,d,e,f){KB.call(this,f?f+" "+this.className_:this.className_,!0,c);c=a.search(wd);f=vd(a,0,"protocol",c);if(!(0>f)){var h=a.indexOf("&",f);if(0>h||h>c)h=c;f+=9;La(a.substr(f,h-f))}this.targetId_=eb();this.rpcToken_=eb();c=S(S(new $n(a),"rpctoken",this.rpcToken_),"rpcService",this.targetId_);c.setScheme("https");this.url_=c.toString();this.iframe_&&(this.iframe_.src=this.url_);this.preferredDialogWidth_=d;this.preferredDialogHeight_=e;p(void 0)?d=void 0:p(d)||p(e)?d=!0:(d=ro(to(a),
"hostId"),bC||(bC=new Ud("DocVerse fusiontables geo geowiki gm gmail-gadget gws hotpot jointly presentations pwa sites templates trix trix-copy-sheet webstore".split(" "))),d=!bC.contains(d));this.autoSizeDialog_=d;b&&(ro(to(a),"hostId"),d=this.getDomHelper(),b="true"==ro(to(this.url_),"grugl")?XB:WB,YB(d)||(d=d||Hf(document),e=d.createElement("script"),zf(e,b),e.type="text/javascript",d.document_.body.appendChild(e)));b=null;d=a.indexOf("/picker?");-1<d?b=a.substring(0,d+8-1):Ga(a,"/picker")&&(b=
a);b&&this.setRelayUrl(b+"/resources/rpc_relay.html");this.escapeToCancel_=!1;this.buttons_=null;this.buttonEl_&&(this.buttons_?(a=this.buttons_,a.element_=this.buttonEl_,a.render()):vf(this.buttonEl_,tf),uj(this.buttonEl_,!!this.buttons_))};
x(cC,UB);g=cC.prototype;g.className_="picker modal-dialog";g.url_="";g.iframe_=null;g.iframeLoaded_=!1;g.loadedFired_=!1;g.callback_=oa;g.enterDocument=function(){cC.superClass_.enterDocument.call(this);var a=this.getBackgroundElement(),b=this.getHandler(),c=new Cj(a);ce(b,c);b.listen(c,"mousewheel",v(aC,void 0,a)).listen(a,"scroll",v(aC,void 0,a))};
g.render=function(a){cC.superClass_.render.call(this,a);this.iframe_=this.dom_.createDom("IFRAME",{id:this.targetId_,name:this.targetId_,"class":"picker-frame",onload:v(this.handleIFrameLoad_,this),frameBorder:"0"});yf(this.iframe_,dC(this));this.getContentElement().appendChild(this.iframe_);O(this.getElement(),"picker-dialog");this.iframe_.src=this.url_;eC(this,v(function(a){a.setAuthToken(this.targetId_,this.rpcToken_)},this));
(a=ro(to(this.url_),"title"))&&this.setTitle(a)};
var dC=function(a){return C&&Ce("7")&&0==a.url_.lastIndexOf("https",0)?Ze(Oe(Pe("https://about:blank"))):C?Ze(Oe(Pe('javascript:""'))):Ze(Oe(Pe("about:blank")))};
cC.prototype.handleIFrameLoad_=function(){this.iframe_.src!=Ye(dC(this))&&(this.iframeLoaded_=!0,this.getHandler().unlisten(this.getDomHelper().getWindow(),"keydown",this.handleKeydown_),this.iframe_.tabIndex=0,this.isVisible()&&this.focus())};
cC.prototype.handleKeydown_=function(a){27==a.keyCode&&(this.setVisible(!1),this.callback_({action:"cancel"}),a.stopPropagation(),a.preventDefault())};
var eC=function(a,b){var c=a.getDomHelper();$B(function(){b(c.getWindow().gadgets.rpc)},c)};
cC.prototype.setAppId=function(a){this.appId_=a;this.loadedFired_&&fC(this)};
cC.prototype.setCallback=function(a){this.callback_=a;eC(this,v(function(a){a.register(this.targetId_,v(this.handlePickerAction_,this))},this))};
cC.prototype.handlePickerAction_=function(a){var b=a.action;"loaded"==b&&(this.loadedFired_=!0,gC(this,new lB(this.isVisible())),fC(this),this.hasTitleCloseButton_=!1,this.titleCloseEl_&&uj(this.titleCloseEl_,this.hasTitleCloseButton_));"picked"!=b&&"cancel"!=b||this.setVisible(!1);this.callback_(a)};
var fC=function(a){a.appId_&&gC(a,new kB(a.appId_,window.location.protocol+"//"+window.location.host))};
cC.prototype.setRelayUrl=function(a){eC(this,v(function(b){b.setRelayUrl(this.targetId_,a)},this))};
var gC=function(a,b){eC(a,v(function(a){a.call(this.targetId_,"picker",null,b)},a))};
cC.prototype.resizePicker_=function(){var a=this.getDomHelper().document_,a=Tf(a)||window;if("true"==ro(to(this.url_),"shadeDialog")){var b=yj(LB(this),"margin"),c=Pf(a),a=c.width-80,c=c.height-40;b&&(a-=b.left?b.left:0,a-=b.right?b.right:0,c-=b.top?b.top:0,c-=b.bottom?b.bottom:0);a=new Ef(0<a?a:0,0<c?c:0)}else{var b=this.preferredDialogWidth_;if(b){c=Math.max(320,Math.min(1051,b));b=this.preferredDialogHeight_;b||(b=Pf(a),b=.85*b.height);var d=Math.max(320,Math.min(650,b))}else b=Pf(a),c=.618*b.width,
d=c<b.height?Math.round(Math.max(320,Math.min(650,.85*c))):Math.round(Math.max(320,Math.min(650,.85*b.height))),c=Math.round(d/.618);b=Pf(a);c=Math.min(c,Math.max(b.width,320));d=Math.min(d,Math.max(b.height,320));a=new Ef(c,d)}pj(this.getContentElement(),a);this.reposition()};
cC.prototype.reposition=function(){if("true"==ro(to(this.url_),"shadeDialog")){var a=rj(this.getElement()),b=Pf(this.getDomHelper().getWindow()),a=Math.floor(b.width/2-a.width/2);if(b=yj(LB(this),"margin")){var c=0+(b.left?b.left:0);c+=b.right?b.right:0;a=Math.floor(a-c/2)}a=0<a?a:0;b=Sf(this.getDomHelper().document_).y;kj(this.getElement(),a,b)}else cC.superClass_.reposition.call(this)};
cC.prototype.setVisible=function(a){if(a!=this.isVisible()&&this.autoSizeDialog_){var b=this.getDomHelper().getWindow();a?(this.resizePicker_(),this.getHandler().listen(b,"resize",this.resizePicker_),this.iframeLoaded_||this.getHandler().listen(b,"keydown",this.handleKeydown_)):(this.getHandler().unlisten(b,"resize",this.resizePicker_),this.iframeLoaded_||this.getHandler().unlisten(b,"keydown",this.handleKeydown_))}cC.superClass_.setVisible.call(this,a);gC(this,new lB(a))};
cC.prototype.focus=function(){cC.superClass_.focus.call(this);if(this.iframe_&&this.iframeLoaded_)try{this.iframe_.focus()}catch(a){}};var hC=function(a){cB.call(this,a);this.uri_=new $n(this.basePickerUrl_);S(this.uri_,"protocol","gadgets");(a=window.location.origin)||(a=window.location.protocol+"//"+window.location.host);this.setOrigin(a);this.postProcessors_=[];this.additionalClasses_=""};
x(hC,VB);g=hC.prototype;g.loadGadgets_=!0;g.disposeOnHide_=!1;
g.build=function(){ro(this.uri_,"relayUrl")||this.setRelayUrl(eo(go(fo(to(window.location.href),void 0),""),"//s.ytimg.com/yts/favicon-vflz7uhzw.ico").toString());if(ro(this.uri_,"minimal"))throw Error("use buildMinimal to build minimal picker");var a=new cC(this.toUri().toString(),this.loadGadgets_,this.getDomHelper(),this.dialogWidth_,this.dialogHeight_,this.additionalClasses_);a.setDisposeOnHide(this.disposeOnHide_);a.setAppId(this.appId_);a.setCallback(this.callback_);return a};
g.getHeight=function(){return this.dialogHeight_};
g.getWidth=function(){return this.dialogWidth_};
g.setDisposeOnHide=function(a){this.disposeOnHide_=a;return this};
g.setOrigin=function(a){a&&S(this.uri_,"origin",a);return this};
g.setOAuthToken=function(a){S(this.uri_,"oauth_token",a);return this};
g.setRelayUrl=function(a){S(this.uri_,"relayUrl",a);return this};
g.setSize=function(a,b){this.dialogWidth_=a;this.dialogHeight_=b;return this};
g.setTitle=function(a){S(this.uri_,"title",a);return this};
g.toUri=function(){this.postProcessors_.length&&S(this.uri_,"pp",Vj(this.postProcessors_));return S(this.uri_,"nav",aB(this.nav_)).clone()};var kC=function(a,b){p(a.name)?(this.name=a.name,this.code=iC[a.name]):(this.code=a.code,this.name=jC(a.code));Ea.call(this,Ha("%s %s",this.name,b))};
x(kC,Ea);var jC=function(a){var b=Tb(iC,function(b){return a==b});
if(!p(b))throw Error("Invalid code: "+a);return b},iC={AbortError:3,
EncodingError:5,InvalidModificationError:9,InvalidStateError:7,NotFoundError:1,NotReadableError:4,NoModificationAllowedError:6,PathExistsError:12,QuotaExceededError:10,SecurityError:2,SyntaxError:8,TypeMismatchError:11};var lC=function(a,b){ji.call(this,a.type,b);this.event_=a};
x(lC,ji);var mC=function(){Pi.call(this);this.reader_=new FileReader;this.reader_.onloadstart=v(this.dispatchProgressEvent_,this);this.reader_.onprogress=v(this.dispatchProgressEvent_,this);this.reader_.onload=v(this.dispatchProgressEvent_,this);this.reader_.onabort=v(this.dispatchProgressEvent_,this);this.reader_.onerror=v(this.dispatchProgressEvent_,this);this.reader_.onloadend=v(this.dispatchProgressEvent_,this)};
x(mC,Pi);g=mC.prototype;g.abort=function(){try{this.reader_.abort()}catch(a){throw new kC(a,"aborting read");}};
g.getReadyState=function(){return this.reader_.readyState};
g.getError=function(){return this.reader_.error&&new kC(this.reader_.error,"reading file")};
g.dispatchProgressEvent_=function(a){this.dispatchEvent(new lC(a,this))};
g.disposeInternal=function(){mC.superClass_.disposeInternal.call(this);delete this.reader_};
g.readAsBinaryString=function(a){this.reader_.readAsBinaryString(a)};
g.readAsArrayBuffer=function(a){this.reader_.readAsArrayBuffer(a)};
var oC=function(a){var b=new mC,c=nC(b);b.readAsArrayBuffer(a);return c};
mC.prototype.readAsText=function(a,b){this.reader_.readAsText(a,b)};
var pC=function(a){var b=new mC,c=nC(b);b.reader_.readAsDataURL(a);return c},nC=function(a){var b=new iu;
a.listen("loadend",Ba(function(a,b){var c=b.reader_.result,d=b.getError();null==c||d?a.errback(d):a.callback(c);b.dispose()},b,a));
return b};var qC=function(a,b,c){p(c)||(c=a.size);return a.webkitSlice?a.webkitSlice(b,c):a.mozSlice?a.mozSlice(b,c):a.slice?le&&!Ce("13.0")||me&&!Ce("537.1")?(0>b&&(b+=a.size),0>b&&(b=0),0>c&&(c+=a.size),c<b&&(c=b),a.slice(b,c-b)):a.slice(b,c):null};var rC=function(a,b){a=[a];for(var c=b.length-1;0<=c;--c)a.push(typeof b[c],b[c]);return a.join("\x0B")};var sC=function(a){var b={};a=a.replace(/\r/g,"").split("\n");for(var c=0;c<a.length;c++){var d=a[c],e=d.indexOf(":");0>e||(b[d.substring(0,e)]=d.substring(e+2,d.length))}return b},tC=function(a,b){var c=b||rC;
return function(){var b=this||n,b=b.closure_memoize_cache_||(b.closure_memoize_cache_={}),e=c(ya(a),arguments);return b.hasOwnProperty(e)?b[e]:b[e]=a.apply(this,arguments)}}(function(){if(!n.Blob)return!1;
var a=new Uint8Array(100);try{var b=new Blob([a])}catch(c){return!1}return null===qC(b,0,1)?!1:!0});var uC=!C&&!ec(),vC=function(a,b){return uC&&a.dataset?b in a.dataset?a.dataset[b]:null:a.getAttribute("data-"+String(b).replace(/([A-Z])/g,"-$1").toLowerCase())};var wC={},xC=null,yC=function(a){a=ya(a);delete wC[a];Vb(wC)&&xC&&xC.stop()},AC=function(){xC||(xC=new Ti(function(){zC()},20));
var a=xC;a.isActive()||a.start()},zC=function(){var a=w();
Lb(wC,function(b){BC(b,a)});
Vb(wC)||AC()};var CC=function(){Pi.call(this);this.state_=0;this.endTime=this.startTime=null};
x(CC,Pi);g=CC.prototype;g.isPlaying=function(){return 1==this.state_};
g.isStopped=function(){return 0==this.state_};
g.onBegin=function(){this.dispatchAnimationEvent("begin")};
g.onEnd=function(){this.dispatchAnimationEvent("end")};
g.onFinish=function(){this.dispatchAnimationEvent("finish")};
g.dispatchAnimationEvent=function(a){this.dispatchEvent(a)};var DC=function(a,b,c,d){CC.call(this);if(!ra(a)||!ra(b))throw Error("Start and end parameters must be arrays");if(a.length!=b.length)throw Error("Start and end points must be the same length");this.startPoint=a;this.endPoint=b;this.duration=c;this.accel_=d;this.coords=[];this.useRightPositioningForRtl_=!1;this.progress=this.fps_=0;this.lastFrame=null};
x(DC,CC);g=DC.prototype;g.play=function(a){if(a||this.isStopped())this.progress=0,this.coords=this.startPoint;else if(this.isPlaying())return!1;yC(this);this.startTime=a=w();-1==this.state_&&(this.startTime-=this.duration*this.progress);this.endTime=this.startTime+this.duration;this.lastFrame=this.startTime;if(!this.progress)this.onBegin();this.dispatchAnimationEvent("play");-1==this.state_&&this.dispatchAnimationEvent("resume");this.state_=1;var b=ya(this);b in wC||(wC[b]=this);AC();BC(this,a);return!0};
g.stop=function(a){yC(this);this.state_=0;a&&(this.progress=1);EC(this,this.progress);this.dispatchAnimationEvent("stop");this.onEnd()};
g.pause=function(){this.isPlaying()&&(yC(this),this.state_=-1,this.dispatchAnimationEvent("pause"))};
g.disposeInternal=function(){this.isStopped()||this.stop(!1);this.dispatchAnimationEvent("destroy");DC.superClass_.disposeInternal.call(this)};
g.destroy=function(){this.dispose()};
var BC=function(a,b){b<a.startTime&&(a.endTime=b+a.endTime-a.startTime,a.startTime=b);a.progress=(b-a.startTime)/(a.endTime-a.startTime);1<a.progress&&(a.progress=1);a.fps_=1E3/(b-a.lastFrame);a.lastFrame=b;EC(a,a.progress);if(1==a.progress)a.state_=0,yC(a),a.onFinish(),a.onEnd();else if(a.isPlaying())a.onAnimate()},EC=function(a,b){ua(a.accel_)&&(b=a.accel_(b));
a.coords=Array(a.startPoint.length);for(var c=0;c<a.startPoint.length;c++)a.coords[c]=(a.endPoint[c]-a.startPoint[c])*b+a.startPoint[c]};
DC.prototype.onAnimate=function(){this.dispatchAnimationEvent("animate")};
DC.prototype.dispatchAnimationEvent=function(a){this.dispatchEvent(new FC(a,this))};
var FC=function(a,b){ji.call(this,a);this.coords=b.coords;this.x=b.coords[0];this.y=b.coords[1];this.z=b.coords[2];this.duration=b.duration;this.progress=b.progress;this.fps=b.fps_;this.state=b.state_};
x(FC,ji);var GC=function(a,b,c,d,e){DC.call(this,b,c,d,e);this.element=a};
x(GC,DC);GC.prototype.updateStyle=oa;GC.prototype.onAnimate=function(){this.updateStyle();GC.superClass_.onAnimate.call(this)};
GC.prototype.onEnd=function(){this.updateStyle();GC.superClass_.onEnd.call(this)};
GC.prototype.onBegin=function(){this.updateStyle();GC.superClass_.onBegin.call(this)};
var HC=function(a,b,c,d,e){ta(b)&&(b=[b]);ta(c)&&(c=[c]);GC.call(this,a,b,c,d,e);if(1!=b.length||1!=c.length)throw Error("Start and end points must be 1D");this.lastOpacityUpdate_=-1};
x(HC,GC);var IC=1/1024;g=HC.prototype;g.updateStyle=function(){var a=this.coords[0];Math.abs(a-this.lastOpacityUpdate_)>=IC&&(tj(this.element,a),this.lastOpacityUpdate_=a)};
g.onBegin=function(){this.lastOpacityUpdate_=-1;HC.superClass_.onBegin.call(this)};
g.onEnd=function(){this.lastOpacityUpdate_=-1;HC.superClass_.onEnd.call(this)};
g.show=function(){this.element.style.display=""};
g.hide=function(){this.element.style.display="none"};
var JC=function(a,b,c){HC.call(this,a,1,0,b,c)};
x(JC,HC);JC.prototype.onBegin=function(){this.show();JC.superClass_.onBegin.call(this)};
JC.prototype.onEnd=function(){this.hide();JC.superClass_.onEnd.call(this)};
var KC=function(a,b,c){HC.call(this,a,0,1,b,c)};
x(KC,HC);KC.prototype.onBegin=function(){this.show();KC.superClass_.onBegin.call(this)};var NC=function(){Pi.call(this);this.name_="closure_frame"+LC++;this.iframesForDisposal_=[];MC[this.name_]=this},OC;
x(NC,Pi);var MC={},LC=0,PC=function(a,b){var c=Hf(a);Sd(b,function(b,e){ra(b)||(b=[b]);y(b,function(b){b=c.createDom("INPUT",{type:"hidden",name:e,value:b});a.appendChild(b)})})};
g=NC.prototype;g.logger_=null;g.form_=null;g.iframe_=null;g.iframeName_=null;g.nextIframeId_=0;g.active_=!1;g.complete_=!1;g.success_=!1;g.lastUri_=null;g.lastContent_=null;g.lastErrorCode_=0;g.iframeDisposalTimer_=null;g.ignoreResponse_=!1;
g.send=function(a,b,c,d){if(this.active_)throw Error("[goog.net.IframeIo] Unable to send, already active.");this.lastUri_=a=new $n(a);b=b?b.toUpperCase():"GET";c&&so(a);OC||(OC=Vf("FORM"),OC.acceptCharset="utf-8",c=OC.style,c.position="absolute",c.visibility="hidden",c.top=c.left="-10px",c.width=c.height="10px",c.overflow="hidden",document.body.appendChild(OC));this.form_=OC;"GET"==b&&PC(this.form_,a.queryData_);d&&PC(this.form_,d);this.form_.action=a.toString();this.form_.method=b;QC(this);RC(this)};
g.abort=function(a){if(this.active_){var b=SC(this);if(b)if(ri(b))b.removeAllListeners(void 0);else if(b=Ei(b)){var c=0,d;for(d in b.listeners)for(var e=b.listeners[d].concat(),f=0;f<e.length;++f)Ki(e[f])&&++c}this.success_=this.active_=this.complete_=!1;this.lastErrorCode_=a||7;this.dispatchEvent("abort");TC(this)}};
g.disposeInternal=function(){this.active_&&this.abort();NC.superClass_.disposeInternal.call(this);this.iframe_&&UC(this);RC(this);this.form_=null;delete this.errorChecker_;this.lastUri_=this.lastContent_=this.form_=null;this.lastErrorCode_=0;delete MC[this.name_]};
g.isComplete=function(){return this.complete_};
g.isSuccess=function(){return this.success_};
g.isActive=function(){return this.active_};
g.getResponseText=function(){return this.lastContent_};
g.getResponseJson=function(){return Sj(this.lastContent_)};
g.getLastError=function(){return Br(this.lastErrorCode_)};
var QC=function(a){a.active_=!0;a.complete_=!1;a.lastErrorCode_=0;a.iframeName_=a.name_+"_"+(a.nextIframeId_++).toString(36);var b={name:a.iframeName_,id:a.iframeName_};C&&7>Number(Ae)&&(b.src='javascript:""');a.iframe_=Hf(a.form_).createDom("IFRAME",b);b=a.iframe_.style;b.visibility="hidden";b.width=b.height="10px";b.display="none";me?b.marginTop=b.marginLeft="-10px":(b.position="absolute",b.top=b.left="-10px");if(C&&!Ce("11")){a.form_.target=a.iframeName_||"";Hf(a.form_).document_.body.appendChild(a.iframe_);
a.ignoreResponse_||Bi(a.iframe_,"readystatechange",a.onIeReadyStateChange_,!1,a);try{a.errorHandled_=!1,a.form_.submit()}catch(N){a.ignoreResponse_||Ji(a.iframe_,"readystatechange",a.onIeReadyStateChange_,!1,a),a.handleError_(1)}}else{Hf(a.form_).document_.body.appendChild(a.iframe_);var b=a.iframeName_+"_inner",c=pg(a.iframe_);if(document.baseURI){var d=Ta(b);d=Bf(Pe("Short HTML snippet, input escaped, safe URL, for performance"),'<head><base href="'+Ta(document.baseURI)+'"></head><body><iframe id="'+
d+'" name="'+d+'"></iframe>')}else d=Ta(b),d=Bf(Pe("Short HTML snippet, input escaped, for performance"),'<body><iframe id="'+d+'" name="'+d+'"></iframe>');ie&&!me?vf(c.documentElement,d):c.write(lf(d));a.ignoreResponse_||Bi(c.getElementById(b),"load",a.onIframeLoaded_,!1,a);var e=Jf("TEXTAREA",a.form_);d=0;for(var f=e.length;d<f;d++){var h=e[d].value;Ag(e[d])!=h&&(qg(e[d],h),e[d].value=h)}e=c.importNode(a.form_,!0);e.target=b;e.action=a.form_.action;c.body.appendChild(e);var h=Jf("SELECT",a.form_),
k=Jf("SELECT",e);d=0;for(f=h.length;d<f;d++)for(var l=Jf("OPTION",h[d]),m=Jf("OPTION",k[d]),t=0,H=l.length;t<H;t++)m[t].selected=l[t].selected;h=Jf("INPUT",a.form_);k=Jf("INPUT",e);d=0;for(f=h.length;d<f;d++)if("file"==h[d].type&&h[d].value!=k[d].value){a.form_.target=b;e=a.form_;break}try{a.errorHandled_=!1,e.submit(),c.close(),le&&Si(a.testForFirefoxSilentError_,250,a)}catch(N){a.ignoreResponse_||Ji(c.getElementById(b),"load",a.onIframeLoaded_,!1,a),c.close(),a.handleError_(2)}}};
NC.prototype.onIeReadyStateChange_=function(){if("complete"==this.iframe_.readyState){Ji(this.iframe_,"readystatechange",this.onIeReadyStateChange_,!1,this);try{var a=pg(this.iframe_);if(C&&"about:blank"==a.location&&!navigator.onLine){this.handleError_(9);return}}catch(b){this.handleError_(1);return}VC(this,a)}};
NC.prototype.onIframeLoaded_=function(){if(!ie||me||"about:blank"!=(this.iframe_?pg(SC(this)):null).location){Ji(SC(this),"load",this.onIframeLoaded_,!1,this);try{VC(this,this.iframe_?pg(SC(this)):null)}catch(a){this.handleError_(1)}}};
var VC=function(a,b){a.complete_=!0;a.active_=!1;try{var c=b.body;a.lastContent_=c.textContent||c.innerText}catch(f){var d=1}var e;d||"function"!=typeof a.errorChecker_||(e=a.errorChecker_(b))&&(d=4);d?a.handleError_(d,e):(a.success_=!0,a.lastErrorCode_=0,a.dispatchEvent("complete"),a.dispatchEvent("success"),TC(a))};
NC.prototype.handleError_=function(a){this.errorHandled_||(this.active_=this.success_=!1,this.complete_=!0,this.lastErrorCode_=a,this.dispatchEvent("complete"),this.dispatchEvent("error"),TC(this),this.errorHandled_=!0)};
var TC=function(a){UC(a);RC(a);a.form_=null;a.dispatchEvent("ready")},UC=function(a){var b=a.iframe_;
b&&(b.onreadystatechange=null,b.onload=null,b.onerror=null,a.iframesForDisposal_.push(b));a.iframeDisposalTimer_&&(n.clearTimeout(a.iframeDisposalTimer_),a.iframeDisposalTimer_=null);le||ie&&!me?a.iframeDisposalTimer_=Si(a.disposeIframes_,2E3,a):a.disposeIframes_();a.iframe_=null;a.iframeName_=null};
NC.prototype.disposeIframes_=function(){this.iframeDisposalTimer_&&(n.clearTimeout(this.iframeDisposalTimer_),this.iframeDisposalTimer_=null);for(;0!=this.iframesForDisposal_.length;){var a=this.iframesForDisposal_.pop();eg(a)}};
var RC=function(a){a.form_&&a.form_==OC&&ag(a.form_)},SC=function(a){return a.iframe_?C&&!Ce("11")?a.iframe_:pg(a.iframe_).getElementById(a.iframeName_+"_inner"):null};
NC.prototype.testForFirefoxSilentError_=function(){if(this.active_){var a=this.iframe_?pg(SC(this)):null;a&&!ge(a,"documentUri")?(this.ignoreResponse_||Ji(SC(this),"load",this.onIframeLoaded_,!1,this),navigator.onLine?this.handleError_(3):this.handleError_(9)):Si(this.testForFirefoxSilentError_,250,this)}};C&&Ce("11");var WC=/^[\w+/]+[=]{0,2}$/;var XC=function(a){this.name_=a;this.files_=[];this.directories_=[];this.directoryMap_={}};
XC.prototype.getDirectory=function(a){return this.directoryMap_[a]};
XC.prototype.getName=function(){return this.name_};var $C=function(a,b){this.callback_=b;this.hasError_=!1;this.unscannedDirectories_=[];this.maxConcurrentScans_=5;this.fileOps_=this.directoryOps_=0;this.rootDirectory_=new XC("");YC(this,a,this.rootDirectory_);ZC(this)},aD=function(a,b){this.entry=a;
this.parent=b},YC=function(a,b,c){for(var d=0;d<b.length;d++){var e=b[d];
e.isFile?(a.fileOps_++,e.file(v(a.handleFileSuccess_,a,c),v(a.handleFileError_,a))):a.unscannedDirectories_.push(new aD(e,c))}},ZC=function(a){if(0<a.unscannedDirectories_.length&&a.directoryOps_<a.maxConcurrentScans_&&!a.hasError_){a.directoryOps_++;
var b=a.unscannedDirectories_.shift(),c=b.entry,d=new XC(c.name),b=b.parent;b.directoryMap_[d.getName()]=d;b.directories_.push(d);c=c.createReader();c.readEntries(v(a.handleDirectorySuccess_,a,c,d),v(a.handleDirectoryError_,a))}0!=a.directoryOps_||0!=a.fileOps_||0!=a.unscannedDirectories_.length&&!a.hasError_||a.callback_(a.rootDirectory_.files_,a.rootDirectory_.directories_,a.hasError_)};
$C.prototype.handleDirectorySuccess_=function(a,b,c){YC(this,c,b);0==c.length?(this.directoryOps_--,ZC(this)):a.readEntries(v(this.handleDirectorySuccess_,this,a,b),v(this.handleDirectoryError_,this))};
$C.prototype.handleDirectoryError_=function(){this.hasError_=!0;this.directoryOps_--;ZC(this)};
$C.prototype.handleFileSuccess_=function(a,b){a.files_.push(b);this.fileOps_--;ZC(this)};
$C.prototype.handleFileError_=function(){this.hasError_=!0;this.fileOps_--;ZC(this)};var bD=function(a){Pi.call(this);Bi(a,"drop",this.onObjectsDropped_,!1,this);Bi(a,"dragenter",this.onFilesDragged_,!1,this);Bi(a,"dragover",this.onFilesDragged_,!1,this)};
x(bD,Pi);var cD=function(a,b){ji.call(this,"a");this.files=a;this.directories=b};
x(cD,ji);var dD=function(){ji.call(this,"b")};
x(dD,ji);bD.prototype.onObjectsDropped_=function(a){a.preventDefault();var b=a.event_.dataTransfer;if((a=b&&b.items)&&0<a.length&&a[0].webkitGetAsEntry){for(var b=[],c=0;c<a.length;c++)b.push(a[c].webkitGetAsEntry());var d=this;new $C(b,function(a,b,c){c?d.dispatchEvent(new dD):d.dispatchEvent(new cD(a,b))})}else(a=b&&b.files)&&this.dispatchEvent(new cD(a,[]))};
bD.prototype.onFilesDragged_=function(a){a.preventDefault()};var fD=function(a,b){Pi.call(this);this.overlayTarget_=a;this.parentOverlay_=null!=a?a.parentNode:Yf("scotty-overlay-parent");this.selectorType_=b||"single_file";this.overlay_=eD(this,this.overlayTarget_,this.selectorType_)};
x(fD,Pi);var gD=function(a,b){ji.call(this,"c");this.files=a;this.directories=b};
x(gD,ji);
var eD=function(a,b,c){var d=document.createElement("input");d.setAttribute("type","file");d.setAttribute("name","Filedata");Bi(d,"change",a.onFilesSelected_,!1,a);"multiple_file"===c&&(d.multiple="true");"single_directory"===c&&(d.webkitdirectory="true");d.style.position="absolute";d.style.overflow="hidden";d.style.height="0px";d.style.width="0px";d.style.opacity="0";if(null!=a.overlayTarget_)return d.style.height=b.offsetHeight+"px",d.style.width=b.offsetWidth+"px",a.parentOverlay_&&(a.parentOverlay_.style.position="relative"),
cg(d,b),kj(d,new Cf(b.offsetLeft,b.offsetTop)),d;a.parentOverlay_.appendChild(d);return d};
fD.prototype.click=function(){this.overlay_.click()};
fD.prototype.onFilesSelected_=function(a){a:{try{var b=void 0!==(new XMLHttpRequest).upload;break a}catch(m){}b=!1}if(b){a=a.target.files;b=[];if("single_directory"===this.selectorType_&&(me||je)){b=new XC("");if(File.prototype.hasOwnProperty("webkitRelativePath"))for(var c=0;c<a.length;c++)for(var d=a[c],e=d.webkitRelativePath.split("/"),f=b,h=0;h<e.length;h++){var k=e[h];if(h==e.length-1){"."!=k&&f.files_.push(d);break}var l=f.getDirectory(k);void 0==l&&(k=l=new XC(k),f.directoryMap_[k.getName()]=
k,f.directories_.push(k));f=l}b=b.directories_}this.dispatchEvent(new gD(a,b))}else a.target.value.match(/^c:\\fakepath\\/i),this.dispatchEvent(new gD([],[]));this.parentOverlay_.removeChild(this.overlay_);this.overlay_=eD(this,this.overlayTarget_,this.selectorType_)};var hD=function(a){this.uploadUrl_=a};var iD=function(){Pi.call(this)};
x(iD,Pi);var jD=function(a){ji.call(this,a)};
x(jD,ji);var kD=function(a,b,c,d,e){Pi.call(this);c=document.createElement("form");c.setAttribute("method",b);c.setAttribute("enctype","multipart/form-data");c.setAttribute("encoding","multipart/form-data");var f=document.createElement("input");f.setAttribute("type","hidden");f.setAttribute("name","metadata");f.setAttribute("value",e);c.appendChild(f);c.appendChild(d);this.form_=c;a=new $n(a);S(a,"upload_protocol","multipart");this.url_=a.toString();this.method_=b;this.metadata_=e;this.request_=new NC;this.state_=
"Ready";this.eventHandler_=new Ui(this);ce(this,this.eventHandler_);this.eventHandler_.listen(this.request_,"success",this.onTransferSuccess_);this.eventHandler_.listen(this.request_,"error",this.onTransferError_)};
x(kD,iD);g=kD.prototype;g.run=function(){this.state_="Transferring";var a=this.request_,b=this.form_;if(a.active_)throw Error("[goog.net.IframeIo] Unable to send, already active.");var c=new $n(this.url_||b.action);a.lastUri_=c;a.form_=b;a.form_.action=c.toString();QC(a)};
g.getResponseText=function(){return this.request_&&this.request_.getResponseText()||null};
g.cancel=function(){this.request_&&this.request_.abort();this.state_="Cancelled";this.dispatchEvent(new jD("h"))};
g.pause=function(){};
g.onTransferSuccess_=function(){this.state_="Complete";this.dispatchEvent(new jD("e"))};
g.onTransferError_=function(){this.state_="Error";this.dispatchEvent(new jD("g"))};var lD=function(){os.call(this)};
x(lD,os);lD.prototype.createXhr=function(){var a=os.prototype.createXhr.call(this);a.upload&&(a.upload.onprogress=v(this.onProgress_,this));return a};
lD.prototype.onProgress_=function(a){this.dispatchEvent(a)};var mD=function(){this.attempt_=-1;this.delayCallId_=null;this.initialDelay_=250;this.maxDelay_=6E4;this.maxAttempts_=-1;this.backoffMultiplier_=2},oD=function(a,b){var c=a.attempt_+1;
if(0<a.maxAttempts_&&c>a.maxAttempts_)return!1;0==c?b():a.delayCallId_=Si(function(){a.delayCallId_=null;b()},nD(a),a);
a.attempt_=c;return!0};
mD.prototype.reset=function(){this.delayCallId_&&n.clearTimeout(this.delayCallId_);this.attempt_=-1};
var nD=function(a){var b=a.initialDelay_*Math.pow(a.backoffMultiplier_,a.attempt_);0<=a.maxDelay_&&(b=Math.min(b,a.maxDelay_));return b};var pD=["Content-Length","Content-Type","Content-Encoding","Transfer-Encoding"],qD=function(a,b){for(var c in a)if(c.toLowerCase()===b.toLowerCase())return a[c]},rD=function(a,b){for(var c in a)if(c.toLowerCase()===b.toLowerCase()){delete a[c];
break}},sD=function(a){a=Zb(a);
for(var b=0;b<pD.length;++b){var c=pD[b],d=qD(a,c);d&&(a["X-Goog-Upload-Header-"+c]=d,rD(a,c))}return a},tD=function(a){rD(Zb(a),"X-Goog-Upload-Status")};var uD=function(){Pi.call(this);this.request_=this.state_=null;this.withCredentials_=!1;this.transferHandle_=null;this.offset_=0;this.retryIterator_=new mD;this.retryIterator_.maxAttempts_=6;this.eventHandler_=new Ui(this);ce(this,this.eventHandler_);this.url_=this.blob_=null;this.method_=void 0;this.responseText_=this.chunkSize_=this.metadata_=this.headers_=null};
x(uD,iD);g=uD.prototype;g.MAX_CHUNK_SIZE=1073741824;g.run=function(){vD(this)};
g.getResponseText=function(){return this.responseText_};
g.cancel=function(){if("Response received"!=this.state_&&"Error"!=this.state_){this.eventHandler_.removeAll();this.request_&&this.request_.abort();this.retryIterator_.reset();this.state_="Cancel";if("Upload"===this.state_||"Query"===this.state_){var a=new lD;a.withCredentials_=this.withCredentials_;a.send(this.transferHandle_.uploadUrl_,"POST","",{"X-Goog-Upload-Command":"cancel"})}this.dispatchEvent(new jD("h"))}};
g.pause=function(){};
var vD=function(a){var b=v(a.continueTransferInternal_,a);oD(a.retryIterator_,b)||wD(a)};
uD.prototype.continueTransferInternal_=function(){switch(this.state_){case "Start":this.request_=new lD;var a=Zb(this.headers_);null!=this.blob_.size&&(a["Content-Length"]=this.blob_.size);a=sD(a);a["X-Goog-Upload-Protocol"]="resumable";a["X-Goog-Upload-Command"]="start";this.eventHandler_.removeAll();this.eventHandler_.listen(this.request_,"complete",this.onStartComplete_);this.request_.withCredentials_=this.withCredentials_;this.request_.send(this.url_,this.method_,this.metadata_,a);break;case "Upload":this.upload_();
break;case "Query":this.request_=new lD;this.eventHandler_.removeAll();this.eventHandler_.listen(this.request_,"complete",this.onQueryComplete_);this.request_.send(this.transferHandle_.uploadUrl_,"POST","",{"X-Goog-Upload-Command":"query"});break;default:throw Error("Invalid upload state!");}};
var wD=function(a){a.state_="Error";a.dispatchEvent(new jD("g"))};
g=uD.prototype;g.onStartComplete_=function(a){var b=a.target;xD(b)?yD(this,b):zD(b)?(b=sC(a.target.getAllResponseHeaders()),this.dispatchEvent(new jD("f")),a=qD(b,"X-Goog-Upload-URL"),b=(b=qD(b,"X-Goog-Upload-Chunk-Granularity"))?parseInt(b,10):1,void 0===a||isNaN(b)||0>=b?wD(this):(this.chunkSize_=Math.floor(this.MAX_CHUNK_SIZE/b)*b,this.transferHandle_=new hD(a),this.dispatchEvent(new jD("i")),this.state_="Upload",this.retryIterator_.reset(),vD(this))):vD(this)};
g.upload_=function(){var a=this.transferHandle_.uploadUrl_,b=this.blob_.size,c;if(tC()){var d=(c=this.offset_+this.chunkSize_>=b)?b:this.offset_+this.chunkSize_;b=qC(this.blob_,this.offset_,d)}else this.offset_=0,b=this.blob_,c=!0;this.request_=new lD;this.request_.withCredentials_=this.withCredentials_;this.eventHandler_.removeAll();this.eventHandler_.listen(this.request_,"progress",this.onUploadProgress_);d=this.offset_+b.size;d=v(this.onUploadComplete_,this,d,c);this.eventHandler_.listen(this.request_,
"complete",d);this.request_.send(a,"POST",b,{"X-Goog-Upload-Command":"upload"+(c?", finalize":""),"X-Goog-Upload-Offset":this.offset_})};
g.onUploadProgress_=function(){this.dispatchEvent(new jD("d"))};
g.onUploadComplete_=function(a,b,c){c=c.target;xD(c)?yD(this,c):zD(c)?b?wD(this):(this.offset_=a,this.retryIterator_.reset(),vD(this)):(this.state_="Query",vD(this))};
g.onQueryComplete_=function(a){var b=a.target;xD(b)?(b.getStatus(),yD(this,b)):zD(b)?(a=sC(a.target.getAllResponseHeaders()),a=parseInt(qD(a,"X-Goog-Upload-Size-Received"),10),isNaN(a)?wD(this):(a<this.offset_&&wD(this),this.offset_<a&&this.retryIterator_.reset(),this.offset_=a,this.state_="Upload",vD(this))):vD(this)};
var yD=function(a,b){b.getStatus();var c=sC(b.getAllResponseHeaders());tD(c);a.responseText_=b.getResponseText();a.state_="Response received";a.dispatchEvent(new jD("e"))},zD=function(a){var b=a.getStatus();
a=sC(a.getAllResponseHeaders());a=qD(a,"X-Goog-Upload-Status");return 200===b&&"active"===a},xD=function(a){a=sC(a.getAllResponseHeaders());
return"final"===qD(a,"X-Goog-Upload-Status")};var AD=function(a,b,c,d,e,f){Pi.call(this);this.payload_=d;this.url_=a;this.method_=b;this.headers_=c;this.metadata_=e;this.encoding_=f||"binary";a=new So;this.boundary_="scotty-"+eb()+"-"+To(a);this.responseText_=this.transferRequest_=null;this.state_="Ready";this.eventHandler_=new Ui(this);ce(this,this.eventHandler_)};
x(AD,iD);g=AD.prototype;
g.run=function(){var a=Zb(this.headers_);null!=this.payload_.length&&(a["Content-Length"]=this.payload_.length);a=sD(a);a["X-Goog-Upload-Protocol"]="multipart";a["Content-Type"]="multipart/related; boundary="+this.boundary_;this.state_="Transferring";this.transferRequest_=new lD;this.eventHandler_.removeAll();this.eventHandler_.listen(this.transferRequest_,"progress",this.onTransferProgress_);this.eventHandler_.listen(this.transferRequest_,"complete",this.onTransferComplete_);this.transferRequest_.send(this.url_,
this.method_,"--"+this.boundary_+"\r\n"+('Content-Disposition: form-data; name="metadata"\r\n\r\n'+this.metadata_+"\r\n")+"--"+this.boundary_+"\r\n"+('Content-Disposition: form-data; name="Filedata"\r\nContent-Transfer-Encoding: '+this.encoding_+"\r\n")+"\r\n"+this.payload_+"\r\n--"+this.boundary_+"--\r\n",a)};
g.getResponseText=function(){return this.responseText_};
g.cancel=function(){"Complete"!=this.state_&&"Error"!=this.state_&&(this.eventHandler_.removeAll(),this.transferRequest_&&this.transferRequest_.abort(),this.state_="Cancel",this.dispatchEvent(new jD("h")))};
g.pause=function(){};
g.onTransferProgress_=function(){this.dispatchEvent(new jD("d"))};
g.onTransferComplete_=function(a){var b=a.target.getStatus();void 0===b||-1===b?(this.state_="Error",this.dispatchEvent(new jD("g"))):(b=sC(a.target.getAllResponseHeaders()),tD(b),this.responseText_=a.target.getResponseText(),this.state_="Complete",this.dispatchEvent(new jD("e")))};var BD=function(a,b,c){if("string"===typeof c||c instanceof String)return new AD(a,"POST",b,c,"");var d=new uD;d.url_=a;d.method_="POST";d.headers_=b;d.blob_=c;d.metadata_="";d.state_="Start";return d};q("userfeedback.api.startFeedback",function(a,b,c){a.timeOfStartCall=(new Date).getTime();var d=c||n,e=d.document,f;a:{if((f=(d||n).document.querySelector("script[nonce]"))&&(f=f.nonce||f.getAttribute("nonce"))&&WC.test(f))break a;f=void 0}f&&(a.nonce=f);if("help"==a.flow){var h=r("document.location.href",d);!a.helpCenterContext&&h&&(a.helpCenterContext=h.substring(0,1200));h=!0;if(b&&JSON&&JSON.stringify){var k=JSON.stringify(b);(h=1200>=k.length)&&(a.psdJson=k)}h||(b={invalidPsd:!0})}b=[a,b,c];
d.GOOGLE_FEEDBACK_START_ARGUMENTS=b;c=a.serverUri||"//www.google.com/tools/feedback";if(h=d.GOOGLE_FEEDBACK_START)h.apply(d,b);else{var d=c+"/load.js?",l;for(l in a)b=a[l],null!=b&&!va(b)&&(d+=encodeURIComponent(l)+"="+encodeURIComponent(b)+"&");a=e.createElement("script");f&&a.setAttribute("nonce",f);a.src=d;e.body.appendChild(a)}},void 0);q("userfeedback.api.isBrowserSupportedForGenie",function(){return CD()},void 0);
var CD=function(){return C?0<=gb(Gj,"8"):Mg?0<=gb(Gj,"15"):Rg?0<=gb(Gj,"5"):Qg||je};
q("userfeedback.api.isBrowserSupportedForHelp",CD,void 0);var DD=r("yt.prefs.UserPrefs.prefs_")||{};q("yt.prefs.UserPrefs.prefs_",DD,void 0);var ED=/^https?:\/\/([^.]*\.moatads\.com\/|e[0-9]+\.yt\.srs\.doubleverify\.com|pagead2\.googlesyndication\.com\/pagead\/gen_204\?id=yt3p&sr=1&|pm\.adsafeprotected\.com\/youtube|pm\.test-adsafeprotected\.com\/youtube|youtube[0-9]+\.moatpixel\.com\/)/,FD=/^https?:\/\/(www\.google\.com\/pagead\/sul|www\.google\.com\/pagead\/xsul|www\.youtube\.com\/pagead\/psul|www\.youtube\.com\/pagead\/slav|www\.youtube\.com\/pagead\/sul)/,GD=/^https?.*#ocr$|^https?:\/\/(aksecure\.imrworldwide\.com\/|cdn\.imrworldwide\.com\/|secure\-..\.imrworldwide\.com\/)/;var HD=function(a,b){this.result_=a;this.error_=b};
HD.prototype.then=function(a,b,c){try{if(p(this.result_))return a?yc(a.call(c,this.result_)):yc(this.result_);if(p(this.error_)){if(!b)return zc(this.error_);var d=b.call(c,this.error_);return!p(d)&&this.error_.isCanceled?zc(this.error_):yc(d)}throw Error("Invalid Result_ state");}catch(e){return zc(e)}};
sc(HD);function ID(a,b){(a=D(a))&&a.style&&(uj(a,b),Oj(a,"hid",!b))}
function JD(a){return(a=D(a))?"none"!=a.style.display&&!M(a,"hid"):!1}
function Y(a){y(arguments,function(a){!sa(a)||a instanceof Element?ID(a,!0):y(a,function(a){Y(a)})})}
function KD(a){y(arguments,function(a){!sa(a)||a instanceof Element?ID(a,!1):y(a,function(a){KD(a)})})}
;var LD=["load","abort","error"],MD=function(a){this.transformedData=null;this.cropped=!1;this.maxAspectRatio_=a;this.image_=new Image;this.angle_=this.dataUrl_=this.mime_=this.reject_=this.resolve_=null};
MD.prototype.transform=function(a){var b=this;this.mime_=a.type;ou(pC(a),this.dataUrlRead_,this.readError_,this);ou(oC(a.slice(0,65536)),this.exifRead_,this.readError_,this);return new Promise(function(a,d){b.resolve_=a;b.reject_=d})};
MD.prototype.dataUrlRead_=function(a){this.dataUrl_=a;null!=this.angle_&&ND(this)};
MD.prototype.exifRead_=function(a){a:if(a=new DataView(a),2>a.byteLength||65496!==a.getUint16(0))a=-2;else{for(var b=2,c=a.byteLength;b<c;){var d=a.getUint16(b),e=a.getUint16(b+2);if(65505===d){b+=4;d=a.getUint32(b);e=a.getUint16(b+4);if(1165519206!==d||0!==e)break;for(var b=b+6,d=18761===a.getUint16(b),b=b+a.getUint32(b+4,d),e=a.getUint16(b,d),b=b+2,f=0;f<e;f++){if(274===a.getUint16(b,d)){b+=8;a=a.getUint16(b,d);break a}b+=12}}else if(255!==d>>8)break;else b+=e+2}a=-1}switch(a){case 8:this.angle_=
270;break;case 3:this.angle_=180;break;case 6:this.angle_=90;break;default:this.angle_=0}null!=this.dataUrl_&&ND(this)};
MD.prototype.readError_=function(){this.reject_()};
var ND=function(a){Ii(a.image_,LD,a.completeTransform_,!1,a);xf(a.image_,ff(a.dataUrl_));"about:invalid#zClosurez"==a.image_.src&&a.reject_()};
MD.prototype.completeTransform_=function(){if("about:invalid#zClosurez"!=this.image_.src){var a=ff(this.dataUrl_);if("image/gif"===this.mime_)this.transformedData=a;else{var b=this.image_.naturalWidth,c=this.image_.naturalHeight,d=0,e=0,f=this.image_.naturalHeight?this.image_.naturalWidth/this.image_.naturalHeight:null;f>this.maxAspectRatio_?(b=this.maxAspectRatio_*c,d=(b-this.image_.naturalWidth)/2,this.cropped=!0):f<1/this.maxAspectRatio_&&(c=this.maxAspectRatio_*b,e=(c-this.image_.naturalHeight)/
2,this.cropped=!0);if(90==this.angle_||270==this.angle_)f=b,b=c,c=f,f=d,d=e,e=f;switch(this.angle_){case 90:e-=b;break;case 180:d-=b;e-=c;break;case 270:d-=c}this.cropped||0!==this.angle_%360?(a=document.createElement("canvas"),a.width=b,a.height=c,b=a.getContext("2d"),b.rotate(Math.PI/180*this.angle_),b.drawImage(this.image_,d,e,this.image_.naturalWidth,this.image_.naturalHeight),this.transformedData=ff(a.toDataURL(this.mime_))):this.transformedData=a}this.resolve_(this)}};var OD=function(a,b){ji.call(this,a);this.value=b};
aa(OD,ji);
var PD=function(a,b,c,d,e,f){Pi.call(this);var h=this;this.url_=a;this.channelId_=b;this.maxFileSizeMb_=c;this.maxAspectRatio_=d;this.dropZoneEl_=e;this.selectButtonEl_=f;this.reject_=this.resolve_=this.uploadPromise_=null;this.dropZoneOverlay_=new bD(this.dropZoneEl_);this.selectOverlay_=new fD(this.selectButtonEl_);"INPUT"==this.selectButtonEl_.nextSibling.tagName&&this.selectButtonEl_.nextSibling.setAttribute("accept","image/*");this.image_=this.transfer_=null;this.handler_=new Ui(this);ce(this,
this.handler_);this.handler_.listen(this.dropZoneOverlay_,"a",this.onChange_).listen(this.dropZoneEl_,"dragover",this.onHover_).listen(this.dropZoneEl_,"dragleave",this.onHover_).listen(f,"click",function(){h.selectOverlay_.click()}).listen(this.selectOverlay_,"c",this.onChange_)};
aa(PD,Pi);PD.prototype.disposeInternal=function(){for(var a=this.selectButtonEl_.nextSibling;a&&a.parentNode&&"INPUT"==a.tagName;)a.parentNode.removeChild(a),a=this.selectButtonEl_.nextSibling;this.cancel();Pi.prototype.disposeInternal.call(this)};
PD.prototype.uploadPromise=function(){if(null==this.image_)return null;this.uploadPromise_||this.upload_();return this.uploadPromise_};
PD.prototype.cancel=function(){QD(this);this.image_=null};
var QD=function(a){a.transfer_&&a.transfer_.cancel();a.transfer_=null;a.uploadPromise_=null;a.resolve_=null;a.reject_=null};
g=PD.prototype;g.upload_=function(){var a=this;QD(this);this.transfer_=BD(this.url_,{"X-YouTube-ChannelId":this.channelId_},this.image_);this.handler_.listenOnce(this.transfer_,"e",this.onUploadComplete_);this.handler_.listenOnce(this.transfer_,"g",this.onUploadError_);this.transfer_.run();this.uploadPromise_=new Promise(function(b,c){a.resolve_=b;a.reject_=c})};
g.onChange_=function(a){a.files.length&&(this.image_=a.files[0],this.image_.size>1048576*this.maxFileSizeMb_?(this.image_=null,this.dispatchEvent(new OD("yt.comments.ImageUploadOverlay.FILE_TOO_LARGE_EVENT"))):(this.upload_(),(new MD(this.maxAspectRatio_)).transform(this.image_).then(v(this.onPreview_,this),v(this.onPreviewError_,this))))};
g.onPreview_=function(a){a.cropped&&this.dispatchEvent(new OD("yt.comments.ImageUploadOverlay.CROPPED_EVENT"));this.dispatchEvent(new OD("yt.comments.ImageUploadOverlay.CHANGE_EVENT",a.transformedData))};
g.onPreviewError_=function(){this.image_=null;this.dispatchEvent(new OD("yt.comments.ImageUploadOverlay.INVALID_EVENT"))};
g.onHover_=function(a){a.stopPropagation();a.preventDefault();if("dragover"===a.type)a=!0;else if("dragleave"===a.type)a=!1;else return;this.dispatchEvent(new OD("yt.comments.ImageUploadOverlay.HOVER_EVENT",a))};
g.onUploadComplete_=function(){var a=Sj(this.transfer_.getResponseText());this.resolve_(a.encryptedBlobId)};
g.onUploadError_=function(){this.reject_();QD(this)};w();var RD=function(a){return ED.test(a)||FD.test(a)||GD.test(a)};var SD=function(a){hB.call(this,a);this.delegationKeys_=[];this.pubsubKeys_=[]};
x(SD,hB);var TD=function(a,b,c,d,e,f){e=e||a;f=f||a.getElement();b=Dk(f,b,v(d,e),c);a.delegationKeys_.push(b)};
SD.prototype.exitDocument=function(){y(this.delegationKeys_,Bk);Ah(this.pubsubKeys_);SD.superClass_.exitDocument.call(this)};
SD.prototype.pubsubSubscribe=function(a,b,c){a=yh(a,v(b,c||this));this.pubsubKeys_.push(a)};var UD={},VD="ontouchstart"in document,WD=function(a,b,c){switch(a){case "mouseover":case "mouseout":var d=3;break;case "mouseenter":case "mouseleave":d=9}return Bg(c,function(a){return M(a,b)},d)},XD=function(a){var b;
var c="mouseover"==a.type&&"mouseenter"in UD||"mouseout"==a.type&&"mouseleave"in UD;var d=a.type in UD||c;if("HTML"!=a.target.tagName&&d){if(c){c="mouseover"==a.type?"mouseenter":"mouseleave";var d=UD[c],e;for(e in d.topics_)(b=WD(c,e,a.target))&&!Bg(a.relatedTarget,function(a){return a==b})&&d.publish(e,b,c,a)}if(c=UD[a.type])for(e in c.topics_)(b=WD(a.type,e,a.target))&&c.publish(e,b,a.type,a)}};
Q(document,"blur",XD,!0);Q(document,"change",XD,!0);Q(document,"click",XD);Q(document,"focus",XD,!0);Q(document,"mouseover",XD);Q(document,"mouseout",XD);Q(document,"mousedown",XD);Q(document,"keydown",XD);Q(document,"keyup",XD);Q(document,"keypress",XD);Q(document,"cut",XD);Q(document,"paste",XD);VD&&(Q(document,"touchstart",XD),Q(document,"touchend",XD),Q(document,"touchcancel",XD));var YD=function(a){this.cssName=a;this.boundActions_={};this.pubsubKeys_=[];this.pubsub2Keys_=[]};
YD.prototype.getRootElement=function(a){return G(a,Z(this))};
var Z=function(a,b){return ZD(a)+(b?"-"+b:"")};
g=YD.prototype;g.unregister=function(){Ah(this.pubsubKeys_);this.pubsubKeys_.length=0;Vm(this.pubsub2Keys_);this.pubsub2Keys_.length=0};
g.init=oa;g.dispose=oa;g.pubsubSubscribe=function(a,b,c){this.pubsubKeys_.push(yh(a,b,c||this))};
g.addBehavior=function(a,b,c){c=Z(this,c);var d=v(b,this);a in UD||(UD[a]=new Jg);UD[a].subscribe(c,d);this.boundActions_[b]=d};
g.removeBehavior=function(a,b,c){if(a in UD){var d=UD[a];d.unsubscribe(Z(this,c),this.boundActions_[b]);0>=d.getCount()&&(d.dispose(),delete UD[a])}delete this.boundActions_[b]};
g.callCustomAction=function(a,b,c){var d=this.getData(a,b);if(d&&(d=r(d))){var e=yb(arguments,2);zb(e,0,0,a);d.apply(null,e)}};
g.getData=function(a,b){return J(a,b)};
g.setData=function(a,b,c){Xg(a,b,c)};
var ZD=function(a){return"yt-uix"+(a.cssName?"-"+a.cssName:"")};var $D=function(){YD.call(this,"button");this.lastOpenMenu=null;this.listenerKeys_=[];this.openFixedMenus_={}};
x($D,YD);pa($D);g=$D.prototype;g.register=function(){this.addBehavior("click",this.clickAction_);this.addBehavior("keydown",this.keyAction_);this.addBehavior("keypress",this.keyPressAction_);this.pubsubSubscribe("page-scroll",this.handlePageScrollForFixedMenus_)};
g.unregister=function(){this.removeBehavior("click",this.clickAction_);this.removeBehavior("keydown",this.keyAction_);this.removeBehavior("keypress",this.keyPressAction_);aE(this);this.openFixedMenus_={};$D.superClass_.unregister.call(this)};
g.clickAction_=function(a){a&&!a.disabled&&(this.toggle(a),this.click(a))};
g.keyAction_=function(a,b,c){if(!(c.altKey||c.ctrlKey||c.shiftKey)&&(b=bE(this,a))){var d=function(a){var b="";a.tagName&&(b=a.tagName.toLowerCase());return"ul"==b||"table"==b};
if(d=d(b)?b:sg(b,d)){var d=d.tagName.toLowerCase();if("ul"==d)var e=this.menuOnKeyDownUl_;else"table"==d&&(e=this.menuOnKeyDownTable_);e&&cE(this,a,b,c,v(e,this))}}};
g.handlePageScrollForFixedMenus_=function(){var a=this.openFixedMenus_;if(0!=Pb(a))for(var b in a){var c=a[b],d=G(c.activeButtonNode||c.parentNode,Z(this));if(void 0==d||void 0==c)break;this.positionMenu_(d,c,!0)}};
var cE=function(a,b,c,d,e){var f=JD(c),h=9==d.keyCode;h||32==d.keyCode||13==d.keyCode?(d=dE(a,c))?(b=ig(d),"a"==b.tagName.toLowerCase()?Lo(b.href):Ek(b)):h&&a.hideMenu(b):f?27==d.keyCode?(dE(a,c),a.hideMenu(b)):e(b,c,d):(a=M(b,Z(a,"reverse"))?38:40,d.keyCode==a&&(Ek(b),d.preventDefault()))};
$D.prototype.keyPressAction_=function(a,b,c){c.altKey||c.ctrlKey||c.shiftKey||(a=bE(this,a),JD(a)&&c.preventDefault())};
var dE=function(a,b){a=Z(a,"menu-item-highlight");(b=E(a,b))&&P(b,a);return b},eE=function(a,b,c){O(c,Z(a,"menu-item-highlight"));
var d=c.getAttribute("id");d||(d=Z(a,"item-id-"+ya(c)),c.setAttribute("id",d));b.setAttribute("aria-activedescendant",d)};
$D.prototype.menuOnKeyDownTable_=function(a,b,c){var d=dE(this,b);if(d){b=nk("table",b);var e=nk("tr",b),e=Kf(document,"td",null,e).length;b=Kf(document,"td",null,b);d=fE(d,b,e,c);-1!=d&&(eE(this,a,b[d]),c.preventDefault())}};
$D.prototype.menuOnKeyDownUl_=function(a,b,c){if(40==c.keyCode||38==c.keyCode){var d=dE(this,b);d&&(b=mb(Kf(document,"li",null,b),JD),d=fE(d,b,1,c),eE(this,a,b[d]),c.preventDefault())}};
var fE=function(a,b,c,d){var e=b.length;a=lb(b,a);if(-1==a)if(38==d.keyCode)a=e-c;else{if(37==d.keyCode||38==d.keyCode||40==d.keyCode)a=0}else 39==d.keyCode?(a%c==c-1&&(a-=c),a+=1):37==d.keyCode?(0==a%c&&(a+=c),--a):38==d.keyCode?(a<c&&(a+=e),a-=c):40==d.keyCode&&(a>=e-c&&(a-=e),a+=c);return a};
$D.prototype.toggleMenu=function(a){var b=bE(this,a);if(b){var c=G(b.activeButtonNode||b.parentNode,Z(this));c&&c!=a?(this.hideMenu(c),ah(v(this.showMenu,this,a),1)):JD(b)?this.hideMenu(a):this.showMenu(a)}};
var gE=function(a,b){var c=b.iframeMask;c||(c=document.createElement("iframe"),c.src='javascript:""',c.className=Z(a,"menu-mask"),KD(c),b.iframeMask=c);return c};
$D.prototype.positionMenu_=function(a,b,c){var d=G(a,Z(this,"group")),e=!!this.getData(a,"button-menu-ignore-group"),d=d&&!e?d:a,e=9,f=8,h=sj(a);if(M(a,Z(this,"reverse"))){e=8;f=9;h=h.top+"px";try{b.style.maxHeight=h}catch(m){}}M(a,"flip")&&(M(a,Z(this,"reverse"))?(e=12,f=13):(e=13,f=12));var k;this.getData(a,"button-has-sibling-menu")?k=mj(d):this.getData(a,"button-menu-root-container")&&(k=hE(this,a));C&&!Ce("8")&&(k=null);if(k){var l=sj(k);l=new Yi(-l.top,l.left,l.top,-l.left)}k=new Cf(0,1);M(a,
Z(this,"center-menu"))&&(k.x-=Math.round((rj(b).width-rj(a).width)/2));c&&(k.y+=Sf(document).y);if(a=gE(this,a))h=rj(b),a.style.width=h.width+"px",a.style.height=h.height+"px",eB(d,e,a,f,k,l,197),c&&ej(a,"position","fixed");eB(d,e,b,f,k,l,197)};
var hE=function(a,b){return a.getData(b,"button-menu-root-container")?(a=a.getData(b,"button-menu-root-container"),G(b,a)):document.body};
$D.prototype.showMenu=function(a){if(a){var b=bE(this,a);if(b){a.setAttribute("aria-pressed","true");a.setAttribute("aria-expanded","true");b.originalParentNode=b.parentNode;b.activeButtonNode=a;b.parentNode.removeChild(b);var c=this.getData(a,"button-has-sibling-menu")?a.parentNode:hE(this,a);c.appendChild(b);b.style.minWidth=a.offsetWidth-2+"px";var d=gE(this,a);d&&c.appendChild(d);(c=!!this.getData(a,"button-menu-fixed"))&&(this.openFixedMenus_[qk(a).toString()]=b);this.positionMenu_(a,b,c);Eh("yt-uix-button-menu-before-show",
a,b);Y(b);d&&Y(d);this.callCustomAction(a,"button-menu-action",!0);O(a,Z(this,"active"));b=v(this.maybeHideMenu_,this,a,!1);d=v(this.maybeHideMenu_,this,a,!0);c=v(this.updateMenu,this,a,void 0);this.lastOpenMenu&&bE(this,this.lastOpenMenu)==bE(this,a)||aE(this);K("yt-uix-button-menu-show",a);Bk(this.listenerKeys_);this.listenerKeys_=[Q(document,"click",d),Q(document,"contextmenu",b),Q(window,"resize",c)];this.lastOpenMenu=a}}};
$D.prototype.hideMenu=function(a){if(a){var b=bE(this,a);if(b){this.lastOpenMenu=null;a.setAttribute("aria-pressed","false");a.setAttribute("aria-expanded","false");a.removeAttribute("aria-activedescendant");KD(b);this.callCustomAction(a,"button-menu-action",!1);var c=gE(this,a),d=qk(b).toString();delete this.openFixedMenus_[d];ah(function(){c&&c.parentNode&&(KD(c),c.parentNode.removeChild(c));b.originalParentNode&&(b.parentNode.removeChild(b),b.originalParentNode.appendChild(b),b.originalParentNode=
null,b.activeButtonNode=null)},1)}var d=G(a,Z(this,"group")),e=[Z(this,"active")];
d&&e.push(Z(this,"group-active"));Nj(a,e);K("yt-uix-button-menu-hide",a);Bk(this.listenerKeys_);this.listenerKeys_.length=0}};
$D.prototype.updateMenu=function(a,b){var c=bE(this,a);c&&(b&&(b instanceof kf?vf(c,b):qg(c,b)),b=!!this.getData(a,"button-menu-fixed"),this.positionMenu_(a,c,b))};
$D.prototype.maybeHideMenu_=function(a,b,c){c=Ck(c);var d=G(c,Z(this));if(d){var d=bE(this,d),e=bE(this,a);if(d==e)return}var d=G(c,Z(this,"menu")),e=d==bE(this,a),f=M(c,Z(this,"menu-item")),h=M(c,Z(this,"menu-close"));if(!d||e&&(f||h))this.hideMenu(a),d&&b&&this.getData(a,"button-menu-indicate-selected")&&((a=E(Z(this,"content"),a))&&qg(a,zg(c)),iE(this,d,c))};
var iE=function(a,b,c){var d=Z(a,"menu-item-selected");a=Lf(d,b);y(a,function(a){P(a,d)});
O(c.parentNode,d)},bE=function(a,b){if(!b.widgetMenu){var c=a.getData(b,"button-menu-id"),c=c&&D(c),d=Z(a,"menu");
c?Mj(c,[d,Z(a,"menu-external")]):c=E(d,b);b.widgetMenu=c}return b.widgetMenu};
$D.prototype.isToggled=function(a){return M(a,Z(this,"toggled"))};
$D.prototype.toggle=function(a){if(this.getData(a,"button-toggle")){var b=G(a,Z(this,"group")),c=Z(this,"toggled"),d=M(a,c);if(b&&this.getData(b,"button-toggle-group")){var e=this.getData(b,"button-toggle-group"),b=Lf(Z(this),b);y(b,function(b){b!=a||"optional"==e&&d?(P(b,c),b.removeAttribute("aria-pressed")):(O(a,c),b.setAttribute("aria-pressed","true"))})}else d?a.removeAttribute("aria-pressed"):a.setAttribute("aria-pressed","true"),Qj(a,c)}};
$D.prototype.click=function(a){bE(this,a)&&(this.toggleMenu(a),a.focus());this.callCustomAction(a,"button-action")};
var aE=function(a){a.lastOpenMenu&&a.hideMenu(a.lastOpenMenu)};var jE=function(a){YD.call(this,a);this.currentCardTarget=null};
x(jE,YD);g=jE.prototype;g.getRootElement=function(a){var b=YD.prototype.getRootElement.call(this,a);return b?b:a};
g.register=function(){this.pubsubSubscribe("yt-uix-kbd-nav-move-out-done",this.hide)};
g.dispose=function(){jE.superClass_.dispose.call(this);kE(this)};
g.getData=function(a,b){var c=jE.superClass_.getData.call(this,a,b);return c?c:(a=jE.superClass_.getData.call(this,a,"card-config"))&&(a=r(a))&&a[b]?a[b]:null};
g.show=function(a){var b=this.getRootElement(a);if(b){O(b,Z(this,"active"));var c=lE(this,a,b);if(c){c.cardTargetNode=a;c.cardRootNode=b;mE(this,a,c);var d=Z(this,"card-visible"),e=this.getData(a,"card-delegate-show")&&this.getData(b,"card-action");this.callCustomAction(b,"card-action",a);this.currentCardTarget=a;KD(c);ah(v(function(){e||(Y(c),K("yt-uix-card-show",b,a,c));nE(c);O(c,d);K("yt-uix-kbd-nav-move-in-to",c)},this),10)}}};
var lE=function(a,b,c){var d=c||b,e=Z(a,"card");c=a.getContentElement(d);var f=D(Z(a,"card")+qk(d));if(f)return a=E(Z(a,"card-body"),f),og(a,c)||(eg(c),a.appendChild(c)),f;f=document.createElement("div");f.id=Z(a,"card")+qk(d);f.className=e;(d=a.getData(d,"card-class"))&&Mj(f,d.split(/\s+/));d=document.createElement("div");d.className=Z(a,"card-border");b=a.getData(b,"orientation")||"horizontal";e=document.createElement("div");e.className="yt-uix-card-border-arrow yt-uix-card-border-arrow-"+b;var h=
document.createElement("div");h.className=Z(a,"card-body");a=document.createElement("div");a.className="yt-uix-card-body-arrow yt-uix-card-body-arrow-"+b;eg(c);h.appendChild(c);d.appendChild(a);d.appendChild(h);f.appendChild(e);f.appendChild(d);document.body.appendChild(f);return f},mE=function(a,b,c){var d=a.getData(b,"orientation")||"horizontal";
var e=E(Z(a,"anchor"),b)||b;var f=a.getData(b,"position"),h=!!a.getData(b,"force-position"),k=a.getData(b,"position-fixed"),d="horizontal"==d,l="bottomright"==f||"bottomleft"==f,m="topright"==f||"bottomright"==f;if(m&&l){var t=13;var H=8}else m&&!l?(t=12,H=9):!m&&l?(t=9,H=12):(t=8,H=13);var N=vj(document.body),f=vj(b);N!=f&&(t^=4);if(d){f=b.offsetHeight/2-12;var F=new Cf(-12,b.offsetHeight+6)}else f=b.offsetWidth/2-6,F=new Cf(b.offsetWidth+6,-12);var I=rj(c),f=Math.min(f,(d?I.height:I.width)-24-6);
6>f&&(f=6,d?F.y+=12-b.offsetHeight/2:F.x+=12-b.offsetWidth/2);I=null;h||(I=10);b=Z(a,"card-flip");a=Z(a,"card-reverse");Oj(c,b,m);Oj(c,a,l);I=eB(e,t,c,H,F,null,I);!h&&I&&(I&48&&(m=!m,t^=4,H^=4),I&192&&(l=!l,t^=1,H^=1),Oj(c,b,m),Oj(c,a,l),eB(e,t,c,H,F));k&&(e=parseInt(c.style.top,10),h=Sf(document).y,ej(c,"position","fixed"),ej(c,"top",e-h+"px"));N&&(c.style.right="",e=sj(c),e.left=e.left||parseInt(c.style.left,10),h=Pf(),c.style.left="",c.style.right=h.width-e.left-e.width+"px");e=E("yt-uix-card-body-arrow",
c);h=E("yt-uix-card-border-arrow",c);d=d?l?"top":"bottom":!N&&m||N&&!m?"left":"right";e.setAttribute("style","");h.setAttribute("style","");e.style[d]=f+"px";h.style[d]=f+"px";l=E("yt-uix-card-arrow",c);m=E("yt-uix-card-arrow-background",c);l&&m&&(c="right"==d?rj(c).width-f-13:f+11,f=c/Math.sqrt(2),l.style.left=c+"px",l.style.marginLeft="1px",m.style.marginLeft=-f+"px",m.style.marginTop=f+"px")};
jE.prototype.hide=function(a){if(a=this.getRootElement(a)){var b=D(Z(this,"card")+qk(a));b&&(P(a,Z(this,"active")),P(b,Z(this,"card-visible")),KD(b),this.currentCardTarget=null,b.cardTargetNode=null,b.cardRootNode=null,b.cardMask&&(eg(b.cardMask),b.cardMask=null))}};
var kE=function(a){a.currentCardTarget&&a.hide(a.currentCardTarget)};
jE.prototype.updateCard=function(a,b){var c=this.getRootElement(a);if(c){if(b){var d=this.getContentElement(c);if(!d)return;b instanceof kf?vf(d,b):qg(d,b)}M(c,Z(this,"active"))&&(b=lE(this,a,c),mE(this,a,b),Y(b),nE(b))}};
jE.prototype.isActive=function(a){return(a=this.getRootElement(a))?M(a,Z(this,"active")):!1};
jE.prototype.getContentElement=function(a){var b=a.cardContentNode;if(!b){var c=Z(this,"content"),d=Z(this,"card-content");(b=(b=this.getData(a,"card-id"))?D(b):E(c,a))||(b=document.createElement("div"));var e=b;P(e,c);O(e,d);a.cardContentNode=b}return b};
var nE=function(a){var b=a.cardMask;b||(b=document.createElement("iframe"),b.src='javascript:""',Mj(b,["yt-uix-card-iframe-mask"]),a.cardMask=b);b.style.position=a.style.position;b.style.top=a.style.top;b.style.left=a.offsetLeft+"px";b.style.height=a.clientHeight+"px";b.style.width=a.clientWidth+"px";document.body.appendChild(b)};var oE=function(){YD.call(this,"kbd-nav")},pE;
x(oE,YD);pa(oE);g=oE.prototype;g.register=function(){this.addBehavior("keydown",this.handleKeyDown_);this.pubsubSubscribe("yt-uix-kbd-nav-move-in",this.moveIn_);this.pubsubSubscribe("yt-uix-kbd-nav-move-in-to",this.moveInTo_);this.pubsubSubscribe("yt-uix-kbd-move-next",this.moveNext_);this.pubsubSubscribe("yt-uix-kbd-nav-move-to",this.focus_)};
g.unregister=function(){this.removeBehavior("keydown",this.handleKeyDown_);Bk(pE)};
g.handleKeyDown_=function(a,b,c){var d=c.keyCode;if(a=G(a,Z(this)))switch(d){case 13:case 32:this.moveIn_(a);break;case 27:c.preventDefault();c.stopImmediatePropagation();a:{for(c=vC(a,"kbdNavMoveOut");!c;){c=G(a.parentElement,Z(this));if(!c)break a;c=vC(c,"kbdNavMoveOut")}c=D(c);this.focus_(c);K("yt-uix-kbd-nav-move-out-done",c)}break;case 40:case 38:if((b=c.target)&&M(a,Z(this,"list")))switch(d){case 40:this.moveNext_(b,a);break;case 38:d=document.activeElement==a,a=qE(a),b=a.indexOf(b),0>b&&!d||
(b=d?a.length-1:(a.length+b-1)%a.length,a[b].focus(),rE(this,a[b]))}c.preventDefault()}};
g.moveIn_=function(a){var b=vC(a,"kbdNavMoveIn"),b=D(b);sE(this,a,b);this.focus_(b)};
g.moveInTo_=function(a){a:{var b=document;try{var c=b&&b.activeElement;break a}catch(d){}c=null}sE(this,c,a);this.focus_(a)};
g.focus_=function(a){if(a)if(xg(a))a.focus();else{var b=sg(a,function(a){return mg(a)?xg(a):!1});
b?b.focus():(a.setAttribute("tabindex","-1"),a.focus())}};
var sE=function(a,b,c){b&&c&&(O(c,Z(a)),a=b.id,a||(a="kbd-nav-"+Math.floor(1E6*Math.random()+1),b.id=a),b=a,uC&&c.dataset?c.dataset.kbdNavMoveOut=b:c.setAttribute("data-"+"kbdNavMoveOut".replace(/([A-Z])/g,"-$1").toLowerCase(),b))};
oE.prototype.moveNext_=function(a,b){var c=document.activeElement==b;b=qE(b);a=b.indexOf(a);0>a&&!c||(c=c?0:(a+1)%b.length,b[c].focus(),rE(this,b[c]))};
var rE=function(a,b){if(b){var c=Cg(b,"LI");c&&(O(c,Z(a,"highlight")),pE=Q(b,"blur",v(function(a){P(a,Z(this,"highlight"));Bk(pE)},a,c)))}},qE=function(a){if("UL"!=a.tagName.toUpperCase())return[];
a=mb(gg(a),function(a){return"LI"==a.tagName.toUpperCase()});
return mb(nb(a,function(a){return JD(a)?sg(a,function(a){return mg(a)?xg(a):!1}):!1}),function(a){return!!a})};var tE=function(){YD.call(this,"menu");this.menuBodyRoot_=this.bodyMenuEl_=null;this.uidToListenerKeyMap_={};this.uidToIframeMaskMap_={};this.pubsub_=null};
x(tE,YD);pa(tE);var uE=function(a){var b=tE.getInstance();if(M(a,Z(b)))return a;var c=b.getRootElement(a);return c?c:G(a,Z(b,"content"))==b.bodyMenuEl_?b.menuBodyRoot_:null};
g=tE.prototype;g.register=function(){this.addBehavior("click",this.handleClick_);this.addBehavior("mouseenter",this.handleMouseEnter_);this.pubsubSubscribe("page-scroll",this.handleScroll_);this.pubsubSubscribe("yt-uix-kbd-nav-move-out-done",function(a){a=this.getRootElement(a);vE(this,a)});
this.pubsub_=new Jg};
g.unregister=function(){this.removeBehavior("click",this.handleClick_);this.menuBodyRoot_=this.bodyMenuEl_=null;Bk(Db(Qb(this.uidToListenerKeyMap_)));this.uidToListenerKeyMap_={};Lb(this.uidToIframeMaskMap_,function(a){eg(a)},this);
this.uidToIframeMaskMap_={};be(this.pubsub_);this.pubsub_=null;tE.superClass_.unregister.call(this)};
g.handleClick_=function(a,b,c){a&&(b=wE(this,a),!b.disabled&&rk(c.target,b)&&this.toggleMenu(a))};
g.handleMouseEnter_=function(a,b,c){a&&M(a,Z(this,"hover"))&&(b=wE(this,a),rk(c.target,b)&&this.toggleMenu(a,!0))};
g.handleScroll_=function(){this.bodyMenuEl_&&this.menuBodyRoot_&&this.positionMenu_(this.menuBodyRoot_,this.bodyMenuEl_)};
g.positionMenu_=function(a,b){var c=xE(this,a);c&&pj(c,rj(b));if(b==this.bodyMenuEl_){var d=9,e=8;M(a,Z(this,"reversed"))&&(d^=1,e^=1);M(a,Z(this,"flipped"))&&(d^=4,e^=4);var f=new Cf(0,1);c&&eB(a,d,c,e,f,null,197);eB(a,d,b,e,f,null,197)}};
g.toggleMenu=function(a,b){yE(this,a)&&!b?vE(this,a):(zE(this,a),!this.bodyMenuEl_||rk(a,this.bodyMenuEl_)?this.showMenu(a):Kg(this.pubsub_,v(this.showMenu,this,a)))};
g.showMenu=function(a){if(a){var b=AE(this,a);if(b){Eh("yt-uix-menu-before-show",a,b);if(this.bodyMenuEl_)rk(a,this.bodyMenuEl_)||vE(this,this.menuBodyRoot_);else{this.menuBodyRoot_=a;this.bodyMenuEl_=b;M(a,Z(this,"sibling-content"))||(eg(b),document.body.appendChild(b));var c=wE(this,a).offsetWidth-2;b.style.minWidth=c+"px"}(c=xE(this,a))&&cg(c,b);P(b,Z(this,"content-hidden"));this.positionMenu_(a,b);Mj(wE(this,a),[Z(this,"trigger-selected"),"yt-uix-button-toggled"]);K("yt-uix-menu-show",a);BE(b);
CE(this,a);K("yt-uix-kbd-nav-move-in-to",b);var d=v(this.maybeHideMenu_,this,a),e=v(this.maybeCheckOnClick_,this,a),c=ya(a).toString();this.uidToListenerKeyMap_[c]=[Q(b,"click",e),Q(document,"click",d)];M(a,Z(this,"indicate-selected"))&&(d=v(this.maybeIndicateSelection_,this,a),this.uidToListenerKeyMap_[c].push(Q(b,"click",d)));M(a,Z(this,"hover"))&&(a=v(this.handleMouseMove_,this,a),this.uidToListenerKeyMap_[c].push(Q(document,"mousemove",a)))}}};
g.handleMouseMove_=function(a,b){if(b=Ck(b)){var c=wE(this,a);rk(b,c)||DE(this,b)||this.hideMenu(a)}};
g.maybeHideMenu_=function(a,b){if(b=Ck(b)){if(DE(this,b)){var c=G(b,Z(this,"content"));var d=Cg(b,"LI");d&&c&&og(c,d)&&Eh("yt-uix-menu-item-clicked",b);b=G(b,Z(this,"close-on-select"));if(!b)return;c=uE(b)}vE(this,c||a)}};
var zE=function(a,b){if(b){var c=G(b,Z(a,"content"));c&&(c=Lf(Z(a),c),y(c,function(a){!rk(a,b)&&yE(this,a)&&this.hideMenu(a)},a))}},vE=function(a,b){if(b){var c=[];
c.push(b);if(b=AE(a,b))b=Lf(Z(a),b),b=wb(b),c=c.concat(b),y(c,function(a){yE(this,a)&&this.hideMenu(a)},a)}};
tE.prototype.hideMenu=function(a){if(a){var b=AE(this,a);Nj(wE(this,a),[Z(this,"trigger-selected"),"yt-uix-button-toggled"]);O(b,Z(this,"content-hidden"));var c=AE(this,a);c&&Nf(c,{"aria-expanded":"false"});(c=xE(this,a))&&c.parentNode&&eg(c);b&&b==this.bodyMenuEl_&&(this.menuBodyRoot_.appendChild(b),this.menuBodyRoot_=this.bodyMenuEl_=null,this.pubsub_&&this.pubsub_.publish("ROOT_MENU_REMOVED"));K("yt-uix-menu-hide",a);a=ya(a).toString();Bk(this.uidToListenerKeyMap_[a]);delete this.uidToListenerKeyMap_[a]}};
tE.prototype.maybeCheckOnClick_=function(a,b){(b=Ck(b))&&EE(this,a,b)};
tE.prototype.maybeIndicateSelection_=function(a,b){if(b=Ck(b))if(a=wE(this,a))if(b=Cg(b,"LI"))if(b=zg(b).trim(),a.hasChildNodes()){var c=$D.getInstance();(a=E(Z(c,"content"),a))&&qg(a,b)}else qg(a,b)};
var CE=function(a,b){var c=AE(a,b);if(c){y(c.children,function(a){"LI"==a.tagName&&Nf(a,{role:"menuitem"})});
Nf(c,{"aria-expanded":"true"});var d=c.id;d||(d="aria-menu-id-"+ya(c),c.id=d);(a=wE(a,b))&&Nf(a,{"aria-controls":d})}},EE=function(a,b,c){var d=AE(a,b);
d&&M(b,Z(a,"checked"))&&(a=Cg(c,"LI"))&&(a=E("yt-ui-menu-item-checked-hid",a))&&(d=Lf("yt-ui-menu-item-checked",d),y(d,function(a){Pj(a,"yt-ui-menu-item-checked","yt-ui-menu-item-checked-hid")}),Pj(a,"yt-ui-menu-item-checked-hid","yt-ui-menu-item-checked"))},yE=function(a,b){return(b=AE(a,b))?!M(b,Z(a,"content-hidden")):!1},BE=function(a){a=Kf(document,"UL",null,a);
y(a,function(a){a.tabIndex=0;var b=oE.getInstance();Mj(a,[Z(b),Z(b,"list")])})},AE=function(a,b){var c=J(b,"menu-content-id");
return c&&(c=D(c))?(Mj(c,[Z(a,"content"),Z(a,"content-external")]),c):b==a.menuBodyRoot_?a.bodyMenuEl_:E(Z(a,"content"),b)},xE=function(a,b){var c=ya(b).toString(),d=a.uidToIframeMaskMap_[c];
if(!d){d=Yf("IFRAME");d.src='javascript:""';var e=[Z(a,"mask")];y(Lj(b),function(a){e.push(a+"-mask")});
Mj(d,e);a.uidToIframeMaskMap_[c]=d}return d||null},wE=function(a,b){return E(Z(a,"trigger"),b)},DE=function(a,b){return rk(b,a.bodyMenuEl_)||rk(b,a.menuBodyRoot_)};var FE=function(){jE.call(this,"clickcard");this.targetListenerKeyMap_={};this.windowResizeListenerKeyMap_={}};
x(FE,jE);pa(FE);g=FE.prototype;g.register=function(){FE.superClass_.register.call(this);this.addBehavior("click",this.clickTargetAction,"target");this.addBehavior("click",this.clickCloseAction,"close")};
g.unregister=function(){FE.superClass_.unregister.call(this);this.removeBehavior("click",this.clickTargetAction,"target");this.removeBehavior("click",this.clickCloseAction,"close");for(var a in this.targetListenerKeyMap_)Bk(this.targetListenerKeyMap_[a]);this.targetListenerKeyMap_={};for(a in this.windowResizeListenerKeyMap_)Bk(this.windowResizeListenerKeyMap_[a]);this.windowResizeListenerKeyMap_={}};
g.clickTargetAction=function(a,b,c){c.preventDefault();b=Cg(c.target,"button");b&&b.disabled||(a=(b=this.getData(a,"card-target"))?If(b):a,b=this.getRootElement(a),this.getData(b,"disabled")||(M(b,Z(this,"active"))?(this.hide(a),P(b,Z(this,"active"))):(this.show(a),O(b,Z(this,"active")))))};
g.show=function(a){FE.superClass_.show.call(this,a);var b=this.getRootElement(a),c=ya(a).toString();if(!J(b,"click-outside-persists")){if(this.targetListenerKeyMap_[c])return;var b=Q(document,"click",v(this.closeClickHandler_,this,a)),d=Q(window,"blur",v(this.closeClickHandler_,this,a));this.targetListenerKeyMap_[c]=[b,d]}a=Q(window,"resize",v(this.updateCard,this,a,void 0));this.windowResizeListenerKeyMap_[c]=a};
g.hide=function(a){FE.superClass_.hide.call(this,a);a=ya(a).toString();var b=this.targetListenerKeyMap_[a];b&&(Bk(b),this.targetListenerKeyMap_[a]=null);if(b=this.windowResizeListenerKeyMap_[a])Bk(b),delete this.windowResizeListenerKeyMap_[a]};
g.closeClickHandler_=function(a,b){var c=ZD(this)+"-card",d=null;b.target&&(d=G(b.target,c)||G(uE(b.target),c));(d=d||G(document.activeElement,c)||G(uE(document.activeElement),c))||this.hide(a)};
g.clickCloseAction=function(a){(a=G(a,Z(this,"card")))&&(a=a.cardTargetNode)&&this.hide(a)};var GE=function(){jE.call(this,"hovercard")};
x(GE,jE);pa(GE);g=GE.prototype;g.register=function(){this.addBehavior("mouseenter",this.mouseEnterAction_,"target");this.addBehavior("mouseleave",this.mouseLeaveAction_,"target");this.addBehavior("mouseenter",this.mouseEnterCard_,"card");this.addBehavior("mouseleave",this.mouseLeaveCard_,"card")};
g.unregister=function(){this.removeBehavior("mouseenter",this.mouseEnterAction_,"target");this.removeBehavior("mouseleave",this.mouseLeaveAction_,"target");this.removeBehavior("mouseenter",this.mouseEnterCard_,"card");this.removeBehavior("mouseleave",this.mouseLeaveCard_,"card")};
g.mouseEnterAction_=function(a){if(HE!=a){HE&&(this.hide(HE),HE=null);var b=v(this.show,this,a),c=parseInt(this.getData(a,"delay-show"),10),b=ah(b,-1<c?c:200);this.setData(a,"card-timer",b.toString());HE=a;a.alt&&(this.setData(a,"card-alt",a.alt),a.alt="");a.title&&(this.setData(a,"card-title",a.title),a.title="")}};
g.mouseLeaveAction_=function(a){var b=parseInt(this.getData(a,"card-timer"),10);$g(b);this.getRootElement(a).isCardHidable=!0;b=parseInt(this.getData(a,"delay-hide"),10);b=-1<b?b:200;ah(v(this.hideWithDelay,this,a),b);if(b=this.getData(a,"card-alt"))a.alt=b;if(b=this.getData(a,"card-title"))a.title=b};
g.hideWithDelay=function(a){this.getRootElement(a).isCardHidable&&(this.hide(a),HE=null)};
g.mouseEnterCard_=function(a){a&&(a.cardRootNode.isCardHidable=!1)};
g.mouseLeaveCard_=function(a){a&&this.hide(a.cardTargetNode)};
var HE=null;var IE=function(a,b,c,d,e,f){this.root_=a;this.previouslyActiveEl_=null;this.topLevelFocusEl_=E("yt-dialog-fg",this.root_)||this.root_;if(a=E("yt-dialog-title",this.topLevelFocusEl_)){var h="yt-dialog-title-"+ya(this.topLevelFocusEl_);a.setAttribute("id",h);this.topLevelFocusEl_.setAttribute("aria-labelledby",h)}this.topLevelFocusEl_.setAttribute("tabindex","-1");this.focusTrapEl_=E("yt-dialog-focus-trap",this.root_);this.disposed_=!1;this.pubsub_=new Jg;this.listenerKeys_=[];this.listenerKeys_.push(Dk(this.root_,
"click",v(this.onClickDismissButton_,this),"yt-dialog-dismiss"));this.listenerKeys_.push(Q(this.focusTrapEl_,"focus",v(this.focusTrap_,this),!0));this.setState("content");this.ignoreEscape_=b;this.outsideClickDismiss_=c;this.omitBackground_=d;this.allowPageScroll_=e;this.showEmbeds_=f;this.data_=this.outsideClickListenerKey_=this.keyboardListenerKey_=null},JE={LOADING:"loading",
CONTENT:"content",WORKING:"working"},KE=function(a,b,c,d){a.isDisposed()||a.pubsub_.subscribe((d?"pre-":"post-")+b,c)};
IE.prototype.setState=function(a){var b=E("yt-dialog-fg-content",this.root_),c=[];Lb(JE,function(a){c.push("yt-dialog-show-"+a)});
Nj(b,c);O(b,"yt-dialog-show-"+a)};
IE.prototype.show=function(a){if(!this.isDisposed()){this.previouslyActiveEl_=document.activeElement;if(!this.omitBackground_){this.backEl_||(this.backEl_=D("yt-dialog-bg"),this.backEl_||(this.backEl_=Yf("div"),this.backEl_.id="yt-dialog-bg",this.backEl_.className="yt-dialog-bg",document.body.appendChild(this.backEl_)));var b=window,c=b.document;var d=0;if(c){d=c.body;var e=c.documentElement;if(e&&d)if(b=Of(b).height,Qf(c)&&e.scrollHeight)d=e.scrollHeight!=b?e.scrollHeight:e.offsetHeight;else{var c=
e.scrollHeight,f=e.offsetHeight;e.clientHeight!=f&&(c=d.scrollHeight,f=d.offsetHeight);d=c>b?c>f?c:f:c<f?c:f}else d=0}this.backEl_.style.height=d+"px";Y(this.backEl_)}this.hideEmbeds_();d=LE(this);ME(d);this.keyboardListenerKey_=Q(document,"keydown",v(this.keyDownHandler_,this));d=this.root_;e=yh("player-added",this.hideEmbeds_,this);Xg(d,"player-ready-pubsub-key",e);this.outsideClickDismiss_&&(this.outsideClickListenerKey_=Q(document,"click",v(this.outsideClickHandler_,this)));Y(this.root_);this.topLevelFocusEl_.setAttribute("tabindex",
"0");NE(this);this.allowPageScroll_||O(document.body,"yt-dialog-active");aE($D.getInstance());kE(FE.getInstance());kE(GE.getInstance());this.data_=a;K("yt-ui-dialog-show-complete",this)}};
var OE=function(){var a=Lf("yt-dialog");return ob(a,function(a){return JD(a)})};
IE.prototype.hideEmbeds_=function(){if(!this.showEmbeds_){var a=this.root_;Oj(document.body,"hide-players",!0);a&&Oj(a,"preserve-players",!0)}};
var LE=function(a){var b=Kf(document,"iframe",null,a.root_);y(b,function(a){var b=J(a,"onload");b&&(b=r(b))&&Q(a,"load",b);if(b=J(a,"src"))a.src=b},a);
return wb(b)},ME=function(a){y(document.getElementsByTagName("iframe"),function(b){-1==lb(a,b)&&O(b,"iframe-hid")})},PE=function(){var a=Lf("iframe-hid");
y(a,function(a){P(a,"iframe-hid")})};
g=IE.prototype;g.onClickDismissButton_=function(a){a=a.currentTarget;a.disabled||(a=J(a,"action")||"",this.dismiss(a))};
g.dismiss=function(a){if(!this.isDisposed()){this.pubsub_.publish("pre-all");this.pubsub_.publish("pre-"+a);KD(this.root_);kE(FE.getInstance());kE(GE.getInstance());this.topLevelFocusEl_.setAttribute("tabindex","-1");OE()||(KD(this.backEl_),this.allowPageScroll_||P(document.body,"yt-dialog-active"),uk(),PE());this.keyboardListenerKey_&&(Bk(this.keyboardListenerKey_),this.keyboardListenerKey_=null);this.outsideClickListenerKey_&&(Bk(this.outsideClickListenerKey_),this.outsideClickListenerKey_=null);
var b=this.root_;if(b){var c=J(b,"player-ready-pubsub-key");c&&(Ah(c),Wg(b,"player-ready-pubsub-key"))}this.pubsub_.publish("post-all");K("yt-ui-dialog-hide-complete",this);"cancel"==a&&K("yt-ui-dialog-cancelled",this);this.pubsub_&&this.pubsub_.publish("post-"+a);this.data_=null;this.previouslyActiveEl_&&this.previouslyActiveEl_.focus()}};
g.setTitle=function(a){qg(E("yt-dialog-title",this.root_),a)};
g.getData=function(){return this.data_};
g.keyDownHandler_=function(a){ah(v(function(){this.ignoreEscape_||27!=a.keyCode||this.dismiss("cancel")},this),0);
9==a.keyCode&&a.shiftKey&&M(document.activeElement,"yt-dialog-fg")&&a.preventDefault()};
g.outsideClickHandler_=function(a){"yt-dialog-base"==a.target.className&&this.dismiss("cancel")};
g.isDisposed=function(){return this.disposed_};
g.dispose=function(){JD(this.root_)&&this.dismiss("dispose");Bk(this.listenerKeys_);this.listenerKeys_.length=0;ah(v(function(){this.previouslyActiveEl_=null},this),0);
this.focusTrapEl_=this.topLevelFocusEl_=null;this.pubsub_.dispose();this.pubsub_=null;this.disposed_=!0};
g.focusTrap_=function(a){a.stopPropagation();NE(this)};
var NE=function(a){ah(v(function(){this.topLevelFocusEl_&&this.topLevelFocusEl_.focus()},a),0)};
q("yt.ui.Dialog",IE,void 0);var QE=function(){SD.call(this);this.invalidImageAlertEl_=this.aspectRatioAlertEl_=this.fileSizeAlertEl_=this.overlay_=this.previewImgEl_=this.previewContainerEl_=this.dropZoneEl_=null;this.uploadErrorMessage_=""};
aa(QE,SD);g=QE.prototype;
g.enterDocument=function(){SD.prototype.enterDocument.call(this);this.previewContainerEl_=this.getRequiredElementByClass("i-u-preview-container");this.previewImgEl_=this.getRequiredElementByClass("i-u-preview");this.dropZoneEl_=this.getRequiredElementByClass("i-u-drop-zone");this.fileSizeAlertEl_=D("i-u-filesize-alert");this.aspectRatioAlertEl_=D("i-u-aspect-ratio-alert");this.invalidImageAlertEl_=D("i-u-invalid-image-alert");var a=E("close",this.fileSizeAlertEl_),b=E("close",this.aspectRatioAlertEl_),
c=E("close",this.invalidImageAlertEl_);this.getHandler().listen(a,"click",this.removeDropZoneStyles_);this.getHandler().listen(b,"click",this.removeDropZoneStyles_);this.getHandler().listen(c,"click",this.removeDropZoneStyles_);a=this.getRequiredElementByClass("i-u-file-select");TD(this,"click","i-u-cancel",this.cancel_);this.overlay_=new PD(J(this.getElement(),"url"),J(this.getElement(),"channel-id"),parseFloat(J(this.getElement(),"max-file-size-mb")),parseFloat(J(this.getElement(),"max-aspect-ratio")),
this.dropZoneEl_,a);ce(this,this.overlay_);this.getHandler().listen(this.overlay_,"yt.comments.ImageUploadOverlay.CHANGE_EVENT",this.onPreview_).listen(this.overlay_,"yt.comments.ImageUploadOverlay.INVALID_EVENT",this.onPreviewError_).listen(this.overlay_,"yt.comments.ImageUploadOverlay.HOVER_EVENT",this.onHover_).listen(this.overlay_,"yt.comments.ImageUploadOverlay.CROPPED_EVENT",this.onCropped_).listen(this.overlay_,"yt.comments.ImageUploadOverlay.FILE_TOO_LARGE_EVENT",this.onFileSizeError_);this.uploadErrorMessage_=
J(this.getElement(),"upload-error-message");Y(this.getElement())};
g.exitDocument=function(){KD(this.getElement());this.cancel_();P(this.dropZoneEl_,"i-u-hover");this.fileSizeAlertEl_=this.dropZoneEl_=this.previewContainerEl_=this.previewImgEl_=this.overlay_=null;this.uploadErrorMessage_="";SD.prototype.exitDocument.call(this)};
g.uploadPromise=function(){var a=this,b=this.overlay_.uploadPromise();return b?b.catch(function(){throw Error(a.uploadErrorMessage_);}):null};
g.removeDropZoneStyles_=function(){P(this.dropZoneEl_,"i-u-error");P(this.dropZoneEl_,"i-u-hover");KD(this.fileSizeAlertEl_,this.aspectRatioAlertEl_,this.invalidImageAlertEl_)};
g.cancel_=function(){this.overlay_.cancel();this.previewImgEl_.removeAttribute("src");KD(this.previewContainerEl_);Y(this.dropZoneEl_);K("ui-renderers-comment-imageuploader-cancel");this.removeDropZoneStyles_()};
g.onFileSizeError_=function(){Y(this.fileSizeAlertEl_);O(this.dropZoneEl_,"i-u-error")};
g.onCropped_=function(){ID(this.aspectRatioAlertEl_,!0);O(this.dropZoneEl_,"i-u-error")};
g.onPreview_=function(a){KD(this.invalidImageAlertEl_);RE(this,a.value)};
g.onPreviewError_=function(){O(this.dropZoneEl_,"i-u-error");Y(this.invalidImageAlertEl_)};
var RE=function(a,b){xf(a.previewImgEl_,b);Y(a.previewContainerEl_);KD(a.dropZoneEl_);K("ui-renderers-comment-imageuploader-change")};
QE.prototype.onHover_=function(a){a.stopPropagation();a.preventDefault();"yt.comments.ImageUploadOverlay.HOVER_EVENT"===a.type&&(a.value?O(this.dropZoneEl_,"i-u-hover"):P(this.dropZoneEl_,"i-u-hover"))};var SE=function(){SD.call(this);this.attachmentFailedAlertEl_=this.cancelButtonEl_=this.previewContainerEl_=this.selectedVideoId_=this.picker_=null};
x(SE,SD);SE.prototype.enterDocument=function(){SE.superClass_.enterDocument.call(this);this.previewContainerEl_=this.getRequiredElementByClass("video-link-preview");this.cancelButtonEl_=this.getRequiredElementByClass("video-link-cancel");this.getHandler().listen(this.cancelButtonEl_,"click",this.cancel_);this.attachmentFailedAlertEl_=If("video-attachment-failed-alert")};
SE.prototype.onPickVideo_=function(a){"picked"===a.action&&(this.selectedVideoId_=a=a.docs[0].id,TE(this,a))};
SE.prototype.getSelectedVideoId=function(){return this.selectedVideoId_};
var TE=function(a,b){Oj(a.getElement(),"loading",!0);Y(a.getElement());K("ui-renderers-comment-videopicker-change");var c=J(a.previewContainerEl_,"target");hh(c,{format:"JSON",method:"POST",context:a,convertToSafeHtml:!0,onSuccess:a.onGetVideoPreviewSuccess_,onError:a.onGetVideoPreviewError_,postParams:{video_id:b}})};
SE.prototype.onGetVideoPreviewSuccess_=function(a,b){(a=b.html_content&&lf(b.html_content))&&!Ia(a)&&(a=tk(a),this.previewContainerEl_.appendChild(a));Oj(this.getElement(),"loading",!1)};
SE.prototype.onGetVideoPreviewError_=function(){Y(this.attachmentFailedAlertEl_);this.cancel_()};
SE.prototype.cancel_=function(){KD(this.getElement());this.selectedVideoId_=null;K("ui-renderers-comment-videopicker-cancel")};
SE.prototype.exitDocument=function(){this.picker_&&this.picker_.dispose();this.selectedVideoId_=this.picker_=null;KD(this.getElement());ag(this.previewContainerEl_);this.attachmentFailedAlertEl_=this.cancelButtonEl_=this.previewContainerEl_=null;SE.superClass_.exitDocument.call(this)};var UE=function(){var a=ie&&!Ce("15");return!C&&!a};var VE=function(){SD.call(this);this.imageUploader_=this.videoPicker_=this.optionTemplateEl_=this.optionsEl_=this.addImageButtonEl_=this.addOptionButtonEl_=this.addPollButtonEl_=this.addVideoLinkButtonEl_=this.pollConfigurationEl_=null};
x(VE,SD);
VE.prototype.enterDocument=function(){VE.superClass_.enterDocument.call(this);this.pollConfigurationEl_=this.getElementByClass("attachment-editor-poll-config");this.addVideoLinkButtonEl_=this.getElementByClass("attachment-editor-video-link-add");this.addPollButtonEl_=this.getElementByClass("attachment-editor-poll-option-add");this.addOptionButtonEl_=this.getElementByClass("attachment-editor-poll-option-add-more");this.optionTemplateEl_=this.getElementByClass("attachment-editor-poll-option-template");this.addImageButtonEl_=
this.getElementByClass("attachment-editor-image-add");this.optionsEl_=E("attachment-editor-poll-options",ng(this.getElement()));this.optionsEl_||(this.optionsEl_=Yf("DIV"),O(this.optionsEl_,"attachment-editor-poll-options"),bg(this.optionsEl_,this.getElement()));this.addVideoLinkButtonEl_&&this.getHandler().listen(this.addVideoLinkButtonEl_,"click",this.onAddVideoLink_);this.addPollButtonEl_&&(this.getHandler().listen(this.addPollButtonEl_,"click",this.onAddOption_),this.getHandler().listen(this.addOptionButtonEl_,
"click",this.onAddOption_),TD(this,"click","attachment-editor-poll-option-clear",this.onRemoveOption_,this,this.optionsEl_));this.addImageButtonEl_&&this.getHandler().listen(this.addImageButtonEl_,"click",this.onAddImage_);this.pubsubSubscribe("ui-renderers-comment-imageuploader-change",function(){K("ui-renderers-comment-attachmenteditor-change")});
this.pubsubSubscribe("ui-renderers-comment-imageuploader-cancel",function(){K("ui-renderers-comment-attachmenteditor-cancel");this.reset()});
this.pubsubSubscribe("ui-renderers-comment-videopicker-change",function(){K("ui-renderers-comment-attachmenteditor-change");WE(this)});
this.pubsubSubscribe("ui-renderers-comment-videopicker-cancel",function(){K("ui-renderers-comment-attachmenteditor-cancel");this.reset()});
UE()&&TD(this,"input","attachment-editor-poll-option",this.onInput_,this,this.optionsEl_)};
VE.prototype.exitDocument=function(){eg(this.optionsEl_);this.addImageButtonEl_=this.optionTemplateEl_=this.addOptionButtonEl_=this.addPollButtonEl_=this.addVideoLinkButtonEl_=this.pollConfigurationEl_=this.optionsEl_=null;this.videoPicker_&&this.videoPicker_.dispose();this.videoPicker_=null;this.imageUploader_&&this.imageUploader_.dispose();this.imageUploader_=null;this.getHandler().removeAll();VE.superClass_.exitDocument.call(this)};
VE.prototype.reset=function(){var a=Lf("attachment-editor-poll-option",this.optionsEl_);y(a,eg);this.videoPicker_&&this.videoPicker_.dispose();this.videoPicker_=null;this.imageUploader_&&this.imageUploader_.dispose();this.imageUploader_=null;P(this.getElement(),"attachment-editor-active");KD(this.pollConfigurationEl_)};
var WE=function(a){O(a.getElement(),"attachment-editor-active")},XE=function(a){a=Kf(document,"INPUT","attachment-editor-poll-option-input",a.optionsEl_);
var b=!0;a=nb(a,function(a){if(Ia(a.value)||1>a.value.length||65<a.value.length)b=!1;return a.value});
return b?a:!1};
VE.prototype.uploadPromise=function(){return this.imageUploader_&&this.imageUploader_.uploadPromise()};
VE.prototype.onAddVideoLink_=function(){this.videoPicker_||YE(this);var a=this.videoPicker_;if(!a.picker_){var b=v(a.onPickVideo_,a),c=(new WA).setType("video").setSite("youtube.com"),d=(new XA).setSite("youtube.com"),e=A("ONE_PICK_URL"),e=new hC(e);S(e.uri_,"hostId","yt-backstage-add-video-link");var f=A("GAPI_LOCALE");f&&S(e.uri_,"hl",f);(f=A("SESSION_INDEX"))&&S(e.uri_,"authuser",f);(f=A("DELEGATED_SESSION_ID"))&&S(e.uri_,"groupId",f);a.picker_=e.setTitle("Add an existing YouTube video").addView(d).addView(c).addView("youtube").setCallback(b).build()}a.picker_.setVisible(!0)};
var YE=function(a){var b=D("attachment-editor-video-link");a.videoPicker_=new SE;a.videoPicker_.decorate(b)};
VE.prototype.getSelectedVideoId=function(){return this.videoPicker_&&this.videoPicker_.getSelectedVideoId()};
VE.prototype.onAddOption_=function(){var a=Lf("attachment-editor-poll-option",this.optionsEl_),b=1;if(0===a.length)b=2,WE(this),Y(this.pollConfigurationEl_);else if(5<=a.length)return;for(var c=0;c<b;c++){var d=this.optionTemplateEl_.cloneNode(!0);O(d,"attachment-editor-poll-option");P(d,"attachment-editor-poll-option-template");this.optionsEl_.appendChild(d)}4===a.length&&KD(this.pollConfigurationEl_);K("ui-renderers-comment-attachmenteditor-change")};
VE.prototype.onRemoveOption_=function(a){2>=Lf("attachment-editor-poll-option",this.optionsEl_).length?this.reset():(a=G(a.target,"attachment-editor-poll-option"),this.optionsEl_.removeChild(a),Y(this.pollConfigurationEl_));K("ui-renderers-comment-attachmenteditor-change")};
VE.prototype.onAddImage_=function(){ZE(this)};
var ZE=function(a){var b=D("attachment-editor-image-uploader");a.imageUploader_=new QE;a.imageUploader_.decorate(b);WE(a);K("ui-renderers-comment-attachmenteditor-change")};
VE.prototype.onInput_=function(a){a=G(a.target,"attachment-editor-poll-option");var b=Kf(document,"INPUT","attachment-editor-poll-option-input",a)[0],c=E("attachment-editor-poll-option-counter",a),d="";b.value.length&&(d+=b.value.length+" / 65");qg(c,d);65<b.value.length?O(a,"yt-uix-form-error"):P(a,"yt-uix-form-error");K("ui-renderers-comment-attachmenteditor-change")};var $E=function(a,b,c){this.botguardVM_=null;c?Lh(c,v(function(){this.botguardVM_=new botguard.bg(a)},this)):b&&(eval(b),this.botguardVM_=new botguard.bg(a))};
$E.prototype.invoke=function(){return this.botguardVM_?this.botguardVM_.invoke():null};var aF=function(a){SD.call(this);this.attachmentEditor_=this.textCharCounterEL_=this.cancelButtonEl_=this.submitButtonEl_=this.promptEl_=this.textEl_=this.event_=null;this.triggerEl_=a||null;this.targetEl_=null;this.isSubmitting_=!1;this.errorEl_=null;this.maxTextLength_=0;this.supportsInputEvent_=UE();this.botguard_=(a=A("COMMENTS_BG_P"))?new $E(a,A("COMMENTS_BG_I",""),A("COMMENTS_BG_IU","")):null};
x(aF,SD);g=aF.prototype;
g.enterDocument=function(){aF.superClass_.enterDocument.call(this);var a=this.element_;this.textEl_=E("comment-simplebox-text",a);this.promptEl_=E("comment-simplebox-prompt",a);this.submitButtonEl_=E("comment-simplebox-submit",a);this.cancelButtonEl_=E("comment-simplebox-cancel",a);this.errorEl_=E("comment-simplebox-error-message",a);this.textCharCounterEL_=E("comment-simplebox-character-counter",a);if(a=this.getElementByClass("attachment-editor"))this.attachmentEditor_=new VE,this.attachmentEditor_.decorate(a),
KD(a),this.pubsubSubscribe("ui-renderers-comment-attachmenteditor-change",this.onAttach_),this.pubsubSubscribe("ui-renderers-comment-attachmenteditor-cancel",this.onAttachCancel_);bF(this);this.getHandler().listen(this.textEl_,"focus",this.onFocusChange_);this.getHandler().listen(this.textEl_,"blur",this.onFocusChange_);this.supportsInputEvent_&&this.getHandler().listen(this.textEl_,"input",this.onContentChange_);this.getHandler().listen(this.submitButtonEl_,["click","keypress"],this.onSubmit_);this.getHandler().listen(this.cancelButtonEl_,
["click","keypress"],this.onCancel_);this.triggerEl_&&(TD(this,"click","comment-simplebox-trigger",this.onTrigger_,null,this.triggerEl_),TD(this,"keypress","comment-simplebox-trigger",this.onTrigger_,null,this.triggerEl_))};
g.exitDocument=function(){this.reset();this.targetEl_=this.triggerEl_=this.textCharCounterEL_=this.cancelButtonEl_=this.submitButtonEl_=this.promptEl_=this.textEl_=this.event_=null;this.attachmentEditor_&&(this.attachmentEditor_.dispose(),this.attachmentEditor_=null);this.getHandler().removeAll();aF.superClass_.exitDocument.call(this)};
g.trigger=function(a,b,c,d){if(!this.isSubmitting_){var e=J(a,"simplebox-id");if(e){this.reset();if(e=this.targetEl_=D(e)){if(!f)var f=document.location.href;f=id(f)[1]||null;null!==f&&"https"==f?f=!1:(f=new $n(document.location.href),f.setScheme("https"),Lo(f.toString()),f=!0);e=!f}e&&(this.event_=J(a,"simplebox-event"),Sb(Vk,this.event_)||(this.event_=null),f=J(a,"simplebox-label"),qg(this.submitButtonEl_,f),this.submitButtonEl_.setAttribute("aria-label",f),f=J(a,"simplebox-target"),Xg(this.submitButtonEl_,
"target",f),e=J(a,"simplebox-params"),Xg(this.submitButtonEl_,"params",e),e=J(a,"simplebox-sessionlink"),Xg(this.submitButtonEl_,"sessionlink",e),Xg(this.submitButtonEl_,"sessionlink-target",f),Vg(a,"simplebox-max-text-length")&&(this.maxTextLength_=Number(J(a,"simplebox-max-text-length"))),Vg(a,"simplebox-zero-step-params")&&(f=J(a,"simplebox-zero-step-params"),Ia(f)||Xg(this.submitButtonEl_,"zero-step-params",f)),a=J(a,"attachment-editor-trigger"),"all"==a&&this.attachmentEditor_?(a=this.attachmentEditor_,
Y(a.addVideoLinkButtonEl_),Y(a.addPollButtonEl_),Y(a.addImageButtonEl_),Y(this.attachmentEditor_.getElement())):"image"==a&&this.attachmentEditor_&&(a=this.attachmentEditor_,KD(a.addVideoLinkButtonEl_),KD(a.addPollButtonEl_),Y(a.addImageButtonEl_),Y(this.attachmentEditor_.getElement())),c&&this.promptEl_&&qg(this.promptEl_,Ja(c)),d&&Xg(this.textEl_,"placeholder",d),this.submitButtonEl_.disabled=this.supportsInputEvent_,O(this.targetEl_,"comment-simplebox-content"),c=this.getElement(),this.targetEl_.appendChild(c),
c=this.targetEl_,d=J(c,"editable-content-text"),Ia(db(d))||(d=Ja(d),qg(this.textEl_,d)),d=J(c,"image-src"),Ia(db(d))||(a=this.attachmentEditor_,a.imageUploader_||ZE(a),RE(a.imageUploader_,d)),c=J(c,"video-id"),Ia(db(c))||(d=this.attachmentEditor_,d.videoPicker_||YE(d),TE(d.videoPicker_,c)),(c=G(this.targetEl_,"comment-renderer"))&&O(c,"comment-renderer-editing"),b&&(this.textEl_.focus(),document.createRange?(b=document.createRange(),b.selectNodeContents(this.textEl_),b.collapse(!1),c=window.getSelection(),
c.removeAllRanges(),c.addRange(b)):document.selection&&(b=document.body.createTextRange(),b.moveToElementText(this.textEl_),b.collapse(!1),b.select())),cF(this))}}};
g.onFocusChange_=function(a){"focus"==a.type?O(this.getElement(),"focus"):P(this.getElement(),"focus")};
g.onAttach_=function(){var a=this.attachmentEditor_;if(a.imageUploader_||a.videoPicker_)this.textEl_.focus(),this.onFocusChange_(new ji("focus",this.textEl_)),O(this.textEl_,"comment-simplebox-text-reduced-height");this.onContentChange_()};
g.onAttachCancel_=function(){P(this.textEl_,"comment-simplebox-text-reduced-height")};
g.onContentChange_=function(){var a=!1;if(this.attachmentEditor_&&this.attachmentEditor_.imageUploader_||!Ia(zg(this.textEl_))){var b;if(b=this.attachmentEditor_){b=this.attachmentEditor_;var c=XE(b),d=!c||0<c.length;b=!!(1<d+(null!=b.imageUploader_)||d&&!c||b.imageUploader_&&!b.imageUploader_.previewImgEl_.hasAttribute("src"))}b?a=!0:this.maxTextLength_&&Ag(this.textEl_).length>this.maxTextLength_&&(a=this.supportsInputEvent_)}else a=this.supportsInputEvent_;this.submitButtonEl_.disabled=a;cF(this)};
g.onError_=function(a){a=a&&a.message||"";O(this.getElement(),"comment-simplebox-error");qg(this.errorEl_,a);dF(this,!1)};
g.onTrigger_=function(a){if(!this.isSubmitting_&&("click"==a.type||"keypress"==a.type&&13==a.keyCode)&&a.currentTarget){var b=J(a.currentTarget,"placeholder");this.trigger(a.currentTarget,!0,null,b)}};
g.onCancel_=function(a){eF(a)&&this.reset()};
g.onSubmit_=function(a){if(eF(a)){var b=Ag(this.textEl_);if(this.attachmentEditor_&&this.attachmentEditor_.imageUploader_||!Ia(b)){var c=J(a.currentTarget,"target"),d=J(a.currentTarget,"params");if(c&&d){if(Vg(a.currentTarget,"zero-step-params")&&(a=J(a.currentTarget,"zero-step-params"),!Ia(a))){fF(this,c,d,a,b);return}var e=a=null,f=null;if(this.attachmentEditor_){f=this.attachmentEditor_.getSelectedVideoId();a=XE(this.attachmentEditor_);if(!a)return;e=this.attachmentEditor_.uploadPromise()}dF(this,
!0);var h={content:b,params:d,attached_video_id:f,poll_options:a};this.botguard_&&(h.bgr=this.botguard_.invoke());e?e.then(v(function(a){h.image_blob_id=a;gF(this,c,h)},this),v(this.onError_,this)):gF(this,c,h)}}}};
var fF=function(a,b,c,d,e){c={channel_creation_token:c,zero_step_params:d,zero_step_text:e};dF(a,!0);gF(a,b,c)},gF=function(a,b,c){hh(b,{format:"JSON",
method:"POST",context:a,convertToSafeHtml:!0,onSuccess:a.onSubmitSuccess_,onError:a.onSubmitError_,postParams:c})};
aF.prototype.onSubmitSuccess_=function(a,b){dF(this,!1);if(b.redirect_url&&this.event_){K(this.event_);a=E("zero-step-footer-text",this.getElement());var c=E("zero-step-tooltip");if(a){var d=b.message;if(d){var e=E("yt-alert-content",c);qg(e,d);Y(c);c=new JC(c,5E3);c.play()}$k("zeroStepChannelCreated",{zeroStepChannelCreationInfo:"ZERO_STEP_CHANNEL_CREATION_INFO_COMMENT_FLOW_SUCCESS"},zd("enable_youtubei_innertube")?al:ym,void 0,void 0);eg(a)}}if((a=b.html_content&&lf(b.html_content))&&!Ia(a))a=tk(a),
this.event_&&K(this.event_,this.targetEl_,a,b);else if(b.feedback_text){a=Lf("feedback-banner");var f;y(a,function(a){zg(a)?eg(a):f=a});
a=pk(f);qg(a,b.feedback_text);b=G(this.getElement(),"comment-simplebox-content");cg(a,b);Y(a);c=new JC(a,2500);c.play()}this.reset()};
aF.prototype.onSubmitError_=function(a,b){this.onError_(Error(b&&b.errors&&b.errors[0]))};
var dF=function(a,b){(a.isSubmitting_=b)?(O(a.getElement(),"submitting"),a.submitButtonEl_.setAttribute("disabled","disabled"),a.cancelButtonEl_.setAttribute("disabled","disabled"),a.textEl_.setAttribute("disabled","disabled"),a.textEl_.setAttribute("contenteditable","false"),P(a.getElement(),"comment-simplebox-error")):(P(a.getElement(),"submitting"),a.submitButtonEl_.removeAttribute("disabled"),a.cancelButtonEl_.removeAttribute("disabled"),a.textEl_.removeAttribute("disabled"),bF(a))};
aF.prototype.reset=function(){eg(this.getElement());P(this.getElement(),"comment-simplebox-error");var a=G(this.targetEl_,"comment-renderer");a&&P(a,"comment-renderer-editing");this.targetEl_&&(P(this.targetEl_,"comment-simplebox-content"),this.targetEl_=null);this.attachmentEditor_&&(this.attachmentEditor_.reset(),KD(this.attachmentEditor_.getElement()));this.event_=null;qg(this.textEl_,"");Wg(this.textEl_,"placeholder");P(this.textEl_,"comment-simplebox-text-reduced-height");qg(this.textCharCounterEL_,
"");this.maxTextLength_=0;qg(this.submitButtonEl_,"");this.promptEl_&&qg(this.promptEl_,"");Wg(this.submitButtonEl_,"target");Wg(this.submitButtonEl_,"params");Wg(this.submitButtonEl_,"sessionlink");Wg(this.submitButtonEl_,"sessionlink-target");Vg(this.submitButtonEl_,"zero-step-params")&&Wg(this.submitButtonEl_,"zero-step-params")};
var bF=function(a){a:{var b=document.createElement("div");try{b.contentEditable="plaintext-only"}catch(c){b=!1;break a}b="plaintext-only"==b.contentEditable}b?a.textEl_.setAttribute("contenteditable","plaintext-only"):a.textEl_.setAttribute("contenteditable","true")},eF=function(a){return"click"==a.type||"keypress"==a.type&&13==a.keyCode},cF=function(a){if(!(0>=a.maxTextLength_)){var b=a.getElement(),c="",d=Ag(a.textEl_).length;
0<d&&(c=d+" / "+a.maxTextLength_);qg(a.textCharCounterEL_,c);d>a.maxTextLength_?O(b,"yt-uix-form-error"):P(b,"yt-uix-form-error")}};var hF=function(){YD.call(this,"creator-heart-button")};
x(hF,YD);pa(hF);hF.prototype.register=function(){this.addBehavior("click",this.clickAction_)};
hF.prototype.unregister=function(){this.removeBehavior("click",this.clickAction_);hF.superClass_.unregister.call(this)};
hF.prototype.clickAction_=function(a){var b=J(a,"action-heart"),c=J(a,"action-unheart"),d=J(a,"url");if(b&&c&&d){if(Vg(a,"action-on")){if(b=c,Wg(a,"action-on"),a){var c=J(a,"aria-unhearted"),e=E("creator-heart-background-hearted",a),f=E("creator-heart-big-hearted",a),h=E("creator-heart-small-hearted",a);e&&f&&h&&(e.className="creator-heart-background-unhearted",f.className="creator-heart-big-unhearted",h.className="creator-heart-small-unhearted",Nf(a,{"aria-label":c}))}}else Xg(a,"action-on","1"),
a&&(c=J(a,"aria-hearted"),e=E("creator-heart-background-unhearted",a),f=E("creator-heart-big-unhearted",a),h=E("creator-heart-small-unhearted",a),e&&f&&h&&(e.className="creator-heart-background-hearted",f.className="creator-heart-big-hearted",h.className="creator-heart-small-hearted",Nf(a,{"aria-label":c})));hh(d,{format:"JSON",method:"POST",context:this,convertToSafeHtml:!0,postParams:{action:b}})}};var iF=function(){SD.call(this);this.chromeEl_=this.closeButtonEl_=null;this.listenerKeys_=[];this.documentBodyOverflow_=""};
x(iF,SD);g=iF.prototype;
g.enterDocument=function(){iF.superClass_.enterDocument.call(this);this.closeButtonEl_=this.getRequiredElementByClass("i-a-v-close");this.chromeEl_=this.getRequiredElementByClass("i-a-v-comment-chrome");var a=this.getRequiredElementByClass("i-a-v-comment-renderer-time"),b=this.getRequiredElementByClass("i-a-v-comment-author-text");this.getHandler().listen(this.closeButtonEl_,"click",this.onClickClose_);this.getHandler().listen(a,"click",this.onClickTimestamp_);this.getHandler().listen(b,"click",this.onClickAuthor_);
this.listenerKeys_.push(Q(document,"keydown",v(this.onKeyDown_,this)));this.listenerKeys_.push(Q(document,"click",v(this.onClick_,this)));this.documentBodyOverflow_=document.body.style.overflow;document.body.style.overflow="hidden";Y(this.getElement());E("i-a-v-comment-background",this.getElement()).scrollTop=0;tj(this.chromeEl_,"");ah(v(this.fadeAndHideChrome_,this,1E3),1E3);this.getElement().focus()};
g.exitDocument=function(){jF(this);iF.superClass_.exitDocument.call(this)};
g.onClickClose_=function(){jF(this)};
g.onClickTimestamp_=function(){document.body.style.overflow=this.documentBodyOverflow_;kF(this)};
g.onClickAuthor_=function(){document.body.style.overflow=this.documentBodyOverflow_;kF(this)};
var jF=function(a){kF(a);document.body.style.overflow=a.documentBodyOverflow_;KD(a.getElement());Y(a.chromeEl_)};
iF.prototype.onClick_=function(a){M(a.target,"i-a-v-sprite-like")||M(a.target,"i-a-v-sprite-dislike")||M(a.target,"i-a-v-close")||(JD(this.chromeEl_)?this.fadeAndHideChrome_(500):(new KC(this.chromeEl_,500)).play())};
iF.prototype.onKeyDown_=function(a){13!=a.keyCode&&32!=a.keyCode&&(27==a.keyCode?jF(this):9==a.keyCode?(JD(this.chromeEl_)||(new KC(this.chromeEl_,500)).play(),document.activeElement==this.getElement()?this.closeButtonEl_.focus():document.activeElement==E("i-a-v-comment-text-content",this.getElement())&&this.getElement().focus()):a.preventDefault())};
var kF=function(a){Bk(a.listenerKeys_);a.listenerKeys_=[];a.getHandler().removeAll()};
iF.prototype.fadeAndHideChrome_=function(a){(new JC(this.chromeEl_,a)).play()};var lF=function(){YD.call(this,"image-attachment")};
x(lF,YD);pa(lF);lF.prototype.register=function(){this.addBehavior("click",this.onImageClick_);this.addBehavior("keydown",this.onKeyDown_)};
lF.prototype.unregister=function(){this.removeBehavior("click",this.onImageClick_);this.removeBehavior("keydown",this.onKeyDown_);lF.superClass_.unregister.call(this)};
lF.prototype.onKeyDown_=function(a,b,c){if(13==c.keyCode||32==c.keyCode)c.preventDefault(),mF(a)};
lF.prototype.onImageClick_=function(a){mF(a)};
var mF=function(a){a=ng(a);a=E("image-attachment-viewer",a);(new iF).decorate(a)};var nF=function(){YD.call(this,"poll-choice-button")};
x(nF,YD);pa(nF);g=nF.prototype;g.register=function(){this.addBehavior("click",this.onOptionClick_)};
g.unregister=function(){this.removeBehavior("click",this.onOptionClick_);nF.superClass_.unregister.call(this)};
g.placeholderText=function(a){return J(a,"comment-placeholder")};
g.onOptionClick_=function(a){var b=G(a,"comment-poll-attachment"),c=E("yt-dialog",b);if(c){var d=new IE(c,!1,!0);KE(d,"save",v(this.onOptionConfirm_,this,b,a,c));KE(d,"cancel",function(){d.dispose()});
d.show()}else this.onOptionConfirm_(b,a)};
g.onOptionConfirm_=function(a,b,c){var d=J(b,"url"),e=E("comment-poll-choice",b),f="true"!==e.getAttribute("aria-checked"),h=J(b,f?"action-selected":"action-unselected");if(h&&d){var k=a.querySelector('.comment-poll-choice[aria-checked="true"]');hh(d,{format:"JSON",method:"POST",context:this,postParams:{action:h},onSuccess:v(this.setDisabled_,this,a,!1),onError:v(this.resetDisplay_,this,a,k,!1)});c&&eg(c);this.resetDisplay_(a,f?e:null,!0);K("comment-poll-choice-changed",a,b,f)}};
g.resetDisplay_=function(a,b,c){this.setDisabled_(a,c);c=J(a,b?"total-votes-selected":"total-votes-unselected");K("comment-poll-choice-total-changed",a,c);b?(a=Lf("comment-poll-choice",a),y(a,function(a){var c=E("comment-poll-choice-results",a),d=E("comment-poll-choice-bar",a);if(a===b){var h=J(a,"percent-selected")||"",k=100*J(a,"ratio-selected");a.setAttribute("aria-checked","true");qg(c,h);d.style.width=jj(k+"%",!0);P(d,"comment-poll-choice-bar-zero")}else h=J(a,"percent-unselected")||"",k=100*
J(a,"ratio-unselected"),a.setAttribute("aria-checked","false"),qg(c,h),d.style.width=jj(k+"%",!0),k?P(d,"comment-poll-choice-bar-zero"):O(d,"comment-poll-choice-bar-zero")},this)):oF(this,a)};
var oF=function(a,b){a=Lf(ZD(a),b);y(a,function(a){a=E("comment-poll-choice",a);var b=E("comment-poll-choice-results",a);a.setAttribute("aria-checked","false");qg(b,"");O(E("comment-poll-choice-bar",a),"comment-poll-choice-bar-zero")})};
nF.prototype.setDisabled_=function(a,b){a=Lf(ZD(this),a);y(a,function(a){a.disabled=b})};var pF=function(){YD.call(this,"form-input")};
x(pF,YD);pa(pF);g=pF.prototype;
g.register=function(){C&&!Ce(9)&&(this.addBehavior("click",this.refreshCheckbox,"checkbox"),this.addBehavior("keypressed",this.refreshCheckbox,"checkbox"),this.addBehavior("click",this.refreshRadio,"radio"),this.addBehavior("keypressed",this.refreshRadio,"radio"));C&&!Ce(10)&&this.addBehavior("click",this.handlePlaceholderClick_,"placeholder");this.addBehavior("change",this.refreshCheckbox,"checkbox");this.addBehavior("blur",this.blurSelect,"select-element");this.addBehavior("change",this.updateSelect,
"select-element");this.addBehavior("keyup",this.updateSelect,"select-element");this.addBehavior("focus",this.focusSelect,"select-element");this.addBehavior("keyup",this.refreshText,"text");this.addBehavior("keyup",this.refreshText,"textarea");this.addBehavior("keyup",this.refreshText,"bidi");this.addBehavior("click",this.handleReset,"reset")};
g.unregister=function(){C&&!Ce(9)&&(this.removeBehavior("click",this.refreshCheckbox,"checkbox"),this.removeBehavior("keypressed",this.refreshCheckbox,"checkbox"),this.removeBehavior("click",this.refreshRadio,"radio"),this.removeBehavior("keypressed",this.refreshRadio,"radio"));C&&!Ce(10)&&this.removeBehavior("click",this.handlePlaceholderClick_,"placeholder");this.removeBehavior("change",this.refreshCheckbox,"checkbox");this.removeBehavior("blur",this.blurSelect,"select-element");this.removeBehavior("change",
this.updateSelect,"select-element");this.removeBehavior("keyup",this.updateSelect,"select-element");this.removeBehavior("focus",this.focusSelect,"select-element");this.removeBehavior("keyup",this.refreshText,"text");this.removeBehavior("keyup",this.refreshText,"textarea");this.removeBehavior("keyup",this.refreshText,"bidi");pF.superClass_.unregister.call(this)};
g.refreshCheckbox=function(a){var b=G(a,Z(this,"checkbox-container"));a.checked&&M(b,"partial")&&(a.checked=!1,a.indeterminate=!1,P(b,"partial"));Oj(b,"checked",a.checked)};
g.refreshRadioNew=function(a){var b=G(a,Z(this,"radio-container"));b&&Oj(b,"checked",a.checked)};
g.refreshRadio=function(){qF()};
g.refreshText=function(a){var b=a.value;Ve.test(b)?a.dir="rtl":Ue.test(b)?a.dir="ltr":a.removeAttribute("dir");C&&!Ce(10)&&(b=G(a,Z(this,"container")))&&Oj(b,Z(this,"non-empty"),!!a.value)};
g.handlePlaceholderClick_=function(a){(a=G(a,Z(this,"container")))&&(a=E(Z(this,"text"),a)||E(Z(this,"textarea"),a))&&a.focus()};
g.focusSelect=function(a){var b=G(a,Z(this,"select"));O(b,"focused");this.updateSelect(a)};
g.blurSelect=function(a){var b=G(a,Z(this,"select"));P(b,"focused");this.updateSelect(a)};
g.updateSelect=function(a){var b=G(a,Z(this,"select")),c=E(Z(this,"select-value"),b),d=rF(a);if(d)for(""!=c.innerHTML&&d.innerHTML!=c.innerHTML&&this.callCustomAction(a,"onchange-callback"),d=mk(d),ag(c);0<d.childNodes.length;)c.appendChild(d.childNodes[0]);Oj(b,Z(this,"select-disabled"),a.disabled)};
g.handleReset=function(){var a=pF.getInstance(),b=Lf(Z(a,"checkbox"));y(b,a.refreshCheckbox,a);qF();sF()};
var rF=function(a){return a.options[Math.max(a.selectedIndex,0)]},qF=function(){var a=pF.getInstance(),b=Lf(Z(a,"radio"));
y(b,a.refreshRadioNew,a)},sF=function(){var a=pF.getInstance(),b=Lf(Z(a,"select-element"));
y(b,a.updateSelect,a)};var tF=function(a){SD.call(this);this.flagUrl_=this.flagAction_=this.dialogEl_=null;this.targetEl_=a;this.selectedRadioEl_=this.submitButtonEl_=this.postSubmitMessage_=null};
x(tF,SD);var uF=function(a){if("radio"==a.type)return a=G(a,"option-selectable-item-renderer-radio-container"),E("option-selectable-item-renderer-confirm-dialog",a);a=rF(a);return D(a?a.value||a.text:null)},vF=function(a){a=Cg(a,"LI");
return E("option-item-supported-renderers-sub-options",a)};
tF.prototype.onClickRadio_=function(a){a=a.target;sF();if(this.selectedRadioEl_){P(this.selectedRadioEl_,"option-selectable-item-renderer-radio-selected");var b=vF(this.selectedRadioEl_);b&&KD(b)}this.selectedRadioEl_=a;O(this.selectedRadioEl_,"option-selectable-item-renderer-radio-selected");(a=vF(this.selectedRadioEl_))?(Y(a),a=E("yt-uix-form-input-select-element",a),a=!!J(rF(a),"disable-submit"),this.submitButtonEl_.disabled=a):this.submitButtonEl_.disabled=!1};
var wF=function(a){if(a.flagAction_&&a.flagUrl_){var b={flagging_action:a.flagAction_};hh(a.flagUrl_,{format:"JSON",method:"POST",convertToSafeHtml:!0,onSuccess:v(function(a,b){b.feedback_text&&(this.postSubmitMessage_=b.feedback_text);if(b.html_content)a=Zf(b.html_content),this.dialogEl_?fg(a,this.dialogEl_):document.body.appendChild(a),a=new IE(D("flagging-response-message-dialog"),!1,!0),KE(a,"all",v(this.onSubmitReportFinished_,this),!0),a.show();else this.onSubmitReportFinished_()},a),
onError:v(function(){},a),
postParams:b})}};
g=tF.prototype;g.onClickSubmitButton_=function(){this.flagUrl_=J(this.selectedRadioEl_,"flag-url");this.flagAction_=J(this.selectedRadioEl_,"flag-action");var a=uF(this.selectedRadioEl_),b=vF(this.selectedRadioEl_);b&&(a=E("yt-uix-form-input-select-element",b),a=uF(a));a?(this.dialogEl_?fg(a,this.dialogEl_):document.body.appendChild(a),b=new IE(a,!1,!0),TD(this,"click","option-selectable-item-renderer-confirm-button",this.onClickConfirmDialogButton_,null,a),b.show()):wF(this)};
g.onClickConfirmDialogButton_=function(a){var b=G(a.target,"option-selectable-item-renderer-confirm-button");a=J(b,"url");var c=J(b,"flag-action"),b=J(b,"flag-url");a&&window.open(a,hb(a).toString(36));c&&b&&(this.flagAction_=c,this.flagUrl_=b);wF(this)};
g.onSubmitReportFinished_=function(){K("commentreported",this.targetEl_,this.postSubmitMessage_)};
g.onChangeSubOptionsSelect_=function(a){a=!!J(rF(a.target),"disable-submit");this.submitButtonEl_.disabled=a};
g.enterDocument=function(){tF.superClass_.enterDocument.call(this);this.submitButtonEl_=this.getElementByClass("options-renderer-submit-button");this.dialogEl_=G(this.submitButtonEl_,"yt-dialog");TD(this,"click","options-renderer-submit-button",this.onClickSubmitButton_);TD(this,"click","option-selectable-item-renderer-radio",this.onClickRadio_);TD(this,"change","yt-uix-form-input-select-element",this.onChangeSubOptionsSelect_)};
g.exitDocument=function(){this.targetEl_=this.selectedRadioEl_=this.submitButtonEl_=this.dialogEl_=null;tF.superClass_.exitDocument.call(this)};var xF=function(a){IE.call(this,a,!1,!0);this.rootContainerEl_=D("report-form-modal-renderer");this.options_=null;this.root_=a};
x(xF,IE);xF.prototype.onConfirmDialogDismissed_=function(){this.dismiss("close")};
xF.prototype.show=function(a){xF.superClass_.show.call(this,a);a=this.getData();this.options_=new tF(a);a=E("yt-dialog-fg-content",this.root_);this.options_.decorate(a);Dh("yt-ui-dialog-hide-complete",v(this.onConfirmDialogDismissed_,this))};
xF.prototype.dismiss=function(a){xF.superClass_.dismiss.call(this,a);this.options_&&(this.options_=null);eg(this.rootContainerEl_)};var yF=function(){YD.call(this,"expander")};
x(yF,YD);pa(yF);yF.prototype.register=function(){this.addBehavior("click",this.clickAction_,"head");this.addBehavior("keypress",this.keyPressAction_,"head")};
yF.prototype.unregister=function(){this.removeBehavior("click",this.clickAction_,"head");this.removeBehavior("keypress",this.keyPressAction_,"head")};
yF.prototype.clickAction_=function(a){zF(this,a)};
yF.prototype.keyPressAction_=function(a,b,c){c&&13==c.keyCode&&zF(this,a)};
var zF=function(a,b){if(b=a.getRootElement(b))b&&(xg(b)||Nf(b,{tabIndex:"0"}),b.focus()),Qj(b,Z(a,"collapsed")),AF(a,b),a.callCustomAction(b,"expander-action")};
yF.prototype.collapse=function(a){if(a=this.getRootElement(a))O(a,Z(this,"collapsed")),AF(this,a),this.callCustomAction(a,"expander-action")};
yF.prototype.expand=function(a){if(a=this.getRootElement(a))P(a,Z(this,"collapsed")),AF(this,a),this.callCustomAction(a,"expander-action")};
var AF=function(a,b){a=!M(b,Z(a,"collapsed"));K("yt-uix-expander-toggle",b,a);K("yt-dom-content-change",b)};var BF=window.yt&&window.yt.uix&&window.yt.uix.widgets_||{};q("yt.uix.widgets_",BF,void 0);var CF=function(a){a=a.getInstance();var b=Z(a);b in BF||(a.register(),a.pubsubSubscribe("yt-uix-init-"+b,a.init),a.pubsubSubscribe("yt-uix-dispose-"+b,a.dispose),BF[b]=a)},DF=function(a){a=a.getInstance();
var b=Z(a);b in BF&&(a.unregister(),delete BF[b])};var EF=function(a){this.subtype=a};
EF.prototype.write=function(a,b,c,d){a={action_write_promo:1,method:a,subtype:this.subtype};var e={};c&&(e.json_data=c);hh(d||"/promo_ajax",{method:"POST",urlParams:a,postParams:e,onSuccess:function(){if(b){b.idToHide&&KD(D(b.idToHide));b.idToShow&&Y(D(b.idToShow));if(b.onSuccess)b.onSuccess();if(b.redirectUrl)return Lo(b.redirectUrl)}},
onError:function(){b&&b.idToShowError&&Y(D(b.idToShowError));if(b&&b.onError)b.onError()}})};
EF.prototype.getStatus=function(a,b){hh("/promo_ajax",{method:"POST",urlParams:{action_get_promo_status:1,subtype:this.subtype},onSuccess:function(b,d){a(d.show_promo)},
onError:b||void 0})};var FF=[],HF=function(a){a&&(a=r("yt.www.page.visibilitymonitor.delegateByClass")(a,r("yt.www.page.visibilitymonitor.States.VISIBLE"),GF,"generic-promo-impression-logging"),FF.push(a))},GF=function(a){for(var b=0;b<a.length;b++){var c=a[b];
if(M(c,"generic-promo-impression-logging")){for(var d=Lf("generic-promo-impression-feedback",c),e=0;e<d.length;e++){var f={feedback_tokens:[J(d[e],"feedback-token")]};hh("/feed_change_ajax?action_give_feedback=1",{method:"POST",postParams:f})}P(c,"generic-promo-impression-logging")}}};var JF=function(){IF||(IF=Pf());return IF},LF=function(a){if(!KF||a)KF=Sf(document);
return KF},IF=null,KF=null;var MF,NF,OF,PF,QF,RF,SF=0,TF=!1,ZF=function(){TF||(r("yt.www.page.visibilitymonitor").dispose(),NF={},OF={},MF={},PF={},RF=[],QF=UF(),RF.push(yh("page-resize",VF)),RF.push(yh("page-scroll",WF)),RF.push(yh("yt-dom-content-change",XF)),TF=!0,YF(!0))},aG=function(){TF&&(Ah(RF),$F(),NF={},OF={},MF={},PF={},RF.length=0,QF=null,TF=!1)},VF=function(){QF=UF();
XF()},WF=function(){QF=UF();
bG()},UF=function(){var a=LF(!0),b=JF();
return new Yi(a.y,a.x+b.width-1,a.y+b.height-1,a.x)},dG=function(a){var b=qk(a),c=MF[b];
if(c)return c;c=Q(a,"scroll",cG);return c=MF[b]={el:a,scrollKey:c,visibleRect:null}},$F=function(){Lb(MF,function(a,b){Bk(MF[b].scrollKey);
delete MF[b]})},cG=function(a){XF(a.target)},eG=function(a,b){a=[qk(a),
b.complete];b.transform&&(b=b.transform,a.push(b.top,b.right,b.bottom,b.left));return a.join(":")},fG=function(a,b){a=b?a:ng(a);
return a?(a=G(a,"yt-viewport"))?dG(a):null:null},hG=function(a,b){if(a.visibleRect&&!b)return a.visibleRect;
var c=gG(a.el),d=fG(a.el);d&&(b=hG(d,b),c=iG(c,b));return a.visibleRect=c},gG=function(a){var b=nj(a);
a=new Ef(a.offsetWidth,a.offsetHeight);return new Yi(b.y,b.x+a.width-1,b.y+a.height-1,b.x)},iG=function(a){var b=[],c=[],d=[],e=[];
y(arguments,function(a){b.push(a.top);c.push(a.right);d.push(a.bottom);e.push(a.left)});
var f=Math.max.apply(Math,b),h=Math.min.apply(Math,c),k=Math.min.apply(Math,d),l=Math.max.apply(Math,e);return f>k||l>h?new Yi(0,0,0,0):new Yi(f,h,k,l)},jG=function(a,b){var c=QF,d=gG(a);
b.transform&&d.expand(b.transform);b=b.complete?Zi:$i;if(!b.call(Yi,c,d))return!1;a=fG(a);if(!a)return!0;hG(a);c=iG(c,a.visibleRect);return b.call(Yi,c,d)},kG=function(a,b,c){var d=eG(a,c);
b.hasOwnProperty(d)||(b[d]=jG(a,c));return b[d]},lG=function(a,b,c){a=eG(a,c);
if(!!PF[a]!=b)return b?"visible":"hidden"},mG=function(a,b){Lb(NF,function(c){if(c&&(!b||og(b,c.el))){var d=kG(c.el,a,c.options);
(d=lG(c.el,d,c.options))&&d==c.type&&ah(Ba(c.fn,c.el),0)}})},nG=function(a,b){Lb(OF,function(c){if(!b||og(c.el,b)||og(b,c.el)){var d=c.filter(c.el);
if(d&&d.length){var e=[],f=[],h=[];y(d,function(b){var d=kG(b,a,c.options);d?f.push(b):h.push(b);(d=lG(b,d,c.options))&&d==c.type&&e.push(b)});
e.length&&ah(Ba(c.fn,e,f,h),0)}}})},bG=function(a){var b={};
mG(b,a);nG(b,a);bc(PF,b)},oG=function(a,b,c,d){return Tb(NF,function(e){return e.el==a&&e.type==b&&e.fn==c&&Yb(e.options,d)})},pG=function(a,b,c,d,e){return Tb(OF,function(f){return f.el==a&&f.type==b&&f.fn==c&&f.className==d&&Yb(f.options,e)})},qG=function(a,b){b=Lf("yt-viewport",b);
y(b,a)},rG=function(a){qG(function(a){dG(a)},a);
mg(a)&&fG(a,!0)},sG=function(a,b){Lb(MF,function(c){b&&!og(b,c.el)||b==c.el||a(c)})},tG=function(a){var b=hG(a,!0);
a=a.visibleRect;return!(a==b||a&&b&&a.top==b.top&&a.right==b.right&&a.bottom==b.bottom&&a.left==b.left)},XF=function(a){if(TF){var b;
if(a)for(b=fG(a,!0);b&&tG(b);)b=fG(a);sG(function(a){delete a.visibleRect},b?b.el:a);
bG(a)}},uG=function(a,b){if(!TF)throw Error("yt.www.page.visibilitymonitor is not initialized.");
return jG(a,b||{})},vG=function(a,b,c,d){if(!TF)return"";
d=d||{transform:void 0,complete:void 0};var e=oG(a,b,c,d);if(e)return e;rG(a);e=++SF+"";NF[e]={el:a,type:b,fn:c,options:d};return e},wG=function(a,b,c,d,e){if(!TF)return"";
a=a||document;e=e||{transform:void 0,complete:void 0};var f=pG(a,b,c,d,e);if(f)return f;rG(a);f=++SF+"";OF[f]={el:a,type:b,fn:c,filter:function(a){return Lf(d,a)},
className:d,options:e};return f},xG=function(a){TF&&(delete NF[a],delete OF[a])},YF=function(a){var b=r("yt.www.page.visibilitymonitor");
if(a||!b)q("yt.www.page.visibilitymonitor.States.VISIBLE","visible",void 0),q("yt.www.page.visibilitymonitor.States.HIDDEN","hidden",void 0),q("yt.www.page.visibilitymonitor.init",ZF,void 0),q("yt.www.page.visibilitymonitor.dispose",aG,void 0),q("yt.www.page.visibilitymonitor.refresh",XF,void 0),q("yt.www.page.visibilitymonitor.isVisible",uG,void 0),q("yt.www.page.visibilitymonitor.listen",vG,void 0),q("yt.www.page.visibilitymonitor.delegateByClass",wG,void 0),q("yt.www.page.visibilitymonitor.unlistenByKey",
xG,void 0)};
YF(!1);var yG=0,zG=[],AG={},BG=[],EG=function(a){0==zG.length&&0==zG.length&&(zG.push(yh("page-resize",CG)),zG.push(yh("page-scroll",CG)));bc(AG,a);DG()},FG=function(){y(["load-more-auto"],function(a){a in AG&&delete AG[a]})},GG=function(){var a=JF();
return LF().y+a.height},CG=function(){var a=GG(),b=yG;
if(!b||a>=b)DG(),yG=a},DG=function(){var a=GG();
HG(function(b,c){var d=J(b,"scrolldetect-offset"),e;if(e=D(b)){var f=0,h=0;if(e.offsetParent){do f+=e.offsetLeft,h+=e.offsetTop;while(e=e.offsetParent)}e=new Cf(f,h)}else e=null;a>=e.y-(parseInt(d,10)||0)&&(c=AG[c])&&!tb(BG,b)&&(c.call(n,b),BG.push(b))})},HG=function(a){var b=Lf("scrolldetect");
b.length&&y(b,function(b){var c=J(b,"scrolldetect-callback");c&&a.call(n,b,c)})};var IG=function(){YD.call(this,"load-more")};
x(IG,YD);pa(IG);IG.prototype.register=function(){this.addBehavior("click",this.loadMore)};
IG.prototype.unregister=function(){this.removeBehavior("click",this.loadMore);IG.superClass_.unregister.call(this);FG()};
IG.prototype.init=function(){var a={},b=v(this.loadMore,this);a["load-more-auto"]=b;EG(a);a=Lf(Z(this));y(a,function(a){M(a,"scrolldetect")&&jG(a,{})&&(P(a,"scrolldetect"),b(a))})};
IG.prototype.loadMore=function(a){if(!a.disabled){var b=this.getData(a,"uix-load-more-href")||"";JG(this,a,b)}};
var JG=function(a,b,c){var d="GET",e="";a.getData(b,"uix-load-more-post")&&(d="POST",e=a.getData(b,"uix-load-more-post-body"));O(b,Z(a,"loading"));b.disabled=!0;KD(E("load-more-text",b));Y(E("load-more-loading",b));P(b,Z(a,"error"));hh(c,{context:a,method:d,postBody:e,onSuccess:v(a.handleResponse_,a,b),onError:v(a.handleError_,a,b),onTimeout:v(a.handleError_,a,b),onFinish:function(){KD(E("load-more-loading",b));Y(E("load-more-text",b));b.disabled=!1;P(b,Z(this,"loading"))}})};
IG.prototype.handleResponse_=function(a,b,c){b=c.content_html;var d;if(d=this.getData(a,"uix-load-more-target-id"))d=D(d);else if(d=this.getData(a,"uix-load-more-target-class")){var e=a,f=this.getData(a,"uix-load-more-trigger-id");f&&(e=D(f));d=G(e,d)}else d=null;if(!b&&this.getData(a,"uix-load-more-hide-on-empty"))KD(a);else if(b&&d){this.getData(a,"uix-load-more-replace-content")&&ag(d);b=sk(b);this.getData(a,"uix-load-more-insert-before-content")?dg(d,b):$f(d,b);K("yt-dom-content-change",a.parentElement);
b=sk(c.load_more_widget_html||"");fg(b,a);if(a=c.tracking_params||"")O(d,"il-attach-check"),this.setData(d,"tracking-params",a);K("yt-uix-load-more-success",d)}else this.handleError_(a)};
IG.prototype.handleError_=function(a){O(a,Z(this,"error"))};var KG=function(){SD.call(this);this.abuseContainer_=this.itemsEl_=this.simplebox_=null;this.isGettingReportForm_=!1;this.domMutationObserver_=this.dialogEl_=null};
x(KG,SD);(function(a,b){var c;a.init=function(){if(!c){var d=D(b);d&&(c=new a,c.decorate(d))}};
a.dispose=function(){c&&(c.dispose(),c=null)}})(KG,"comment-section-renderer");
g=KG.prototype;
g.enterDocument=function(){KG.superClass_.enterDocument.call(this);var a=J(this.getElement(),"child-tracking");var b=(b=A("ROOT_VE_TYPE",void 0))?new Ik(void 0,b,void 0):null;var c=el();if(a&&b&&c){var a=Jk(a),d=Am();bl(d,{attachChild:{csn:c,parentVisualElement:Kk(b),visualElements:[Kk(a)]}},void 0)}XF(this.getElement());if(b=this.getElementByClass("comment-simplebox"))this.simplebox_=new aF(document.documentElement),this.simplebox_.decorate(b);this.itemsEl_=this.getElementByClass("comment-section-renderer-items");this.abuseContainer_=
D("comment-renderer-abuse");this.handleTextOverflow_();TD(this,"click","comment-renderer-translate-button-default",this.onClickTranslate_);TD(this,"click","comment-renderer-translate-button-toggled",this.onClickShowOriginal_);TD(this,"click","comment-action-buttons-renderer-thumb",this.onClickThumb_);TD(this,"click","comments-retry",this.onClickLoadCommentsRetry_);TD(this,"click","comment-text-toggle-link",this.onCommentTextToggleClick_);TD(this,"click","comment-renderer-text-content",this.onCommentTextClick_);
TD(this,"click","comment-section-renderer-redirect",this.onRedirect_);TD(this,"keypress","comment-section-renderer-redirect",this.onRedirect_);TD(this,"click","comment-renderer-moderation-button",this.onClickModerationButton_);TD(this,"click","comment-renderer-report-button",this.onClickReportButton_);TD(this,"click","update-comments-settings-button",this.onClickSettingsButton_);this.pubsubSubscribe("yt-uix-menu-item-clicked",this.onMenuItemClick_);this.pubsubSubscribe("commentcreated",this.onCommentCreated_);
this.pubsubSubscribe("replycreated",this.onReplyCreated_);this.pubsubSubscribe("commentreported",this.onReported_);this.pubsubSubscribe("commentupdated",this.onUpdated_);this.pubsubSubscribe("replyupdated",this.onUpdated_);this.pubsubSubscribe("zerostepcommentcreated",this.onZeroStepCommentCreated_);this.pubsubSubscribe("yt-uix-expander-toggle",this.handleTextOverflow_);this.pubsubSubscribe("yt-uix-load-more-success",this.handleLoadMoreSuccess_);CF(hF);CF(nF);this.pubsubSubscribe("comment-poll-choice-changed",
this.onCommentPollChoiceChanged_);this.pubsubSubscribe("comment-poll-choice-total-changed",this.onCommentPollTotalChanged_);this.getElementByClass("image-attachment-viewer")&&CF(lF);LG(this);(b=this.getElementByClass("yt-uix-clickcard-target"))&&MG(this,b);wG(document,"visible",this.onLoadMoreModerationVisible_,"comment-moderation-panel-renderer-paginator");this.getElementsByClass("comment-thread-renderer").length||(b=this.getElementByClass("comment-section-sort-menu"),KD(b));b=this.getElementByClass("promo-alert");
var e;b&&(e=J(b.parentElement,"promo-id"));b&&e&&(new EF(e)).write("write_impression")};
g.exitDocument=function(){this.simplebox_&&this.simplebox_.dispose();this.dialogEl_=this.itemsEl_=this.simplebox_=null;DF(hF);DF(nF);DF(lF);this.domMutationObserver_&&(this.domMutationObserver_.disconnect(),this.domMutationObserver_=null);KG.superClass_.exitDocument.call(this)};
g.onCommentCreated_=function(a,b){a&&b&&(NG(this,b,!1),this.handleTextOverflow_(b),a=this.getElementByClass("comment-section-sort-menu"),b=this.getElementByClass("display-message"),a&&Y(a),b&&KD(b))};
g.onReplyCreated_=function(a,b,c){if(a&&b)if(M(b,"comment-renderer-creator-reply")){if(c=G(a,"comment-renderer"))cg(b,c),O(c,"has-creator-reply"),this.handleTextOverflow_(b)}else{a=G(a,"comment-thread-renderer");var d=E("comment-replies-renderer",a);if(d){var e=E("comment-replies-renderer-header",d),f=yF.getInstance();(d=e?M(e,Z(f,"collapsed"))?E(Z(f,"collapsed-body"),d):E("comment-replies-renderer-pages",d):d)&&d.appendChild(b);this.handleTextOverflow_(b);c&&c.confirm_dialog_html&&(b=Zf(c.confirm_dialog_html),
c=E("comment-poll-attachment",a),nF.getInstance(),(a=E("yt-dialog",c))?fg(b,a):c.appendChild(b))}}};
g.onZeroStepCommentCreated_=function(){var a=E("comment-section-sort-menu"),a=E("yt-uix-button-content",a),b=Ja(zg(a)),a=Lf("comment-section-sort-menu-item"),c;y(a,function(a){Ja(zg(a))===b&&(c=a)});
c?OG(this,c,!0):Lo(document.location.href)};
g.onUpdated_=function(a,b){a&&b&&(a=G(a,"comment-renderer"),fg(b,a),this.handleTextOverflow_(b))};
g.onReported_=function(a,b){a&&b&&PG(this,a,b)};
var PG=function(a,b,c){var d=null;QG(b)||(d=G(b,"comment-thread-renderer"));var e=G(b,"comment-moderation-panel-renderer"),f=Lf("feedback-banner"),h;y(f,function(a){zg(a)?eg(a):h=a});
f=pk(h);qg(f,c);d?fg(f,d):(c=jg(b),d=p(b.previousElementSibling)?b.previousElementSibling:hg(b.previousSibling,!1),c&&M(c,"comment-renderer-creator-reply")?RG(c):d&&M(d,"has-creator-reply")&&(P(d,"has-creator-reply"),O(f,"comment-renderer-creator-reply")),bg(f,b),RG(b));Y(f);(new JC(f,2500)).play();e&&ah(Ba(a.updateModerationPanel_,e),2500)},RG=function(a){var b=J(a,"cid"),c=G(a,"comment-thread-renderer");
eg(a);c&&y(Lf("comment-renderer",c),function(a){J(a,"cid")===b&&eg(a)})};
g=KG.prototype;g.handleLoadMoreSuccess_=function(a){XF(this.getElement());this.handleTextOverflow_(a);if(a=G(a,"comment-replies-renderer-header"))yF.getInstance().expand(a),a=E("comment-replies-renderer-view",a),Y(a)};
g.onCommentPollChoiceChanged_=function(a,b,c){if(this.simplebox_){var d=Lf("viewer-owned",E("comment-replies-renderer",G(b,"comment-thread-renderer")));y(d,eg);if(c){if(c=E("comment-simplebox-trigger",G(b,"comment-renderer-content")))nF.getInstance(),b=zg(E("comment-poll-choice-bar-inner",b)),a=nF.getInstance().placeholderText(a),this.simplebox_.trigger(c,!1,b,a)}else this.simplebox_.reset()}};
g.onCommentPollTotalChanged_=function(a,b){(a=E("comment-poll-footer",G(a,"comment-renderer")))&&qg(a,b)};
g.onClickThumb_=function(a){var b=a.currentTarget,c=G(b,"comment-renderer");a=J(b,"action");var d=J(b,"action-type"),e=J(b,"url"),f=E("comment-renderer-footer",c),h=J(f,"vote-status");if(a&&d&&e&&h){var k="true"==b.getAttribute("aria-checked");b.setAttribute("aria-checked",!k);var l=Lf("comment-action-buttons-renderer-thumb",b.parentElement);if("dislike"==J(l[0],"action-type")){var m=l[1];l=l[0]}else m=l[0],l=l[1];"like"==d?(Oj(c,"liked",!k),m=l,c="LIKE"==h?"INDIFFERENT":"LIKE"):(P(c,"liked"),c="DISLIKE"==
h?"INDIFFERENT":"DISLIKE");m.setAttribute("aria-checked",!1);Xg(f,"vote-status",c);c=G(b,"comment-renderer");f=E("image-attachment-viewer",c);b=G(b,"i-a-v-comment-header");f&&(d=E("comment-renderer-footer",c),c=E("sprite-like",d),d=E("sprite-dislike",d),k=E("i-a-v-sprite-like",f),f=E("i-a-v-sprite-dislike",f),b?(c.setAttribute("aria-checked",k.getAttribute("aria-checked")),d.setAttribute("aria-checked",f.getAttribute("aria-checked"))):(k.setAttribute("aria-checked",c.getAttribute("aria-checked")),
f.setAttribute("aria-checked",d.getAttribute("aria-checked"))));hh(e,{format:"JSON",method:"POST",context:this,convertToSafeHtml:!0,postParams:{action:a,vote_status:h}})}};
g.onClickLoadCommentsRetry_=function(a){Fk(a);a=E("comment-section-renderer-paginator",this.getElement());Y(a);var b=Lf("comments-errors",this.getElement());y(b,eg);Ek(a)};
g.onClickTranslate_=function(a){var b=a.currentTarget;if(M(b,"translated"))a=G(b,"comment-renderer"),O(a,"translated");else{a=G(b,"comment-renderer-translate-buttons");var c=J(b,"action"),b=J(b,"url");c&&b&&hh(b,{format:"JSON",method:"POST",context:this,onSuccess:v(this.onTranslateSuccess_,this,a),onError:v(this.onTranslateError_,this,a),postParams:{action:c}})}};
g.onTranslateSuccess_=function(a,b,c){if(b=tk(c.translate_button_html))fg(b,a),a=G(b,"comment-renderer"),O(a,"translated")};
g.onTranslateError_=function(a){O(a,"error");(new JC(a,2500)).play()};
g.onClickShowOriginal_=function(a){a=G(a.currentTarget,"comment-renderer");P(a,"translated")};
var TG=function(a,b){if(b=G(b,"comment-renderer-action-button")){var c=uE(b),d=J(b,"action"),e=J(b,"url");if(c&&d&&e&&(c=G(c,"comment-renderer"))){Nf(b,{disabled:!0,"aria-disabled":!0});var f=G(c,"comment-thread-renderer"),h=SG(c),d={action:d};hh(e,{format:"JSON",method:"POST",convertToSafeHtml:!0,onSuccess:v(a.onPerformActionSuccess_,a,c),postParams:d,onError:v(a.onPerformActionError_,a,b,h,c,f)})}}};
g=KG.prototype;g.onPerformActionSuccess_=function(a,b,c){b=c.feedback;var d=c.feedback_text,e=QG(a),f=G(a,"comment-thread-renderer");PG(this,a,d);a=c.comment_thread_html&&lf(c.comment_thread_html);9==b&&a&&!Ia(a)?(a=tk(a),NG(this,a,!0),this.handleTextOverflow_(a)):10==b&&a&&!Ia(a)?(a=tk(a),NG(this,a,!1),this.handleTextOverflow_(a)):1==b&&e&&(a=E("yt-dialog",f),eg(a))};
g.onPerformActionError_=function(a,b,c,d){Nf(a,{disabled:!1});a.removeAttribute("aria-disabled");P(c,"loading");d&&P(d,"loading");eg(b)};
g.onCommentTextToggleClick_=function(a){a=a.currentTarget;var b=G(a,"comment-renderer-text"),b=E("comment-renderer-text-content",b),c=M(b,"expanded");Oj(b,"expanded",!c);KD(a);Y(jg(a)||(p(a.previousElementSibling)?a.previousElementSibling:hg(a.previousSibling,!1)))};
g.onCommentTextClick_=function(a){var b=r("yt.www.watch.player.seekTo"),c=Ck(a);if(b&&"A"===c.tagName){var d=c.getAttribute("href");(c=!kd(d))||(c=kd(d),c=null===c?null:c.split(".").reverse(),c=null===c?!1:"com"==c[0]&&c[1].match(/^youtube(?:-nocookie)?$/)?!0:!1);if(c&&"/watch"===jd(id(d)[5]||null)){var c=dh(d);"#"==d.charAt(0)&&(d="!"==d.charAt(1)?d.substr(2):d.substr(1));var e=bh(d);d=A("VIDEO_ID",void 0);e=c.t||e.t;d&&c.v===d&&e&&(c=e.match(/(\d+h)?(\d+m)?(\d+s)/))&&(c=60*(60*parseInt(c[1]||"0",
10)+parseInt(c[2]||"0",10))+parseInt(c[3]||"0",10),isNaN(c)||(Fk(a),b(c)))}}};
g.handleTextOverflow_=function(a){(a=Lf("comment-renderer-text",a||this.itemsEl_))&&y(a,function(a){var b=E("comment-renderer-text-content",a);if(b.scrollHeight>b.clientHeight+5){a=E("comment-text-toggle",a);P(a,"hid");if(b&&a){var d=parseFloat(gj(b,"lineHeight"));if(b.scrollHeight>b.clientHeight+d)d=!1;else{d=Yf("SPAN");b.appendChild(d);var e=d.offsetLeft-b.offsetLeft,f=Jf("BUTTON",a)[0];b.removeChild(d);d=null!=f&&f.clientWidth>e}}else d=!1;d&&(O(a,"hid"),O(b,"expanded"))}})};
g.onRedirect_=function(a){if("click"==a.type||"keypress"==a.type&&13==a.keyCode)if(a=J(a.currentTarget,"target"))a=bf(hf(a)),Lo(a)};
var QG=function(a){return a&&M(a,"comment-renderer")?null!=G(a,"comment-replies-renderer")||null!=G(a,"comment-moderation-panel-renderer"):!1};
KG.prototype.onMenuItemClick_=function(a){var b=G(a,"yt-ui-menu-item");if(b)if(M(b,"comment-renderer-edit")){if(a=G(a,"comment-renderer-edit"),b=M(a,"comment-simplebox-trigger"),this.simplebox_&&a&&!b){var b=uE(a),b=G(b,"comment-renderer"),c="comment-renderer-edit-"+J(b,"cid"),d=J(a,"params"),e=J(a,"target"),f=J(a,"innertube-clicktracking"),h=E("comment-renderer-text-prologue",b),h=h&&zg(h);Xg(a,"simplebox-id",c);QG(b)?Xg(a,"simplebox-event","replyupdated"):Xg(a,"simplebox-event","commentupdated");
Xg(a,"simplebox-params",d);Xg(a,"simplebox-target",e);Xg(a,"simplebox-sessionlink",f);O(a,"comment-simplebox-trigger");this.simplebox_.trigger(a,!0,h)}}else M(b,"comment-section-sort-menu-item")?OG(this,a,!1):M(b,"comment-replies-sort-menu-item")?UG(this,a):M(b,"comment-renderer-report-abuse")||M(b,"report-form-modal-renderer")?((b=G(a,"comment-renderer-report-abuse"))||(b=G(a,"report-form-modal-renderer")),a=uE(b),a=G(a,"comment-renderer"),a.appendChild(this.abuseContainer_),VG(this,ig(this.abuseContainer_),
b,a),Y(this.abuseContainer_)):(b=jg(b))&&M(b,"confirm-dialog-renderer")?(b=pk(b),this.dialogEl_?fg(b,this.dialogEl_):document.body.appendChild(b),this.dialogEl_=b,c=new IE(b,!1,!0),TD(this,"click","confirm-dialog-renderer-confirm-button",Ba(this.onConfirmMenuItemClick_,a),null,b),c.show()):TG(this,a)};
KG.prototype.onConfirmMenuItemClick_=function(a,b){var c=Cg(a,"BUTTON");O(c,"comment-renderer-action-button");var d=b.currentTarget;b=J(d,"action");d=J(d,"url");Xg(c,"action",b);Xg(c,"url",d);TG(this,a)};
var OG=function(a,b,c){var d=G(b,"comment-section-sort-menu-item"),e=J(d,"url");if((d=J(d,"token"))&&e){var f=Ja(zg(b));b=E("comment-section-sort-menu");var h=E("yt-uix-button-content",b);b=Ja(zg(h));if(c||f!=b)O(a.itemsEl_,"loading"),hh(e,{format:"JSON",method:"POST",context:a,convertToSafeHtml:!0,onSuccess:function(a,b){qg(h,f);a=Zf(b.content_html);if(!E("comment-section-renderer-items",ig(a))){var c=Yf("div");c.id="comment-section-renderer-items";O(c,"comment-section-renderer-items");c.appendChild(a);
a=c}fg(a,this.itemsEl_);this.itemsEl_=E("comment-section-renderer-items");this.handleTextOverflow_(this.itemsEl_);a=E("comment-section-renderer-paginator");b.load_more_widget_html?(b=Zf(b.load_more_widget_html),a?fg(b,a):this.getElement().appendChild(b)):eg(a)},
onError:function(){P(this.itemsEl_,"loading")},
postParams:{page_token:d}})}},UG=function(a,b){var c=G(b,"comment-replies-sort-menu-item"),d=uE(c),e=J(c,"url");
if((c=J(c,"token"))&&e){var f=Ja(zg(b)),h=E("yt-uix-button-content",d);b=Ja(zg(h));if(f!=b){var k=G(d,"comment-replies-renderer-pages");if(k){var l=E("comment-replies-renderer-hide",k),m=SG(k);hh(e,{format:"JSON",method:"POST",context:a,convertToSafeHtml:!0,onSuccess:function(a,b){qg(h,f);a=k.id;b=Zf(b.content_html);var c=Yf("div");O(c,"yt-uix-expander-body");O(c,"comment-replies-renderer-pages");c.id=a;c.appendChild(b);dg(c,l);fg(c,k)},
onError:function(){P(k,"loading");eg(m)},
postParams:{page_token:c}})}}}},VG=function(a,b,c,d){if(!a.isGettingReportForm_){var e=J(c,"url");
(c=J(c,"params"))&&e&&(c={params:c},a.isGettingReportForm_=!0,hh(e,{format:"JSON",method:"POST",convertToSafeHtml:!0,onSuccess:v(function(a,c){this.isGettingReportForm_=!1;D("report-form-modal-renderer")||(a=Zf(c.html_content),b.appendChild(a),a=E("yt-dialog",D("report-form-modal-renderer")),(new xF(a)).show(d))},a),
onError:v(function(){this.isGettingReportForm_=!1},a),
postParams:c}))}},LG=function(a){var b=a.getElementByClass("comment-renderer-linked-comment");
if(b){var c=r("yt.www.watch.player.pause");c&&c();if(b=G(b,"comment-renderer")){var c=Lf("comment-renderer-edit",b),d=null;y(c,function(a){M(a,"comment-renderer-action")&&(d=a)});
if(d)a.simplebox_.trigger(d,!0);else{a=E("comment-renderer-reply",b);var c=M(a,"comment-simplebox-trigger"),e=!!E("comment-poll-attachment",b);c&&!e&&a.click()}WG(b)}}},WG=function(a){a=a.getBoundingClientRect().top+window.pageYOffset-60;
window.scrollTo(0,a)},NG=function(a,b,c){if(b){for(var d=parseInt(J(b,"priority")||"0",10),e=ig(a.itemsEl_);e;e=jg(e))if(M(e,"comment-thread-renderer")){var f=parseInt(J(e,"priority")||"0",10);
if(c&&d==f){fg(b,e);return}if(d>=f){bg(b,e);return}}a.itemsEl_.appendChild(b)}},MG=function(a,b){FE.getInstance().show(b);
var c=D("watch-action-panels"),d=D("comment-simplebox-create-comment");a.domMutationObserver_=new MutationObserver(function(){FE.getInstance().updateCard(b)});
var e={attributes:!0,childList:!0,subtree:!0};a.domMutationObserver_.observe(c,e);a.domMutationObserver_.observe(d,e);HF(b)},SG=function(a){var b=E("comment-renderer-loading"),b=pk(b);
M(a,"comment-replies-renderer-pages")||QG(a)||(a=G(a,"comment-thread-renderer"));O(a,"loading");dg(a,b);return b};
g=KG.prototype;g.onLoadMoreModerationVisible_=function(a){y(a,function(a){IG.getInstance().loadMore(a)})};
g.onClickModerationButton_=function(a){a=a.currentTarget;var b=J(a,"action"),c=J(a,"url");if(b&&c){var d=G(a,"comment-renderer");if(d){Nf(a,{disabled:!0,"aria-disabled":!0});var e=G(d,"comment-thread-renderer"),f=SG(d);hh(c,{format:"JSON",method:"POST",context:this,convertToSafeHtml:!0,postParams:{action:b},onSuccess:v(this.onPerformActionSuccess_,this,d),onError:v(this.onPerformActionError_,this,a,f,d,e)})}}};
g.onClickReportButton_=function(a){a=a.currentTarget;var b=G(a,"comment-renderer");b&&(b.appendChild(this.abuseContainer_),VG(this,ig(this.abuseContainer_),a,b),Y(this.abuseContainer_))};
g.updateModerationPanel_=function(a){var b=Lf("comment-renderer",a),c=Lf("likely-spam-comment",a);if(!b||1>b.length)KD(a);else if(!c||1>c.length)a=E("spam-header-text",a),KD(a)};
g.onClickSettingsButton_=function(a){var b=a.currentTarget;a=J(b,"params");var c=J(b,"target");if(a&&c){var d=function(){var a=G(b,"comment-section-renderer-alert");KD(a)};
hh(c,{format:"JSON",method:"POST",context:this,onSuccess:function(a,b){b&&b.html_content&&(a=tk(b.html_content),this.dialogEl_?fg(a,this.dialogEl_):document.body.appendChild(a),this.dialogEl_=a,b=new IE(a,!1,!0),d&&TD(this,"click","confirm-dialog-renderer-confirm-button",d,null,a),b.show())},
postParams:{params:a}})}};
var XG=-1;q("yt.ui.renderers.comment.onScrollModerationPanel",function(a){var b=G(a,"comment-moderation-panel-renderer");-1!=XG&&$g(XG);XG=ah(function(){P(b,"onscroll")},500);
O(b,"onscroll")},void 0);var ZG=function(a,b,c,d){ae.call(this);this.adElement_=a;this.ad_=b;this.onClose_=c;this.sendPings_=d;this.button_=Vf("DIV",{"class":"ads-mute-button"});qg(this.button_,String.fromCharCode(215));this.survey_=Vf("DIV");vf(this.survey_,YG(this));this.undo_=E("ads-mute-undo",this.survey_);Q(this.button_,"click",v(this.onMute_,this));this.adElement_.firstElementChild.appendChild(this.button_);a=Rb(this.ad_.mute_survey);Eb(a);y(a,function(a){var b=Vf("INPUT",{"class":"yt-uix-form-input-radio",type:"radio"}),
c=Vf("SPAN",{"class":"yt-uix-form-input-radio-element"}),b=Vf("SPAN",{"class":"yt-uix-form-input-radio-container"},b,c),b=Vf("LABEL","ads-mute-option",b,a);Q(b,"click",v(this.onOption_,this,this.ad_.mute_survey[a]));this.survey_.firstChild.appendChild(b)},this);
Q(this.survey_,"click",Gk);Q(this.undo_,"click",v(this.onUndo_,this));Dh("dispose",this.dispose,this)};
x(ZG,ae);var YG=function(a){var b=a.ad_.mute_gone||tf,c=a.ad_.mute_question||tf;a=a.ad_.mute_undo||tf;return qf("div",{"class":"ads-mute-survey"},sf(qf("span",{"class":"ads-mute-check"}),qf("b",{},b)," ",c,qf("div",{"class":"ads-mute-undo"},a)))};
ZG.prototype.disposeInternal=function(){y(Lf("ads-mute-option",this.survey_),function(a){Hk(a)});
Hk(this.button_);eg(this.button_);Hk(this.survey_);eg(this.survey_);Hk(this.undo_)};
ZG.prototype.onMute_=function(a){a.stopPropagation();a.preventDefault();this.sendPings_&&sh(this.ad_.mute_url);this.adElement_.firstElementChild.appendChild(this.survey_);O(ng(this.survey_),"contains-mute-survey")};
ZG.prototype.onUndo_=function(a){a.stopPropagation();a.preventDefault();this.ad_.mute_undo_url&&this.sendPings_&&sh(this.ad_.mute_undo_url);P(ng(this.survey_),"contains-mute-survey");eg(this.survey_)};
ZG.prototype.onOption_=function(a,b){b.stopPropagation();b.preventDefault();this.sendPings_&&sh(a);eg(this.adElement_);this.onClose_();this.dispose()};var $G="",aH=[],bH="",eH=function(a,b){var c=qb(a.media_template_data,function(a){return!!a.imageUrl});
c?(bH=c.videoId,c={video_id:c.videoId,ad_type:"watch_related",headline:Wa(a.line1),image_url:c.imageUrl,description1:Wa(a.line2),description2:Wa(a.line3),channel_title:c.channelName,visible_url:Wa(a.visible_url)},$G=Wa(a.url),ro(new $n($G),"adurl"),Ia(db(a.creative_view_url))||aH.push(cH(Wa(a.creative_view_url))),Ia(db(a.p_creative_view_url))||aH.push(cH(Wa(a.p_creative_view_url))),Ia(db(a.engaged_view_url))||cH(Wa(a.engaged_view_url)),Ia(db(a.p_engaged_view_url))||cH(Wa(a.p_engaged_view_url)),Ia(db(a.videoplaytime_25_url))||
cH(Wa(a.videoplaytime_25_url)),Ia(db(a.p_videoplaytime_25_url))||cH(Wa(a.p_videoplaytime_25_url)),Ia(db(a.videoplaytime_50_url))||cH(Wa(a.videoplaytime_50_url)),Ia(db(a.p_videoplaytime_50_url))||cH(Wa(a.p_videoplaytime_50_url)),Ia(db(a.videoplaytime_75_url))||cH(Wa(a.videoplaytime_75_url)),Ia(db(a.p_videoplaytime_75_url))||cH(Wa(a.p_videoplaytime_75_url)),Ia(db(a.videoplaytime_100_url))||cH(Wa(a.videoplaytime_100_url)),Ia(db(a.p_videoplaytime_100_url))||cH(Wa(a.p_videoplaytime_100_url)),hh("/pyv?"+
sd(c),{format:"XML",onSuccess:function(a,c){b&&b(a,c)},
onError:function(){dH()},
convertToSafeHtml:!0})):dH()},hH=function(a){0==a.length?(dH(),fH()):eH(a[0],function(b,c){b=c.html_content;
if(c=D(window.pyv_related_box_id||"watch-related")){var d=c.innerHTML;b&&0!=d.indexOf(lf(b))&&c.insertBefore(Zf(b),c.firstChild);if(b=D("pyv-watch-related-dest-url"))c=!A("PYV_DISABLE_MUTE")&&a[0].mute_url&&a[0].mute_survey,b.setAttribute("href",$G),c&&(b=ng(b),O(b,"contains-mute-button"),new ZG(b,a[0],oa,!0));vn("parn");gH();y(aH,function(a){sh(a,void 0,RD(a))})}})},fH=function(){var a=Lf("related-video-featured");
y(a,function(a){Y(a)})},iH=function(){var a=Lf("related-video-featured");
2==a.length?M(a[0],"related-video-featured-booster")?Y(a[1]):Y(a[0]):y(a,function(a){Y(a)})};
window.google_ad_request_done=function(a){vn("parc");hH(a);0<a.length&&iH()};
var gH=function(){var a=r("yt.www.watch.player.getClientPlaybackNonce")||Gb(""),a={ad_id:"",ad_sys:"",ad_v:bH,break_type:6,content_v:A("VIDEO_ID",void 0),cpn:a(),device:"1",devicever:"html5",ei:A("GET_PLAYER_EVENT_ID",void 0),el:"detailpage",event:2,format:"2_6",mt:"0",ns:1,slot_pos:"0",ver:"2.0",wt:(new Date).getTime()},a=td("/api/stats/ads",a);sh(a,void 0,RD(a))},dH=function(){var a=A("TIMING_WAIT",[]);
ub(a,"parn")&&(Qc("TIMING_WAIT",a),un())},cH=function(a){if("https:"==window.location.protocol){var b=new $n(a);
if("https"==b.getScheme())return a;b.setScheme("https");return b.toString()}return a};new Ko("yt.autonav");var nH=function(){var a=[],b=-1,c=jH;if(!c)return null;y(c.getElementsByTagName("li"),function(c,d){M(c,kH)&&(b=d);c={encrypted_id:J(c,"video-id"),author:J(c,"video-username"),title:J(c,"video-title"),start:J(c,"video-clip-start"),end:J(c,"video-clip-end"),iurl:J(c,"thumbnail-url")};a.push(c)});
var c=lH,d=b+1<a.length||mH;return{author:J(c,"list-author"),loop:d,index:b,list:J(c,"full-list-id"),title:J(c,"list-title"),description:J(c,"list-description"),video:a}},oH=function(a,b){var c=A("SHUFFLE_VALUE"),d=mH,e="normal";
c&&d?e="loop_shuffle":c?e="shuffle":d&&(e="loop");return J(a,e+"-"+b+"-clicktracking")},qH=function(a,b,c,d){var e={},f=A("EVENT_ID");
f&&(e.ei=f,a&&(e.feature=a),d?e.itct=d:b&&(e.ved=b),(a=A("SHUFFLE_VALUE"))&&(e.shuffle=a),mH&&(e.loop_on=!0),c&&(c=A("LIST_AUTO_PLAY_VALUE"),e.playnext=c,e.autonav=1,c=Yk(),0<c&&(e.lact=c),(c=pH)&&c.isReady()&&c.shouldSendVisibilityState()&&(c=c.getVisibilityState(),0!=c&&(e.vis=c))));return e},pH=null,rH=null,jH=null,lH=null,kH="",mH=!1;var sH=function(a,b){FA.call(this,a);this.onInvalidate_=b};
x(sH,FA);sH.prototype.invalidate=function(a,b,c){a.acknowledge(c);this.onInvalidate_(c,b)};
sH.prototype.invalidateUnknownVersion=function(a,b,c){a.acknowledge(c)};
sH.prototype.invalidateAll=function(a,b){a.acknowledge(b)};var tH=function(a,b){this.currentVersion_=0;this.invalidationCallback_=b;this.objectId_=new Jy(a.objectSource,a.objectId);this.tokenRefreshTimeoutId_=this.tangoClient_=this.listener_=this.resources_=this.channel_=null;var c=Bc();this.initializationPromise_=(a.requiresAuthToken?c.promise.then(this.getAuthTokenPromise_.bind(this)):c.promise).then(this.initialize_.bind(this,a));qm("auth",function(){c.resolve()})};
x(tH,ae);tH.prototype.onInvalidate_=function(a,b){a=b.getObjectId();a.getName()!=this.objectId_.getName()||a.getSource()!=this.objectId_.getSource()||b.getVersion()<=this.currentVersion_||(a=b.getPayload(),this.invalidationCallback_(a)&&(this.currentVersion_=b.getVersion()))};
tH.prototype.initialize_=function(a,b){this.channel_=new EA(a.channelUri,a.senderUri,a.clientName);b&&this.setAppAuthToken_(b);this.resources_=QA(0,this.channel_).build();this.resources_.start();this.listener_=new sH(this.resources_,v(this.onInvalidate_,this));a=new NA(a.clientType,"youtubeLiveComments",a.clientName);this.tangoClient_=OA(this.resources_,a,this.listener_);this.tangoClient_.start()};
tH.prototype.getAuthTokenPromise_=function(){var a=uH();if(a)return yc(a);var b=Bc();nh("/live_chat_push_config_ajax",{urlParams:{action_get_token:1},onSuccess:function(a,d){b.resolve({token:d.token,token_lifetime_ms:d.token_lifetime_ms,expiration_time:w()+d.token_lifetime_ms})},
onError:function(a,d){b.reject(d)}});
return b.promise};
var uH=function(){var a=A("LIVE_CHAT_TANGO_AUTH_TOKEN_DATA");return a&&a.expiration_time>w()?a:null};
tH.prototype.setAppAuthToken_=function(a){Qc("LIVE_CHAT_TANGO_AUTH_TOKEN_DATA",a);this.channel_&&(this.channel_.setAppAuthToken(a.token),a=a.expiration_time-w(),this.tokenRefreshTimeoutId_=ah(function(){this.getAuthTokenPromise_().then(this.setAppAuthToken_.bind(this))}.bind(this),a))};
tH.prototype.disposeInternal=function(){this.initializationPromise_.cancel();this.tokenRefreshTimeoutId_&&($g(this.tokenRefreshTimeoutId_),this.tokenRefreshTimeoutId_=null);this.listener_&&this.listener_.unregister(this.tangoClient_,this.objectId_);this.tangoClient_&&this.tangoClient_.stop();this.resources_&&this.resources_.stop();tH.superClass_.disposeInternal.call(this)};
tH.prototype.register=function(){this.initializationPromise_.then(function(){this.listener_.register(this.tangoClient_,this.objectId_)},null,this)};var vH=function(a,b){var c=A("RESUME_COOKIE_NAME",void 0);if(c){var d=Ig.get(""+c,"").split(","),d=mb(d,function(b){return 0!=b.indexOf(a)&&!!b.length});
4<=d.length&&d.shift();d.push(a+":"+b);ph(c,d.join(","),1814400)}},wH=function(a){var b=A("RESUME_COOKIE_NAME",void 0);
if(b){var c=Ig.get(""+b,"").split(","),c=mb(c,function(b){return 0!=b.indexOf(a)});
0==c.length?oh(b):ph(b,c.join(","),1814400)}};var xH=function(a,b){a=td("/related_ajax",{continuation:a,action_more_related_videos:1});spf.load(a,{onDone:b})};q("yt.www.watch.related.loadMore",function(a){KD("watch-more-related-button");Y("watch-more-related");a=J(a,"continuation");xH(a,function(){var a=D("watch-more-related");K("yt-uix-load-more-success");K("yt-dom-content-change",a)})},void 0);
q("yt.www.watch.player.getClientPlaybackNonce",function(){return""},void 0);
q("yt.www.watch.player.seekTo",function(){},void 0);
q("yt.www.watch.player.pause",function(){},void 0);
q("yt.www.watch.player.saveResumeOffset",function(a){var b;if((b=A("PAGE_NAME"))&&"watch"!=b)Sc(Error("getPlayer called on "+b),"WARNING"),b=null;else if(b=D("player-api")){var c=rq+"_"+ya(b),d=qq[c];d||(d=new bq(b,c),qq[c]=d);b=d.api}else b=null;b&&b.isReady()&&(a&&Qc("RESUME_COOKIE_NAME",a),a=A("VIDEO_ID",void 0),c=b.getDuration(),b=Math.floor(b.getCurrentTime()),0==c||120>=b||b+120>=c?wH(a):vH(a,Math.floor(b)))},void 0);
q("yt.sharing.facebooktokenrefresh.finish",function(a){var b={service:"facebook"},c;for(c in a)a.hasOwnProperty(c)&&(b[c]=a[c]);hh("/social_connector_ajax",{method:"POST",format:"JSON",urlParams:{action_connect_service:1},postParams:b})},void 0);
q("yt.www.watch.lists.loadThumbnails",function(){K("yt-dom-content-change",jH)},void 0);
q("yt.www.watch.lists.getState",nH,void 0);q("yt.www.watch.lists.next",function(a,b){if(b){if(!nH().loop)return;var c=lH;if(c){var d=oH(c,"auto");var e=J(c,"autoplay-clicktracking")||""}}else rH&&(spf.cache.remove(rH),rH=null),d=oH(null,"next"),e=J(null,"clicktracking")||"";a=qH(a||"bf_next",e,b,d);Mo(null.href,a)},void 0);
q("yt.www.watch.lists.prev",function(a){a=a||"bf_prev";var b=oH(null,"prev"),c=J(null,"clicktracking")||"";a=qH(a,c,!1,b);Mo(null.href,a)},void 0);new Ko("ytg-eventpromo");var yH=function(a,b){ae.call(this);this.topicId_=a;this.invalidationCallback_=b;this.browserChannel_=new As("gcmhttp",["",""],!1)};
x(yH,ae);var zH=function(a){return A("LIVE_CHAT_GCM_BASE_REQUEST_URL",void 0)+"/fcm/connect"+a};
yH.prototype.subscribe=function(){var a=new io;a.set("authorized_entity",414843287017);a.set("topic","/topics/"+this.topicId_);var b=this.invalidationCallback_,c=this.browserChannel_;ss(zH("/subscribe"),function(){var a=this.getResponseJson().token;c.allowHostPrefix_=!0;c.handler_=new AH(a,b);c.connect(zH("/test"),zH("/bind"),{token:a})},a.toString())};
yH.prototype.unsubscribe=function(){this.browserChannel_.disconnect()};
yH.prototype.disposeInternal=function(){this.browserChannel_.disconnect()};
var AH=function(a,b){this.token_=a;this.invalidationCallback_=b};
x(AH,Qs);AH.prototype.channelHandleArray=function(a,b){y(b,this.handleData_,this)};
AH.prototype.handleData_=function(a){Vb(a)||(Vj(a),BH(this,a.message_id),this.invalidationCallback_(a.data))};
var BH=function(a,b){var c=new io;c.set("token",a.token_);c.set("message_id",b);ss(zH("/ack"),function(){},c.toString())};var CH=function(){};
CH.prototype.navigate=function(){};
CH.prototype.pageRequestFinished=function(){};
CH.prototype.navigateToExternalUrl=function(){};
CH.prototype.search=function(){};var DH=function(){};var EH=!!zd("kevlar_miniplayer");var FH=function(){};
g=FH.prototype;g.update=function(){};
g.minimize=function(){};
g.expand=function(){};
g.pause=function(){};
g.play=function(){};var GH=function(a){Ea.call(this,a)};
x(GH,Ea);var HH=function(a){Ea.call(this,a)};
x(HH,GH);var IH=function(a,b){Ea.call(this,b)};
x(IH,HH);Polymer({is:"yt-live-chat-message-subtext-renderer",properties:{data:Object}});Polymer({is:"yt-live-chat-message-renderer",properties:{data:Object,subtextOnBottom:{type:Boolean,value:!1,reflectToAttribute:!0}},behaviors:[B.YtRendererBehavior,B.YtActionSenderBehavior,R.YtRendererStamperBehavior],stampDom:{"data.button":{id:"button",mapping:{buttonRenderer:{matcher:Ba(Rc,"BUTTON_RENDERER")}}},"data.subtext":{id:"subtext",mapping:{messageSubtextRenderer:"yt-live-chat-message-subtext-renderer"}}}});Polymer({is:"yt-live-chat-dialog-renderer",properties:{data:Object,hidden:{type:Boolean,value:!0,reflectToAttribute:!0,observer:"hiddenChanged_"}},behaviors:[R.YtRendererStamperBehavior],stampDom:{"data.confirmButton":{id:"button",mapping:{buttonRenderer:{matcher:Ba(Rc,"BUTTON_RENDERER")}}}},listeners:{"button.tap":"onTap_"},created:function(){this.restoreFocusNode_=null},
attached:function(){document.addEventListener("focus",this.onFocus_.bind(this),!0)},
detached:function(){this.restoreFocusNode_=null;document.removeEventListener("focus",this.onFocus_.bind(this),!0)},
onTap_:function(a){a.target!=this.$.button&&(this.hidden=!0)},
focusChild_:function(){var a=Polymer.IronFocusablesHelper.getTabbableNodes(this);a.length&&(this.restoreFocusNode_||(this.restoreFocusNode_=document.activeElement),a[0].focus())},
hiddenChanged_:function(){this.hidden?this.restoreFocusNode_&&(this.restoreFocusNode_.focus(),this.restoreFocusNode_=null):this.focusChild_()},
onFocus_:function(a){this.hidden||-1!=Polymer.dom(a).path.indexOf(this)||(a.stopPropagation(),this.focusChild_())}});Polymer({is:"yt-live-chat-gaming-promo-renderer",properties:{data:Object},behaviors:[R.YtRendererStamperBehavior,B.YtRendererBehavior],stampDom:{"data.iconButton":{id:"icon-button",mapping:{buttonRenderer:{matcher:Ba(Rc,"BUTTON_RENDERER")}}},"data.sponsorButton":{id:"sponsor-button",mapping:{buttonRenderer:{matcher:Ba(Rc,"BUTTON_RENDERER")}}},"data.dismissButton":{id:"dismiss-button",mapping:{buttonRenderer:{matcher:Ba(Rc,"BUTTON_RENDERER")}}}},listeners:{"dismiss-button.click":"onDismissButtonClick_"},
onDismissButtonClick_:function(){Polymer.dom(this).setAttribute("hidden",!0)}});Polymer({is:"yt-live-chat-header-renderer",properties:{data:Object,showOverflow:{type:Boolean,computed:"computeShowOverflow_(data, collapsed)"},showCollapseButton:{type:Boolean,value:!1},collapsed:{type:Boolean,value:!1,reflectToAttribute:!0},collapseDirection:{type:String,value:"horizontal",reflectToAttribute:!0},collapseIcon:{type:String,computed:"computeCollapseIcon_(collapsed, collapseDirection)"},popupPositionTarget:{type:Element,value:function(){return this.$.overflow}},
collapseButton:Object},behaviors:[R.YtOpenPopupBehavior,R.YtRendererStamperBehavior,B.YtActionSenderBehavior,B.YtRendererBehavior],stampDom:{collapseButton:{id:"collapser",mapping:{buttonRenderer:{matcher:Ba(Rc,"BUTTON_RENDERER")}}},"data.actionButtons":{id:"action-buttons",mapping:{buttonRenderer:{matcher:Ba(Rc,"BUTTON_RENDERER")}}}},listeners:{"collapser.tap":"onCollapseTap_"},observers:["setCollapseButton_(data.collapseButton, collapseIcon)"],onMenuTap_:function(){this.data.overflowMenu&&this.data.overflowMenu.menuRenderer&&
this.openPopup({openPopupAction:{popupType:"DROPDOWN",popup:{menuPopupRenderer:this.data.overflowMenu.menuRenderer}}})},
onCollapseTap_:function(){this.sendAction("yt-live-chat-toggle-collapse")},
computeShowOverflow_:function(a,b){return!!a.overflowMenu&&!b},
computeCollapseIcon_:function(a,b){return"horizontal"==b?a?"chevron_left":"chevron_right":a?"expand-less":"expand-more"},
setCollapseButton_:function(a,b){a&&(a.buttonRenderer.icon={iconType:b},this.set("collapseButton",null),this.set("collapseButton",a))}});var JH={YtLiveChatBadgeTypeBehavior:{badgeType:function(a){return a?a.icon?a.icon.iconType.toLowerCase():a.customThumbnail?"member":"":""},
badgeTypeFromBadges:function(a){if(!a)return"";for(var b=0;b<a.length;b++){var c=a[b];if(c&&c.liveChatAuthorBadgeRenderer&&(c=this.badgeType(c.liveChatAuthorBadgeRenderer))&&"verified"!=c)return c}return""}}};Polymer({is:"yt-live-chat-author-badge-renderer",properties:{data:{type:Object,observer:"dataChanged_"}},behaviors:[JH.YtLiveChatBadgeTypeBehavior],dataChanged_:function(a){for(var b=Polymer.dom(this.$.image);b.firstChild;)b.removeChild(b.firstChild);if(a){if(a.icon){var c=document.createElement("yt-icon"),d=A("LIVE_CHAT_BADGE_"+a.icon.iconType,a.icon.iconType.toLowerCase());c.setAttribute("icon","live-chat-badges:"+d);b.appendChild(c)}else a.customThumbnail&&(c=document.createElement("img"),c.src=
a.customThumbnail.thumbnails[0].url,b.appendChild(c));this.setAttribute("type",this.badgeType(a));this.setAttribute("aria-label",a.accessibility.accessibilityData.label||"")}}});JH.YtLiveChatItemBehaviorImpl_={properties:{id:{type:String,computed:"identity(data.id)",reflectToAttribute:!0},timestampString:{type:String,computed:"computeTimestampString(data.timestampUsec)"},popupPositionTarget:{type:Element,value:function(){return this.$["menu-button"]}},
menuVisible:{type:Boolean,computed:"computeMenuVisible_(menuOpen, menuFocused)",reflectToAttribute:!0},menuOpen:{type:Boolean,value:!1},menuFocused:{type:Boolean,value:!1},emojiManager:Object,participantsManager:Object,isDeleted:{type:Boolean,value:!1,computed:"truthy(data.deletedStateMessage)",reflectToAttribute:!0},hasOriginalContent:{type:Boolean,value:!1,computed:"truthy(data.showOriginalContentMessage)"}},listeners:{"yt-popup-opened":"onYtPopupOpened_","yt-popup-closed":"onYtPopupClosed_"},TIME_FORMATTER:new Yo(7),
attached:function(){var a=this.$["menu-button"];a&&(this.listen(a,"focus","onMenuButtonFocus_"),this.listen(a,"blur","onMenuButtonBlur_"))},
detached:function(){var a=this.$["menu-button"];a&&(this.unlisten(a,"focus","onMenuButtonFocus_"),this.unlisten(a,"blur","onMenuButtonBlur_"))},
identity:function(a){return a},
truthy:function(a){return!!a},
computeTimestampString:function(a){return this.TIME_FORMATTER.format(new Date(a/1E3))},
computeMenuVisible_:function(a,b){return a||b},
createDocumentFragmentFromString:function(a){if(!this.participantsManager||!this.participantsManager.viewerRegex)return this.emojiManager.createDocumentFragment(a);for(var b=document.createDocumentFragment(),c=0,d;null!=(d=this.participantsManager.viewerRegex.exec(a));){if(0<d.index){var e=":"+d[0]+":";if(this.emojiManager.getEmojiById(e)&&a.indexOf(e)==d.index-1)continue}b.appendChild(this.emojiManager.createDocumentFragment(a.substring(c,d.index)));c=document.createElement("span");c.appendChild(this.emojiManager.createDocumentFragment(d[0]));
c.classList.add("mention");b.appendChild(c);c=d.index+d[0].length}b.appendChild(this.emojiManager.createDocumentFragment(a.substr(c)));return b},
createDocumentFragment:function(a){var b=document.createDocumentFragment();if(a.simpleText)return b.appendChild(this.createDocumentFragmentFromString(a.simpleText)),b;if(!a.runs)return b;for(var c=0;c<a.runs.length;c++){var d=a.runs[c];if(d.emoji)b.appendChild(this.emojiManager.createEmoji(d.emoji));else if(d.text)if(d.navigationEndpoint){var e=document.createElement("a","yt-endpoint");e.data=d.navigationEndpoint;Polymer.dom(e).appendChild(this.createDocumentFragmentFromString(d.text));b.appendChild(e)}else b.appendChild(this.createDocumentFragmentFromString(d.text))}return b},
colorFromDecimal:function(a){a=parseInt(a,10);return"rgba("+[a>>16&255,a>>8&255,a&255,(a>>24&255)/255].join()+")"},
markAsDeleted:function(a,b){this.set("data.deletedStateMessage",a);this.set("data.showOriginalContentMessage",b)},
onMenuButtonFocus_:function(){this.menuFocused=!0},
onMenuButtonBlur_:function(){this.menuFocused=!1},
showContextMenu:function(a){this.data.contextMenuEndpoint&&(this.getInterface(Vh).requestDataForEndpoint(this.data.contextMenuEndpoint).then(this.handleGetContextMenuResponse_,null,this),a&&a.stopPropagation())},
handleGetContextMenuResponse_:function(a){a=a.response;a.liveChatItemContextMenuSupportedRenderers&&a.liveChatItemContextMenuSupportedRenderers.menuRenderer&&this.showContextMenu_(a.liveChatItemContextMenuSupportedRenderers.menuRenderer);a.actions&&this.sendAction("yt-live-chat-actions",[a.actions])},
showContextMenu_:function(a){this.openPopup({openPopupAction:{popupType:"DROPDOWN",popup:{menuPopupRenderer:a}}})},
onYtPopupOpened_:function(){this.menuOpen=!0;this.fire("yt-live-chat-context-menu-opened")},
onYtPopupClosed_:function(){this.menuOpen=!1;this.fire("yt-live-chat-context-menu-closed")}};
JH.YtLiveChatItemBehavior=[JH.YtLiveChatItemBehaviorImpl_,Xd.ComponentBehavior,R.YtOpenPopupBehavior,B.YtActionSenderBehavior];B.YtVisibilityBehavior={_noAccessors:!0,onShow:function(){if(this.onShow_)this.onShow_()}};Polymer({is:"yt-img",extends:"img",properties:{delayedSrc:{type:String,observer:"delayedSrcChanged_"},thumbnail:{type:Object,observer:"thumbnailChanged_"},loaded:{type:Boolean,value:!1,reflectToAttribute:!0},empty:{type:Boolean,value:!0},height:Number,width:Number,EMPTY_GIF:{type:String,readOnly:!0,value:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"},loadTime:{type:Number,value:Infinity},preferredThumbnail:String},listeners:{load:"onLoad_"},behaviors:[B.YtVisibilityBehavior,
B.YtRendererBehavior],created:function(){!A("DISABLE_YT_IMG_DELAY_LOADING",!1)&&A("ENABLE_IMG_TRANSITION",!1)||this.toggleClass("no-transition",!0);this.onShowCallbackId_=0},
computeSrc_:function(){return this.delayedSrc||this.computeThumbnailSrc_(this.thumbnail)||this.EMPTY_GIF},
computeThumbnailSrc_:function(a){return a&&a.thumbnails?ml(a.thumbnails,this.width,this.preferredThumbnail):null},
thumbnailChanged_:function(a,b){if(this.loaded&&(b=this.computeThumbnailSrc_(b),this.computeThumbnailSrc_(a)==b))return;a&&a.webThumbnailDetailsExtensionData&&a.webThumbnailDetailsExtensionData.isPreloaded?(this.src=this.thumbnail.thumbnails[0].url,this.alt=this.get("accessibility.accessibilityData.label",a)||"",this.empty=!1):a&&A("DISABLE_YT_IMG_DELAY_LOADING",!1)?Polymer.RenderStatus.afterNextRender(this,this.onShow_):this.resetImage_()},
delayedSrcChanged_:function(a,b){this.loaded&&a==b||this.resetImage_()},
resetImage_:function(){this.loaded=!1;this.loadTime=Infinity;this.empty=!0;this.src=this.EMPTY_GIF;this.invalidate(!1)},
onLoad_:function(){this.src!=this.EMPTY_GIF&&window.requestAnimationFrame(function(){this.loaded=!0;this.loadTime=Oc();this.markDirty()}.bind(this))},
onShow_:function(){if(!(this.loaded&&!this.empty||this.onShowCallbackId_)){this.empty=!1;var a=this.computeSrc_();a!=this.src&&(this.onShowCallbackId_=window.requestAnimationFrame(function(){this.loaded=!1;this.src=a;this.alt=this.get("accessibility.accessibilityData.label",this.thumbnail)||"";this.onShowCallbackId_=0}.bind(this)))}}});Polymer({is:"yt-live-chat-text-message-renderer",properties:{data:{type:Object,observer:"dataChanged_"},useColor:{type:Boolean,value:!1},showOriginal:{type:Boolean,value:!1,reflectToAttribute:!0},isDimmed:{type:Boolean,value:!1,computed:"truthy(data.isDimmed)",reflectToAttribute:!0},showBar:{type:Boolean,computed:"computeShowBar_(isDeleted, hasOriginalContent, isDimmed)",reflectToAttribute:!0}},behaviors:[R.YtRendererStamperBehavior,B.YtRendererBehavior,JH.YtLiveChatBadgeTypeBehavior,JH.YtLiveChatItemBehavior],
observers:["updateAuthorNameColor(useColor, data.authorName)","updateMessage_(data.message)"],listeners:{"show-original.tap":"onShowOriginalTap_"},stampDom:{"data.authorBadges":{id:"author-badges",mapping:{liveChatAuthorBadgeRenderer:{component:"yt-live-chat-author-badge-renderer"}}}},AUTHOR_NAME_COLORS:"#db4437 #e91e63 #9c27b0 #673ab7 #3f51b5 #4285f4 #03a9f4 #00bcd4 #009688 #0f9d58 #8bc34a #cddc39 #f4b400 #ff9800 #ff5722".split(" "),updateAuthorNameColor:function(a,b){a&&(a=this.getSimpleString(b)||
"",this.$.content.style.color=this.AUTHOR_NAME_COLORS[hb(a)%this.AUTHOR_NAME_COLORS.length])},
dataChanged_:function(a){a=this.badgeTypeFromBadges(a.authorBadges||[]);this.setAttribute("author-type",a);this.$["author-name"].setAttribute("type",a)},
updateMessage_:function(a){var b=Polymer.dom(this.$.message);b.innerHTML="";a&&b.appendChild(this.createDocumentFragment(a))},
actionMessageChanged_:function(a){var b=this.$.action;b.innerHTML="";a&&b.appendChild(this.createDocumentFragment(a))},
onShowOriginalTap_:function(){this.showOriginal=!0},
computeShowBar_:function(a,b,c){return a&&b||c}});Polymer({is:"yt-live-chat-auto-mod-message-renderer",behaviors:[R.YtRendererStamperBehavior,B.YtRendererBehavior],properties:{data:Object,emojiManager:Object,participantsManager:Object},stampDom:{"data.infoDialogButton":{id:"button",mapping:{buttonRenderer:{matcher:Ba(Rc,"BUTTON_RENDERER")}}},"data.autoModeratedItem":{id:"auto-moderated-item",mapping:{liveChatTextMessageRenderer:{component:"yt-live-chat-text-message-renderer",properties:{emojiManager:"[[emojiManager]]",participantsManager:"[[participantsManager]]"}}}},
"data.moderationButtons":{id:"moderation-buttons",mapping:{buttonRenderer:{matcher:Ba(Rc,"BUTTON_RENDERER")}}}}});Polymer({is:"yt-live-chat-legacy-paid-message-renderer",properties:{data:{type:Object,observer:"dataChanged_"},hidden:{type:Boolean,value:!1,computed:"truthy(isDeleted)",reflectToAttribute:!0}},behaviors:[B.YtRendererBehavior,JH.YtLiveChatItemBehavior],dataChanged_:function(a){var b=Polymer.dom(this.$["detail-text"]);b.innerHTML="";a&&a.detailText&&b.appendChild(this.createDocumentFragment(a.detailText))}});Polymer({is:"yt-live-chat-mode-change-message-renderer",properties:{data:Object,icon:{type:String,computed:"computeIcon_(data.icon.iconType)"}},behaviors:[R.YtRendererStamperBehavior],stampDom:{"data.buttons":{id:"buttons",mapping:{buttonRenderer:{matcher:Ba(Rc,"BUTTON_RENDERER")}}}},computeIcon_:function(a){return a?"yt-icons:"+a.toLowerCase():""}});Polymer({is:"yt-live-chat-moderation-message-renderer",properties:{data:Object,timestampString:{type:String,computed:"computeTimestampString(data.timestampUsec)"}},behaviors:[B.YtRendererBehavior],TIME_FORMATTER:new Yo(7),computeTimestampString:function(a){return this.TIME_FORMATTER.format(new Date(a/1E3))}});Polymer({is:"yt-live-chat-text-input-field-suggestion",properties:{data:{type:Object,observer:"dataChanged_"},active:{type:Boolean,reflectToAttribute:!0}},identity:rb,dataChanged_:function(){this.active=!1},
onTap_:function(){this.fire("yt-live-chat-select-suggestion",this.data)}});(function(){var a=0,b=0,c=null,d=[];Polymer.IronDropdownScrollManager={get currentLockingElement(){return this._lockingElements[this._lockingElements.length-1]},elementIsScrollLocked:function(a){var b=this.currentLockingElement;if(void 0===b)return!1;if(this._hasCachedLockedElement(a))return!0;if(this._hasCachedUnlockedElement(a))return!1;(b=!!b&&b!==a&&!this._composedTreeContains(b,a))?this._lockedElementCache.push(a):this._unlockedElementCache.push(a);return b},
pushScrollLock:function(a){0<=this._lockingElements.indexOf(a)||(0===this._lockingElements.length&&this._lockScrollInteractions(),this._lockingElements.push(a),this._lockedElementCache=[],this._unlockedElementCache=[])},
removeScrollLock:function(a){a=this._lockingElements.indexOf(a);-1!==a&&(this._lockingElements.splice(a,1),this._lockedElementCache=[],this._unlockedElementCache=[],0===this._lockingElements.length&&this._unlockScrollInteractions())},
_lockingElements:[],_lockedElementCache:null,_unlockedElementCache:null,_hasCachedLockedElement:function(a){return-1<this._lockedElementCache.indexOf(a)},
_hasCachedUnlockedElement:function(a){return-1<this._unlockedElementCache.indexOf(a)},
_composedTreeContains:function(a,b){var c,d;if(a.contains(b))return!0;a=Polymer.dom(a).querySelectorAll("content");for(c=0;c<a.length;++c){var e=Polymer.dom(a[c]).getDistributedNodes();for(d=0;d<e.length;++d)if(this._composedTreeContains(e[d],b))return!0}return!1},
_scrollInteractionHandler:function(c){c.cancelable&&this._shouldPreventScrolling(c)&&c.preventDefault();c.targetTouches&&(c=c.targetTouches[0],a=c.pageX,b=c.pageY)},
_lockScrollInteractions:function(){this._boundScrollHandler=this._boundScrollHandler||this._scrollInteractionHandler.bind(this);document.addEventListener("wheel",this._boundScrollHandler,!0);document.addEventListener("mousewheel",this._boundScrollHandler,!0);document.addEventListener("DOMMouseScroll",this._boundScrollHandler,!0);document.addEventListener("touchstart",this._boundScrollHandler,!0);document.addEventListener("touchmove",this._boundScrollHandler,!0)},
_unlockScrollInteractions:function(){document.removeEventListener("wheel",this._boundScrollHandler,!0);document.removeEventListener("mousewheel",this._boundScrollHandler,!0);document.removeEventListener("DOMMouseScroll",this._boundScrollHandler,!0);document.removeEventListener("touchstart",this._boundScrollHandler,!0);document.removeEventListener("touchmove",this._boundScrollHandler,!0)},
_shouldPreventScrolling:function(a){var b=Polymer.dom(a).rootTarget;"touchmove"!==a.type&&c!==b&&(c=b,d=this._getScrollableNodes(Polymer.dom(a).path));if(!d.length)return!0;if("touchstart"===a.type)return!1;a=this._getScrollInfo(a);return!this._getScrollingNode(d,a.deltaX,a.deltaY)},
_getScrollableNodes:function(a){for(var b=[],c=a.indexOf(this.currentLockingElement),d=0;d<=c;d++)if(a[d].nodeType===Node.ELEMENT_NODE){var e=a[d],m=e.style;"scroll"!==m.overflow&&"auto"!==m.overflow&&(m=window.getComputedStyle(e));"scroll"!==m.overflow&&"auto"!==m.overflow||b.push(e)}return b},
_getScrollingNode:function(a,b,c){if(b||c)for(var d=Math.abs(c)>=Math.abs(b),e=0;e<a.length;e++){var f=a[e];if(d?0>c?0<f.scrollTop:f.scrollTop<f.scrollHeight-f.clientHeight:0>b?0<f.scrollLeft:f.scrollLeft<f.scrollWidth-f.clientWidth)return f}},
_getScrollInfo:function(c){var d={deltaX:c.deltaX,deltaY:c.deltaY};"deltaX"in c||("wheelDeltaX"in c?(d.deltaX=-c.wheelDeltaX,d.deltaY=-c.wheelDeltaY):"axis"in c?(d.deltaX=1===c.axis?c.detail:0,d.deltaY=2===c.axis?c.detail:0):c.targetTouches&&(c=c.targetTouches[0],d.deltaX=a-c.pageX,d.deltaY=b-c.pageY));return d}}})();Polymer({is:"iron-dropdown",behaviors:[Polymer.IronControlState,Polymer.IronA11yKeysBehavior,Polymer.IronOverlayBehavior,Polymer.NeonAnimationRunnerBehavior],properties:{horizontalAlign:{type:String,value:"left",reflectToAttribute:!0},verticalAlign:{type:String,value:"top",reflectToAttribute:!0},openAnimationConfig:{type:Object},closeAnimationConfig:{type:Object},focusTarget:{type:Object},noAnimations:{type:Boolean,value:!1},allowOutsideScroll:{type:Boolean,value:!1},_boundOnCaptureScroll:{type:Function,
value:function(){return this._onCaptureScroll.bind(this)}}},
listeners:{"neon-animation-finish":"_onNeonAnimationFinish"},observers:["_updateOverlayPosition(positionTarget, verticalAlign, horizontalAlign, verticalOffset, horizontalOffset)"],get containedElement(){return Polymer.dom(this.$.content).getDistributedNodes()[0]},get _focusTarget(){return this.focusTarget||this.containedElement},ready:function(){this._scrollLeft=this._scrollTop=0;this._refitOnScrollRAF=null},
attached:function(){this.sizingTarget&&this.sizingTarget!==this||(this.sizingTarget=this.containedElement||this)},
detached:function(){this.cancelAnimation();document.removeEventListener("scroll",this._boundOnCaptureScroll);Polymer.IronDropdownScrollManager.removeScrollLock(this)},
_openedChanged:function(){this.opened&&this.disabled?this.cancel():(this.cancelAnimation(),this._updateAnimationConfig(),this._saveScrollPosition(),this.opened?(document.addEventListener("scroll",this._boundOnCaptureScroll),!this.allowOutsideScroll&&Polymer.IronDropdownScrollManager.pushScrollLock(this)):(document.removeEventListener("scroll",this._boundOnCaptureScroll),Polymer.IronDropdownScrollManager.removeScrollLock(this)),Polymer.IronOverlayBehaviorImpl._openedChanged.apply(this,arguments))},
_renderOpened:function(){!this.noAnimations&&this.animationConfig.open?(this.$.contentWrapper.classList.add("animating"),this.playAnimation("open")):Polymer.IronOverlayBehaviorImpl._renderOpened.apply(this,arguments)},
_renderClosed:function(){!this.noAnimations&&this.animationConfig.close?(this.$.contentWrapper.classList.add("animating"),this.playAnimation("close")):Polymer.IronOverlayBehaviorImpl._renderClosed.apply(this,arguments)},
_onNeonAnimationFinish:function(){this.$.contentWrapper.classList.remove("animating");this.opened?this._finishRenderOpened():this._finishRenderClosed()},
_onCaptureScroll:function(){this.allowOutsideScroll?(this._refitOnScrollRAF&&window.cancelAnimationFrame(this._refitOnScrollRAF),this._refitOnScrollRAF=window.requestAnimationFrame(this.refit.bind(this))):this._restoreScrollPosition()},
_saveScrollPosition:function(){document.scrollingElement?(this._scrollTop=document.scrollingElement.scrollTop,this._scrollLeft=document.scrollingElement.scrollLeft):(this._scrollTop=Math.max(document.documentElement.scrollTop,document.body.scrollTop),this._scrollLeft=Math.max(document.documentElement.scrollLeft,document.body.scrollLeft))},
_restoreScrollPosition:function(){document.scrollingElement?(document.scrollingElement.scrollTop=this._scrollTop,document.scrollingElement.scrollLeft=this._scrollLeft):(document.documentElement.scrollTop=this._scrollTop,document.documentElement.scrollLeft=this._scrollLeft,document.body.scrollTop=this._scrollTop,document.body.scrollLeft=this._scrollLeft)},
_updateAnimationConfig:function(){for(var a=this.containedElement,b=[].concat(this.openAnimationConfig||[]).concat(this.closeAnimationConfig||[]),c=0;c<b.length;c++)b[c].node=a;this.animationConfig={open:this.openAnimationConfig,close:this.closeAnimationConfig}},
_updateOverlayPosition:function(){this.isAttached&&this.notifyResize()},
_applyFocus:function(){var a=this.focusTarget||this.containedElement;a&&this.opened&&!this.noAutoFocus?a.focus():Polymer.IronOverlayBehaviorImpl._applyFocus.apply(this,arguments)}});Polymer({is:"paper-listbox",behaviors:[Polymer.IronMenuBehavior],hostAttributes:{role:"listbox"}});Polymer({SPLIT_REGEX:/.*([:@#].*?)$/,NBSP_REGEX:/\u00a0/g,NBSP:String.fromCharCode(160),MAX_SUGGESTIONS:64,is:"yt-live-chat-text-input-field-renderer",properties:{data:{type:Object,observer:"dataChanged_"},disabled:{type:Boolean,value:!1,reflectToAttribute:!0},inputTabIndex:{type:Number,computed:"computeInputTabIndex_(disabled)"},maxCharacterLimit:{type:Number,notify:!0,readOnly:!0,computed:"computeMaxCharacterLimit_(data.maxCharacterLimit)"},characterCount:{type:Number,notify:!0,readOnly:!0,computed:"computeCharacterCount_(text)"},
text:{type:String,value:"",notify:!0,readOnly:!0,observer:"textChanged_"},hasText:{type:Boolean,reflectToAttribute:!0,computed:"computeHasText_(text)"},focused:{readOnly:!0,type:Boolean,value:!1,reflectToAttribute:!0},suggestions:{type:Array,value:[]},emojiManager:Object,participantsManager:Object},behaviors:[B.YtRendererBehavior,R.YtRendererStamperBehavior],listeners:{"input.input":"onInputChange_","input.paste":"onInputPaste_","input.focus":"onFocus_","input.blur":"onBlur_","input.keypress":"onKeyPress_",
"input.keydown":"onKeyDown_","input.keyup":"onKeyUp_","input.dragenter":"preventDrag_","input.dragleave":"preventDrag_","input.dragover":"preventDrag_","input.drop":"preventDrag_","dropdown-content.yt-live-chat-select-suggestion":"onSuggestion_"},stampDom:{suggestions:{id:"dropdown-content",mapping:{suggestion:"yt-live-chat-text-input-field-suggestion"},reuseComponents:!0}},created:function(){this.suggestionIndex_=-1;this.lastSuggestionRange_=null},
attached:function(){le&&(document.execCommand("enableObjectResizing",!1,!1),document.execCommand("enableInlineTableEditing",!1,!1))},
detached:function(){this.setText("")},
dataChanged_:function(a){var b={placeholderTextColor:"--yt-live-chat-text-input-field-placeholder-color",activeUnderlineColor:"--yt-live-chat-text-input-field-active-underline-color",inactiveUnderlineColor:"--yt-live-chat-text-input-field-inactive-underline-color"},c=!1,d;for(d in b)a&&a[d]&&(this.customStyle[b[d]]=this.colorFromDecimal(a[d]),c=!0);c&&this.updateStyles()},
colorFromDecimal:function(a){a=parseInt(a,10);return"rgba("+[a>>16&255,a>>8&255,a&255,(a>>24&255)/255].join()+")"},
preventDrag_:function(a){a.dataTransfer&&(a.dataTransfer.dropEffect="none");a.preventDefault()},
preventResize_:function(a){a.returnValue=!1},
onInputChange_:function(){var a=this.getCurrentRange_();if(a){var b=this.calculateTextBeforeRange_(a);this.completeEmojis_(a,b,!0)||this.updateSuggestions_(a,b)}this._setText(this.calculateText_())},
getCurrentRange_:function(){var a=window.getSelection();return a.rangeCount?a.getRangeAt(0).cloneRange():null},
getInputRange_:function(){var a=this.getCurrentRange_();if(a){for(var b=a.commonAncestorContainer,c=!1;b;){if(b==this.$.input){c=!0;break}b=b.parentNode}c||(a=null)}a||(a=document.createRange(),this.$.input.lastChild?a.setStart(this.$.input.lastChild,this.$.input.lastChild.length):(a.selectNodeContents(this.$.input),a.collapse(!1)));return a},
getSuggestions_:function(a){var b=[],c=a.substr(0,3),d=this.emojiManager.getEmojiShortcutsFromPrefix(c);if(d)for(var e in d)if(0==e.indexOf(a)){var f=d[e];if(f&&f.emojiId&&(f=this.emojiManager.getEmojiByIdWithSkinTone(f.emojiId),b.push({suggestion:{emoji:!0,image:f.image,alt:f.emojiId,text:e}}),b.length>=this.MAX_SUGGESTIONS))break}if(0==c.indexOf("@")||0==c.indexOf("#"))if(d=c.substr(0,1),a=a.substr(1),c=c.substr(1),c=this.participantsManager.getAuthorsFromPrefix(c))for(var h in c)if(0==h.indexOf(a)&&
(e=c[h],b.push({suggestion:{author:!0,authorType:d,image:e.authorPhoto,alt:e.authorName.runs[0].text,text:e.authorName.runs[0].text}}),b.length>=this.MAX_SUGGESTIONS))break;return b?b.sort(function(a,b){return b.suggestion.text<a.suggestion.text?-1:b.suggestion.text==a.suggestion.text?0:1}):null},
insertSuggestion_:function(a){a.emoji?this.insertTextAtRange_(this.lastSuggestionRange_,a.alt):a.author&&this.insertTextAtRange_(this.lastSuggestionRange_,a.authorType+a.text+this.NBSP)},
updateSuggestionsAtCaret_:function(){var a=this.getCurrentRange_();a&&this.updateSuggestions_(a,this.calculateTextBeforeRange_(a))},
offsetStartOfRangeBy_:function(a,b){for(;0<b;)if(0<=a.startOffset-b){a.setStart(a.startContainer,a.startOffset-b);break}else{b=a.startContainer instanceof HTMLImageElement?b-a.startContainer.alt.length:b-a.startOffset;var c=a.startContainer.previousSibling;if(!c){a.setStart(a.startContainer,0);break}a.setStart(c,c.length||0)}},
updateSuggestions_:function(a,b){this.lastSuggestionRange_&&(this.lastSuggestionRange_.detach(),this.lastSuggestionRange_=null);if((b=this.SPLIT_REGEX.exec(b))&&b.length&&(b=b[b.length-1].toLowerCase(),2<b.length&&(this.offsetStartOfRangeBy_(a,b.length),this.lastSuggestionRange_=a,(a=this.getSuggestions_(b))&&a.length))){this.suggestions=a;Polymer.RenderStatus.afterNextRender(this,function(){this.$["dropdown-content"].scrollTop=Math.pow(2,24)});
this.$.dropdown.opened?this.$.dropdown.notifyResize():this.$.dropdown.opened=!0;this.suggestionIndex_=-1;this.changeSuggestionIndex_(a.length-1);return}this.$.dropdown.opened=!1},
completeEmojis_:function(a,b,c){if((!c||" "==b.charAt(b.length-1))&&(b=b.split(" "))&&b.length){b=b[b.length-(c?2:1)];var d=this.emojiManager.getEmojiByShortcut(b);if(d)return this.offsetStartOfRangeBy_(a,b.length+(c?1:0)),b=d.emojiId||"",c&&(b+=this.NBSP),this.insertTextAtRange_(a,b),!0}return!1},
onSuggestion_:function(a){this.insertSuggestion_(a.detail);this.$.dropdown.opened=!1},
onKeyPress_:function(a){13==a.keyCode&&(a.preventDefault(),this.$.dropdown.opened?(this.insertSuggestion_(this.suggestions[this.suggestionIndex_].suggestion),this.$.dropdown.opened=!1):this.fire("yt-live-chat-send-message"))},
completeEmojis:function(){var a=document.createRange();this.$.input.lastChild?a.setStart(this.$.input.lastChild,this.$.input.lastChild.length):(a.selectNodeContents(this.$.input),a.collapse(!1));this.completeEmojis_(a,this.calculateTextBeforeRange_(a),!1)},
onKeyDown_:function(a){if(this.$.dropdown.opened)switch(a.keyCode){case 27:this.$.dropdown.opened=!1;a.stopPropagation();break;case 9:this.insertSuggestion_(this.suggestions[this.suggestionIndex_].suggestion);this.$.dropdown.opened=!1;a.preventDefault();break;case 38:this.changeSuggestionIndex_(this.suggestionIndex_-1);a.preventDefault();break;case 40:this.changeSuggestionIndex_(this.suggestionIndex_+1),a.preventDefault()}},
onKeyUp_:function(a){switch(a.keyCode){case 37:case 39:this.updateSuggestionsAtCaret_();break;case 38:case 40:this.$.dropdown.opened||this.updateSuggestionsAtCaret_()}if(C)this.onInputChange_()},
changeSuggestionIndex_:function(a){if(this.$.dropdown.opened){var b=this.$["dropdown-content"];0<=this.suggestionIndex_&&this.suggestionIndex_<b.children.length&&(b.children[this.suggestionIndex_].active=!1);this.suggestionIndex_=(a+this.suggestions.length)%this.suggestions.length;a=b.children[this.suggestionIndex_];a.active=!0;b.scrollTop=a.offsetTop}},
onInputPaste_:function(a){a.preventDefault();(a=a.clipboardData)&&a.types&&(a=a.getData("text/plain")||"",a=a.replace(/\n/g,""),this.insertText_(a))},
onFocus_:function(){this._setFocused(!0)},
onBlur_:function(){this._setFocused(!1)},
insertText_:function(a){this.insertTextAtRange_(this.getInputRange_(),a)},
insertTextAtRange_:function(a,b){if(a){a.collapsed||a.deleteContents();if(this.emojiManager){b=this.emojiManager.createDocumentFragment(b);var c=b.lastChild;a.insertNode(b);this.focused&&(a=a.cloneRange(),a.selectNodeContents(c),a.collapse(!1),b=window.getSelection(),b.removeAllRanges(),b.addRange(a))}this._setText(this.calculateText_())}},
setText:function(a){this.$.input.textContent="";this.insertText_(a)},
calculateTextBeforeRange_:function(a){var b="",c=a.startContainer;c instanceof Text&&(b=c.textContent.substr(0,a.startOffset),c=c.previousSibling);for(;c&&c instanceof Text;)b=c.textContent+b,c=c.previousSibling;return b.replace(this.NBSP_REGEX," ")},
calculateText_:function(){for(var a="",b=this.$.input.childNodes,c=0;c<b.length;c++){var d=b[c];d instanceof Text?a+=d.textContent:d instanceof HTMLImageElement&&(a+=d.alt)}return a.replace(this.NBSP_REGEX," ")},
computeMaxCharacterLimit_:function(a){return a||0},
computeHasText_:function(a){return!!a},
computeCharacterCount_:function(a){return(a||"").length},
focus:function(){var a=this.getInputRange_();this.$.input.focus();var b=window.getSelection();b.removeAllRanges();b.addRange(a)},
insertEmoji:function(a){this.insertText_(a.emojiId||"")},
textChanged_:function(){this.fire("yt-live-chat-input-text-changed",{value:this.text})},
computeInputTabIndex_:function(a){return a?-1:0}});Polymer({is:"yt-live-chat-paid-message-renderer",properties:{data:{type:Object,observer:"dataChanged_"},inputText:{type:String,readOnly:!0,notify:!0},inputCharacterCount:{type:Number,notify:!0},inputMaxCharacterLimit:{type:Number,notify:!0},isUserEditable:{type:Boolean,value:!1,reflectToAttribute:!0},empty:{type:Boolean,computed:"computeEmpty_(data, isDeleted)",reflectToAttribute:!0}},behaviors:[B.YtRendererBehavior,JH.YtLiveChatItemBehavior],listeners:{"yt-live-chat-input-text-changed":"onInputTextChanged_"},
observers:["isDeletedChanged_(isDeleted)","messageChanged_(data.message)"],created:function(){this.childObserver_=null},
attached:function(){this.childObserver_=Polymer.dom(this.$["input-container"]).observeNodes(this.watchNodes_)},
detached:function(){this.childObserver_&&Polymer.dom(this.$["input-container"]).unobserveNodes(this.childObserver_);this.childObserver_=null;this.isUserEditable=!1},
watchNodes_:function(a){a.addedNodes.forEach(function(a){"yt-live-chat-text-input-field-renderer"==a.is&&this.inputText&&a.setText(this.inputText)},this)},
dataChanged_:function(a){a&&(this.customStyle["--yt-live-chat-paid-message-primary-color"]=this.colorFromDecimal(a.bodyBackgroundColor),this.customStyle["--yt-live-chat-paid-message-secondary-color"]=this.colorFromDecimal(a.headerBackgroundColor),this.customStyle["--yt-live-chat-paid-message-header-color"]=this.colorFromDecimal(a.headerTextColor),this.customStyle["--yt-live-chat-paid-message-author-name-color"]=this.colorFromDecimal(a.authorNameTextColor),this.customStyle["--yt-live-chat-paid-message-timestamp-color"]=
this.colorFromDecimal(a.timestampColor),this.customStyle["--yt-live-chat-paid-message-color"]=this.colorFromDecimal(a.bodyTextColor),this.updateStyles())},
messageChanged_:function(a){var b=Polymer.dom(this.$.message);b.innerHTML="";a&&b.appendChild(this.createDocumentFragment(a))},
onInputTextChanged_:function(a){this._setInputText(a.detail.value)},
computeEmpty_:function(a,b){return a.empty||!(a.message||a.inputField||b)},
inputFocus:function(){var a=this.$$("yt-live-chat-text-input-field-renderer");a&&a.focus()},
inputInsertEmoji:function(a){var b=this.$$("yt-live-chat-text-input-field-renderer");b&&b.insertEmoji(a)},
isDeletedChanged_:function(a){a&&(this.set("data.authorName",null),this.set("data.authorPhoto",null),this.set("data.message",null))}});Polymer({is:"yt-live-chat-placeholder-item-renderer",properties:{data:Object}});Polymer({is:"yt-live-chat-server-error-message",properties:{data:{type:Object,observer:"dataChanged_"},timestampString:{type:String,computed:"computeTimestampString_(data.timestampUsec)"}},TIME_FORMATTER:new Yo(7),dataChanged_:function(a,b){a&&a.class&&this.toggleClass(a.class,!0);b&&b.class&&this.toggleClass(b.class,!1)},
computeTimestampString_:function(a){return this.TIME_FORMATTER.format(new Date(a/1E3))}});Polymer({is:"yt-live-chat-toast-renderer",properties:{message:{type:Object},text:{type:Object,computed:"computeText_(message)"},actionButton:{type:Object,computed:"computeActionButton_(message)"},isShowingMessage:{type:Boolean,value:!1,reflectToAttribute:!0}},listeners:{"button.tap":"dismissMessage"},behaviors:[R.YtRendererStamperBehavior,B.YtActionHandlerBehavior],actionMap:{"yt-live-chat-actions":"handleLiveChatActions_","yt-live-chat-add-to-toast-action":"handleAction_","yt-add-to-toast-action":"handleAction_"},
stampDom:{actionButton:{id:"button",mapping:{buttonRenderer:{matcher:Ba(Rc,"BUTTON_RENDERER")}}}},created:function(){this.queuedMessages_=[];this.clearTimeout_=this.toastTimeout_=null},
queueMessage_:function(a){this.queuedMessages_.push(a);this.maybeShowMessage_()},
maybeShowMessage_:function(){this.clearTimeout_||this.toastTimeout_||!this.queuedMessages_.length||(this.message=this.queuedMessages_.shift(),this.isShowingMessage=!0,this.toastTimeout_=this.async(function(){this.toastTimeout_=null;this.dismissMessage()},this.actionButton?1E4:3E3))},
dismissMessage:function(){this.toastTimeout_&&(this.cancelAsync(this.toastTimeout_),this.toastTimeout_=null);this.isShowingMessage=!1;this.clearTimeout_=this.async(function(){this.clearTimeout_=this.message=null;this.maybeShowMessage_()},500)},
handleLiveChatActions_:function(a){a.forEach(this.handleAction_.bind(this))},
handleAction_:function(a){a.addToToastAction?this.queueMessage_(a.addToToastAction):a.liveChatAddToToastAction&&this.queueMessage_(a.liveChatAddToToastAction)},
computeText_:function(a){return a&&a.item?a.item.notificationTextRenderer&&a.item.notificationTextRenderer.successResponseText?a.item.notificationTextRenderer.successResponseText:a.item.notificationActionRenderer&&a.item.notificationActionRenderer.responseText?a.item.notificationActionRenderer.responseText:null:null},
computeActionButton_:function(a){return a&&a.item?a.item.notificationActionRenderer&&a.item.notificationActionRenderer.actionButton?a.item.notificationActionRenderer.actionButton:null:null}});var KH=null;R.YtScrollbarBehavior={getScrollbarWidth:function(){null==KH&&(KH=this.calculateScrollbarWidth_());return KH},
calculateScrollbarWidth_:function(){var a=document.createElement("div");a.style.height="100px";a.style.overflow="scroll";a.style.top="-9999px";a.style.width="100px";document.body.appendChild(a);var b=a.offsetWidth-a.clientWidth;document.body.removeChild(a);return b}};Polymer({is:"yt-live-chat-item-list-renderer",properties:{data:Object,atBottom:{type:Boolean,value:!0,observer:"atBottomChanged_"},pinnedMessageData:Object,visibleItems:{type:Array,value:function(){return[]}},
allowScroll:{type:Boolean,value:!0,reflectToAttribute:!0},emojiManager:Object,participantsManager:Object},behaviors:[B.YtRendererBehavior,B.YtVisibilityBehavior,R.YtRendererStamperBehavior,R.YtScrollbarBehavior,B.YtActionHandlerBehavior,B.YtActionSenderBehavior],listeners:{"item-scroller.scroll":"onScrollItems_","yt-live-chat-context-menu-opened":"onContextMenuOpened_","yt-live-chat-context-menu-closed":"onContextMenuClosed_","yt-popup-closed":"maybeScrollToBottom_"},actionMap:{"yt-live-chat-actions":"handleLiveChatActions_",
"yt-add-chat-item-action":"handleLiveChatAction_","yt-dim-chat-item-action":"handleLiveChatAction_","yt-remove-chat-item-action":"handleLiveChatAction_","yt-replace-chat-item-action":"handleLiveChatAction_","yt-mark-chat-item-as-deleted-action":"handleLiveChatAction_","yt-mark-chat-items-by-author-as-deleted-action":"handleLiveChatAction_","yt-add-live-chat-text-message-from-template-action":"handleAddTextMessageFromTemplateAction_","yt-live-chat-picker-changed":"handlePickerChanged_","yt-live-chat-maybe-scroll-to-bottom":"maybeScrollToBottom_",
"yt-live-chat-scroll-to-bottom":"scrollToBottom_"},stampDom:{visibleItems:{id:"items",mapping:{liveChatAutoModMessageRenderer:{component:"yt-live-chat-auto-mod-message-renderer",properties:{emojiManager:"[[emojiManager]]",participantsManager:"[[participantsManager]]"}},liveChatTextMessageRenderer:{component:"yt-live-chat-text-message-renderer",properties:{emojiManager:"[[emojiManager]]",participantsManager:"[[participantsManager]]"}},liveChatPaidMessageRenderer:{component:"yt-live-chat-paid-message-renderer",
properties:{emojiManager:"[[emojiManager]]",participantsManager:"[[participantsManager]]"}},liveChatLegacyPaidMessageRenderer:{component:"yt-live-chat-legacy-paid-message-renderer",properties:{emojiManager:"[[emojiManager]]",participantsManager:"[[participantsManager]]"}},liveChatModeChangeMessageRenderer:"yt-live-chat-mode-change-message-renderer",liveChatModerationMessageRenderer:"yt-live-chat-moderation-message-renderer",liveChatPlaceholderItemRenderer:"yt-live-chat-placeholder-item-renderer",
serverErrorMessage:"yt-live-chat-server-error-message"},reuseComponents:!0}},CHAT_SMOOTH_ANIMATION_TIME_MS:Number(zd("chat_smoothing_animations")||0)||0,LEGACY_DONATION_SHOW_TIME_MS:12E4,SCROLLED_TO_BOTTOM_EPSILON:15,created:function(){this.activeItems_=[];this.pinTimer_=null;this.isSmoothed_=!0;this.lastSmoothChatMessageAddMs_=null;this.chatRateMs_=1E3;this.lastSmoothScrollUpdate_=null;this.scrollTimeRemainingMs_=this.scrollPixelsRemaining_=0;this.smoothScrollRafHandle_=null;this.preinsertHeight_=
0},
attached:function(){this.listen(window,"resize","maybeScrollToBottom_");this.customStyle["--scrollbar-width"]=this.getScrollbarWidth()+"px";this.updateStyles();this.isSmoothScrollEnabled_()&&Polymer.dom(this.$["item-scroller"]).classList.add("animated")},
detached:function(){this.resetSmoothScroll_();this.unlisten(window,"resize","maybeScrollToBottom_");this.hideLegacyMessage_()},
handleLiveChatActions_:function(a){a.length&&(a.forEach(this.handleLiveChatAction_,this),this.maybeResizeScrollContainer_(a),this.flushActiveItems_(),this.async(this.maybeScrollToBottom_))},
handleLiveChatAction_:function(a){a.addChatItemAction?(this.handleAddChatItemAction_(a.addChatItemAction),a.addChatItemAction.item.liveChatLegacyPaidMessageRenderer&&this.updatePinnedMessage_(a.addChatItemAction.item.liveChatLegacyPaidMessageRenderer)):a.markChatItemAsDeletedAction?this.handleMarkChatItemAsDeletedAction_(a.markChatItemAsDeletedAction):a.markChatItemsByAuthorAsDeletedAction?this.handleMarkChatItemsByAuthorAsDeletedAction_(a.markChatItemsByAuthorAsDeletedAction):a.dimChatItemAction?
this.handleDimChatItemAction_(a.dimChatItemAction):a.replaceChatItemAction?this.handleReplaceChatItemAction_(a.replaceChatItemAction):a.removeChatItemAction?this.handleRemoveChatItemAction_(a.removeChatItemAction):a.serverErrorMessage&&this.activeItems_.push({serverErrorMessage:{timestampUsec:this.currentTimestampUsec_(),message:a.serverErrorMessage.message,class:a.serverErrorMessage.class}})},
handleAddChatItemAction_:function(a){var b=a.item,c=Object.keys(b)[0],d=b[c],e=!1;this.forEachItem_(function(c,h,k){var f=Object.keys(b)[0];!(h=h[f])||h.id!=a.clientId&&h.id!=d.id||("visibleItems"==c?(this.visibleItems[k]=b,this.$.items.children[k].set("data",d)):this.activeItems_[k]=b,e=!0)});
e||this.activeItems_.push(b)},
handleReplaceChatItemAction_:function(a){var b=a.replacementItem;this.forEachItem_(function(c,d,e){var f=Object.keys(d)[0];(d=d[f])&&d.id==a.targetItemId&&("visibleItems"==c?this.splice(c,e,1,b):this.activeItems_[e]=b)})},
markAsDeleted_:function(a,b,c,d,e){"visibleItems"==a?this.$.items.children[c].markAsDeleted(d,e):(b.deletedStateMessage=d,b.showOriginalContentMessage=e);this.pinnedMessageData&&this.pinnedMessageData.id==b.id&&this.$$("#contents > yt-live-chat-legacy-paid-message-renderer").markAsDeleted(d,e)},
markAutoModRendererAsDeleted_:function(a,b,c,d,e){b=b.liveChatAutoModMessageRenderer.autoModeratedItem;b.liveChatTextMessageRenderer.deletedStateMessage=d;b.liveChatTextMessageRenderer.showOriginalContentMessage=e;"visibleItems"==a?this.splice(a,c,1,b):this.activeItems_[c]=b},
handleMarkChatItemAsDeletedAction_:function(a){this.forEachItem_(function(b,c,d){var e=Object.keys(c)[0],f=c[e];f&&f.id==a.targetItemId&&("liveChatAutoModMessageRenderer"==e?this.markAutoModRendererAsDeleted_(b,c,d,a.deletedStateMessage,a.showOriginalContentMessage):this.markAsDeleted_(b,f,d,a.deletedStateMessage,a.showOriginalContentMessage))})},
handleDimChatItemAction_:function(a){var b=a.clientAssignedId;b&&this.forEachItem_(function(a,d,e){var c=Object.keys(d)[0];(d=d[c])&&d.id==b&&("visibleItems"==a?this.$.items.children[e].set("data.isDimmed",!0):d.isDimmed=!0)})},
handleMarkChatItemsByAuthorAsDeletedAction_:function(a){this.forEachItem_(function(b,c,d){var e=Object.keys(c)[0],f=c[e];f&&f.authorExternalChannelId==a.externalChannelId&&("liveChatAutoModMessageRenderer"==e?this.markAutoModRendererAsDeleted_(b,c,d,a.deletedStateMessage,a.showOriginalContentMessage):this.markAsDeleted_(b,f,d,a.deletedStateMessage,a.showOriginalContentMessage))})},
handleRemoveChatItemAction_:function(a){this.forEachItem_(function(b,c,d){var e=Object.keys(c)[0];(c=c[e])&&c.id==a.targetItemId&&this.splice(b,d,1)});
this.pinnedMessageData&&this.pinnedMessageData.id==a.targetItemId&&(this.pinnedMessageData=null)},
forEachItem_:function(a){this.visibleItems.forEach(a.bind(this,"visibleItems"));this.activeItems_.forEach(a.bind(this,"activeItems_"))},
handleAddTextMessageFromTemplateAction_:function(a,b,c){a=$b(a.addLiveChatTextMessageFromTemplateAction.template.liveChatTextMessageRenderer);b=c.client_message_id;a.id=b;a.timestampUsec=String(this.currentTimestampUsec_());a.message={runs:[{text:c.message}]};this.handleLiveChatActions_([{addChatItemAction:{clientMessageId:b,item:{liveChatTextMessageRenderer:a}}}])},
currentTimestampUsec_:function(){return 1E3*Date.now()},
handlePickerChanged_:function(){this.maybeScrollToBottom_()},
flushActiveItems_:function(){if(0<this.activeItems_.length)if(this.canScrollToBottom_()){var a=Math.max(this.visibleItems.length+this.activeItems_.length-this.data.maxItemsToDisplay,0);a&&this.splice("visibleItems",0,a);this.isSmoothScrollEnabled_()&&(this.preinsertHeight_=this.$.items.clientHeight);this.activeItems_.unshift("visibleItems");this.push.apply(this,this.activeItems_);this.activeItems_=[];this.isSmoothScrollEnabled_()?this.canScrollToBottom_()&&this.async(this.showNewItems_):this.async(this.maybeScrollToBottom_)}else this.activeItems_.length>
this.data.maxItemsToDisplay&&this.activeItems_.splice(0,this.activeItems_.length-this.data.maxItemsToDisplay)},
showNewItems_:function(){var a=this.$.items.clientHeight>this.$["item-scroller"].clientHeight;this.$["item-offset"].style.height=this.$.items.clientHeight+"px";this.canScrollToBottom_()&&a&&(this.scrollPixelsRemaining_+=this.$.items.clientHeight-this.preinsertHeight_,this.scrollToBottom_(),this.$.items.style.transform="translateY("+Math.floor(this.scrollPixelsRemaining_)+"px)",this.lastSmoothChatMessageAddMs_||(this.lastSmoothChatMessageAddMs_=performance.now()),a=performance.now()-this.lastSmoothChatMessageAddMs_,
this.chatRateMs_=.9*this.chatRateMs_+.1*a,this.isSmoothed_&&400>this.chatRateMs_&&(this.isSmoothed_=!1),!this.isSmoothed_&&450<this.chatRateMs_&&(this.isSmoothed_=!0),this.scrollTimeRemainingMs_+=this.isSmoothed_?this.CHAT_SMOOTH_ANIMATION_TIME_MS:0,this.smoothScrollRafHandle_||(this.smoothScrollRafHandle_=window.requestAnimationFrame(this.smoothScroll_.bind(this))),this.lastSmoothChatMessageAddMs_=performance.now())},
canScrollToBottom_:function(){return this.atBottom&&this.allowScroll},
smoothScroll_:function(a){if(this.lastSmoothScrollUpdate_){var b=1E3>a-this.lastSmoothScrollUpdate_&&0<this.scrollTimeRemainingMs_;400>this.scrollPixelsRemaining_&&0<this.scrollPixelsRemaining_&&b?(b=a-this.lastSmoothScrollUpdate_,this.scrollPixelsRemaining_-=b/this.scrollTimeRemainingMs_*this.scrollPixelsRemaining_,this.scrollPixelsRemaining_=Math.max(this.scrollPixelsRemaining_,0),this.scrollTimeRemainingMs_-=b,this.scrollTimeRemainingMs_=Math.max(this.scrollTimeRemainingMs_,0),this.lastSmoothScrollUpdate_=
a,this.smoothScrollRafHandle_=window.requestAnimationFrame(this.smoothScroll_.bind(this))):this.resetSmoothScroll_();this.$.items.style.transform="translateY("+Math.floor(this.scrollPixelsRemaining_)+"px)"}else this.lastSmoothScrollUpdate_=a,this.smoothScrollRafHandle_=window.requestAnimationFrame(this.smoothScroll_.bind(this))},
resetSmoothScroll_:function(){this.scrollTimeRemainingMs_=this.scrollPixelsRemaining_=0;this.lastSmoothScrollUpdate_=null;this.smoothScrollRafHandle_&&window.cancelAnimationFrame(this.smoothScrollRafHandle_);this.smoothScrollRafHandle_=null},
onScrollItems_:function(a){this.onScroll(a);a=this.$["item-scroller"];this.atBottom=a.scrollTop>=a.scrollHeight-a.clientHeight-this.SCROLLED_TO_BOTTOM_EPSILON;this.flushActiveItems_()},
onContextMenuOpened_:function(){this.allowScroll=!1},
onContextMenuClosed_:function(){this.allowScroll=!0},
hideLegacyMessage_:function(){this.pinnedMessageData=null;this.pinTimer_&&this.cancelAsync(this.pinTimer_);this.pinTimer_=null},
updatePinnedMessage_:function(a){this.pinnedMessageData=a;this.pinTimer_&&this.cancelAsync(this.pinTimer_);a=Math.min(a.timestampUsec/1E3-Date.now()+this.LEGACY_DONATION_SHOW_TIME_MS,this.LEGACY_DONATION_SHOW_TIME_MS);0<a&&(this.pinTimer_=this.async(this.hideLegacyMessage_,a))},
onShow_:function(){this.maybeScrollToBottom_()},
maybeResizeScrollContainer_:function(a){this.isSmoothScrollEnabled_&&pb(a,function(a){return!!a.replaceChatItemAction})&&(this.$["item-offset"].style.height=this.$.items.clientHeight+"px",this.maybeScrollToBottom_())},
maybeScrollToBottom_:function(){this.canScrollToBottom_()&&this.scrollToBottom_()},
scrollToBottom_:function(){this.$["item-scroller"].scrollTop=Math.pow(2,24);this.atBottom=!0},
atBottomChanged_:function(a){a&&!this.hideShowMoreAsync_?this.hideShowMoreAsync_=this.async(function(){this.$["show-more"].style.visibility="hidden"},200):a||(this.hideShowMoreAsync_&&this.cancelAsync(this.hideShowMoreAsync_),this.hideShowMoreAsync_=null,this.$["show-more"].style.visibility="visible")},
isSmoothScrollEnabled_:function(){return 0!=this.CHAT_SMOOTH_ANIMATION_TIME_MS}});Polymer({is:"yt-live-chat-error-message-renderer",properties:{data:Object,icon:{type:String,computed:"computeIcon_(data.icon)"}},dismiss:function(){this.fire("yt-live-chat-error-message-dismiss")},
computeIcon_:function(a){return a&&a.iconType?"yt-icons:"+a.iconType.toLowerCase():"yt-icons:close"}});Polymer({is:"yt-live-chat-icon-toggle-button-renderer",properties:{data:{type:Object,observer:"dataChanged_"},id:{type:String,computed:"computeId_(data.targetId)",reflectToAttribute:!0},active:{type:Boolean,value:!1,notify:!0},icon:{type:String,readOnly:!0,computed:"computeIcon_(data.icon.iconType, active)"},disabled:{type:Boolean,value:!1,reflectToAttribute:!0,observer:"disabledChanged_"},showTooltip:{type:Boolean,computed:"computeShowTooltip_(data, disabled)"}},listeners:{tap:"onTap_"},created:function(){this.tooltip_=
null},
ready:function(){this.$$("paper-icon-button").ensureRipple()},
dataChanged_:function(a){a.tooltip?(this.tooltip_||(this.tooltip_=document.createElement("paper-tooltip"),this.tooltip_.position="top",this.tooltip_.fitToVisibleBounds=!0,this.appendChild(this.tooltip_)),Polymer.dom(this.tooltip_).textContent=a.tooltip):this.tooltip_&&this.removeChild(this.tooltip_);a.disabled&&(this.disabled=!0)},
computeId_:function(a){return a},
computeIcon_:function(a,b){return b&&this.data&&this.data.toggledIcon?"yt-icons:"+this.data.toggledIcon.iconType.toLowerCase():"yt-icons:"+a.toLowerCase()},
onTap_:function(){this.data.disabled?this.showTooltip&&this.immediatelyShowTooltip_():this.fire("yt-live-chat-icon-toggle-button-renderer-toggle",{targetId:this.id})},
immediatelyShowTooltip_:function(){var a=this.$$("#tooltip");a.animationDelay=0;a.animationConfig={entry:[{name:"fade-in-animation",timing:{}}]};a.show()},
disabledChanged_:function(a){a?Polymer.dom(this).setAttribute("aria-disabled",!0):Polymer.dom(this).removeAttribute("aria-disabled")},
computeShowTooltip_:function(a,b){return!!(a&&a.tooltip&&b)}});Polymer({is:"yt-live-chat-ypc-buybucket-post-transaction-renderer",properties:{data:Object}});Polymer({is:"iron-pages",behaviors:[Polymer.IronResizableBehavior,Polymer.IronSelectableBehavior],properties:{activateEvent:{type:String,value:null}},observers:["_selectedPageChanged(selected)"],_selectedPageChanged:function(){this.async(this.notifyResize)}});Polymer.PaperInputHelper={};Polymer.PaperInputHelper.NextLabelID=1;Polymer.PaperInputHelper.NextAddonID=1;
Polymer.PaperInputBehaviorImpl={properties:{label:{type:String},value:{notify:!0,type:String},disabled:{type:Boolean,value:!1},invalid:{type:Boolean,value:!1,notify:!0},preventInvalidInput:{type:Boolean},allowedPattern:{type:String},type:{type:String},list:{type:String},pattern:{type:String},required:{type:Boolean,value:!1},errorMessage:{type:String},charCounter:{type:Boolean,value:!1},noLabelFloat:{type:Boolean,value:!1},alwaysFloatLabel:{type:Boolean,value:!1},autoValidate:{type:Boolean,value:!1},
validator:{type:String},autocomplete:{type:String,value:"off"},autofocus:{type:Boolean,observer:"_autofocusChanged"},inputmode:{type:String},minlength:{type:Number},maxlength:{type:Number},min:{type:String},max:{type:String},step:{type:String},name:{type:String},placeholder:{type:String,value:""},readonly:{type:Boolean,value:!1},size:{type:Number},autocapitalize:{type:String,value:"none"},autocorrect:{type:String,value:"off"},autosave:{type:String},results:{type:Number},accept:{type:String},multiple:{type:Boolean},
_ariaDescribedBy:{type:String,value:""},_ariaLabelledBy:{type:String,value:""}},listeners:{"addon-attached":"_onAddonAttached"},keyBindings:{"shift+tab:keydown":"_onShiftTabDown"},hostAttributes:{tabindex:0},get inputElement(){return this.$.input},get _focusableElement(){return this.inputElement},registered:function(){this._typesThatHaveText="date datetime datetime-local month time week file".split(" ")},
attached:function(){this._updateAriaLabelledBy();this.inputElement&&-1!==this._typesThatHaveText.indexOf(this.inputElement.type)&&(this.alwaysFloatLabel=!0)},
_appendStringWithSpace:function(a,b){return a?a+" "+b:b},
_onAddonAttached:function(a){a=a.path?a.path[0]:a.target;if(a.id)this._ariaDescribedBy=this._appendStringWithSpace(this._ariaDescribedBy,a.id);else{var b="paper-input-add-on-"+Polymer.PaperInputHelper.NextAddonID++;a.id=b;this._ariaDescribedBy=this._appendStringWithSpace(this._ariaDescribedBy,b)}},
validate:function(){return this.inputElement.validate()},
_focusBlurHandler:function(a){Polymer.IronControlState._focusBlurHandler.call(this,a);this.focused&&!this._shiftTabPressed&&this._focusableElement.focus()},
_onShiftTabDown:function(){var a=this.getAttribute("tabindex");this._shiftTabPressed=!0;this.setAttribute("tabindex","-1");this.async(function(){this.setAttribute("tabindex",a);this._shiftTabPressed=!1},1)},
_handleAutoValidate:function(){this.autoValidate&&this.validate()},
updateValueAndPreserveCaret:function(a){try{var b=this.inputElement.selectionStart;this.value=a;this.inputElement.selectionStart=b;this.inputElement.selectionEnd=b}catch(c){this.value=a}},
_computeAlwaysFloatLabel:function(a,b){return b||a},
_updateAriaLabelledBy:function(){var a=Polymer.dom(this.root).querySelector("label");if(a){if(a.id)var b=a.id;else b="paper-input-label-"+Polymer.PaperInputHelper.NextLabelID++,a.id=b;this._ariaLabelledBy=b}else this._ariaLabelledBy=""},
_onChange:function(a){this.shadowRoot&&this.fire(a.type,{sourceEvent:a},{node:this,bubbles:a.bubbles,cancelable:a.cancelable})},
_autofocusChanged:function(){if(this.autofocus&&this._focusableElement){var a=document.activeElement;a instanceof HTMLElement&&a!==document.body&&a!==document.documentElement||this._focusableElement.focus()}}};
Polymer.PaperInputBehavior=[Polymer.IronControlState,Polymer.IronA11yKeysBehavior,Polymer.PaperInputBehaviorImpl];Polymer.PaperInputAddonBehavior={hostAttributes:{"add-on":""},attached:function(){this.fire("addon-attached")},
update:function(){}};Polymer({is:"paper-input-char-counter",behaviors:[Polymer.PaperInputAddonBehavior],properties:{_charCounterStr:{type:String,value:"0"}},update:function(a){if(a.inputElement){a.value=a.value||"";var b=a.value.toString().length.toString();a.inputElement.hasAttribute("maxlength")&&(b+="/"+a.inputElement.getAttribute("maxlength"));this._charCounterStr=b}}});Polymer({is:"paper-input-container",properties:{noLabelFloat:{type:Boolean,value:!1},alwaysFloatLabel:{type:Boolean,value:!1},attrForValue:{type:String,value:"bind-value"},autoValidate:{type:Boolean,value:!1},invalid:{observer:"_invalidChanged",type:Boolean,value:!1},focused:{readOnly:!0,type:Boolean,value:!1,notify:!0},_addons:{type:Array},_inputHasContent:{type:Boolean,value:!1},_inputSelector:{type:String,value:"input,textarea,.paper-input-input"},_boundOnFocus:{type:Function,value:function(){return this._onFocus.bind(this)}},
_boundOnBlur:{type:Function,value:function(){return this._onBlur.bind(this)}},
_boundOnInput:{type:Function,value:function(){return this._onInput.bind(this)}},
_boundValueChanged:{type:Function,value:function(){return this._onValueChanged.bind(this)}}},
listeners:{"addon-attached":"_onAddonAttached","iron-input-validate":"_onIronInputValidate"},get _valueChangedEvent(){return this.attrForValue+"-changed"},get _propertyForValue(){return Polymer.CaseMap.dashToCamelCase(this.attrForValue)},get _inputElement(){return Polymer.dom(this).querySelector(this._inputSelector)},get _inputElementValue(){return this._inputElement[this._propertyForValue]||this._inputElement.value},ready:function(){this._addons||(this._addons=[]);this.addEventListener("focus",this._boundOnFocus,
!0);this.addEventListener("blur",this._boundOnBlur,!0)},
attached:function(){this.attrForValue?this._inputElement.addEventListener(this._valueChangedEvent,this._boundValueChanged):this.addEventListener("input",this._onInput);""!=this._inputElementValue?this._handleValueAndAutoValidate(this._inputElement):this._handleValue(this._inputElement)},
_onAddonAttached:function(a){this._addons||(this._addons=[]);a=a.target;-1===this._addons.indexOf(a)&&(this._addons.push(a),this.isAttached&&this._handleValue(this._inputElement))},
_onFocus:function(){this._setFocused(!0)},
_onBlur:function(){this._setFocused(!1);this._handleValueAndAutoValidate(this._inputElement)},
_onInput:function(a){this._handleValueAndAutoValidate(a.target)},
_onValueChanged:function(a){this._handleValueAndAutoValidate(a.target)},
_handleValue:function(a){var b=this._inputElementValue;b||0===b||"number"===a.type&&!a.checkValidity()?this._inputHasContent=!0:this._inputHasContent=!1;this.updateAddons({inputElement:a,value:b,invalid:this.invalid})},
_handleValueAndAutoValidate:function(a){this.autoValidate&&(this.invalid=!(a.validate?a.validate(this._inputElementValue):a.checkValidity()));this._handleValue(a)},
_onIronInputValidate:function(){this.invalid=this._inputElement.invalid},
_invalidChanged:function(){this._addons&&this.updateAddons({invalid:this.invalid})},
updateAddons:function(a){for(var b,c=0;b=this._addons[c];c++)b.update(a)},
_computeInputContentClass:function(a,b,c,d,e){var f="input-content";a?e&&(f+=" label-is-hidden"):(a=this.querySelector("label"),b||e?(f+=" label-is-floating",this.$.labelAndInputContainer.style.position="static",d?f+=" is-invalid":c&&(f+=" label-is-highlighted")):a&&(this.$.labelAndInputContainer.style.position="relative"));return f},
_computeUnderlineClass:function(a,b){var c="underline";b?c+=" is-invalid":a&&(c+=" is-highlighted");return c},
_computeAddOnContentClass:function(a,b){var c="add-on-content";b?c+=" is-invalid":a&&(c+=" is-highlighted");return c}});Polymer({is:"paper-input-error",behaviors:[Polymer.PaperInputAddonBehavior],properties:{invalid:{readOnly:!0,reflectToAttribute:!0,type:Boolean}},update:function(a){this._setInvalid(a.invalid)}});Polymer.IronFormElementBehavior={properties:{name:{type:String},value:{notify:!0,type:String},required:{type:Boolean,value:!1},_parentForm:{type:Object}},attached:function(){this.fire("iron-form-element-register")},
detached:function(){this._parentForm&&this._parentForm.fire("iron-form-element-unregister",{target:this})}};Polymer.IronA11yAnnouncer=function(){};
Polymer.IronA11yAnnouncer=Polymer({is:"iron-a11y-announcer",properties:{mode:{type:String,value:"polite"},_text:{type:String,value:""}},created:function(){Polymer.IronA11yAnnouncer.instance||(Polymer.IronA11yAnnouncer.instance=this);document.body.addEventListener("iron-announce",this._onIronAnnounce.bind(this))},
announce:function(a){this._text="";this.async(function(){this._text=a},100)},
_onIronAnnounce:function(a){a.detail&&a.detail.text&&this.announce(a.detail.text)}});
Polymer.IronA11yAnnouncer.instance=null;Polymer.IronA11yAnnouncer.requestAvailability=function(){Polymer.IronA11yAnnouncer.instance||(Polymer.IronA11yAnnouncer.instance=document.createElement("iron-a11y-announcer"));document.body.appendChild(Polymer.IronA11yAnnouncer.instance)};Polymer.IronValidatableBehaviorMeta=null;Polymer.IronValidatableBehavior={properties:{validator:{type:String},invalid:{notify:!0,reflectToAttribute:!0,type:Boolean,value:!1},_validatorMeta:{type:Object},validatorType:{type:String,value:"validator"},_validator:{type:Object,computed:"__computeValidator(validator)"}},observers:["_invalidChanged(invalid)"],registered:function(){Polymer.IronValidatableBehaviorMeta=new Polymer.IronMeta({type:"validator"})},
_invalidChanged:function(){this.invalid?this.setAttribute("aria-invalid","true"):this.removeAttribute("aria-invalid")},
hasValidator:function(){return null!=this._validator},
validate:function(a){this.invalid=!this._getValidity(a);return!this.invalid},
_getValidity:function(a){return this.hasValidator()?this._validator.validate(a):!0},
__computeValidator:function(){return Polymer.IronValidatableBehaviorMeta&&Polymer.IronValidatableBehaviorMeta.byKey(this.validator)}};Polymer({is:"iron-input",extends:"input",behaviors:[Polymer.IronValidatableBehavior],properties:{bindValue:{observer:"_bindValueChanged",type:String},preventInvalidInput:{type:Boolean},allowedPattern:{type:String,observer:"_allowedPatternChanged"},_previousValidInput:{type:String,value:""},_patternAlreadyChecked:{type:Boolean,value:!1}},listeners:{input:"_onInput",keypress:"_onKeypress"},registered:function(){this._canDispatchEventOnDisabled()||(this._origDispatchEvent=this.dispatchEvent,this.dispatchEvent=
this._dispatchEventFirefoxIE)},
created:function(){Polymer.IronA11yAnnouncer.requestAvailability()},
_canDispatchEventOnDisabled:function(){var a=document.createElement("input"),b=!1;a.disabled=!0;a.addEventListener("feature-check-dispatch-event",function(){b=!0});
try{a.dispatchEvent(new Event("feature-check-dispatch-event"))}catch(c){}return b},
_dispatchEventFirefoxIE:function(){var a=this.disabled;this.disabled=!1;this._origDispatchEvent.apply(this,arguments);this.disabled=a},
get _patternRegExp(){if(this.allowedPattern)var a=new RegExp(this.allowedPattern);else switch(this.type){case "number":a=/[0-9.,e-]/}return a},ready:function(){this.bindValue=this.value},
_bindValueChanged:function(){this.value!==this.bindValue&&(this.value=this.bindValue||0===this.bindValue||!1===this.bindValue?this.bindValue:"");this.fire("bind-value-changed",{value:this.bindValue})},
_allowedPatternChanged:function(){this.preventInvalidInput=this.allowedPattern?!0:!1},
_onInput:function(){!this.preventInvalidInput||this._patternAlreadyChecked||this._checkPatternValidity()||(this._announceInvalidCharacter("Invalid string of characters not entered."),this.value=this._previousValidInput);this._previousValidInput=this.bindValue=this.value;this._patternAlreadyChecked=!1},
_isPrintable:function(a){var b=19==a.keyCode||20==a.keyCode||45==a.keyCode||46==a.keyCode||144==a.keyCode||145==a.keyCode||32<a.keyCode&&41>a.keyCode||111<a.keyCode&&124>a.keyCode;return!(8==a.keyCode||9==a.keyCode||13==a.keyCode||27==a.keyCode)&&!(0==a.charCode&&b)},
_onKeypress:function(a){if(this.preventInvalidInput||"number"===this.type){var b=this._patternRegExp;if(b&&!(a.metaKey||a.ctrlKey||a.altKey)){this._patternAlreadyChecked=!0;var c=String.fromCharCode(a.charCode);this._isPrintable(a)&&!b.test(c)&&(a.preventDefault(),this._announceInvalidCharacter("Invalid character "+c+" not entered."))}}},
_checkPatternValidity:function(){var a=this._patternRegExp;if(!a)return!0;for(var b=0;b<this.value.length;b++)if(!a.test(this.value[b]))return!1;return!0},
validate:function(){var a=this.checkValidity();a&&(this.required&&""===this.value?a=!1:this.hasValidator()&&(a=Polymer.IronValidatableBehavior.validate.call(this,this.value)));this.invalid=!a;this.fire("iron-input-validate");return a},
_announceInvalidCharacter:function(a){this.fire("iron-announce",{text:a})}});Polymer({is:"paper-input",behaviors:[Polymer.IronFormElementBehavior,Polymer.PaperInputBehavior]});Polymer({is:"iron-autogrow-textarea",behaviors:[Polymer.IronFormElementBehavior,Polymer.IronValidatableBehavior,Polymer.IronControlState],properties:{bindValue:{observer:"_bindValueChanged",type:String},rows:{type:Number,value:1,observer:"_updateCached"},maxRows:{type:Number,value:0,observer:"_updateCached"},autocomplete:{type:String,value:"off"},autofocus:{type:Boolean,value:!1},inputmode:{type:String},placeholder:{type:String},readonly:{type:String},required:{type:Boolean},minlength:{type:Number},
maxlength:{type:Number}},listeners:{input:"_onInput"},observers:["_onValueChanged(value)"],get textarea(){return this.$.textarea},get selectionStart(){return this.$.textarea.selectionStart},get selectionEnd(){return this.$.textarea.selectionEnd},set selectionStart(a){this.$.textarea.selectionStart=a},set selectionEnd(a){this.$.textarea.selectionEnd=a},attached:function(){navigator.userAgent.match(/iP(?:[oa]d|hone)/)&&(this.$.textarea.style.marginLeft="-3px")},
validate:function(){if(!this.required&&""==this.value)return this.invalid=!1,!0;if(this.hasValidator())var a=Polymer.IronValidatableBehavior.validate.call(this,this.value);else a=this.$.textarea.validity.valid,this.invalid=!a;this.fire("iron-input-validate");return a},
_bindValueChanged:function(){var a=this.textarea;a&&(a.value!==this.bindValue&&(a.value=this.bindValue||0===this.bindValue?this.bindValue:""),this.value=this.bindValue,this.$.mirror.innerHTML=this._valueForMirror(),this.fire("bind-value-changed",{value:this.bindValue}))},
_onInput:function(a){this.bindValue=a.path?a.path[0].value:a.target.value},
_constrain:function(a){var b;a=a||[""];for(b=0<this.maxRows&&a.length>this.maxRows?a.slice(0,this.maxRows):a.slice(0);0<this.rows&&b.length<this.rows;)b.push("");return b.join("<br/>")+"&#160;"},
_valueForMirror:function(){var a=this.textarea;if(a)return this.tokens=a&&a.value?a.value.replace(/&/gm,"&amp;").replace(/"/gm,"&quot;").replace(/'/gm,"&#39;").replace(/</gm,"&lt;").replace(/>/gm,"&gt;").split("\n"):[""],this._constrain(this.tokens)},
_updateCached:function(){this.$.mirror.innerHTML=this._constrain(this.tokens)},
_onValueChanged:function(){this.bindValue=this.value}});Polymer({is:"paper-textarea",behaviors:[Polymer.PaperInputBehavior,Polymer.IronFormElementBehavior],properties:{_ariaLabelledBy:{observer:"_ariaLabelledByChanged",type:String},_ariaDescribedBy:{observer:"_ariaDescribedByChanged",type:String},rows:{type:Number,value:1},maxRows:{type:Number,value:0}},_ariaLabelledByChanged:function(a){this.$.input.textarea.setAttribute("aria-labelledby",a)},
_ariaDescribedByChanged:function(a){this.$.input.textarea.setAttribute("aria-describedby",a)},
get _focusableElement(){return this.$.input.textarea}});Polymer.IronRangeBehavior={properties:{value:{type:Number,value:0,notify:!0,reflectToAttribute:!0},min:{type:Number,value:0,notify:!0},max:{type:Number,value:100,notify:!0},step:{type:Number,value:1,notify:!0},ratio:{type:Number,value:0,readOnly:!0,notify:!0}},observers:["_update(value, min, max, step)"],_calcRatio:function(a){return(this._clampValue(a)-this.min)/(this.max-this.min)},
_clampValue:function(a){return Math.min(this.max,Math.max(this.min,this._calcStep(a)))},
_calcStep:function(a){a=parseFloat(a);return this.step?(Math.round((a+this.min)/this.step)-this.min/this.step)/(1/this.step):a},
_validateValue:function(){var a=this._clampValue(this.value);this.value=this.oldValue=isNaN(a)?this.oldValue:a;return this.value!==a},
_update:function(){this._validateValue();this._setRatio(100*this._calcRatio(this.value))}};Polymer({is:"paper-progress",behaviors:[Polymer.IronRangeBehavior],properties:{secondaryProgress:{type:Number,value:0},secondaryRatio:{type:Number,value:0,readOnly:!0},indeterminate:{type:Boolean,value:!1,observer:"_toggleIndeterminate"},disabled:{type:Boolean,value:!1,reflectToAttribute:!0,observer:"_disabledChanged"}},observers:["_progressChanged(secondaryProgress, value, min, max)"],hostAttributes:{role:"progressbar"},_toggleIndeterminate:function(a){this.toggleClass("indeterminate",a,this.$.primaryProgress)},
_transformProgress:function(a,b){a.style.transform=a.style.webkitTransform="scaleX("+b/100+")"},
_mainRatioChanged:function(a){this._transformProgress(this.$.primaryProgress,a)},
_progressChanged:function(a,b,c,d){a=this._clampValue(a);b=this._clampValue(b);var e=100*this._calcRatio(a),f=100*this._calcRatio(b);this._setSecondaryRatio(e);this._transformProgress(this.$.secondaryProgress,e);this._transformProgress(this.$.primaryProgress,f);this.secondaryProgress=a;this.setAttribute("aria-valuenow",b);this.setAttribute("aria-valuemin",c);this.setAttribute("aria-valuemax",d)},
_disabledChanged:function(a){this.setAttribute("aria-disabled",a?"true":"false")},
_hideSecondaryProgress:function(a){return 0===a}});Polymer({is:"paper-slider",behaviors:[Polymer.IronA11yKeysBehavior,Polymer.IronFormElementBehavior,Polymer.PaperInkyFocusBehavior,Polymer.IronRangeBehavior],properties:{snaps:{type:Boolean,value:!1,notify:!0},pin:{type:Boolean,value:!1,notify:!0},secondaryProgress:{type:Number,value:0,notify:!0,observer:"_secondaryProgressChanged"},editable:{type:Boolean,value:!1},immediateValue:{type:Number,value:0,readOnly:!0,notify:!0},maxMarkers:{type:Number,value:0,notify:!0},expand:{type:Boolean,value:!1,readOnly:!0},
dragging:{type:Boolean,value:!1,readOnly:!0},transiting:{type:Boolean,value:!1,readOnly:!0},markers:{type:Array,readOnly:!0,value:function(){return[]}}},
observers:["_updateKnob(value, min, max, snaps, step)","_valueChanged(value)","_immediateValueChanged(immediateValue)","_updateMarkers(maxMarkers, min, max, snaps)"],hostAttributes:{role:"slider",tabindex:0},keyBindings:{"left down pagedown home":"_decrementKey","right up pageup end":"_incrementKey"},increment:function(){this.value=this._clampValue(this.value+this.step)},
decrement:function(){this.value=this._clampValue(this.value-this.step)},
_updateKnob:function(a,b,c){this.setAttribute("aria-valuemin",b);this.setAttribute("aria-valuemax",c);this.setAttribute("aria-valuenow",a);this._positionKnob(this._calcRatio(a))},
_valueChanged:function(){this.fire("value-change")},
_immediateValueChanged:function(){this.dragging?this.fire("immediate-value-change"):this.value=this.immediateValue},
_secondaryProgressChanged:function(){this.secondaryProgress=this._clampValue(this.secondaryProgress)},
_expandKnob:function(){this._setExpand(!0)},
_resetKnob:function(){this.cancelDebouncer("expandKnob");this._setExpand(!1)},
_positionKnob:function(a){this._setImmediateValue(this._calcStep(this._calcKnobPosition(a)));this._setRatio(this._calcRatio(this.immediateValue));this.$.sliderKnob.style.left=100*this.ratio+"%";this.dragging&&(this._knobstartx=this.ratio*this._w,this.translate3d(0,0,0,this.$.sliderKnob))},
_calcKnobPosition:function(a){return(this.max-this.min)*a+this.min},
_onTrack:function(a){a.stopPropagation();switch(a.detail.state){case "start":this._trackStart(a);break;case "track":this._trackX(a);break;case "end":this._trackEnd()}},
_trackStart:function(){this._w=this.$.sliderBar.offsetWidth;this._knobstartx=this._startx=this._x=this.ratio*this._w;this._minx=-this._startx;this._maxx=this._w-this._startx;this.$.sliderKnob.classList.add("dragging");this._setDragging(!0)},
_trackX:function(a){this.dragging||this._trackStart(a);this._x=this._startx+Math.min(this._maxx,Math.max(this._minx,a.detail.dx));this._setImmediateValue(this._calcStep(this._calcKnobPosition(this._x/this._w)));this.translate3d(this._calcRatio(this.immediateValue)*this._w-this._knobstartx+"px",0,0,this.$.sliderKnob)},
_trackEnd:function(){var a=this.$.sliderKnob.style;this.$.sliderKnob.classList.remove("dragging");this._setDragging(!1);this._resetKnob();this.value=this.immediateValue;a.transform=a.webkitTransform="";this.fire("change")},
_knobdown:function(a){this._expandKnob();a.preventDefault();this.focus()},
_bardown:function(a){this._w=this.$.sliderBar.offsetWidth;var b=this.$.sliderBar.getBoundingClientRect(),b=(a.detail.x-b.left)/this._w,c=this.ratio;this._setTransiting(!0);this._positionKnob(b);this.debounce("expandKnob",this._expandKnob,60);c===this.ratio&&this._setTransiting(!1);this.async(function(){this.fire("change")});
a.preventDefault();this.focus()},
_knobTransitionEnd:function(a){a.target===this.$.sliderKnob&&this._setTransiting(!1)},
_updateMarkers:function(a,b,c,d){d||this._setMarkers([]);b=Math.round((c-b)/this.step);b>a&&(b=a);if(0>b||!isFinite(b))b=0;this._setMarkers(Array(b))},
_mergeClasses:function(a){return Object.keys(a).filter(function(b){return a[b]}).join(" ")},
_getClassNames:function(){return this._mergeClasses({disabled:this.disabled,pin:this.pin,snaps:this.snaps,ring:this.immediateValue<=this.min,expand:this.expand,dragging:this.dragging,transiting:this.transiting,editable:this.editable})},
_incrementKey:function(a){this.disabled||("end"===a.detail.key?this.value=this.max:this.increment(),this.fire("change"),a.preventDefault())},
_decrementKey:function(a){this.disabled||("home"===a.detail.key?this.value=this.min:this.decrement(),this.fire("change"),a.preventDefault())},
_changeValue:function(a){this.value=a.target.value;this.fire("change")},
_inputKeyDown:function(a){a.stopPropagation()},
_createRipple:function(){this._rippleContainer=this.$.sliderKnob;return Polymer.PaperInkyFocusBehaviorImpl._createRipple.call(this)},
_focusedChanged:function(a){a&&this.ensureRipple();this.hasRipple()&&(this._ripple.style.display=a?"":"none",this._ripple.holdDown=a)}});Polymer.PaperSpinnerBehavior={listeners:{animationend:"__reset",webkitAnimationEnd:"__reset"},properties:{active:{type:Boolean,value:!1,reflectToAttribute:!0,observer:"__activeChanged"},alt:{type:String,value:"loading",observer:"__altChanged"},__coolingDown:{type:Boolean,value:!1}},__computeContainerClasses:function(a,b){return[a||b?"active":"",b?"cooldown":""].join(" ")},
__activeChanged:function(a,b){this.__setAriaHidden(!a);this.__coolingDown=!a&&b},
__altChanged:function(a){a===this.getPropertyInfo("alt").value?this.alt=this.getAttribute("aria-label")||a:(this.__setAriaHidden(""===a),this.setAttribute("aria-label",a))},
__setAriaHidden:function(a){a?this.setAttribute("aria-hidden","true"):this.removeAttribute("aria-hidden")},
__reset:function(){this.__coolingDown=this.active=!1}};Polymer({is:"paper-spinner",behaviors:[Polymer.PaperSpinnerBehavior]});Polymer({is:"paper-spinner-lite",behaviors:[Polymer.PaperSpinnerBehavior]});R.YtPickerBehaviorImpl_={listeners:{"picker-cancelled":"onPickerCancel_"},created:function(){this.currentPickerId_=this.currentPickerButton_=null},
togglePicker_:function(a){var b=this.currentPickerButton_,c=this.$["picker-buttons"].querySelector("#"+a);this.currentPickerButton_&&(this.currentPickerButton_.active=!1,this.currentPickerButton_=null);this.currentPickerId_&&Polymer.dom(this).removeAttribute(this.currentPickerId_+"-open");b==c?this.$.pickers.selected=null:(this.currentPickerButton_=c,this.currentPickerId_=this.$.pickers.selected=a,Polymer.dom(this).setAttribute(this.currentPickerId_+"-open",!0));this.sendAction("yt-live-chat-picker-changed")},
onPickerCancel_:function(a){a=a.target.id;this.currentPickerButton_==this.$["picker-buttons"].querySelector("#"+a)&&this.togglePicker_(a)}};
R.YtPickerBehavior=[B.YtActionSenderBehavior,R.YtPickerBehaviorImpl_];Polymer({is:"yt-emoji-picker-category-button-renderer",properties:{data:{type:Object,observer:"dataChanged_"},id:{type:String,computed:"computeId_(data.categoryId)",reflectToAttribute:!0},active:{type:Boolean,value:!1,notify:!0},icon:{type:String,readOnly:!0,computed:"computeIcon_(data.icon.iconType)"}},listeners:{tap:"onTap_"},created:function(){this.tooltip_=null},
ready:function(){this.$$("paper-icon-button").ensureRipple()},
dataChanged_:function(a){a.tooltip&&(this.tooltip_||(this.tooltip_=document.createElement("paper-tooltip"),this.$.button.appendChild(this.tooltip_)),Polymer.dom(this.tooltip_).textContent=a.tooltip)},
computeId_:function(a){return a},
computeIcon_:function(a){return"yt-icons:"+a.toLowerCase()},
onTap_:function(){this.fire("yt-emoji-picker-select-category",{categoryId:this.id})}});B.YtComponentBehavior={_noAccessors:!0,ready:function(){this.provides&&Bd(this.provides,this)},
getInterface:function(a){return Cd(a)},
asyncFrame:function(a,b){return setTimeout(function(){requestAnimationFrame(a)},b)}};Polymer({is:"yt-emoji-picker-category-renderer",properties:{data:Object,id:{type:String,computed:"computeId_(data)"},emoji:{type:Array,computed:"computeEmoji_(data)",observer:"emojiChanged_"},titleOffset:{type:Number,value:0,observer:"titleOffsetChanged_"},skinTone:Number,emojiManager:{type:Object,observer:"emojiManagerChanged_"},ariaLabel:{type:String,value:null,reflectToAttribute:!0,computed:"computeAriaLabel_(data.title)"},ariaSelected:{type:String,reflectToAttribute:!0}},behaviors:[B.YtActionHandlerBehavior],
hostAttributes:{role:"listbox",tabindex:0},listeners:{focus:"onFocus_",mousedown:"onMouseDown_",keydown:"onKeyDown_"},actionMap:{"yt-live-chat-emoji-skin-tone-changed":"emojiSkinToneChanged_"},created:function(){this.focusedIndex_=0;this.ignoreNextFocus_=!1},
emojiChanged_:function(){this.changeFocus_(0,!1)},
emojiManagerChanged_:function(a){this.skinTone=a.skinTone},
emojiSkinToneChanged_:function(a){this.skinTone=a},
emojiUrl:function(a){return this.emojiManager.getEmojiByIdWithSkinTone(a).image.thumbnails[0].url||""},
computeId_:function(a){return a.categoryId||""},
computeEmoji_:function(a){if(!this.emojiManager)return[];var b=this.emojiManager.emojiMap_;return a.emojiIds.map(function(a){return b[a]})},
computeAriaLabel_:function(a){return Md(a)},
titleOffsetChanged_:function(a){var b=this.getBoundingClientRect(),c=this.$.title.getBoundingClientRect();a=Math.max(0,Math.min(a,b.height-c.height));this.$.title.style.top=a+"px"},
onMouseDown_:function(){this.ignoreNextFocus_=!0},
onFocus_:function(){this.ignoreNextFocus_||this.changeFocus_(0,!0);this.ignoreNextFocus_=!1},
onEmojiTap:function(a){this.changeFocus_(0,!1);this.fire("yt-emoji-select",this.emojiManager.getEmojiByIdWithSkinTone(a.model.item.emojiId))},
onEmojiMouseOver:function(a){this.fire("yt-emoji-hover",a.model.item)},
changeFocus_:function(a,b){this.focusedIndex_<this.emoji.length&&this.$.emoji.children[this.focusedIndex_].removeAttribute("focused");this.focusedIndex_+=a;this.focusedIndex_=(this.focusedIndex_+this.emoji.length)%this.emoji.length;this.focusedIndex_<this.emoji.length?(a=this.emoji[this.focusedIndex_],this.ariaSelected=a.emojiId,b&&(b=this.$.emoji.children[this.focusedIndex_],b.scrollIntoView(!1),b.setAttribute("focused",""),this.fire("yt-emoji-hover",a))):this.ariaSelected=void 0},
onKeyDown_:function(a){switch(a.keyCode){case 13:if(this.focusedIndex_<this.emoji.length){var b=this.emoji[this.focusedIndex_];b&&b.emojiId&&(this.fire("yt-emoji-select",this.emojiManager.getEmojiByIdWithSkinTone(b.emojiId)),a.preventDefault(),this.focus())}break;case 40:this.changeFocus_(1,!0);a.preventDefault();break;case 38:this.changeFocus_(-1,!0),a.preventDefault()}}});Polymer({ANIMATION_TIME:200,COLON_REGEX:/:/g,is:"yt-emoji-picker-renderer",properties:{data:Object,categories:{type:Array,value:function(){return[]}},
id:{type:String,computed:"computeId_(data)",reflectToAttribute:!0},selected:{type:Boolean,value:!1},placeholder:String,search:{type:String,value:""},searching:{type:Boolean,computed:"computeSearching_(search)",reflectToAttribute:!0},searchCategory:{type:Object,computed:"computeSearchCategory_(search)"},searchEmptyMessage:{type:String,computed:"computeSearchEmptyMessage_(searching, searchCategory)"},skinTone:{type:Number,computed:"identity(emojiManager.skinTone)",observer:"skinToneChanged_"},skinToneOpened:{type:Boolean,
value:!1},emojiManager:Object},behaviors:[B.YtActionSenderBehavior,B.YtRendererBehavior,R.YtRendererStamperBehavior],listeners:{"categories.scroll":"onScroll_","yt-emoji-picker-select-category":"onSelectCategory_","yt-emoji-hover":"onEmojiHover_","search.focus":"onSearchBoxFocused_","search.blur":"onSearchBoxBlur_"},stampDom:{categories:{id:"categories",mapping:{emojiPickerCategoryRenderer:{component:"yt-emoji-picker-category-renderer",properties:{emojiManager:"[[emojiManager]]"}}}},"data.categoryButtons":{id:"category-buttons",
mapping:{emojiPickerCategoryButtonRenderer:"yt-emoji-picker-category-button-renderer"}}},observers:["updateCategoriesAndPlaceholder_(data, selected)"],identity:rb,created:function(){this.lastAnimationTime_=0;this.animationEnd_=this.animationStart_=null;this.categoryTopPositions_=[];this.lastScrollTop_=0},
attached:function(){C&&(this.style.height=this.clientHeight+150+"px")},
updateCategoriesAndPlaceholder_:function(a,b){a&&b&&(this.categories=a.categories||[],this.resetPlaceholder(),this.search="",this.async(this.updateCategoryTopPositions_,1))},
updateCategoryTopPositions_:function(){for(var a=this.$.categories.offsetTop,b=this.$.categories.children,c=0;c<b.length;c++)this.categoryTopPositions_[c]=b[c].offsetTop-a;this.updateTitlesAndButtons_()},
computeId_:function(a){return a.id||""},
onScroll_:function(){null==this.animationEnd_&&window.requestAnimationFrame(this.updateTitlesAndButtons_.bind(this))},
onSelectCategory_:function(a){var b=""!=this.search;this.search="";for(var c=this.$.categories.children,d=0;d<c.length;d++)if(c[d].id==a.detail.categoryId){b?(this.$.categories.scrollTop=this.categoryTopPositions_[d],this.updateTitlesAndButtons_()):(this.animationStart_=this.lastScrollTop_,this.animationEnd_=this.categoryTopPositions_[d],this.lastAnimationTime_=0,this.animateScroll_(this.lastAnimationTime_));break}},
onEmojiHover_:function(a){this.placeholder=a.detail.shortcuts[0]},
onSearchBoxFocused_:function(){this.resetPlaceholder()},
onSearchBoxBlur_:function(){this.resetPlaceholder()},
resetPlaceholder:function(){this.skinToneOpened||(this.placeholder=this.getSimpleString(this.data.searchPlaceholderText))},
computeSearchCategory_:function(a){a=a.replace(this.COLON_REGEX,"").toLowerCase().trim();if(!this.searching)return this.searchCategory;this.updateButtons_("");a=a.split(" ");for(var b=[],c=this.emojiManager.emojis_,d=0;d<c.length;d++){var e=c[d];if(e.searchTerms)for(var f=0;f<e.searchTerms.length;f++){for(var h=!1,k=0;k<a.length;k++)if(-1!=e.searchTerms[f].indexOf(a[k])){h=!0;break}if(h){b.push(e.emojiId);break}}}return{categoryId:-1,emojiIds:b}},
computeSearchEmptyMessage_:function(a,b){return a&&b&&b.emojiIds&&0==b.emojiIds.length?this.data.searchNoResultsText||null:null},
computeSearching_:function(a){return this.emojiManager&&1<a.replace(this.COLON_REGEX,"").length},
openSkinToneSelector:function(){this.skinToneOpened=!0},
showSkinTonePlaceholder:function(){this.placeholder=this.getSimpleString(this.data.pickSkinToneText)},
clearSearch:function(){this.resetPlaceholder();this.search=""},
selectSkinTone_:function(a){a=Number(a.target.getAttribute("tone"));this.set("emojiManager.skinTone",a);this.sendAction("yt-live-chat-emoji-skin-tone-changed",[a]);this.skinToneOpened=!1;this.resetPlaceholder()},
skinToneChanged_:function(a){this.$["skin-tone"].setAttribute("tone",a);for(var b=this.$["dropdown-content"].children,c=0;c<b.length;c++)c==a?b[c].setAttribute("selected",""):b[c].removeAttribute("selected")},
animateScroll_:function(a){this.lastAnimationTime_||(this.lastAnimationTime_=a);a-=this.lastAnimationTime_;a<this.ANIMATION_TIME?(this.$.categories.scrollTop=this.animationStart_+(this.animationEnd_-this.animationStart_)*a/this.ANIMATION_TIME,window.requestAnimationFrame(this.animateScroll_.bind(this))):(this.$.categories.scrollTop=this.animationEnd_,this.animationEnd_=this.animationStart_=null,this.lastAnimationTime_=0);this.updateTitlesAndButtons_()},
updateButtons_:function(a){for(var b=this.$["category-buttons"].children,c=0;c<b.length;c++){var d=b[c];d.active=d.id==a}},
updateTitlesAndButtons_:function(){this.lastScrollTop_=this.$.categories.scrollTop;for(var a=this.$.categories.children,b=null,c=0;c<a.length;c++){var d=a[c],e=this.categoryTopPositions_[c]-this.lastScrollTop_;0>=e?(d.titleOffset=-e,b=d.id):d.titleOffset=0}this.updateButtons_(b);this.markDirty()}});Polymer({is:"yt-live-chat-message-buy-flow-renderer",properties:{data:Object,emojiManager:Object,participantsManager:Object,selectedPage:{type:Number,value:0,observer:"selectedPageChanged_"},postTransactionRenderer:Object,currencyFormatter:{type:Object,computed:"createCurrencyFormatter_(data.currency)"},currencySymbol:{type:String,computed:"computeCurrencySymbol_(data.currency)"},hideCurrencySymbol:{type:Boolean,computed:"computeHideCurrencySymbol_(currencySymbol, data.currency)"},priceMaxDigits:{type:Number,
computed:"computePriceMaxDigits_(priceMax, currencyFormatter)"},messageTooLong:{type:Boolean,computed:"computeMessageTooLong_(characterCountDisplay, maxCharacterCount)",reflectToAttribute:!0},buyButtonDisabled:{type:Boolean,computed:"computeBuyButtonDisabled_(messageTooLong)"},priceMicros:{type:Number,value:0},durationLabel:{type:Object,computed:"computeDurationLabel_(data.messageTiers, sliderIndex)"},hideDurationLabel:{type:Boolean,computed:"computeHideDurationLabel_(data.messageTiers, sliderIndex)",
reflectToAttribute:!0},messagePreviewRenderer:Object,messagePreviewText:{type:String,value:""},messageCharacterCount:{type:Number,value:0},characterCountDisplay:{type:Number,computed:"computeCharacterCountDisplay_(messageCharacterCount, maxCharacterCount)"},maxCharacterCount:{type:Number,value:0},priceInputValue:{type:String,observer:"adjustInputWidth_"},priceMin:{type:Number,computed:"computePriceMinValue_(data.messageTiers)"},priceMax:{type:Number,computed:"computePriceMaxValue_(data.messageTiers)"},
sliderIndex:Number,sliderMax:{type:Number,computed:"computeSliderMax_(data.messageTiers)"},sliderMaxMarkers:{type:Number,computed:"computeSliderMaxMarkers_(sliderMax)"},errorRenderer:{type:Object,readOnly:!0,observer:"errorRendererObserver_"}},actionMap:{"yt-wallet-dialog-closed":"onWalletDialogClose_","yt-wallet-dialog-completed":"onWalletDialogComplete_","yt-open-payments-dialog":"onWalletDialogOpen_"},behaviors:[R.YtPickerBehavior,B.YtActionHandlerBehavior,B.YtActionSenderBehavior,B.YtRendererBehavior,
R.YtRendererStamperBehavior],listeners:{"price-input.blur":"onInputBlur_","button.tap":"onBuyButtonTap_","back-arrow.tap":"onBackArrowTap_","help.tap":"onHelpTap_","price-input.input":"onInputChange_","price-slider.change":"onSliderChange_","price-slider.focus":"onSliderFocus_","immediate-value-change":"onSliderImmediateChange_","picker-buttons.yt-live-chat-icon-toggle-button-renderer-toggle":"handlePickerButtonToggle_","yt-emoji-select":"onEmojiSelect_","yt-live-chat-error-message-dismiss":"onErrorMessageDismiss_"},
observers:["updatePriceMicros_(data.defaultPurchasePriceMicros)","updateMessagePreviewRenderer_(data.messageTiers, sliderIndex, priceMicros)"],stampDom:{errorRenderer:{id:"error",mapping:{liveChatErrorMessageRenderer:"yt-live-chat-error-message-renderer"}},"data.helpButton":{id:"help",mapping:{buttonRenderer:{matcher:Ba(Rc,"BUTTON_RENDERER")}}},"data.helpDialog":{id:"dialog",mapping:{liveChatDialogRenderer:"yt-live-chat-dialog-renderer"}},"data.pickers":{id:"pickers",mapping:{emojiPickerRenderer:{component:"yt-emoji-picker-renderer",
properties:{emojiManager:"[[emojiManager]]"}},liveChatCreatorSupportRenderer:{component:"yt-live-chat-creator-support-renderer"}}},"data.pickerButtons":{id:"picker-buttons",mapping:{liveChatIconToggleButtonRenderer:"yt-live-chat-icon-toggle-button-renderer"}}},created:function(){this.completeFlowTimeout_=null},
ready:function(){this.async(function(){this.adjustInputWidth_()},1)},
convertMicrosToUnits_:function(a){return(a-a%this.data.currencyUnitMicros)/1E6},
convertUnitsToMicros_:function(a){a=Math.round(1E6*a);return a-a%this.data.currencyUnitMicros},
convertUnitsToCurrencyWithSymbol_:function(a){return this.currencyFormatter?this.currencyFormatter.format(a):a.toString()},
convertUnitsToCurrency_:function(a){return this.convertUnitsToCurrencyWithSymbol_(a).replace(this.currencySymbol,"").trim()},
computePriceMinValue_:function(a){return a.length?this.convertMicrosToUnits_(parseInt(a[0].minPriceMicros,10)||0):0},
computePriceMaxValue_:function(a){return a.length?this.convertMicrosToUnits_(parseInt(a[a.length-1].maxPriceMicros,10)||0):0},
createCurrencyFormatter_:function(a){if(!ep){for(var b in ip)gp[b]=ip[b];ep=!0}return new mp(4,a)},
normalizePriceInput_:function(a){a=this.currencyFormatter.parse(a);isNaN(a)&&(a=this.priceMin);a=Math.min(this.priceMax,Math.max(this.priceMin,a));return this.convertUnitsToMicros_(a)},
onInputBlur_:function(a){this.priceMicros=this.normalizePriceInput_(a.currentTarget.value);this.priceInputValue="";this.priceInputValue=this.convertMicrosToCurrency_(this.priceMicros);this.sliderIndex=this.getMessageTierIndex_(this.priceMicros)},
onInputChange_:function(a){a=this.normalizePriceInput_(a.currentTarget.value);this.sliderIndex=this.getMessageTierIndex_(a);this.updateMessagePreviewRenderer_(this.data.messageTiers,this.sliderIndex,a);this.adjustInputWidth_()},
adjustInputWidth_:function(){var a=document.createElement("div");a.innerText=this.$["price-input"].value;var b=window.getComputedStyle(this.$["price-input"]);a.style.fontFamily=b.fontFamily;a.style.fontSize=b.fontSize;a.style.fontWeight=b.fontWeight;a.style.display="inline-block";a.style.visibility="hidden";document.querySelector("body").appendChild(a);this.customStyle["--price-input-width"]=a.clientWidth+16+"px";this.updateStyles();document.querySelector("body").removeChild(a)},
onSliderImmediateChange_:function(){var a=this.$["price-slider"];a.dragging&&this.handleSliderChange_(a.immediateValue)},
onSliderChange_:function(){this.handleSliderChange_(this.$["price-slider"].value)},
onSliderFocus_:function(){this.updateSliderAria_()},
handleSliderChange_:function(a){var b=this.data.messageTiers;this.priceMicros=a==b.length?parseInt(b[b.length-1].maxPriceMicros,10)||0:parseInt(b[a].minPriceMicros,10)||0;this.priceInputValue=this.convertMicrosToCurrency_(this.priceMicros);this.updateMessagePreviewRenderer_(this.data.messageTiers,a,this.priceMicros);this.sliderIndex=a;this.updateSliderAria_()},
updateSliderAria_:function(){var a=this.$["price-slider"];a.setAttribute("aria-valuenow",this.convertMicrosToCurrencyWithSymbol_(this.priceMicros));a.setAttribute("aria-valuemax",this.convertUnitsToCurrencyWithSymbol_(this.priceMax));a.setAttribute("aria-valuemin",this.convertUnitsToCurrencyWithSymbol_(this.priceMin))},
updatePriceMicros_:function(a){this.priceMicros=parseInt(a,10);this.priceInputValue=this.convertMicrosToCurrency_(this.priceMicros);this.sliderIndex=this.getMessageTierIndex_(this.priceMicros)},
convertMicrosToCurrency_:function(a){return this.convertUnitsToCurrency_(this.convertMicrosToUnits_(a))},
convertMicrosToCurrencyWithSymbol_:function(a){return this.convertUnitsToCurrencyWithSymbol_(this.convertMicrosToUnits_(a))},
computeSliderMax_:function(a){var b=a[a.length-1];return b.minPriceMicros==b.maxPriceMicros?a.length-1:a.length},
computeSliderMaxMarkers_:function(a){return a},
getMessageTierIndex_:function(a){a=parseInt(a,10);var b=this.data.messageTiers;if(a==b[b.length-1].maxPriceMicros)return b.length;for(var c=0;c<b.length;c++){var d=b[c];if(a>=parseInt(d.minPriceMicros,10)&&a<=parseInt(d.maxPriceMicros,10))return c}return 0},
onBuyButtonTap_:function(){var a=this.data.buyButton.buttonRenderer.serviceEndpoint,b=this.messagePreviewText;0==this.maxCharacterCount&&(b="");this.sendAction("yt-live-chat-start-buy-flow",[a,b,this.priceMicros,this.buyFlowCallback_.bind(this)]);this.$.loading.style.height=this.$.preview.clientHeight+"px";this.$.blank.style.height=this.$.preview.clientHeight+"px";this.selectedPage=1},
onWalletDialogClose_:function(){this.selectedPage=0},
onWalletDialogComplete_:function(){this.selectedPage=1},
onWalletDialogOpen_:function(){this.selectedPage=3},
buyFlowCallback_:function(a){a.success?(a.response&&a.response.data&&a.response.data.actions&&this.sendAction("yt-live-chat-actions",[a.response.data.actions]),this.closeBuyFlow()):(this.selectedPage=0,a.error&&a.error.data&&a.error.data.messageRenderer?this._setErrorRenderer(a.error.data.messageRenderer):a.error&&a.error.result&&a.error.result.error&&a.error.result.error.message&&this._setErrorRenderer({liveChatErrorMessageRenderer:{errorText:{runs:[{text:a.error.result.error.message}]}}}))},
onBackArrowTap_:function(){this.closeBuyFlow()},
closeBuyFlow:function(){this.sendAction("yt-live-chat-close-buy-flow")},
updateMessagePreviewRenderer_:function(a,b,c){a&&(b>=a.length&&(b=a.length-1),(b=a[b])||(b=a[0]),this.set("messagePreviewRenderer",b.messageTemplate.liveChatPaidMessageRenderer),c&&(a=this.convertUnitsToCurrencyWithSymbol_(this.convertMicrosToUnits_(c)),this.set("messagePreviewRenderer.purchaseAmountText",{runs:[{text:a}]})))},
computeMessageTooLong_:function(a,b){return a>b},
computeBuyButtonDisabled_:function(a){return a},
computeDurationLabel_:function(a,b){b==a.length&&(b=a.length-1);return(a=a[b])&&a.durationLabel?a.durationLabel:null},
computeHideDurationLabel_:function(a,b){b==a.length&&(b=a.length-1);return!(a[b]&&a[b].durationLabel)},
computePriceMaxDigits_:function(a){return this.convertUnitsToCurrencyWithSymbol_(a).length},
computeCurrencySymbol_:function(a){return gp[a][1]},
selectedPageChanged_:function(a){this.completeFlowTimeout_&&(this.cancelAsync(this.completeFlowTimeout_),this.completeFlowTimeout_=null);2==a&&(this.completeFlowTimeout_=this.async(function(){this.selectedPage=0;this.closeBuyFlow()},1E4))},
computeCharacterCountDisplay_:function(a,b){return 0==b?0:a},
onHelpTap_:function(){var a=this.$.dialog.querySelector("yt-live-chat-dialog-renderer");a&&(a.hidden=!1)},
onErrorMessageDismiss_:function(){this._setErrorRenderer(null)},
handlePickerButtonToggle_:function(a){a=a.detail.targetId;this.togglePicker_(a);"emoji"==a&&this.$$("yt-live-chat-paid-message-renderer").inputFocus()},
onEmojiSelect_:function(a){var b=this.$$("yt-live-chat-paid-message-renderer");b.inputFocus();b.inputInsertEmoji(a.detail)},
computeHideCurrencySymbol_:function(a,b){return a==b},
errorRendererObserver_:function(a){a?Polymer.dom(this.$.error).setAttribute("role","alert"):Polymer.dom(this.$.error).removeAttribute("role")}});Polymer({is:"yt-live-chat-button-with-subtext-renderer",properties:{data:Object},behaviors:[R.YtRendererStamperBehavior,B.YtRendererBehavior],stampDom:{data:{id:"button",mapping:{buttonRenderer:{matcher:Ba(Rc,"BUTTON_RENDERER")}}}}});Polymer({is:"yt-live-chat-creator-support-renderer",properties:{data:Object,id:{type:String,computed:"computeId_(data)",reflectToAttribute:!0}},behaviors:[B.YtActionHandlerBehavior,B.YtRendererBehavior,R.YtRendererStamperBehavior],stampDom:{"data.buttons":{id:"buttons",mapping:{buttonRenderer:{matcher:Ba(Rc,"BUTTON_RENDERER")},liveChatButtonWithSubtextRenderer:"yt-live-chat-button-with-subtext-renderer"}},"data.cancelButton":{id:"cancel",mapping:{buttonRenderer:{matcher:Ba(Rc,"BUTTON_RENDERER")}}}},
listeners:{"cancel.tap":"onCancelTap_"},actionMap:{"yt-live-chat-close-buy-flow":"onCloseBuyFlow_"},computeId_:function(a){return a.id||""},
onCancelTap_:function(){this.fire("picker-cancelled")},
onCloseBuyFlow_:function(){this.fire("picker-cancelled")}});Polymer({is:"yt-live-chat-text-actions-error-message-renderer",properties:{data:Object},dismiss:function(){this.fire("yt-live-chat-error-message-dismiss")},
edit:function(){this.fire("yt-live-chat-error-message-edit",this.data.originalMessage)}});Polymer({COUNTDOWN_RADIUS_:10,is:"yt-live-chat-message-input-renderer",properties:{data:{type:Object,observer:"dataChanged_"},characterCount:{type:Number,value:0,observer:"characterCountChanged_"},maxCharacterLimit:{type:Number,value:0},emojiManager:Object,participantsManager:Object,sendDisabled:{type:Number,computed:"computeSendDisabled_(characterCount, maxCharacterLimit, countdownActive)"},countdownRatio:{type:Number,value:0},countdownStrokeDashOffset:{type:Number,computed:"computeCountdownStrokeDashOffset_(countdownRatio)"},
countdownActive:{type:Boolean,computed:"computeCountdownActive_(countdownRatio)"},errorMessage:{type:Object,observer:"errorMessageChanged_"},hasInteractionMessage:{type:Boolean,computed:"toBool(data.interactionMessage)",reflectToAttribute:!0},genericErrorMessage:{type:Object}},behaviors:[B.YtRendererBehavior,B.YtActionSenderBehavior,R.YtPickerBehavior,R.YtRendererStamperBehavior,JH.YtLiveChatBadgeTypeBehavior],stampDom:{"data.sendButton":{id:"send-button",mapping:{buttonRenderer:{matcher:Ba(Rc,"BUTTON_RENDERER")}}},
"data.pickers":{id:"pickers",mapping:{emojiPickerRenderer:{component:"yt-emoji-picker-renderer",properties:{emojiManager:"[[emojiManager]]"}},liveChatCreatorSupportRenderer:{component:"yt-live-chat-creator-support-renderer"}}},"data.pickerButtons":{id:"picker-buttons",mapping:{liveChatIconToggleButtonRenderer:{component:"yt-live-chat-icon-toggle-button-renderer",properties:{disabled:"[[hasInteractionMessage]]"}}}},"data.interactionMessage":{id:"interaction-message",mapping:{messageRenderer:{component:"yt-live-chat-message-renderer",
params:{subtextOnBottom:!0}}}},"data.authorBadges":{id:"author-badges",mapping:{liveChatAuthorBadgeRenderer:"yt-live-chat-author-badge-renderer"}},errorMessage:{id:"error-message",mapping:{liveChatErrorMessageRenderer:"yt-live-chat-error-message-renderer",liveChatTextActionsErrorMessageRenderer:"yt-live-chat-text-actions-error-message-renderer"}}},listeners:{"input.yt-live-chat-send-message":"sendMessage","send-button.yt-action":"handleSendButtonAction_","picker-buttons.yt-live-chat-icon-toggle-button-renderer-toggle":"handlePickerButtonToggle_",
"yt-emoji-select":"onEmojiSelect_","yt-service-request-completed":"onSendCompleted_","yt-service-request-error":"onSendError_","yt-live-chat-error-message-dismiss":"onErrorMessageDismiss_","yt-live-chat-error-message-edit":"onErrorMessageEdit_"},created:function(){this.lastTimeoutTimeMs_=this.timeoutMs_=this.timeoutDurationMs_=this.numSentMessages_=0;this.pendingMessageId_=""},
dataChanged_:function(a){this.data.sendButton&&this.data.sendButton.buttonRenderer&&(this.data.sendButton.buttonRenderer.isDisabled=this.sendDisabled);this.$["author-name"].setAttribute("type",this.badgeTypeFromBadges(a.authorBadges||[]))},
sendMessage:function(){if(!this.sendDisabled&&this.data.sendButton&&this.data.sendButton.buttonRenderer){this.$.input.completeEmojis();var a=this.data.sendButton.buttonRenderer.serviceEndpoint;if(a){var b={message:this.$.input.text,client_message_id:(a.sendLiveChatMessageEndpoint.clientIdPrefix||"")+String(this.numSentMessages_++)};this.pendingMessageId_=b.client_message_id;this.sendServiceRequestAction([a,b]);this.$.input.setText("")}}},
handleSendButtonAction_:function(a){"yt-service-request"==a.detail.actionName&&(a.stopPropagation(),this.sendMessage())},
onSendCompleted_:function(a,b){(a=b.data.timeoutDurationUsec)&&this.handleTimeout_(Number(a)/1E3);this.errorMessage=b.data.errorMessage;this.pendingMessageId_=""},
onSendError_:function(){this.pendingMessageId_&&this.sendAction("yt-dim-chat-item-action",[{dimChatItemAction:{clientAssignedId:this.pendingMessageId_}}]);this.pendingMessageId_="";this.genericErrorMessage&&(this.errorMessage={liveChatErrorMessageRenderer:{errorText:this.genericErrorMessage}})},
handlePickerButtonToggle_:function(a){a=a.detail.targetId;this.togglePicker_(a);"emoji"==a&&this.$.input.focus()},
onEmojiSelect_:function(a){this.$.input.focus();this.$.input.insertEmoji(a.detail)},
characterCountChanged_:function(a){if(this.maxCharacterLimit){a=a/this.maxCharacterLimit*100;var b=Polymer.dom(this.$.count);b.classList.toggle("early-warning",75<=a);b.classList.toggle("warning",90<=a);b.classList.toggle("error",100<a)}},
computeCountdownStrokeDashOffset_:function(a){return a*this.COUNTDOWN_RADIUS_*2*Math.PI},
computeCountdownActive_:function(a){return!!a},
computeSendDisabled_:function(a,b,c){a=!!(c||!a||b&&a>b);(b=this.$["send-button"])&&b.children.length&&(b.children[0].disabled=a);return a},
handleTimeout_:function(a){this.timeoutDurationMs_=this.timeoutMs_=a;this.countdownRatio=1;0==this.lastTimeoutTimeMs_&&window.requestAnimationFrame(this.updateTimeout_.bind(this))},
updateTimeout_:function(a){this.lastTimeoutTimeMs_&&(this.timeoutMs_=Math.max(0,this.timeoutMs_-(a-this.lastTimeoutTimeMs_)),this.countdownRatio=this.timeoutMs_/this.timeoutDurationMs_);this.isAttached&&this.timeoutMs_?(this.lastTimeoutTimeMs_=a,window.requestAnimationFrame(this.updateTimeout_.bind(this))):this.lastTimeoutTimeMs_=0},
onErrorMessageDismiss_:function(){this.errorMessage=void 0},
onErrorMessageEdit_:function(a){this.$.input.setText(a.detail);this.errorMessage=void 0},
errorMessageChanged_:function(){this.async(function(){this.sendAction("yt-live-chat-maybe-scroll-to-bottom")})},
toBool:function(a){return!!a}});Polymer({is:"yt-live-chat-ninja-message-renderer",properties:{data:Object},behaviors:[R.YtRendererStamperBehavior],stampDom:{"data.button":{id:"button",mapping:{}}},BUTTON_RENDERER_CONFIG_ERROR:"In order to use live chat you must specify the button renderer to use by setting the `BUTTON_RENDERER` config property. This value should be the element's name, e.g. ytd-button-renderer.",registered:function(){this.stampDom["data.button"].mapping.buttonRenderer=A("BUTTON_RENDERER")}});Polymer({is:"yt-live-chat-participant-renderer",properties:{data:Object}});Polymer({is:"yt-live-chat-participant-list-renderer",properties:{data:Object,participantsManager:Object,participants:Array},behaviors:[R.YtRendererStamperBehavior,B.YtRendererBehavior],listeners:{"back-button.tap":"onBackButton_"},stampDom:{participants:{id:"participants",mapping:{liveChatParticipantRenderer:"yt-live-chat-participant-renderer",liveChatTextMessageRenderer:"yt-live-chat-participant-renderer",liveChatLegacyPaidMessageRenderer:"yt-live-chat-participant-renderer",liveChatPaidMessageRenderer:"yt-live-chat-participant-renderer"},
reuseComponents:!0}},observers:["updateData_(data, participantsManager)"],monitorScroll:!0,updateData_:function(a,b){if(a.participants)for(var c=0;c<a.participants.length;c++)b.addParticipant(a.participants[c])},
onBackButton_:function(){this.fire("yt-participants-back-button")},
focus:function(){this.invalidate(!0);this.async(function(){this.$["back-button"].focus();this.$["back-button"]._setReceivedFocusFromKeyboard(!1)})}});Polymer({is:"yt-live-chat-pinned-message-renderer",behaviors:[R.YtRendererStamperBehavior,R.YtScrollbarBehavior],stampDom:{"data.renderer":{id:"message",mapping:{liveChatLegacyPaidMessageRenderer:{component:"yt-live-chat-legacy-paid-message-renderer",properties:{emojiManager:"[[emojiManager]]",participantsManager:"[[participantsManager]]"}},liveChatPaidMessageRenderer:{component:"yt-live-chat-paid-message-renderer",properties:{emojiManager:"[[emojiManager]]",participantsManager:"[[participantsManager]]"}}},
reuseComponents:!0}},properties:{data:{type:Object,value:null,observer:"dataChanged_"}},attached:function(){this.customStyle["--scrollbar-width"]=this.getScrollbarWidth()+"px";this.updateStyles()},
dataChanged_:function(a){this.hidden=!a;if(a&&(a=a.renderer)){var b=Object.keys(a)[0];(a=a[b])&&a.authorPhoto&&(a.authorPhoto.webThumbnailDetailsExtensionData={isPreloaded:!0})}}});Polymer({is:"yt-live-chat-replay-continuation",properties:{data:{type:Object,observer:"dataChanged_"},timeRemainingMsecs:{type:Number,observer:"timeRemainingChanged_"}},created:function(){this.hasFired_=!1},
dataChanged_:function(){this.hasFired_=!1},
timeRemainingChanged_:function(a){this.data&&!this.hasFired_&&a<=this.data.timeUntilLastMessageMsec&&(this.hasFired_=!0,this.fire("yt-load-replay-continuation",this.getContinuationUrl.bind(this)))},
getContinuationUrl:function(a,b){var c={ctoken:this.data.continuation};this.data.clickTrackingParams&&(c.itct=this.data.clickTrackingParams,c.latestMessageTimestampUsec=b);return td(a,c)}});Polymer({is:"yt-live-chat-restricted-participation-renderer",properties:{data:Object},behaviors:[R.YtPickerBehavior,B.YtRendererBehavior,R.YtRendererStamperBehavior],stampDom:{"data.buttons":{id:"picker-buttons",mapping:{buttonRenderer:{matcher:Ba(Rc,"BUTTON_RENDERER")},liveChatIconToggleButtonRenderer:"yt-live-chat-icon-toggle-button-renderer"}},"data.panels":{id:"pickers",mapping:{liveChatCreatorSupportRenderer:"yt-live-chat-creator-support-renderer"}}},listeners:{"picker-buttons.yt-live-chat-icon-toggle-button-renderer-toggle":"handleToggle_"},
handleToggle_:function(a){a.target.disabled||this.togglePicker_(a.detail.targetId)}});JH.YtLiveChatTickerItemBehaviorImpl_={properties:{containerStyle:{type:String,computed:"computeContainerStyle(data, ratio)"},dimmed:{type:Boolean,value:!1,reflectToAttribute:!0},selected:{type:Boolean,value:!1},ratio:{type:Number,value:0},ariaLabel:{type:String,value:null,reflectToAttribute:!0},shouldAnimateIn:Boolean},listeners:{tap:"onTap_",keypress:"onKeyPress_"},observers:["deletedChanged_(isDeleted)"],hostAttributes:{role:"button",tabindex:0},created:function(){this.countdownMs_=this.countdownDurationMs_=
0;this.lastCountdownTimeMs_=null},
startCountdown:function(a,b){void 0!=a&&(this.countdownMs_=1E3*a,this.countdownDurationMs_=b?1E3*b:this.countdownMs_,this.ratio=1,this.lastCountdownTimeMs_||(this.lastCountdownTimeMs_=performance.now(),window.requestAnimationFrame(this.updateTimeout_.bind(this))))},
updateTimeout_:function(a){this.countdownMs_=Math.max(0,this.countdownMs_-(a-this.lastCountdownTimeMs_));this.ratio=this.countdownMs_/this.countdownDurationMs_;this.isAttached&&this.countdownMs_?(this.lastCountdownTimeMs_=a,window.requestAnimationFrame(this.updateTimeout_.bind(this))):(this.lastCountdownTimeMs_=null,this.isAttached&&("auto"==this.style.width&&this.setContainerWidth(),this.slideDown_()))},
setContainerWidth:function(){var a=this.$.container.clientWidth;0==a?(this.style.overflow="visible",this.style.width="auto"):(this.style.overflow="hidden",this.shouldAnimateIn?(this.style.width=0,this.async(function(){this.style.width=a+"px"},1)):this.style.width=a+"px")},
slideDown_:function(){this.classList.add("sliding-down");this.async(this.collapse_,200)},
collapse_:function(){this.classList.add("collapsing");this.style.width="0";this.async(this.requestRemoval_,200)},
requestRemoval_:function(){this.fire("yt-live-chat-ticker-remove-ticker-item",this.data.id);this.classList.remove("sliding-down");this.classList.remove("collapsing");this.style.overflow="visible";this.style.width="auto"},
computeContainerStyle:function(a,b){var c=this.colorFromDecimal(a.startBackgroundColor);a=this.colorFromDecimal(a.endBackgroundColor);b=100*b+"%";return"background: linear-gradient(90deg, "+c+","+c+" "+b+","+a+" "+b+","+a+");"},
onTap_:function(){this.data.showItemEndpoint&&this.fire("yt-navigate",{endpoint:this.data.showItemEndpoint})},
onKeyPress_:function(a){if(13==a.keyCode)this.onTap_()},
deletedChanged_:function(a){a&&(this.style.overflow="visible",this.style.width="auto",this.async(this.setContainerWidth));if(a=this.get("data.showItemEndpoint.showLiveChatItemEndpoint.renderer"))a=Object.keys(a)[0],this.set("data.showItemEndpoint.showLiveChatItemEndpoint.renderer."+a+".deletedStateMessage",this.data.deletedStateMessage),this.selected&&this.fire("yt-live-chat-pinned-message-update")}};
JH.YtLiveChatTickerItemBehavior=[JH.YtLiveChatItemBehavior,JH.YtLiveChatTickerItemBehaviorImpl_];Polymer({is:"yt-live-chat-ticker-paid-message-item-renderer",properties:{data:{type:Object,observer:"dataChanged_"}},behaviors:[B.YtRendererBehavior,JH.YtLiveChatTickerItemBehavior],dataChanged_:function(a){a&&(this.$.content.style.color=this.colorFromDecimal(a.amountTextColor),this.ariaLabel=this.getSimpleString(a.amount),this.startCountdown(a.durationSec,a.fullDurationSec),this.async(this.setContainerWidth))}});Polymer({is:"yt-live-chat-ticker-sponsor-item-renderer",properties:{data:{type:Object,observer:"dataChanged_"},hidden:{type:Boolean,value:!1,computed:"truthy(isDeleted)",reflectToAttribute:!0}},behaviors:[B.YtRendererBehavior,JH.YtLiveChatTickerItemBehavior],dataChanged_:function(a){a&&(this.$.content.style.color=this.colorFromDecimal(a.detailTextColor),this.ariaLabel=this.getSimpleString(a.detailText),this.startCountdown(a.durationSec,a.fullDurationSec),this.async(this.setContainerWidth))}});Polymer({is:"yt-live-chat-ticker-renderer",properties:{data:Object,highlightId:{type:String,value:null,observer:"highlightIdChanged_"},isScrolledLeft:{type:Boolean,value:!0},isScrolledRight:Boolean,items:{type:Array,value:function(){return[]}}},
behaviors:[R.YtRendererStamperBehavior,B.YtRendererBehavior,B.YtActionHandlerBehavior],stampDom:{items:{id:"items",mapping:{liveChatTickerPaidMessageItemRenderer:{component:"yt-live-chat-ticker-paid-message-item-renderer",properties:{shouldAnimateIn:"[[shouldAnimateIn]]"}},liveChatTickerSponsorItemRenderer:{component:"yt-live-chat-ticker-sponsor-item-renderer",properties:{shouldAnimateIn:"[[shouldAnimateIn]]"}}},reuseComponents:!0}},actionMap:{"yt-live-chat-actions":"handleLiveChatActions_","yt-remove-chat-item-action":"handleLiveChatAction_",
"yt-mark-chat-item-as-deleted-action":"handleLiveChatAction_","yt-mark-chat-items-by-author-as-deleted-action":"handleLiveChatAction_"},listeners:{mouseenter:"onMouseEnter_",mouseleave:"onMouseLeave_","items.scroll":"markDirty","yt-live-chat-ticker-remove-ticker-item":"onRemoveTickerItem_","yt-navigate":"onNavigate_"},observers:["itemsChanged_(items.length)"],created:function(){this.asyncHandle_=null;this.shouldAnimateIn=!1;this.scrollClampRaf_=this.lastFrameTimestamp_=null;this.scrollStartTime_=
this.scrollRatePixelsPerSecond_=0;this.scrollStopHandle_=null},
attached:function(){this.keepScrollClamped_()},
detached:function(){this.scrollClampRaf_&&window.cancelAnimationFrame(this.scrollClampRaf_);this.stopScrolling_();this.shouldAnimateIn=!1},
handleLiveChatActions_:function(a){a.length&&(a.forEach(this.handleLiveChatAction_,this),this.updateHighlightedItem_(),this.shouldAnimateIn=!0)},
handleLiveChatAction_:function(a){a.addLiveChatTickerItemAction?this.unshift("items",a.addLiveChatTickerItemAction.item):a.markChatItemAsDeletedAction?this.handleMarkChatItemAsDeletedAction_(a.markChatItemAsDeletedAction):a.removeChatItemAction?this.removeTickerItemById_(a.removeChatItemAction.targetItemId):a.markChatItemsByAuthorAsDeletedAction&&this.handleMarkChatItemsByAuthorAsDeletedAction_(a.markChatItemsByAuthorAsDeletedAction)},
maybeClampScroll_:function(){if(this.highlightId){var a=this.$$("#"+this.highlightId),b=a.offsetLeft,a=b+a.offsetWidth,c=this.$.items,d=c.scrollLeft,c=d+c.offsetWidth-24,b=d+24-b;0<b&&(this.$.items.scrollLeft-=b);b=a-c;0<b&&(this.$.items.scrollLeft+=b)}},
keepScrollClamped_:function(){this.scrollClampRaf_=window.requestAnimationFrame(this.keepScrollClamped_.bind(this));this.maybeClampScroll_()},
onMouseEnter_:function(){this.stopScrolling_()},
onMouseLeave_:function(){this.scrollRatePixelsPerSecond_=0;this.highlightId||this.async(this.startScrollBack_,400)},
onRemoveTickerItem_:function(a,b){this.removeTickerItemById_(b)},
startScrollBack_:function(){this.startScrolling_(-1200)},
startScrollingLeft_:function(){this.startScrolling_(-480)},
startScrollingRight_:function(){this.startScrolling_(480)},
startScrolling_:function(a){this.scrollStopHandle_&&this.cancelAsync(this.scrollStopHandle_);this.asyncHandle_&&window.cancelAnimationFrame(this.asyncHandle_);this.scrollStartTime_=performance.now();this.lastFrameTimestamp_=performance.now();this.scrollRatePixelsPerSecond_=a;this.asyncHandle_=window.requestAnimationFrame(this.scrollIncrementally_.bind(this))},
scrollIncrementally_:function(a){this.$.items.scrollLeft+=(a-this.lastFrameTimestamp_)/1E3*this.scrollRatePixelsPerSecond_;this.maybeClampScroll_();this.updateArrows_();this.lastFrameTimestamp_=a;0<this.$.items.scrollLeft||0<this.scrollRatePixelsPerSecond_?this.asyncHandle_=window.requestAnimationFrame(this.scrollIncrementally_.bind(this)):this.stopScrolling_()},
maybeStopScrolling_:function(){var a=performance.now()-this.scrollStartTime_;400<a?this.stopScrolling_():this.scrollStopHandle_=this.async(this.stopScrolling_,400-a)},
stopScrolling_:function(){this.updateArrows_();this.lastFrameTimestamp_=null;this.asyncHandle_&&window.cancelAnimationFrame(this.asyncHandle_)},
removeTickerItemById_:function(a){if(a){var b=this.$$('[id="'+a+'"]');if(b){for(var c=this.$.items.children,d=0;d<c.length;d++)if(c[d]==b){this.splice("items",d,1);this.markDirty();break}this.highlightId==a&&(this.highlightId=null)}}},
handleMarkChatItemAsDeletedAction_:function(a){for(var b=0;b<this.items.length;b++){var c=this.items[b],d=Object.keys(c)[0];if((c=c[d])&&c.id==a.targetItemId){this.$.items.children[b].markAsDeleted(a.deletedStateMessage,a.showOriginalContentMessage);break}}},
handleMarkChatItemsByAuthorAsDeletedAction_:function(a){for(var b=0;b<this.items.length;b++){var c=this.items[b],d=Object.keys(c)[0];(c=c[d])&&c.authorExternalChannelId==a.externalChannelId&&this.$.items.children[b].markAsDeleted(a.deletedStateMessage,a.showOriginalContentMessage)}},
onNavigate_:function(a){this.highlightId=a.target.id},
highlightIdChanged_:function(){this.updateHighlightedItem_();this.highlightId||this.async(this.startScrollBack_,400)},
updateHighlightedItem_:function(){y(this.$.items.children,function(a){a.dimmed=this.highlightId&&a.id!=this.highlightId;a.selected=this.highlightId&&a.id==this.highlightId},this)},
itemsChanged_:function(a){this.updateArrows_();this.hidden=!a},
updateArrows_:function(){this.isScrolledLeft=0==this.$.items.scrollLeft;this.isScrolledRight=this.$.items.scrollLeft>=this.$.items.scrollWidth-this.$.container.clientWidth}});Polymer({is:"yt-player-seek-continuation",properties:{data:{type:Object},playerProgress:{type:Object,observer:"playerProgressChanged_"}},created:function(){this.previousProgress_=null},
playerProgressChanged_:function(a){this.previousProgress_=a},
maybeFireSeekContinuation:function(a,b){if(!this.previousProgress_)return this.previousProgress_=a,!1;var c=a.current-this.previousProgress_.current;b=1<c&&1E3*a.current>b;(c=0>c||b)&&this.fire("yt-load-seek-continuation",this.getContinuationUrl_.bind(this,1E3*a.current));this.previousProgress_=a;return c},
getContinuationUrl_:function(a,b){a={ctoken:this.data.continuation,currentPlayerTimeMsec:Math.floor(a)};this.data.clickTrackingParams&&(a.itct=this.data.clickTrackingParams);return td(b,a)}});R.YtBooleanLogicBehavior={bindIf:function(a,b,c){return a?b:c},
booleanString:function(a){return(!!a).toString()},
equals:function(a){for(var b=arguments[0],c=1;c<arguments.length;c++)if(b!=arguments[c])return!1;return!0},
isGreaterThan:function(a,b){return a>b},
isLessThan:function(a,b){return a<b},
logicalAND:function(a){for(var b=!!arguments[0],c=1;c<arguments.length;c++)b=b&&!!arguments[c];return b},
logicalOR:function(a){for(var b=!!arguments[0],c=1;c<arguments.length;c++)b=b||!!arguments[c];return b},
toBool:function(a){return!!a}};Polymer({TONE_REGEX_:/tone[1-5]/,SKIN_TONES_:" \ud83c\udffb \ud83c\udffc \ud83c\udffd \ud83c\udffe \ud83c\udfff".split(" "),is:"yt-emoji-manager",properties:{skinTone:{type:Number,value:0}},created:function(){this.emojis_=[];this.emojiMap_={};this.emojiRegex_=/$./;this.emojiShortcutMap_={};this.emojiShortcutCharMap_=null},
load:function(a){this.emojis_=a;var b=Array(a.length);this.emojiMap_={};this.emojiShortcutMap_={};for(var c=0;c<a.length;c++){var d=a[c];this.emojiMap_[d.emojiId]=d;for(var e=0;e<d.shortcuts.length;e++)this.emojiShortcutMap_[d.shortcuts[e]]=d;b[c]=d.emojiId}b.sort(function(a,b){return b.length-a.length});
this.emojiRegex_=b.length?new RegExp(b.join("|"),"g"):/$./},
getEmojiArray:function(){return this.emojis_},
getEmojiMap:function(){return this.emojiMap_},
getEmojiById:function(a){return this.emojiMap_[a]},
getEmojiByIdWithSkinTone:function(a){var b=this.getEmojiById(a);b&&b.supportsSkinTone&&0!=this.skinTone&&(a=this.getEmojiById(a+this.SKIN_TONES_[this.skinTone]))&&(b=a);return b},
getEmojiByShortcut:function(a){return this.emojiShortcutMap_.hasOwnProperty(a)?this.emojiShortcutMap_[a]:null},
getEmojiShortcutsFromPrefix:function(a){var b=this.getEmojiShortcutCharMap_();return b.hasOwnProperty(a)?b[a]:null},
getEmojiShortcutCharMap_:function(){if(!this.emojiShortcutCharMap_){this.emojiShortcutCharMap_={};for(var a=0;a<this.emojis_.length;a++)for(var b=this.emojis_[a],c=0;c<b.shortcuts.length;c++){var d=b.shortcuts[c];if(!(3>d.length||this.TONE_REGEX_.test(d))){var e=d.substr(0,3);null==this.emojiShortcutCharMap_[e]&&(this.emojiShortcutCharMap_[e]={});this.emojiShortcutCharMap_[e][d]=b}}}return this.emojiShortcutCharMap_},
createEmojiById:function(a){return(a=this.getEmojiById(a))?this.createEmoji(a):null},
createEmoji:function(a){var b=document.createElement("img");b.src=ml(a.image.thumbnails,20);b.alt=a.isCustomEmoji?a.shortcuts[0]:a.emojiId;b.width=20;b.height=20;C&&(b.setAttribute("contenteditable","false"),b.setAttribute("unselectable","on"));return b},
createDocumentFragment:function(a){for(var b=document.createDocumentFragment(),c=0,d;null!=(d=this.emojiRegex_.exec(a));){var e=this.createEmojiById(d[0]);e&&(c!=d.index&&b.appendChild(document.createTextNode(a.substring(c,d.index))),b.appendChild(e),c=d.index+d[0].length)}b.appendChild(document.createTextNode(a.substr(c)));return b}});Polymer({PARTICIPANT_TIME_USEC_:3E8,is:"yt-live-chat-participants-manager",properties:{viewerName:{type:String,value:null},viewerRegex:{type:Object,computed:"computeViewerRegex_(viewerName)"},participants:{type:Array,value:function(){return[]},
notify:!0}},behaviors:[B.YtActionHandlerBehavior],actionMap:{"yt-live-chat-actions":"onChatMessage_"},SUPPORTED_ITEM_TYPES_:["liveChatTextMessageRenderer","liveChatLegacyPaidMessageRenderer","liveChatPaidMessageRenderer"],created:function(){this.allParticipantsCharMap_={};this.asyncHandle_=null},
addParticipant:function(a){var b=Bb(this.participants,a,function(a,b){a=a[Object.keys(a)[0]];b=b[Object.keys(b)[0]];return Ka(Md(a.authorName),Md(b.authorName))}.bind(this));
if(0<=b){var c=this.participants[b];c[Object.keys(c)[0]].timestampUsec&&this.splice("participants",b,1,a)}else this.splice("participants",-b-1,0,a);a=a[Object.keys(a)[0]];b=Md(a.authorName).toLowerCase();c=b.substr(0,2);this.allParticipantsCharMap_.hasOwnProperty(c)||(this.allParticipantsCharMap_[c]={});this.allParticipantsCharMap_[c][b]=a},
getAuthorsFromPrefix:function(a){return this.allParticipantsCharMap_.hasOwnProperty(a)?this.allParticipantsCharMap_[a]:null},
computeViewerRegex_:function(a){if(!a)return null;a=a.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&");return new RegExp("([@#]?"+a.replace(/ /g,"\\s*")+")","ig")},
checkForStaleParticipants_:function(){this.trimOldParticipants_();this.asyncHandle_&&this.cancelAsync(this.asyncHandle_);0<this.participants.length&&(this.asyncHandle_=this.async(this.checkForStaleParticipants_,3E4))},
onChatMessage_:function(a){var b=1E3*Date.now();a.forEach(function(a){if(a.addChatItemAction){a=a.addChatItemAction.item;var c=Object.keys(a)[0];-1!=this.SUPPORTED_ITEM_TYPES_.indexOf(c)&&a[c].timestampUsec>=b-this.PARTICIPANT_TIME_USEC_&&this.addParticipant(a)}},this);
this.checkForStaleParticipants_()},
trimOldParticipants_:function(){for(var a=1E3*Date.now(),b=this.participants.length-1;0<=b;b--){var c=this.participants[b],c=c[Object.keys(c)[0]];c.timestampUsec&&c.timestampUsec<a-this.PARTICIPANT_TIME_USEC_&&this.splice("participants",b,1)}}});Polymer({is:"yt-invalidation-continuation",properties:{data:{type:Object,observer:"dataChanged"}},created:function(){this.manager_=LH.getInstance();this.triggered_=!1;this.timeoutAsyncHandle_=this.managerHandle_=null},
attached:function(){this.data&&this.subscribe_(this.data)},
detached:function(){this.data&&this.unsubscribe_(this.data)},
dataChanged:function(a,b){this.triggered_=!1;b&&this.unsubscribe_(b);a&&this.isAttached&&this.subscribe_(a)},
subscribe_:function(a){this.managerHandle_=this.manager_.subscribe(a,this.trigger_.bind(this));this.timeoutAsyncHandle_=this.async(this.trigger_,a.timeoutMs)},
unsubscribe_:function(a){this.cancelTimeout_();this.managerHandle_&&(this.manager_.unsubscribe(a,this.managerHandle_),this.managerHandle_=null)},
trigger_:function(){this.triggered_||(this.triggered_=!0,this.fire("yt-load-invalidation-continuation",this.getContinuationUrl.bind(this)),this.cancelTimeout_())},
forceTrigger:function(){this.trigger_()},
cancelTimeout_:function(){null!==this.timeoutAsyncHandle_&&(this.cancelAsync(this.timeoutAsyncHandle_),this.timeoutAsyncHandle_=null)},
getContinuationUrl:function(a){var b={ctoken:this.data.continuation};this.data.clickTrackingParams&&(b.itct=this.data.clickTrackingParams);return td(a,b)}});
var LH=function(){this.nextHandle_=1;this.clients_={};this.callbacks_={};this.unsubscribeAsyncHandles_={}};
pa(LH);LH.prototype.subscribe=function(a,b){var c=MH(a);c in this.clients_?c in this.unsubscribeAsyncHandles_&&Polymer.Async.cancel(this.unsubscribeAsyncHandles_[c]):(a=NH(this,a),this.clients_[c]=a,this.callbacks_[c]={});a=this.nextHandle_++;this.callbacks_[c][a]=b;return a};
LH.prototype.unsubscribe=function(a,b){var c=MH(a);if(c in this.callbacks_&&(delete this.callbacks_[c][b],!this.callbacks_[c].length)){var d=this.clients_[c];b=Polymer.Async.run(function(){be(d);delete this.clients_[c]}.bind(this),0);
this.unsubscribeAsyncHandles_[c]=b}};
LH.prototype.handleInvalidationData_=function(a){for(var b in this.callbacks_[a])(0,this.callbacks_[a][b])()};
var NH=function(a,b){var c=MH(b);if(b.invalidationId.topic)a=new yH(c,a.handleInvalidationData_.bind(a,c)),a.subscribe();else{var d=$b(A("LIVE_CHAT_BASE_TANGO_CONFIG",void 0));d.objectSource=b.invalidationId.objectSource;b=b.invalidationId.objectId||"";b=b.replace(/-/g,"+").replace(/_/g,"/");d.objectId=atob(b);a=new tH(d,function(){this.handleInvalidationData_(c);return!0}.bind(a));
a.register()}return a},MH=function(a){return a.invalidationId.topic||a.invalidationId.objectId||""};Polymer({is:"yt-reload-continuation",behaviors:[B.YtRendererBehavior],properties:{data:Object},trigger:function(){this.fire("yt-load-reload-continuation",this.getContinuationUrl.bind(this))},
getContinuationUrl:function(a){var b={ctoken:this.data.continuation};this.data.clickTrackingParams&&(b.itct=this.data.clickTrackingParams);return td(a,b)}});Polymer({is:"yt-timed-continuation",properties:{data:{type:Object,observer:"dataChanged_"}},created:function(){this.asyncHandle_=null},
attached:function(){this.scheduleCallback_()},
detached:function(){null!==this.asyncHandle_&&(this.cancelAsync(this.asyncHandle_),this.asyncHandle_=null)},
dataChanged_:function(){this.scheduleCallback_()},
forceTrigger:function(){this.trigger_()},
scheduleCallback_:function(){this.isAttached&&this.data&&(null!==this.asyncHandle_&&this.cancelAsync(this.asyncHandle_),this.asyncHandle_=this.async(this.trigger_,this.data.timeoutMs))},
trigger_:function(){this.asyncHandle_&&this.cancelAsync(this.asyncHandle_);this.asyncHandle_=null;this.fire("yt-load-timed-continuation",this.getContinuationUrl.bind(this))},
getContinuationUrl:function(a){var b={ctoken:this.data.continuation};this.data.clickTrackingParams&&(b.itct=this.data.clickTrackingParams);return td(a,b)}});var OH={1:!0,2:!0,5:!0,6:!0,7:!0,8:!0,9:!0,11:!0,12:!0,17:!0,18:!0,19:!0},PH=new Ko("yt-live-chat");Polymer({is:"yt-live-chat-renderer",properties:{data:{type:Object,observer:"dataChanged_"},density:{type:String,value:"default",reflectToAttribute:!0},hideTimestamps:{type:Boolean,value:function(){return!PH.get("show-timestamps")},
observer:"hideTimestampsChanged_",reflectToAttribute:!0},hasTicker:{type:Boolean,computed:"truthy_(data.ticker)",reflectToAttribute:!0},emojiManager:Object,participantsManager:Object,participants:Array,selectedTab:{type:Number,value:0,notify:!0},showCollapseButton:{type:Boolean,value:!1},collapsed:{type:Boolean,value:!1,reflectToAttribute:!0},collapseDirection:{type:String,value:"horizontal",reflectToAttribute:!0},messageBuyFlowRenderer:Object,selectedPanel:{type:Number,value:0,observer:"selectedPanelChanged_"},
dialog:Object},behaviors:[{_noAccessors:!0,triggerReloadContinuation:function(){a:{var a=Polymer.dom(this.$.continuations),b=a.querySelector("yt-supported-renderers");if(b&&(b=b.rendererElement)&&"yt-reload-continuation"==b.is){b.trigger();break a}(a=a.querySelector("yt-reload-continuation"))&&a.trigger()}}},
R.YtBooleanLogicBehavior,R.YtRendererStamperBehavior,B.YtActionHandlerBehavior,B.YtActionSenderBehavior,B.YtPostMessageBehavior,B.YtRendererBehavior],listeners:{"pinned-message.tap":"onPinnedMessageTap_","yt-live-chat-show-participants":"showParticipants_","yt-load-reload-continuation":"onLoadReloadContinuation_","yt-load-replay-continuation":"onLoadReplayContinuation_","yt-load-seek-continuation":"onLoadSeekContinuation_","yt-load-timed-continuation":"onLoadIncrementalContinuation_","yt-load-invalidation-continuation":"onLoadIncrementalContinuation_",
"yt-participants-back-button":"onParticipantsBackButton_","yt-live-chat-pinned-message-update":"onUpdatePinnedMessage_","yt-navigate":"onYtNavigate_","yt-action":"onYtAction_"},observers:["continuationsChanged_(data.continuations)","actionsChanged_(data.actions, isAttached)"],stampDom:{"data.itemList":{id:"item-list",mapping:{liveChatItemListRenderer:{component:"yt-live-chat-item-list-renderer",properties:{emojiManager:"[[emojiManager]]",participantsManager:"[[participantsManager]]"}}}},"data.ticker":{id:"ticker",
mapping:{liveChatTickerRenderer:"yt-live-chat-ticker-renderer"}},"data.continuations":{id:"continuations",mapping:{liveChatReplayContinuationData:"yt-live-chat-replay-continuation",reloadContinuationData:"yt-reload-continuation",timedContinuationData:"yt-timed-continuation",invalidationContinuationData:"yt-invalidation-continuation",playerSeekContinuationData:"yt-player-seek-continuation"}},"data.promo":{id:"promo",mapping:{liveChatGamingPromoRenderer:"yt-live-chat-gaming-promo-renderer"}},"data.actionPanel":{id:"action-panel",
mapping:{liveChatMessageInputRenderer:{component:"yt-live-chat-message-input-renderer",properties:{emojiManager:"[[emojiManager]]",participantsManager:"[[participantsManager]]",genericErrorMessage:"[[data.clientMessages.genericError]]"}},liveChatRestrictedParticipationRenderer:"yt-live-chat-restricted-participation-renderer"}},messageBuyFlowRenderer:{id:"buy-flow",mapping:{liveChatMessageBuyFlowRenderer:{component:"yt-live-chat-message-buy-flow-renderer",properties:{emojiManager:"[[emojiManager]]",
participantsManager:"[[participantsManager]]"}}}},dialog:{id:"dialog",mapping:{liveChatDialogRenderer:"yt-live-chat-dialog-renderer"}}},actionMap:{"yt-live-chat-toggle-collapse":"toggleCollapse_","yt-live-chat-close-buy-flow":"closeBuyFlow_","yt-player-progress-change":"playerProgressChanged_","yt-live-chat-force-chat-poll":"forceChatPoll_"},fatalError_:"Unable to connect to chat. Please try again later.",unableToReconnectMessage_:"Unable to connect to chat. Please try again later.",reconnectMessage_:"Chat disconnected. Please wait while we try to reconnect you.",
reconnectedMessage_:"Successfully connected.",created:function(){this.popoutWindowCheckIntervalId_=this.popoutWindow_=null;this.smoothedQueue_=new QH;this.hasShownReconnectMessage_=!1;this.prevContinuationToken_=null;this.shouldLogToGen204_=.01>=Math.random();this.replayBuffer_=new RH},
ready:function(){this.emojiManager=this.$["emoji-manager"];this.participantsManager=this.$["participants-manager"]},
attached:function(){this.fire("resize");this.prevContinuationToken_=null;this.smoothedQueue_.callback=this.fireLiveChatActions_.bind(this)},
detached:function(){this.popoutWindow_=this.smoothedQueue_.callback=null;this.closePopoutWindow_();this.hasShownReconnectMessage_=!1;this.replayBuffer_=null},
dataChanged_:function(a){this.emojiManager&&a&&a.emojis&&this.emojiManager.load(a.emojis);this.participantsManager&&a&&a.viewerName&&(this.participantsManager.viewerName=a.viewerName)},
continuationsChanged_:function(){this.async(this.triggerReloadContinuation)},
forceChatPoll_:function(){["yt-timed-continuation","yt-invalidation-continuation"].forEach(function(a){(a=this.$$(a))&&a.forceTrigger&&a.forceTrigger()},this)},
actionsChanged_:function(a,b){b&&a&&(a=this.preprocessActions_(a),this.fireLiveChatActions_(a),this.set("data.actions",void 0))},
preprocessActions_:function(a){return a.filter(function(a){if(a.addChatItemAction)this.preloadAvatar_(a.addChatItemAction);else if(a.addLiveChatTickerItemAction)this.preloadAvatar_(a.addLiveChatTickerItemAction);else{if(a.replayChatItemAction){var b=this.replayBuffer_;a=a.replayChatItemAction;b.replayQueue_.enqueue(a);b.lastVideoOffsetTimeMsec=parseInt(a.videoOffsetTimeMsec||0,10);return!1}if(a.watchPartyPlaySyncAction)return this.sendAction("yt-watch-sync-action",[a.watchPartyPlaySyncAction]),!1}return!0},
this)},
preloadAvatar_:function(a){a=a.item;var b=Object.keys(a)[0];(a=a[b])&&a.authorPhoto&&((new Image).src=a.authorPhoto.thumbnails[0].url,a.authorPhoto.webThumbnailDetailsExtensionData={isPreloaded:!0})},
onLoadReloadContinuation_:function(a,b){a.stopPropagation();this.makeContinuationRequest_(b).then(this.handleReloadContinuationData_,this.handleReloadContinuationError_,this)},
handleReloadContinuationError_:function(){},
onLoadIncrementalContinuation_:function(a,b){a.stopPropagation();this.loadIncrementalContinuation_(b,0)},
onLoadSeekContinuation_:function(a,b){a.stopPropagation();this.debounce("loadSeekContinuation",this.loadIncrementalContinuation_.bind(this,b,0),500)},
onLoadReplayContinuation_:function(a,b){a.stopPropagation();this.loadIncrementalContinuation_(function(a){return b(a,1E3*this.replayBuffer_.lastVideoOffsetTimeMsec)}.bind(this),0)},
loadIncrementalContinuation_:function(a,b){this.isAttached&&this.makeContinuationRequest_(a).then(this.handleIncrementalContinuationData_.bind(this,a,b),this.handleIncrementalContinuationError_.bind(this,a,b),this)},
handleIncrementalContinuationError_:function(a,b,c){if(c){switch(c.status){case 404:tm(Error("404 while requesting live chat incremental continuation: "+a("")));this.showServerErrorMessage(this.getSimpleString(this.get("data.clientMessages.fatalError"))||this.fatalError_);return}if(c.error&&OH[c.error.code.toString()]){this.showServerErrorMessage(this.getSimpleString(this.get("data.clientMessages.fatalError"))||this.fatalError_);return}}3<b?this.showServerErrorMessage(this.getSimpleString(this.get("data.clientMessages.unableToReconnectMessage"))||
this.unableToReconnectMessage_):(1==b&&(this.hasShownReconnectMessage_=!0,this.showServerErrorMessage(this.getSimpleString(this.get("data.clientMessages.reconnectMessage"))||this.reconnectMessage_)),c=2E3*Math.pow(2,b),c+=1E3*Math.random(),this.async(this.loadIncrementalContinuation_.bind(this,a,b+1),c))},
makeContinuationRequest_:function(a){a=a("").substr(1);var b={},c={liveChatEndpoint:{}};od(a,function(a,e){"itct"==a?c.clickTrackingParams=e:"ctoken"==a?c.liveChatEndpoint.continuation=e:"currentPlayerTimeMsec"==a?b.playerOffsetMs=e:"latestMessageTimestampUsec"==a&&(c.liveChatEndpoint.latestMessageTimestampUsec=e)});
Object.keys(b).length&&(c.liveChatEndpoint.currentPlayerState=b);return this.getInterface(Vh).requestDataForEndpoint(c)},
showParticipants_:function(){this.selectedTab=1;this.$$("yt-live-chat-participant-list-renderer").focus()},
handleReloadContinuationData_:function(a){(a=a.response)&&a.continuationContents&&a.continuationContents.liveChatContinuation&&!a.error&&(this.data=a.continuationContents.liveChatContinuation)},
handleIncrementalContinuationData_:function(a,b,c){if(c.response)if(c=c.response,c.error)this.handleIncrementalContinuationError_(a,b,c);else{if(c.continuationContents&&c.continuationContents.liveChatContinuation){this.hasShownReconnectMessage_&&(this.hasShownReconnectMessage_=!1,this.showServerErrorMessage(this.getSimpleString(this.get("data.clientMessages.reconnectedMessage"))||this.reconnectedMessage_,"reconnect"));a=c.continuationContents.liveChatContinuation;b=null;a.actions&&(c=this.preprocessActions_(a.actions),
b=c.reduce(function(a,b){b.addChatItemAction&&b.addChatItemAction.item.liveChatPaidMessageRenderer&&a.push(b.addChatItemAction.item.liveChatPaidMessageRenderer.id);return a},[]),c&&c.length&&SH(this.smoothedQueue_,c));
if(this.shouldLogToGen204_){var d=null;a.continuations&&a.continuations.forEach(function(a){a.invalidationContinuationData?d=a.invalidationContinuationData.continuation:a.timedContinuationData&&(d=a.timedContinuationData.continuation)});
c=[];this.prevContinuationToken_&&c.push("prev_token="+this.prevContinuationToken_);d&&c.push("next_token="+d);if(b&&b.length)for(var e=0;e<b.length;e++)c.push("super_chat"+e+"="+b[e]);Rh("super_chat_ping",c.join("&"));this.prevContinuationToken_=d}a.actionPanel&&this.set("data.actionPanel",a.actionPanel);this.updateContinuations_(a.continuations||[])}}else this.showServerErrorMessage(this.getSimpleString(this.get("data.clientMessages.fatalError"))||this.fatalError_),tm(Error("Unexpected live chat incremental continuation response: "+
JSON.stringify(c)))},
onParticipantsBackButton_:function(){this.selectedTab=0},
fireLiveChatActions_:function(a){this.async(this.sendAction.bind(this,"yt-live-chat-actions",[a]))},
updateContinuations_:function(a){this.set("data.continuations",a)},
toggleCollapse_:function(){this.collapsed=!this.collapsed},
onYtNavigate_:function(a,b){b&&b.endpoint&&(b.endpoint.liveChatPurchaseMessageEndpoint?(this.selectedPanel=1,a.stopPropagation(),this.getInterface(Vh).requestDataForEndpoint(b.endpoint).then(this.handlePurchaseEndpointResponse_,this.handlePurchaseEndpointError_,this)):b.endpoint.showLiveChatItemEndpoint?this.$["pinned-message"].data==b.endpoint.showLiveChatItemEndpoint?(this.$["pinned-message"].data=null,this.$$("yt-live-chat-ticker-renderer").highlightId=null):this.$["pinned-message"].data=b.endpoint.showLiveChatItemEndpoint:
b.endpoint.liveChatDialogEndpoint&&(this.dialog=b.endpoint.liveChatDialogEndpoint.content,this.$$("yt-live-chat-dialog-renderer").hidden=!1))},
onUpdatePinnedMessage_:function(){var a=this.$["pinned-message"].data;a&&(this.$["pinned-message"].data=null,this.$["pinned-message"].data=a)},
onPinnedMessageTap_:function(){this.$["pinned-message"].data=null;this.$$("yt-live-chat-ticker-renderer").highlightId=null},
handlePurchaseEndpointResponse_:function(a){this.messageBuyFlowRenderer=a.response.contents;this.selectedPanel=2},
handlePurchaseEndpointError_:function(){},
closeBuyFlow_:function(){this.selectedPanel=0;this.messageBuyFlowRenderer=null},
onYtAction_:function(a,b){"yt-service-request"==b.actionName&&(b=b.args[1],b.popoutLiveChatEndpoint?((b=b.popoutLiveChatEndpoint.url)?this.openPopoutWindow_(b):this.closePopoutWindow_(),a.stopPropagation()):b.showLiveChatParticipantsEndpoint?(this.showParticipants_(),a.stopPropagation()):b.toggleLiveChatTimestampsEndpoint?(this.hideTimestamps=!this.hideTimestamps,a.stopPropagation()):b.showLiveChatSettingsEndpoint&&(this.postMessage("yt-show-live-chat-settings",{}),a.stopPropagation()))},
openPopoutWindow_:function(a){var b={target:Math.random().toString(36),menubar:!1,location:!1,scrollbars:!1,toolbar:!1};b=void 0===b?{}:b;b.target=b.target||"YouTube";b.width=b.width||"600";b.height=b.height||"600";var c=b;c||(c={});b=window;var d=a instanceof af?a:hf("undefined"!=typeof a.href?a.href:String(a));a=c.target||a.target;var e=[];for(f in c)switch(f){case "width":case "height":case "top":case "left":e.push(f+"="+c[f]);break;case "target":case "noreferrer":break;default:e.push(f+"="+(c[f]?
1:0))}var f=e.join(",");ee()&&b.navigator&&b.navigator.standalone&&a&&"_self"!=a?(f=b.document.createElement("A"),wf(f,d),f.setAttribute("target",a),c.noreferrer&&f.setAttribute("rel","noreferrer"),d=document.createEvent("MouseEvent"),d.initMouseEvent("click",!0,!0,b,1),f.dispatchEvent(d),b={}):c.noreferrer?(b=b.open("",a,f),d=bf(d),b&&(ke&&-1!=d.indexOf(";")&&(d="'"+d.replace(/'/g,"%27")+"'"),b.opener=null,d=Bf(Pe("b/12014412, meta tag with sanitized URL"),'<META HTTP-EQUIV="refresh" content="0; url='+
Ta(d)+'">'),b.document.write(lf(d)),b.document.close())):b=b.open(bf(d),a,f);b?(b.opener||(b.opener=window),b.focus()):b=null;if(this.popoutWindow_=b)this.selectedTab=2,this.checkPopoutWindow_()},
closePopoutWindow_:function(){this.popoutWindow_&&this.popoutWindow_.close();this.popoutWindowCheckIntervalId_&&(this.cancelAsync(this.popoutWindowCheckIntervalId_),this.popoutWindowCheckIntervalId_=null);this.selectedTab=0;this.sendAction("yt-live-chat-scroll-to-bottom")},
checkPopoutWindow_:function(){this.isAttached&&(!this.popoutWindow_||this.popoutWindow_.closed?this.closePopoutWindow_():this.popoutWindowCheckIntervalId_=this.async(this.checkPopoutWindow_,1E3))},
showServerErrorMessage:function(a,b){SH(this.smoothedQueue_,[{serverErrorMessage:{message:a,"class":b}}])},
selectedPanelChanged_:function(){this.data&&this.data.itemList&&this.async(function(){this.sendAction("yt-live-chat-scroll-to-bottom")})},
hideTimestampsChanged_:function(a){PH.set("show-timestamps",!a)},
truthy_:function(a){return!!a},
playerProgressChanged_:function(a){if(this.data.isReplay){for(var b=1E3*a.current,c=this.replayBuffer_,d=Bo(c.replayQueue_),e=[];d&&b>=d.videoOffsetTimeMsec;)d=Ao(c.replayQueue_),e=e.concat(d.actions||[]),d=Bo(c.replayQueue_);this.fireLiveChatActions_(e);c=this.$$("yt-live-chat-replay-continuation");(d=this.$$("yt-player-seek-continuation"))&&d.maybeFireSeekContinuation(a,this.replayBuffer_.lastVideoOffsetTimeMsec)?this.replayBuffer_.clear():c&&(c.timeRemainingMsecs=this.replayBuffer_.lastVideoOffsetTimeMsec-
b)}}});
var QH=function(){this.lastUpdateTime_=this.estimatedUpdateInterval_=this.callback=null;this.messageQueue_=[];this.nextUpdateId_=null;this.pollResponseDelayQueue_=new yo},SH=function(a,b){if(a.lastUpdateTime_){var c=w()-a.lastUpdateTime_;
a.pollResponseDelayQueue_.enqueue(c);5<a.pollResponseDelayQueue_.getCount()&&Ao(a.pollResponseDelayQueue_);a.estimatedUpdateInterval_=Math.max.apply(null,a.pollResponseDelayQueue_.getValues())}a.lastUpdateTime_=w();for(var c=[],d=0;d<b.length;d++){var e=b[d];e.addChatItemAction&&c.length&&(a.messageQueue_.push(c),c=[]);c.push(e)}c.length&&a.messageQueue_.push(c);a.nextUpdateId_||(a.nextUpdateId_=window.setTimeout(a.emitSmoothedMessages_.bind(a)))};
QH.prototype.emitSmoothedMessages_=function(){this.nextUpdateId_=null;if(this.messageQueue_.length){var a=1E4;this.estimatedUpdateInterval_&&(a=this.estimatedUpdateInterval_-w()+this.lastUpdateTime_);var b=this.messageQueue_.length<a/80?1:Math.ceil(this.messageQueue_.length/(a/80));var c=Db(this.messageQueue_.splice(0,b));this.callback&&this.callback(c);this.messageQueue_.length&&(1==b?(b=a/this.messageQueue_.length,b*=Math.random()+.5,b=Math.min(1E3,b),b=Math.max(80,b)):b=80,this.nextUpdateId_=window.setTimeout(this.emitSmoothedMessages_.bind(this),
b))}};
var RH=function(){this.replayQueue_=new yo;this.lastVideoOffsetTimeMsec=0};
RH.prototype.clear=function(){this.replayQueue_.clear()};R.YtPopupContainerBehaviorImpl_={created:function(){this.popupContainerConfig=null;this.popups_={};this.popupContainerActionMap_={"yt-close-popup-action":"handleClosePopupAction_","yt-open-popup-action":"handleOpenPopupAction_","yt-signal-action":"handleSignalAction_"};this.narrowMediaQuery_=void 0},
attached:function(){this.registerActionMap(this.popupContainerActionMap_)},
detached:function(){this.unregisterActionMap(this.popupContainerActionMap_)},
initPopupContainerBehavior:function(a){this.popupContainerConfig=a;this.popupContainerConfig.closePopupActions.forEach(function(a){this.popupContainerActionMap_[a]="closePopup_"}.bind(this))},
handleOpenPopupAction_:function(a,b){var c=this.getAndMaybeCreatePopup_(a.openPopupAction);if(c){var d=c.popup;if(d.opened){var e=c.popupContent.is;this.handleClosePopupAction_(e);(e=this.popups_[e])&&e.target==b||Polymer.RenderStatus.afterNextRender(d,this.completeOpenPopupAction_.bind(this,a,b,c))}else this.completeOpenPopupAction_(a,b,c)}},
completeOpenPopupAction_:function(a,b,c){var d=c.popup,e=b.popupPositionTarget||b;d.positionTarget=e;c.popupContent.positionTarget=e;c.target=b;e=Jd(a.openPopupAction.popup,"renderer")||Jd(a.openPopupAction.popup,"dialog");c.popupContent.data=a.openPopupAction.popup[e];this.listen(d,"iron-overlay-opened","onPopupIronOverlayOpened_");this.listen(d,"iron-overlay-closed","onPopupIronOverlayClosed_");this.listen(d,"iron-overlay-canceled","onPopupIronOverlayCanceled_");this.listen(d,"yt-refit","refitPopup_");
d.open();c.popupContent.startForwardingEvents&&b.parentComponent!=c.popupContent&&c.popupContent!=b&&c.popupContent.startForwardingEvents(this.popupContainerConfig.forwardedEvents,b)},
handleClosePopupAction_:function(a){for(var b in this.popups_){var c=this.popups_[b],d=c.popup,c=c.popupContent;a&&c.is!=a||!d.close||d.close()}},
handleSignalAction_:function(a){"CLOSE_POPUP"==a.signalAction.signal&&this.handleClosePopupAction_()},
getAndMaybeCreatePopup_:function(a){this.maybeCreateNarrowMediaQuery_();var b=Jd(a.popup,"renderer")||Jd(a.popup,"dialog");if(!b)return null;b=Kd(b,this.popupContainerConfig.prefix);return this.popups_[b]?this.popups_[b]:this.createPopup_(a,b)},
createPopup_:function(a,b){a=a.popupType;var c=this.popupContainerConfig.popupConfig[a];if(c.component){var d=document.createElement(c.component);var e=document.createElement(b);c.childClass&&e.toggleClass(c.childClass,!0);c.forceFocus&&(e.tabIndex=0,e.style.outline="none");Polymer.dom(d).appendChild(e)}else d=document.createElement(b);c.narrowProperties&&(d.style.position="static");this.popupContainerToggleProperties_(d,c,this.narrowMediaQuery_.queryMatches);Polymer.dom.flush();Polymer.dom(this.root).appendChild(d);
e={popup:d,popupContent:e||d,popupType:a};return this.popups_[b]=e},
popupContainerToggleProperties_:function(a,b,c){c=c&&b.narrowProperties?b.narrowProperties:b.properties;for(var d in c)a[d]=c[d];if("rtl"==A("HTML_DIR")&&b.rtlProperties)for(d in b=b.rtlProperties,b)a[d]=b[d]},
maybeCreateNarrowMediaQuery_:function(){this.narrowMediaQuery_||(this.narrowMediaQuery_=document.createElement("iron-media-query"),this.narrowMediaQuery_.query="(max-width: 656px)",this.listen(this.narrowMediaQuery_,"query-matches-changed","openPopupQueryMatchesChanged_"),Polymer.dom(this).appendChild(this.narrowMediaQuery_))},
openPopupQueryMatchesChanged_:function(a){a=a.detail.value;for(var b in this.popups_){var c=this.popups_[b];this.popupContainerToggleProperties_(c.popup,this.popupContainerConfig.popupConfig[c.popupType],a)}},
onPopupIronOverlayClosed_:function(a){var b=a.currentTarget,c=b.getContentChildren();(0<c.length?c[0]:b).fire("yt-popup-closed",a.detail);this.unlisten(b,"yt-refit","refitPopup_");this.unlisten(b,"iron-overlay-canceled","onPopupIronOverlayCanceled_");this.unlisten(b,"iron-overlay-closed","onPopupIronOverlayClosed_")},
onPopupIronOverlayCanceled_:function(a,b){Polymer.dom(a).rootTarget.restoreFocusOnClose=Polymer.IronA11yKeysBehavior.keyboardEventMatchesKeys(b,"esc")},
onPopupIronOverlayOpened_:function(a){var b=a.currentTarget,c=b.getContentChildren();(0<c.length?c[0]:b).fire("yt-popup-opened",a.detail);this.unlisten(b,"iron-overlay-opened","onPopupIronOverlayOpened_")},
closePopup_:function(){for(var a in this.popups_){var b=this.popups_[a].popup;b.close&&b.close()}},
refitPopup_:function(a){a=a.currentTarget;a.refit&&a.refit()}};
R.YtPopupContainerBehavior=[B.YtActionHandlerBehavior,R.YtPopupContainerBehaviorImpl_];(function(){function a(a){if(window.Polymer.onerror)window.Polymer.onerror(a);else throw a;}
var b=Polymer.Base.createdCallback;Polymer.Base.createdCallback=function(){try{b.apply(this,arguments)}catch(m){a(m)}};
var c=Polymer.Base.attachedCallback;Polymer.Base.attachedCallback=function(){try{c.apply(this,arguments)}catch(m){a(m)}};
var d=Polymer.Base.detachedCallback;Polymer.Base.detachedCallback=function(){try{d.apply(this,arguments)}catch(m){a(m)}};
var e=Polymer.Base.attributeChangedCallback;Polymer.Base.attributeChangedCallback=function(){try{e.apply(this,arguments)}catch(m){a(m)}};
var f=Polymer.Base._listen,h=new WeakMap;Polymer.Base._listen=function(b,c,d){var e=function(){try{d.apply(this,arguments)}catch(F){a(F)}};
h.set(d,e);f.call(this,b,c,e)};
var k=Polymer.Base._unlisten;Polymer.Base._unlisten=function(a,b,c){k.call(this,a,b,h.get(c))};
var l=Polymer.Async._atEndOfMicrotask;Polymer.Async._atEndOfMicrotask=function(){try{l.apply(Polymer.Async,arguments)}catch(m){a(m)}}})();q("yt.logging.errors.log",tm,void 0);(function(){var a=A("ERRORS")||[];y(a,function(a){tm.apply(null,a)});
Qc("ERRORS",[])})();
window.onerror=function(a,b,c,d,e){var f=!1,h=Pc.EXPERIMENT_FLAGS;if((h=h?h.log_window_onerror_fraction:void 0)&&Math.random()<h)f=!0;else for(var h=document.getElementsByTagName("script"),k=0,l=h.length;k<l;k++)if(0<h[k].src.indexOf("/debug-")){f=!0;break}f&&(e||(e=Error(),e.message=a,e.fileName=b,e.lineNumber=c,isNaN(d)||(e.columnNumber=d)),Sc(e))};
Polymer.onerror=Sc;Mc=Tc;window.addEventListener("unhandledrejection",function(a){Tc(a.reason)});B.YtNavigationManagerBehavior={_noAccessors:!0,created:function(){this.pendingNavigationPromise_=null},
hasPendingNavigation:function(){return!!this.pendingNavigationPromise_},
cancelPendingNavigation:function(){this.pendingNavigationPromise_&&(this.pendingNavigationPromise_=null)}};var TH="/channel/ /feed/ /manage_red /playlist /results /search /watch /user/".split(" ");Polymer({is:"yt-navigation-manager",provides:CH,behaviors:[Xd.ComponentBehavior,B.YtNavigationManagerBehavior,B.YtActionHandlerBehavior,B.YtActionSenderBehavior],actionMap:{"yt-signal-action":"handleSignalAction_"},created:function(){this.logger_=null;this.chunksProcessed_=this.chunksReceived_=0;this.isFirstWarmTransitionRequested_=!1;this.registrationCompletedPromise_=null},
factoryImpl:function(){},
currentEndpoint_:null,currentPlayerPromise_:null,getPageTypeForEndpoint_:function(a){var b="";if(!a)return null;a.webNavigationEndpointData&&a.webNavigationEndpointData.webPageType?b=a.webNavigationEndpointData.webPageType.toLowerCase():a.browseEndpoint||a.watchPlaylistEndpoint?b="browse":a.searchEndpoint?b="search":a.watchEndpoint&&(b="watch");return b},
search:function(a,b){this.navigate({searchEndpoint:{query:a}},!1,null,b)},
getCurrentEndpoint:function(){return this.currentEndpoint_},
reload:function(){window.location.reload()},
reloadWithoutPolymer_:function(){var a=ud(yd(window.location.href,"disable_polymer"),"disable_polymer",!0);Lo(a)},
getRegistrationCompletedPromise_:function(){if(this.registrationCompletedPromise_)return this.registrationCompletedPromise_;if(A("ENABLE_SELECTIVE_REGISTRATION",void 0)){var a=nl.getInstance();this.registrationCompletedPromise_=ol(a,"eor")?yc():new uc(function(b){if(ol(a,"eor"))il(b,3,void 0);else{var c=a.parkedJobs_.eor;c||(c=a.parkedJobs_.eor=[]);c.push({job:b,priority:3,delay:void 0})}})}else this.registrationCompletedPromise_=yc();
return this.registrationCompletedPromise_},
navigate:function(a,b,c,d,e){if(A("ENABLE_SELECTIVE_REGISTRATION",void 0)){var f=nl.getInstance();ol(f,"eor")||this.isFirstWarmTransitionRequested_||(f.processSignal("fwtr"),this.isFirstWarmTransitionRequested_=!0)}f=this.getRegistrationCompletedPromise_();f.then(function(){Qc("IS_HOMEPAGE_COLD",!1);Qc("IS_WATCH_PAGE_COLD",!1)});
if(a.urlEndpoint){this.logUrlEndpointInteraction_(a);if("TARGET_NEW_WINDOW"==a.urlEndpoint.target){window.open(a.urlEndpoint.url,"_blank");return}if(kd(a.urlEndpoint.url)&&!nd(window.location.href,a.urlEndpoint.url)){Kn();this.navigateToExternalUrl(a.urlEndpoint.url);return}}var h=Ed(a,c);if(h)if(this.shouldRedirect_(h)||A("DISABLE_WARM_LOADS"))this.navigateToExternalUrl(h);else{this.chunksProcessed_=this.chunksReceived_=0;Kn();pn();q("ytglobal.timingready_",!1,void 0);Qc("TIMING_AFT_KEYS",[]);wn("yt_lt",
"warm");Qc("TIMING_ACTION","");Qc("TIMING_WAIT",[]);xn();An();qn("nr");d=d||{};a.clickTrackingParams&&(d.itct=a.clickTrackingParams);Vb(d)||gl(h,d);d=this.getPageTypeForEndpoint_(a);var k={headers:{"X-YouTube-STS":17291}};e&&(k.type=e);var l=this.getInterface(Vh).requestDataForEndpoint(a,c,function(b){this.handleNavigatePart_(l,a,b)}.bind(this),k);
this.pendingNavigationPromise_=l;f.then(function(){return l}).then(this.handleNavigateSuccess_.bind(this,l,a),this.handleNavigateFail_.bind(this,l,a));
this.currentPlayerPromise_=null;b={endpoint:a,pageType:d,url:h,reload:!!b};e&&(b.type=e);f.then(this.fire.bind(this,"yt-navigate-start",b))}},
isNetworkPromiseStale_:function(a){return a!=this.pendingNavigationPromise_},
pageRequestFail_:function(a,b,c){a={endpoint:a,pageType:this.getPageTypeForEndpoint_(a)};c&&(a.errorMessage=c);Sc(b,"WARNING");a.navigationDoneMs=vn("nd");this.fire("yt-navigate-error",a)},
handleNavigateFail_:function(a,b,c){if(this.isNetworkPromiseStale_(a))return zc();this.pageRequestFail_(b,c);return zc()},
handleNavigatePart_:function(a,b,c){this.isNetworkPromiseStale_(a)||(c.reload?window.location.reload(!0):this.getRegistrationCompletedPromise_().then(this.pageChunkReceived_.bind(this,b,c)))},
handleNavigateSuccess_:function(a,b,c){if(this.isNetworkPromiseStale_(a))return yc();this.pendingNavigationPromise_=null;if(c.reload)return window.location.reload(!0),yc();a=this.get("timing.responseStart",c);null!=a&&vn("srt",a);vn("pdc");a=this.get("timing.info",c);if(null!=a)for(var d in a)wn(d,a[d]);(d=this.get("response.responseContext.webResponseContextExtensionData.webResponseContextPreloadData.preloadThumbnailUrls",c))&&this.fire("yt-preconnect-urls",d);if(d&&zd("polymer_warm_thumbnail_preload"))return new uc(function(a){this.async(function(){this.pageRequestFinished(b,
c,!1);a()}.bind(this))}.bind(this));
this.pageRequestFinished(b,c,!1);return yc()},
shouldRedirect_:function(a){if("/"==a||"/red"==a)return!1;var b=!0;TH.forEach(function(c){0==a.indexOf(c)&&(b=!1)});
return b},
publishPageData_:function(a){this.fire("yt-page-data-fetched",{pageData:a})},
updatePlayer_:function(a,b,c,d,e){try{return this.getInterface(FH).update(a,b,c,d,e)}catch(f){console.error("Exception while updating player",f)}return yc()},
updatePlayerComponents_:function(){try{this.getInterface(FH)}catch(a){console.error("Exception while updating player components",a)}},
loadPageChunk_:function(a){var b=this.getInterface(DH),b="watch"==this.get("data.page",b)&&"watch"==a.page;0!=this.chunksProcessed_||zd("player_unified_fullscreen_transitions")&&b||EH||this.stopPlayer_();a.preconnect&&(vn("bc"),this.fire("yt-preconnect-urls",a.preconnect));a.player&&(a.filler||("cfg"in rn(void 0)||vn("cfg"),this.sendAction("player-update-pre",[a.page,a.player,a.playerResponse])),this.currentPlayerPromise_=this.updatePlayer_(a.player));if(this.currentPlayerPromise_&&this.get("response.contents.twoColumnWatchNextResults",
a)){var b=this.get("response.playerOverlays.playerOverlayRenderer.endScreen.watchNextEndScreenRenderer",a),c=this.get("response.contents.twoColumnWatchNextResults.autoplay.autoplay",a),d=this.get("response.webWatchNextResponseExtensionData.relatedVideoArgs",a);a=this.get("response.contents.twoColumnWatchNextResults.playlist.playlist",a);this.currentPlayerPromise_.then(this.updatePlayerComponents_.bind(this,b,c,d,a))}vn("np"+this.chunksProcessed_);this.chunksProcessed_++},
loadPageRequest_:function(a){var b=null;if(a.player){if(this.get("response.contents.twoColumnWatchNextResults",a)){var c=this.get("response.playerOverlays.playerOverlayRenderer.endScreen.watchNextEndScreenRenderer",a);var d=this.get("response.contents.twoColumnWatchNextResults.autoplay.autoplay",a);var e=this.get("response.webWatchNextResponseExtensionData.relatedVideoArgs",a);var f=this.get("response.contents.twoColumnWatchNextResults.playlist.playlist",a)}else this.get("response.contents.singleColumnWatchNextResults",
a)&&(e=this.get("response.webWatchNextResponseExtensionData.relatedVideoArgs",a));c=this.updatePlayer_.bind(this,a.player,c,d,e,f);a.filler||("cfg"in rn(void 0)||vn("cfg"),this.sendAction("player-update-pre",[a.page,a.player,a.playerResponse]));"browse"==a.page?this.asyncFrame(c,0):b=c()}else EH||this.stopPlayer_();if(b)return b.then(this.publishPageData_.bind(this,a));this.publishPageData_(a);return yc()},
checkNetworkResponseErrors_:function(a){var b=null;if(!a)return b=Error("Error: Empty data.");a.response||(b=Error("Response field missing from data"));var c=a.response;c.responseContext||(b=Error("Error: responseContext missing from data response."));(c=c.responseContext.errors)&&(b=Error("Error: Errors in response context."+c));if(a=this.get("response.responseContext.webResponseContextExtensionData.webResponseContextDebugData.debugErrorMessages",a))for(c=0;c<a.length;c++);return b},
getUserFacingErrorMessage_:function(a){return this.get("response.responseContext.errors.0",a)},
shouldReloadWithoutPolymer_:function(a){var b=this.get("response.responseContext.webResponseContextExtensionData.reloadWithoutPolymer",a);a=this.get("playerResponse.responseContext.webResponseContextExtensionData.reloadWithoutPolymer",a);return!(!b&&!a)},
isCurrentUrl_:function(a){var b=this.createAnchorElement_();b.href=md(window.location.href);var c=b.href;b.href=md(a);return b.href==c},
createAnchorElement_:function(a){var b=!1,c;return function(){b||(c=a(),b=!0);return c}}(Yf.bind(null,"A")),
pageChunkReceived_:function(a,b){vn("nc"+this.chunksReceived_);this.chunksReceived_++;this.currentEndpoint_=a;this.shouldReloadWithoutPolymer_(b)?this.reloadWithoutPolymer_():(b.url&&!this.isCurrentUrl_(b.url)&&this.fire("yt-navigate-redirect",{url:b.url}),"watch"==b.page&&b.response?(a=this.loadPageChunk_.bind(this,b),il(a,3,void 0)):this.loadPageChunk_(b))},
pageRequestFinished:function(a,b,c,d){this.currentEndpoint_=a;if(this.shouldReloadWithoutPolymer_(b))return this.reloadWithoutPolymer_(),zc();var e=this.checkNetworkResponseErrors_(b);if(e){var f=this.getUserFacingErrorMessage_(b);this.pageRequestFail_(a,e,f);return zc()}e=this.get("response.responseContext.webResponseContextExtensionData.ytConfigData.rootVisualElementType",b);b.csn&&e&&fl(b.csn,e);c||!b.url||this.isCurrentUrl_(b.url)||this.fire("yt-navigate-redirect",{url:b.url});c||"watch"!=b.page||
"reduced"!=b.type?e=this.loadPageRequest_(b):this.currentPlayerPromise_?e=this.currentPlayerPromise_.then(this.publishPageData_.bind(this,b)):(this.publishPageData_(b),e=yc());d&&(e=e.then(function(){this.sendAction("yt-restore-component-state-action",[d])}.bind(this)));
(f=this.getInterface(Yd))&&f.markDirty();return e.then(function(){var d={endpoint:a,pageType:this.getPageTypeForEndpoint_(a),fromHistory:c,response:b};d.navigationDoneMs=vn("nd");this.fire("yt-navigate-finish",d)}.bind(this))},
navigateToExternalUrl:function(a,b){gl(a,b?b:{});Lo(a,void 0,void 0,window.top)},
handleSignalAction_:function(a){switch(a.signalAction.signal){case "CHANNEL_RELOAD_WITHOUT_POLYMER":this.async(function(){this.reloadWithoutPolymer_()},500);
break;case "RELOAD_WITHOUT_POLYMER":this.reloadWithoutPolymer_();break;case "RELOAD_PAGE":this.reload()}},
stopPlayer_:function(){this.getInterface(FH)},
logUrlEndpointInteraction_:function(a){var b=el(),c=a.urlEndpoint.url;if(b&&a.clickTrackingParams){var d=null;c&&(d={externalLinkData:{url:c}});a=Jk(a.clickTrackingParams);c=Am();bl(c,{click:{csn:b,visualElement:Kk(a)}},d)}}});(function(){function a(a,d){var c=new CustomEvent("iron-signal-"+a,{bubbles:!1,detail:d});b.forEach(function(a){a.dispatchEvent(c)})}
Polymer({is:"iron-signals",attached:function(){b.push(this)},
detached:function(){var a=b.indexOf(this);0<=a&&b.splice(a,1)}});
var b=[];document.addEventListener("iron-signal",function(b){a(b.detail.name,b.detail.data)})})();Polymer({is:"yt-visibility-monitor",behaviors:[Xd.ComponentBehavior],provides:Yd,properties:{trackWindowScroll:Boolean,heightPrescan:{type:Number,value:50},pauseScan:{type:Boolean,observer:"pauseScanChanged_"}},created:function(){this.dirty_=!0;this.visibilityRoot_=null;this.timeBetweenJobsMs_=A("VISIBILITY_TIME_BETWEEN_JOBS_MS",500);this.nodeCountNoPreload_=0;this.prescanRect_=this.screenRect_=this.veTree_=null;this.pendingRefresh_=!1;this.lastJobRunTime_=0;this.boundDoAfterRenderRequest_=this.doAfterRenderRequest_.bind(this);
this.logger_=null},
factoryImpl:function(){},
get visibilityRoot(){if(!this.visibilityRoot_){var a=A("VISIBILITY_ROOT",void 0);a&&(this.visibilityRoot_=Polymer.dom(this.parentElement.root).querySelector(a))}return this.visibilityRoot_},set visibilityRoot(a){this.visibilityRoot_&&this.unlisten(this.visibilityRoot_,"yt-visibility-refresh","markDirty");this.visibilityRoot_=a;this.dirty_=!1;this.refreshVisibility_();this.visibilityRoot_&&this.listen(this.visibilityRoot_,"yt-visibility-refresh","markDirty")},attached:function(){this.requestVisibilityRefresh();
this.trackWindowScroll&&(this.listen(window,"resize","markDirty"),this.listen(window,"scroll","markDirty"),this.listen(this.$.signals,"iron-signal-scroll","markDirty"));this.visibilityRoot&&this.listen(this.visibilityRoot,"yt-visibility-refresh","markDirty")},
runVisibilityJob_:function(){this.pendingRefresh_=!1;this.lastJobRunTime_=Date.now();this.refreshVisibility_()},
doIdleRequest_:function(a){window.setTimeout(this.boundDoAfterRenderRequest_,a)},
doAfterRenderRequest_:function(){Polymer.RenderStatus.afterNextRender(this,this.runVisibilityJob_)},
requestVisibilityRefresh:function(){if(!this.pendingRefresh_){this.pendingRefresh_=!0;var a=Date.now()-this.lastJobRunTime_;a>=this.timeBetweenJobsMs_?this.doAfterRenderRequest_():this.doIdleRequest_(this.timeBetweenJobsMs_-a)}},
refreshVisibility_:function(){if(this.dirty_&&!this.pauseScan)if(this.dirty_=!1,this.isAttached){var a=this.visibilityRoot;if(a){this.nodeCountNoPreload_=0;this.veTree_={name:"root",children:[]};this.screenRect_=new aj(0,0,window.innerWidth,window.innerHeight);this.prescanRect_=new aj(this.screenRect_.left,this.screenRect_.top+this.screenRect_.height,this.screenRect_.width,this.heightPrescan);var b=el(),c=b?[]:null,a=this.traverseNodes_(a,this.veTree_,this.screenRect_,c);b&&0<c.length&&(c=c.map(Jk),
cl(b,c));Infinity!=a&&this.fire("viewport-load",{viewportLoadTime:a,nodeCountNoPreload:this.nodeCountNoPreload_});this.visibilityRoot_&&this.fire("yt-visibility-updated",{veTree:this.veTree_})}else window.console.error("Cannot find root node for visibility monitor")}else window.console.error("Visibility monitor is not attached")},
printVETree:function(){},
traverseNodes_:function(a,b,c,d){if(3==a.visibilityLogging)return 0;var e=window.getComputedStyle(a);if(e&&"none"==e.display||A("BLOCK_VISIBILITY_MONITOR_ON_VISIBILITY_HIDDEN",void 0)&&e&&"hidden"==e.visibility)return 0;var f=a.getBoundingClientRect();if(!(f.top||f.right||f.bottom||f.left||f.width||f.height))return 0;f=new aj(f.left,f.top,f.width,f.height);c=bj(f,c);var h=bj(f,this.screenRect_),h=e&&"fixed"==e.position?h:c&&h,e=null;this.heightPrescan&&(e=bj(f,this.prescanRect_));var k=!1;if(!h&&
!e)return 0;if(!a.wasVisible&&!a.wasPrescan&&(k=!0,a.onShow))a.onShow();!a.wasVisible&&h&&(a.data&&(c=a.data.trackingParams||a.data.clickTrackingParams||null)&&d&&d.push(c),a.impressionLog&&a.impressionLog());a.wasVisible||(a.wasVisible=!!h);a.wasPrescan||(a.wasPrescan=!!e);e=0;!a.excludeFromVpl&&h&&"loadTime"in a&&(e=a.loadTime,a.isPreloaded&&!a.isPreloaded()&&this.nodeCountNoPreload_++);(c=b)&&h&&1!=a.visibilityLogging&&(c={name:a.is,children:[],newVisible:k},a.data&&a.data.trackingParams&&(c.trackingParams=
a.data.trackingParams),b.children.push(c));if((a=a.getNodes())&&a.length)for(b=a.length,h=0;h<b;h++)k=this.traverseNodes_(a[h],c,f,d),k>e&&(e=k);return e},
markDirty:function(){this.dirty_=!0;this.requestVisibilityRefresh()},
pauseScanChanged_:function(a){a||this.requestVisibilityRefresh()}});B.YtErrorBehavior={_noAccessors:!0,created:function(){this.errorHandlers_=[]},
detached:function(){this.errorHandlers_.forEach(function(a){this.removeEventListener("yt-error",a)},this);
this.errorHandlers_.length=0},
fireError:function(a){var b={err:a};if(this.isAttached)return this.fire("yt-error",b);throw a;},
addErrorHandler:function(a,b){b=b||Hb;var c=function(c){var d=c.detail;if(b(d,c)){var f=d.err;a(d,c)||(c.stopPropagation(),Sc(f))}}.bind(this);
this.addEventListener("yt-error",c);this.errorHandlers_.push(c)},
wrapWithTry:function(a,b){return function(){try{return a.apply(b,arguments)}catch(c){this.fireError.call(b,c)}}.bind(this)}};B.YtActionRouterBehaviorImpl_={_noAccessors:!0,actionRouterIsRoot:!1,created:function(){this.actionRouter_=new Map;this.actionRouterNode=this.actionRouterIsRoot?document:this;this.onYtActionBoundListener_=this.onYtAction_.bind(this);this.onYtRegisterActionBoundListener_=this.onYtRegisterAction_.bind(this);this.actionRouterListenersRegistered_=!1;this.onYtUnregisterActionBoundListener_=this.onYtUnregisterAction_.bind(this);this.registerActionRouterEventListeners_()},
attached:function(){this.registerActionRouterEventListeners_()},
detached:function(){this.unregisterActionRouterEventListeners_()},
registerActionRouterEventListeners_:function(){this.actionRouterListenersRegistered_||(this.actionRouterListenersRegistered_=!0,document.addEventListener("yt-unregister-action",this.onYtUnregisterActionBoundListener_),this.actionRouterNode.addEventListener("yt-action",this.onYtActionBoundListener_),this.actionRouterNode.addEventListener("yt-register-action",this.onYtRegisterActionBoundListener_))},
unregisterActionRouterEventListeners_:function(){this.actionRouterListenersRegistered_=!1;document.removeEventListener("yt-unregister-action",this.onYtUnregisterActionBoundListener_);this.actionRouterNode.removeEventListener("yt-action",this.onYtActionBoundListener_);this.actionRouterNode.removeEventListener("yt-register-action",this.onYtRegisterActionBoundListener_)},
onYtAction_:function(a){var b=a.detail;(a=this.actionRouter_.get(b.actionName))?(b.returnValue=[],a.forEach(function(a){var c=null;a?c=a.apply(null,b.args):Sc(Error("Error: Missing handler for action: "+b.actionName));b.returnValue.push(c)})):this.fireError(new HH("Error: Unhandled action, "+b.actionName))},
onYtRegisterAction_:function(a){a=a.detail;var b=this.actionRouter_.get(a.actionName);b||(b=new Map,this.actionRouter_.set(a.actionName,b));b.set(a.context,this.wrapWithTry(a.handler,a.context))},
onYtUnregisterAction_:function(a){var b=this.actionRouter_.get(a.detail.actionName);b&&b.delete(a.detail.context)}};
B.YtActionRouterBehavior=[B.YtErrorBehavior,B.YtActionRouterBehaviorImpl_];var UH={YtWalletPaymentBehaviorImpl_:{openWalletDialog:function(a,b){var c=Bc();a=a.replace(/-/g,"+").replace(/_/g,"/");Uh(Th.getInstance(),a,c.resolve,c.reject,b?this.onServerBackendAnalyticEvent_.bind(this,b):void 0,this.onDialogClose_.bind(this));return c.promise},
onDialogClose_:function(){this.sendAction("yt-wallet-dialog-closed")},
onServerBackendAnalyticEvent_:function(a,b){this.sendServiceRequestAction([a,{backend_analytics:b}])}}};
UH.YtWalletPaymentBehavior=[UH.YtWalletPaymentBehaviorImpl_,B.YtActionSenderBehavior];UH.YtCompleteTransactionBehaviorImpl_={completeTransaction:function(a,b){b={payments_payload:window.btoa(b.integratorData),buybucket_params:a.data.buybucketParams,offer_params:a.data.offerParams};return this.getInterface(Vh).requestDataForServiceEndpoint(a.data.completeTransactionEndpoint,b).then(this.handleCompleteTransactionSuccess_.bind(this))},
handleCompleteTransactionSuccess_:function(a){a.data||(a={data:a});return a.data.messageRenderer?zc(new IH):yc(a)}};
UH.YtCompleteTransactionBehavior=[Xd.ComponentBehavior,UH.YtCompleteTransactionBehaviorImpl_];UH.YtYpcGetCartEndpointBehaviorImpl_={listeners:{"yt-service-request-completed":"onGetCartServiceRequestCompleted_"},created:function(){this.buyFlowActionMap_={"yt-wallet-dialog-closed":"handleWalletDialogCloseEvent_"};this.registerActionMapJobId_=0},
attached:function(){this.registerActionMapJobId_=jl(function(){this.registerActionMap(this.buyFlowActionMap_)}.bind(this))},
detached:function(){kl(this.registerActionMapJobId_);jl(function(){this.unregisterActionMap(this.buyFlowActionMap_)}.bind(this))},
isYPCGetCartEndpointWithPrefetch:function(a){return null!=this.get("ypcGetCartEndpoint.prefetchConfig.ypcGetCartPrefetchResponseDataConfig.encryptedPurchaseParams",a)},
handleYPCGetCartEndpointWithPrefetch:function(a,b){var c=b.ypcGetCartEndpoint;b=c.prefetchConfig.ypcGetCartPrefetchResponseDataConfig;var d=b.encryptedPurchaseParams,e=b.completeTransactionEndpoint,c={data:{offerParams:window.btoa(c.offerParams),completeTransactionEndpoint:e}};this.openWalletDialog(d,b.ypcLogWalletAnalyticDataEndpoint).then(this.completeTransaction.bind(this,c)).then(Ba(this.handlePostPurchaseSuccess_,a),this.handlePostPurchaseError_,this)},
onGetCartServiceRequestCompleted_:function(a,b){var c=this.get("data.offerParams",b),d=this.get("data.encryptedPurchaseParams",b);c&&d&&(a.stopPropagation(),this.openWalletDialog(d).then(this.completeTransaction.bind(this,b)).then(Ba(this.handlePostPurchaseSuccess_,a.srcElement),this.handlePostPurchaseError_,this))},
handlePostPurchaseSuccess_:function(a,b){b.data&&b.data.actions&&this.sendInnerTubeActions(b.data.actions,a)},
handlePostPurchaseError_:function(){},
handleWalletDialogCloseEvent_:function(){}};
UH.YtYpcGetCartEndpointBehavior=[UH.YtYpcGetCartEndpointBehaviorImpl_,UH.YtCompleteTransactionBehavior,B.YtActionHandlerBehavior,B.YtActionSenderBehavior,UH.YtWalletPaymentBehavior];var VH=function(){},WH=function(a,b){this.data=a;
this.actions=b};
B.YtEndpointHandlerBehaviorImpl_={_noAccessors:!0,created:function(){this.LOCALLY_HANDLED_ENDPOINTS_=["addToRemoteQueueEndpoint","clearRemoteQueueEndpoint","insertInRemoteQueueEndpoint","removeFromRemoteQueueEndpoint"];this.endpointHandlerActionMap_={"yt-service-request":"handleServiceRequest_"}},
attached:function(){this.registerActionMap(this.endpointHandlerActionMap_)},
detached:function(){this.unregisterActionMap(this.endpointHandlerActionMap_)},
handleServiceRequest_:function(a,b,c){var d=new VH;d.endpoint=b;a:{var e=Object.keys(b);for(var f=0,h=e.length;f<h;f++){var k=e[f];if(Hd.test(k)){e=b[k];e=e.clientActions||e.actions||[];break a}}e=[]}e&&(this.sendInnerTubeActions(e,a,c),d.actions=e);(e=el())&&b.clickTrackingParams&&(f=Jk(b.clickTrackingParams),h=Am(),bl(h,{click:{csn:e,visualElement:Kk(f)}},void 0));this.isYPCGetCartEndpointWithPrefetch(b)?this.handleYPCGetCartEndpointWithPrefetch(a,b):this.shouldSendNetworkRequest_(b)&&(d.ajaxPromise=
this.sendServiceAjax_(a,b,c));return d},
shouldSendNetworkRequest_:function(a){if(a.signalServiceEndpoint&&"CLIENT_SIGNAL"==a.signalServiceEndpoint.signal)return!1;for(var b in this.LOCALLY_HANDLED_ENDPOINTS_)if(this.LOCALLY_HANDLED_ENDPOINTS_[b]in a)return!1;return!0},
sendServiceAjax_:function(a,b,c){var d=this.getInterface(Vh);return d?new uc(function(e,f){d.requestDataForServiceEndpoint(b,c).then(function(b){b.data&&b.data.actions&&this.sendInnerTubeActions(b.data.actions,a);b.data&&e(new WH(b.data,b.data.actions))},function(a){f(a)},this)},this):zc("No network manager.")}};
B.YtEndpointHandlerBehavior=[UH.YtYpcGetCartEndpointBehavior,B.YtActionHandlerBehavior,B.YtActionSenderBehavior,B.YtEndpointHandlerBehaviorImpl_];Polymer({is:"yt-payments-manager",behaviors:[B.YtActionHandlerBehavior,B.YtActionSenderBehavior,Xd.ComponentBehavior],actionMap:{"yt-live-chat-start-buy-flow":"handleLiveChatBuyFlow_"},handleLiveChatBuyFlow_:function(a,b,c,d){b={chat_message_text:b,purchase_price_micros:c};this.getInterface(Vh).requestDataForServiceEndpoint(a,b).then(this.handleGetCartResponse_.bind(this,d),this.handleFlowError_.bind(this,d),this)},
handleGetCartResponse_:function(a,b){if(b.data&&b.data.messageRenderer)this.handleFlowError_(a,b);else{var c=function(c){c.buyFlowResponse?this.handleBuyFlowResponse_(a,b,c.buyFlowResponse):c.error?this.handleFlowError_(a,c.error):this.handleFlowClosed_(a)}.bind(this);
this.sendAction("yt-open-payments-dialog",[b.data.encryptedPurchaseParams,c])}},
handleBuyFlowResponse_:function(a,b,c){this.sendAction("yt-wallet-dialog-completed");if(c.data&&c.data.messageRenderer)this.handleFlowError_(a,c);else if("undefined"==c.integratorData)tm(Error((c.internalErrorDetails||"")+" Buy flow returned 'undefined' in place of integratorData")),this.handleFlowError_(a,{});else if(null!=c.error)tm(Error((c.internalErrorDetails||"")+" Buy flow returned error code: "+c.error)),this.handleFlowError_(a,{});else{var d=b.data.buybucketParams;c={payments_payload:window.btoa(c.integratorData),
buybucket_params:d};this.getInterface(Vh).requestDataForServiceEndpoint(b.data.completeTransactionEndpoint,c).then(this.handleCompleteTransactionSuccess_.bind(this,a),this.handleFlowError_.bind(this,a),this)}},
handleFlowClosed_:function(){this.sendAction("yt-wallet-dialog-closed")},
handleFlowError_:function(a,b){a({success:!1,error:b})},
handleCompleteTransactionSuccess_:function(a,b){b.data||(b={data:b});b.data.messageRenderer?this.handleFlowError_(a,b):a({success:!0,response:b})}});Polymer({is:"yt-live-chat-app",properties:{data:Object},behaviors:[R.YtPopupContainerBehavior,R.YtRendererStamperBehavior,B.YtRendererBehavior,B.YtActionRouterBehavior,B.YtEndpointHandlerBehavior],listeners:{"yt-live-chat-popup-config":"onPopupConfigReceived_","yt-navigate":"onYtNavigate_"},actionRouterIsRoot:!0,stampDom:{"data.contents":{id:"contents",mapping:{liveChatRenderer:"yt-live-chat-renderer",messageRenderer:"yt-live-chat-message-renderer"}}},created:function(){var a=new $n(window.location.href,
!0);void 0!==ro(a,"from_gaming")&&(a.removeParameter("from_gaming"),Af(window.location,a.toString()))},
ready:function(){this.$["visibility-monitor"].visibilityRoot=this;var a=window.ytInitialData;this.data=a&&a.continuationContents&&a.continuationContents.liveChatContinuation?{contents:{liveChatRenderer:a.continuationContents.liveChatContinuation}}:a},
onPopupConfigReceived_:function(a,b){this.initPopupContainerBehavior(b)},
onYtNavigate_:function(a){a=a.detail.endpoint;if(a.urlEndpoint){if("TARGET_NEW_WINDOW"==a.urlEndpoint.target){window.open(a.urlEndpoint.url,"_blank");return}if(kd(a.urlEndpoint.url)&&!nd(window.location.href,a.urlEndpoint.url)){Kn();this.navigateToUrl_(a.urlEndpoint.url);return}}(a=(Cd(Fd)||new Gd).getUrl(a))&&this.navigateToUrl_(a)},
navigateToUrl_:function(a){Af(window.top.location,a)}});}).call(this);
