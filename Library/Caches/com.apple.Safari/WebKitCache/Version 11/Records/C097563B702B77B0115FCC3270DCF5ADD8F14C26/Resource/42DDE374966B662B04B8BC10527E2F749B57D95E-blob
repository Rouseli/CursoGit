webpackJsonp([3],{188:function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t){return!t||0===Object.keys(t).length}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=e.target,o=e.currentTarget;n(this,t),this.target=i||this,this.currentTarget=o||this,this.eventMap={},this.destroyed=!1,this.on=this.bind=this.addEventListener=this.addListener,this.off=this.unbind=this.removeEventListener=this.removeListener,this.once=this.one=this.addListenerOnce,this.emit=this.trigger=this.dispatchEvent=this.dispatch}return t.prototype.addListener=function(t,e){var i=this.getListener(t);return i?-1===i.indexOf(e)&&i.push(e):this.eventMap[t]=[e],this},t.prototype.addListenerOnce=function(t,e){var i=this,n=function n(o){e(o),i.off(t,n)};return this.on(t,n)},t.prototype.removeListener=function(t,e){if(!e)return this.removeAllListener(t);var i=this.getListener(t);if(i){var n=i.indexOf(e);n>-1&&(i.splice(n,1),i.length||delete this.eventMap[t])}return this},t.prototype.removeAllListener=function(t){return this.getListener(t)&&(this.eventMap[t].length=0,delete this.eventMap[t]),this},t.prototype.hasListener=function(t){return null!==this.getListener(t)},t.prototype.hasListeners=function(){return null!==this.eventMap&&void 0!==this.eventMap&&!o(this.eventMap)},t.prototype.dispatch=function(t,e){var i=this.getListener(t);if(i){var n=e||{};n.type=t,n.target=n.target||this.target,n.currentTarget=n.currentTarget||this.currentTarget;for(var o=-1;++o<i.length;)i[o](n)}return this},t.prototype.getListener=function(t){return(this.eventMap?this.eventMap[t]:null)||null},t.prototype.destroy=function(){if(this.eventMap)for(var t=Object.keys(this.eventMap),e=0;e<t.length;e++)this.removeAllListener(t[e]);return this.eventMap=null,this.destroyed=!0,this},t}();e.default=r,t.exports=e.default},189:function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=function(){function t(e){var i=e.downloadDataAttribute,o=e.buttonSelector,r=e.iframeSelector,s=e.successMessageSelector,a=e.errorMessageSelector,l=e.downloadTracker,c=e.storage,h=e.domDelegate,u=e.delayLaunchDownload,d=void 0===u?3e3:u,p=e.allowedReferralPageId,f=void 0===p?"app-download":p;n(this,t),this._downloadDataAttribute=i,this._buttonSelector=o,this._downloadTracker=l,this._downloadIframe=document.querySelector(r),this._successMessageSelector=s,this._errorMessageSelector=a,this._storage=c,this._domDelegate=h,this._domDelegateScope=null,this._delayLaunchDownload=d,this._allowedReferralPageId=f,this._onClickButton=this._onClickButton.bind(this)}return o(t,[{key:"start",value:function(){var t=this,e=Array.from(document.querySelectorAll(this._buttonSelector)),i=this._getMainDownloadData(e);this._successMessageElement=document.querySelector(this._successMessageSelector),this._errorMessageElement=document.querySelector(this._errorMessageSelector),this._domDelegateScope=this._domDelegate(document),this._domDelegateScope.on("click",this._buttonSelector,this._onClickButton),i&&i.downloadUrl&&(this._canLaunchDownloadOnStart(i)&&window.setTimeout(function(){t._launchDownload(i)},this._delayLaunchDownload),this._canTrackOnStart()&&this._track())}},{key:"_getMainDownloadData",value:function(t){var e=this;return t.map(function(t){return e._extractDownloadData(t)}).filter(this._hasLaunchDownloadOnStart)[0]}},{key:"_extractDownloadData",value:function(t){return JSON.parse(t.getAttribute(this._downloadDataAttribute))}},{key:"_hasLaunchDownloadOnStart",value:function(t){return t.launchDownloadOnStart}},{key:"_canLaunchDownloadOnStart",value:function(t){return!t.isExternalDownload&&this._isReferrerDownloadPage()}},{key:"_canTrackOnStart",value:function(){return this._isReferrerDownloadPage()}},{key:"_isReferrerDownloadPage",value:function(){return this._storage.getItem(t.STORAGE_REFERRER_PAGE_ID)===this._allowedReferralPageId}},{key:"_showErrorMessage",value:function(){this._successMessageElement.classList.add("is-hidden"),this._errorMessageElement.classList.remove("is-hidden")}},{key:"_track",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=e.downloadAgain,n=void 0!==i&&i;return this._downloadTracker.track({downloadAgain:n}).catch(function(){return t._showErrorMessage()})}},{key:"_launchDownload",value:function(t){t.isExternalDownload?window.open(t.downloadUrl,"_blank"):this._downloadIframe.src=t.downloadUrl}},{key:"_onClickButton",value:function(t,e){t.preventDefault();var i=this._extractDownloadData(e);this._launchDownload(i),i.redirectUrl&&this.setWindowLocation(i.redirectUrl),i.launchDownloadOnStart&&this._track({downloadAgain:!0})}},{key:"setWindowLocation",value:function(t){window.location.href=t}}]),t}();r.STORAGE_REFERRER_PAGE_ID="referrerPageId",e.default=r},190:function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){var i={method:"post",credentials:"include",mode:"no-cors",headers:{Accept:"application/json","Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},body:l.default.stringify(e)};return fetch(t,i).then(h.default).then(function(t){return t.json()})}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=i(21),l=n(a),c=i(20),h=n(c),u=function(){function t(e){var i=e.cts,n=e.tracker,r=e.storage,s=e.trackingConfig,a=void 0===s?{}:s;o(this,t);var l=a.transaction&&a.transaction.ua,c=a.downloadAgain&&a.downloadAgain.ua;this._cts=i,this._tracker=n,this._storage=r,this._downloadAgainUAParams=c||{},this._downloadParams=a.download,this._transactionUAParams=l||{},this._currentTime=(new Date).getTime()}return s(t,[{key:"track",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.downloadAgain,i=void 0!==e&&e;return this._downloadParams.loggedUserId&&this.trackUserStats(),this._trackAddTransaction(),this._trackPartnerApp(),i&&this._trackDownloadAgain(),this.trackBIData()}},{key:"_trackAddTransaction",value:function(){this._cts.trackEvent({ua:{event:"trackTrans",transactionId:this._transactionUAParams.transactionId,transactionAffiliation:"Free",transactionTotal:"1",transactionTax:"0",transactionShipping:"0",transactionProducts:[{sku:this._transactionUAParams.appName,name:this._transactionUAParams.appName,category:this._transactionUAParams.appCategories,price:"1",quantity:"1"}]}})}},{key:"_trackPartnerApp",value:function(){var e=this._downloadParams,i=e.appId,n=e.appSlug,o=t.STORAGE_APP_SOURCE_TEMPLATE.replace("{appId}",i);"partner"===this._storage.getItem(o)&&this._tracker.track("downloadPartnerApp",{appSlug:n})}},{key:"_trackDownloadAgain",value:function(){var t=(new Date).getTime()-this._currentTime;this._tracker.track("downloadAgain",{appSlug:this._downloadAgainUAParams.appSlug,elapsedTime:t})}},{key:"trackBIData",value:function(){var t=this,e=this._downloadParams,i=e.appDownloadTrackingUrl,n=e.appId,o=e.isDownloadableFile,s=e.isPromotedDownload,a=void 0!==s&&s;return r(i,{action:"try",index:0,id_version:"",is_sponsored:"",is_dbn:"",external_download_type:this._getDownloadType(),is_alternative:this._isAlternativeDownload(),dbn_launched:a}).then(function(e){if("KO"===e.response.result&&o)throw t._trackFileNotAvailable(),new Error("Failed to track download, app id: "+n);return e})}},{key:"_getDownloadType",value:function(){var t=this._downloadParams,e=t.isDownloadableFile,i=t.isExternalDownload,n=e&&i,o="";return n?o="file":i&&(o="redirect"),o}},{key:"_isAlternativeDownload",value:function(){var t=this._downloadParams,e=t.externalDownloadUrl,i=t.internalDownloadUrl,n=t.isExternalDownload;return!(!e||!i||!n)}},{key:"_getTokenForTrackingUserStats",value:function(){return fetch("/verify-hash",{mode:"no-cors",credentials:"include"}).then(h.default).then(function(t){return t.json()}).then(function(t){var e=t.response;if("OK"!==e.response){var i=new Error;throw i._getTokenFailed=!0,i}return e.data})}},{key:"_trackFileNotAvailable",value:function(){var t=this._downloadParams,e=t.appId,i=t.legacyPlatformId,n=this._getDownloadType();this._tracker.track("fileNotAvailable",{legacyPlatformId:i,appId:e,downloadType:n})}},{key:"trackUserStats",value:function(){var t=this._downloadParams,e=t.appId,i=t.loggedUserId;return this._getTokenForTrackingUserStats().then(function(t){return r("/notify-download",{program_id:e,uid:i,verify_hash:t})}).catch(function(t){if(t._getTokenFailed)throw new Error("Failed to get token for tracking user stats, app id: "+e);throw new Error("Failed to track user stats, app id: "+e)})}}]),t}();u.STORAGE_APP_SOURCE_TEMPLATE="srcapp{appId}",e.default=u},191:function(t,e){function i(){for(var t,e,n=[],r=-1;++r<arguments.length;)if(arguments[r])if(t=arguments[r],"string"===(e=typeof t)||"number"===e)n.push(t);else if(Array.isArray(t)){var s=i.apply(null,t);n=n.length?n.join(" ").split(" "):n;for(var a=-1;++a<s.length;)-1===n.indexOf(s[a])&&n.push(s[a])}else if("object"===e){var l=n.length;n=l?n.join(" ").split(" "):n;for(var c in t)if(o.call(t,c)){var h=l?n.indexOf(c):-1;t[c]?h<0&&(n.push(c),++l):h>-1&&n.splice(h,1)}}return n}function n(){return i.apply(null,arguments).join(" ")}var o={}.hasOwnProperty;t.exports=n},193:function(t,e,i){"use strict";var n=/(auto|scroll)/,o=function(t){var e=window.getComputedStyle(t,null);return n.test(e.getPropertyValue("overflow")+e.getPropertyValue("overflow-y")+e.getPropertyValue("overflow-x"))};t.exports=o},194:function(t,e,i){"use strict";var n=i(193),o=function(t){if(!(t instanceof HTMLElement))return window;for(;t.parentNode;){if(t.parentNode===document.body)return window;if(n(t.parentNode))return t.parentNode;t=t.parentNode}return window};t.exports=o},195:function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),l=i(188),c=n(l),h=i(194),u=n(h),d=function(){window.requestAnimationFrame||(window.requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,window.cancelAnimationFrame=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame)},p=function(t){function e(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(o(this,e),e.hasInstance(i)){var s;return s=e.getInstance(i),r(a,s)}var a=r(this,t.call(this,{target:i}));return a._scrollTarget=null,a._y=0,a._x=0,a._speedY=0,a._speedX=0,a._lastSpeed=0,a._lastDirectionY=e.direction.none,a._lastDirectionX=e.direction.none,a._stopFrames=3,a._currentStopFrames=0,a._firstRender=!0,a._directionY=e.direction.none,a._directionX=e.direction.none,a._scrolling=!1,a._canScrollY=!1,a._canScrollX=!1,i.scrollFeatures=a,a._scrollTarget=i,a.options=n,g.animationFrame&&d(),a.init(),a}return s(e,t),e.getInstance=function(t,i){return t.scrollFeatures?t.scrollFeatures:new e(t,i)},e.hasInstance=function(t){return void 0!==t.scrollFeatures},e.getScrollParent=function(t){return(0,u.default)(t)},a(e,null,[{key:"windowY",get:function(){return window.pageYOffset||window.scrollY||0}},{key:"windowX",get:function(){return window.pageXOffset||window.scrollX||0}},{key:"documentHeight",get:function(){return Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)}},{key:"documentWidth",get:function(){return Math.max(document.body.scrollWidth,document.body.offsetWidth,document.documentElement.clientWidth,document.documentElement.scrollWidth,document.documentElement.offsetWidth)}}]),e.prototype.init=function(){var t=this;if(this.getScrollPosition=this._scrollTarget===window?function(){return{y:e.windowY,x:e.windowX}}.bind(this):function(){return{y:this._scrollTarget.scrollTop,x:this._scrollTarget.scrollLeft}}.bind(this),this.onResize=function(){t.trigger(e.events.SCROLL_RESIZE)},this.onScroll=this.onScroll.bind(this),this.onNextFrame=this.onNextFrame.bind(this),this.updateScrollPosition(),this._scrollTarget!==window){var i=/(auto|scroll)/,n=window.getComputedStyle(this._scrollTarget,null);this._canScrollY=i.test(n.getPropertyValue("overflow-y")),this._canScrollX=i.test(n.getPropertyValue("overflow-x"))}else this._canScrollY=this.clientHeight<this.scrollHeight,this._canScrollX=this.clientWidth<this.scrollWidth;this._scrollTarget.addEventListener?(this._scrollTarget.addEventListener("scroll",this.onScroll,!1),this._scrollTarget.addEventListener("resize",this.onResize,!1)):this._scrollTarget.attachEvent&&(this._scrollTarget.attachEvent("scroll",this.onScroll),this._scrollTarget.attachEvent("resize",this.onResize))},e.prototype.destroy=function(){this._cancelNextFrame(),t.prototype.destroy.call(this),this._scrollTarget&&(this._scrollTarget.addEventListener?(this._scrollTarget.removeEventListener("scroll",this.onScroll),this._scrollTarget.removeEventListener("resize",this.onResize)):this._scrollTarget.attachEvent&&(this._scrollTarget.detachEvent("scroll",this.onScroll),this._scrollTarget.detachEvent("resize",this.onResize))),this.onResize=null,this.onScroll=null,this.getScrollPosition=null,this.onNextFrame=null,delete this._scrollTarget.scrollFeatures,this._scrollTarget=null},e.prototype.updateScrollPosition=function(){this._y=this.y,this._x=this.x},e.prototype.onScroll=function(){if(this._currentStopFrames=0,this._firstRender&&(this._firstRender=!1,this.y>1||this.x>1))return this.updateScrollPosition(),void this.trigger(e.events.SCROLL_PROGRESS);this._scrolling||(this._scrolling=!0,this._lastDirectionY=e.direction.none,this._lastDirectionX=e.direction.none,this.trigger(e.events.SCROLL_START),g.animationFrame?this.nextFrameID=window.requestAnimationFrame(this.onNextFrame):this.onNextFrame())},e.prototype.onNextFrame=function(){var t=this;this._speedY=this._y-this.y,this._speedX=this._x-this.x;var i=+this.speedY+ +this.speedX;if(this._scrolling&&0===i&&this._currentStopFrames++>this._stopFrames)return void this.onScrollStop();this.updateScrollPosition(),this._lastDirectionY!==this.directionY&&this.trigger("scroll:"+(this.directionY===e.direction.down?"down":"up")),this._lastDirectionX!==this.directionX&&this.trigger("scroll:"+(this.directionX===e.direction.right?"right":"left")),this._lastDirectionY=this.directionY,this._lastDirectionX=this.directionX,this.trigger(e.events.SCROLL_PROGRESS),g.animationFrame?this.nextFrameID=window.requestAnimationFrame(this.onNextFrame):this._nextTimeout=setTimeout(function(){t.onNextFrame()},1e3/60)},e.prototype.onScrollStop=function(){this._scrolling=!1,this.updateScrollPosition(),this.trigger(e.events.SCROLL_STOP),this._canScrollY&&(this.y<=0?this.trigger(e.events.SCROLL_MIN):this.y+this.clientHeight>=this.scrollHeight&&this.trigger(e.events.SCROLL_MAX)),this._canScrollX&&(this.x<=0?this.trigger(e.events.SCROLL_MIN):this.x+this.clientWidth>=this.scrollWidth&&this.trigger(e.events.SCROLL_MAX)),this._cancelNextFrame()},e.prototype._cancelNextFrame=function(){this._currentStopFrames=0,g.animationFrame?(window.cancelAnimationFrame(this.nextFrameID),this.nextFrameID=-1):clearTimeout(this._nextTimeout)},a(e,[{key:"scrollPosition",get:function(){return this.getScrollPosition()}},{key:"directionY",get:function(){return!this._canScrollY||0===this.speedY&&!this._scrolling?this._directionY=e.direction.none:this.speedY>0?this._directionY=e.direction.up:this.speedY<0&&(this._directionY=e.direction.down),this._directionY}},{key:"directionX",get:function(){return!this._canScrollX||0===this.speedX&&!this._scrolling?this._directionX=e.direction.none:this.speedX>0?this._directionX=e.direction.left:this.speedX<0&&(this._directionX=e.direction.right),this._directionX}},{key:"scrollTarget",get:function(){return this._scrollTarget}},{key:"scrolling",get:function(){return this._scrolling}},{key:"speedY",get:function(){return this._speedY}},{key:"speedX",get:function(){return this._speedX}},{key:"canScrollY",get:function(){return this._canScrollY}},{key:"canScrollX",get:function(){return this._canScrollX}},{key:"y",get:function(){return this.scrollPosition.y}},{key:"x",get:function(){return this.scrollPosition.x}},{key:"clientHeight",get:function(){return this._scrollTarget===window?window.innerHeight:this._scrollTarget.clientHeight}},{key:"clientWidth",get:function(){return this._scrollTarget===window?window.innerWidth:this._scrollTarget.clientWidth}},{key:"scrollHeight",get:function(){return this._scrollTarget===window?e.documentHeight:this._scrollTarget.scrollHeight}},{key:"scrollWidth",get:function(){return this._scrollTarget===window?e.documentWidth:this._scrollTarget.scrollWidth}}]),e}(c.default);p.direction={up:-1,down:1,none:0,right:2,left:-2},p.events={SCROLL_PROGRESS:"scroll:progress",SCROLL_START:"scroll:start",SCROLL_STOP:"scroll:stop",SCROLL_DOWN:"scroll:down",SCROLL_UP:"scroll:up",SCROLL_MIN:"scroll:min",SCROLL_MAX:"scroll:max",SCROLL_RESIZE:"scroll:resize"},e.default=p;var f=null,g=function(){function t(){o(this,t)}return a(t,null,[{key:"animationFrame",get:function(){return null===f&&(f=!!(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame)),f}}]),t}();t.exports=e.default},196:function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),l=i(197),c=n(l),h=i(191),u=n(h),d=i(188),p=n(d),f=i(195),g=n(f),w={disabled:!1,className:"sticky",stateClassName:"is-sticky",fixedClass:"sticky-fixed",wrapperClass:"sticky-wrap",wrapFixedSticky:!0,absoluteClass:"is-absolute",scrollClass:{down:null,up:null,none:null,persist:!1,active:!1}},y={sticky:!1,absolute:!1,fixedOffset:"",offsetHeight:0,bounds:{top:null,left:null,right:null,bottom:null,height:null,width:null},restrict:{top:null,left:null,right:null,bottom:null,height:null,width:null},wrapperStyle:null,elementStyle:null,initialStyle:null,style:{top:null,bottom:null,left:null,right:null,"margin-top":0,"margin-bottom":0,"margin-left":0,"margin-right":0},disabled:!1},m=function(t,e){var i=t.getBoundingClientRect(),n=i.top+g.default.windowY,o=e||i.height;return{top:n,bottom:n+o,height:o,width:i.width,left:i.left,right:i.right}},v=function(t,e){var i=(0,c.default)({},t);return i.top-=e.top,i.left-=e.left,i.right=i.left+t.width,i.bottom=i.top+t.height,i},_=function(t){var e={},i=window.getComputedStyle(t,null);for(var n in y.style){var o=parseInt(i.getPropertyValue(n));o=isNaN(o)?null:o,e[n]=o}return e},S=function t(e){var i=e.previousElementSibling;return i&&"script"===i.tagName.toLocaleLowerCase()&&(i=t(i)),i},b=function(t){function e(i,n){o(this,e);var s;i instanceof window.NodeList&&(s=[].slice.call(i,1),i=i[0]);var a=r(this,t.call(this,{target:i}));if(a.el=null,a.firstRender=!0,a.scroll=null,a.wrapper=null,a.options=null,a.el=i,n&&n.scrollClass&&(n.scrollClass=(0,c.default)({},w.scrollClass,n.scrollClass,{active:!0})),a.options=(0,c.default)({},w,n),a.setState((0,c.default)({},y,{disabled:a.options.disabled}),!0),a.scrollTarget=g.default.getScrollParent(a.el),a.hasOwnScrollTarget=a.scrollTarget!==window,a.hasOwnScrollTarget&&(a.updateFixedOffset=a.updateFixedOffset.bind(a)),a.render=a.render.bind(a),a.addSrollHandler(),a.addResizeHandler(),a.render(),s&&s.length){var l,h=e.apply(s,n);return h.push(a),l=h,r(a,l)}return a}return s(e,t),e.apply=function(t,i){if(t&&t.length){for(var n=new O,o=0;o<t.length;o++)n.push(new e(t[o],i));return n}return new e(t,i)},e.prototype.setState=function(t,e){this.lastState=this.state||t,this.state=(0,c.default)({},this.state,t),!0!==e&&(this.render(),this.trigger(this.state.sticky?"sticky:on":"sticky:off"))},e.prototype.disable=function(t){this.setState({disabled:t},t)},e.prototype.getBoundingClientRect=function(){return this.el.getBoundingClientRect()},e.prototype.getBounds=function(t){var e=this.getBoundingClientRect(),i=g.default.documentHeight;if(!0!==(t=!0===t)&&null!==this.state.bounds.height&&this.state.offsetHeight===i&&e.height===this.state.bounds.height)return{offsetHeight:i,style:this.state.style,bounds:this.state.bounds,restrict:this.state.restrict};var n=this.state.initialStyle;n||(n=_(this.el));var o,r,s=n,a=this.wrapper||this.el,l=0;if(T.sticky){var c=S(a);l=0,c?(l=parseInt(window.getComputedStyle(c)["margin-bottom"]),l=l||0,o=m(c),this.hasOwnScrollTarget&&(o=v(o,m(this.scrollTarget)),l+=this.scroll.y),o.top=o.bottom+l):(c=a.parentNode,l=parseInt(window.getComputedStyle(c)["padding-top"]),l=l||0,o=m(c),this.hasOwnScrollTarget&&(o=v(o,m(this.scrollTarget)),l+=this.scroll.y),o.top=o.top+l),this.hasOwnScrollTarget&&(r=m(this.scrollTarget),r.top=0,r.height=this.scroll.scrollHeight||r.height,r.bottom=r.height),o.height=a.clientHeight,o.width=a.clientWidth,o.bottom=o.top+o.height}else if(o=m(a,e.height),this.hasOwnScrollTarget){var h=m(this.scrollTarget);l=this.scroll.y,o=v(o,h),r=h,r.top=0,r.height=this.scroll.scrollHeight||r.height,r.bottom=r.height}return r=r||m(a.parentNode),{offsetHeight:i,style:s,bounds:o,initialStyle:n,restrict:r}},e.prototype.updateBounds=function(t,e){t=!0===t,e=!0===e,this.setState(this.getBounds(e),t)},e.prototype.updateFixedOffset=function(){this.lastState.fixedOffset=this.state.fixedOffset,this.state.sticky?this.state.fixedOffset=this.scrollTarget.getBoundingClientRect().top+"px;":this.state.fixedOffset="",this.lastState.fixedOffset!==this.state.fixedOffset&&this.render()},e.prototype.addSrollHandler=function(){if(!this.scroll){var t=g.default.hasInstance(this.scrollTarget);this.scroll=g.default.getInstance(this.scrollTarget),this.onScroll=this.onScroll.bind(this),this.scroll.on("scroll:start",this.onScroll),this.scroll.on("scroll:progress",this.onScroll),this.scroll.on("scroll:stop",this.onScroll),this.options.scrollClass.active&&(this.onScrollDirection=this.onScrollDirection.bind(this),this.scroll.on("scroll:up",this.onScrollDirection),this.scroll.on("scroll:down",this.onScrollDirection),this.options.scrollClass.persist||this.scroll.on("scroll:stop",this.onScrollDirection)),t&&this.scroll.scrollY>0&&this.scroll.trigger("scroll:progress")}},e.prototype.removeSrollHandler=function(){this.scroll&&(this.scroll.off("scroll:start",this.onScroll),this.scroll.off("scroll:progress",this.onScroll),this.scroll.off("scroll:stop",this.onScroll),this.options.scrollClass.active&&(this.scroll.off("scroll:up",this.onScrollDirection),this.scroll.off("scroll:down",this.onScrollDirection),this.scroll.off("scroll:stop",this.onScrollDirection)),this.scroll.hasListeners()||this.scroll.destroy(),this.onScroll=null,this.onScrollDirection=null,this.scroll=null)},e.prototype.addResizeHandler=function(){this.onResize||(this.onResize=this.update.bind(this),window.addEventListener("sticky:update",this.onResize,!1),window.addEventListener("resize",this.onResize,!1),window.addEventListener("orientationchange",this.onResize,!1))},e.prototype.removeResizeHandler=function(){this.onResize&&(window.removeEventListener("sticky:update",this.onResize),window.removeEventListener("resize",this.onResize),window.removeEventListener("orientationchange",this.onResize),this.onResize=null)},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.removeSrollHandler(),this.removeResizeHandler(),this.render=null,this.el=null,this.state=null,this.wrapper=null},e.prototype.getScrollClasses=function(t){if(this.options.scrollClass.active){t=t||{};var e=this.scroll.y<=0||this.scroll.y+this.scroll.clientHeight>=this.scroll.scrollHeight?0:this.scroll.directionY;t[this.options.scrollClass.up]=e<0,t[this.options.scrollClass.down]=e>0}return t},e.prototype.onScrollDirection=function(t){(this.state.sticky||t.type===g.default.events.SCROLL_STOP)&&(this.el.className=(0,u.default)(this.el.className,this.getScrollClasses()))},e.prototype.onScroll=function(t){this.updateStickyState(!1),this.hasOwnScrollTarget&&!T.sticky&&(this.updateFixedOffset(),this.state.sticky&&!this.hasWindowScrollListener?(this.hasWindowScrollListener=!0,g.default.getInstance(window).on("scroll:progress",this.updateFixedOffset)):!this.state.sticky&&this.hasWindowScrollListener&&(this.hasWindowScrollListener=!1,g.default.getInstance(window).off("scroll:progress",this.updateFixedOffset)))},e.prototype.update=function(){this.scroll.updateScrollPosition(),this.updateBounds(!0,!0),this.updateStickyState(!1)},e.prototype.getStickyState=function(){if(this.state.disabled)return{sticky:!1,absolute:!1};var t=this.scroll.y,e=(this.scroll.x,this.state.style.top),i=this.state.style.bottom,n=this.state.sticky,o=this.state.absolute;if(null!==e){var r=this.state.restrict.bottom-this.state.bounds.height-e;e=this.state.bounds.top-e,!1===this.state.sticky&&(t>=e&&t<=r||e<=0&&t<e)?(n=!0,o=!1):this.state.sticky&&(e>0&&t<e||t>r)&&(n=!1,o=t>r)}else if(null!==i){t+=window.innerHeight;var s=this.state.restrict.top+this.state.bounds.height-i;i=this.state.bounds.bottom+i,!1===this.state.sticky&&t<=i&&t>=s?(n=!0,o=!1):this.state.sticky&&(t>i||t<s)&&(n=!1,o=t<=s)}return{sticky:n,absolute:o}},e.prototype.updateStickyState=function(t){var e=this.getStickyState();e.sticky===this.state.sticky&&e.absolute===this.state.absolute||(t=!0===t,e=(0,c.default)(e,this.getBounds()),this.setState(e,t))},e.prototype.render=function(){if(!this.state.disabled){var t={};if(this.firstRender){if(this.firstRender=!1,!T.sticky){this.wrapper=document.createElement("div"),this.wrapper.className=this.options.wrapperClass;var e=this.el.parentNode;e&&e.insertBefore(this.wrapper,this.el),this.options.wrapFixedSticky&&this.wrapper.appendChild(this.el),t[this.options.fixedClass]=!0}this.updateBounds(!0,!0),this.updateStickyState(!0)}if(!T.sticky){var i="",n=this.state.disabled||null===this.state.bounds.height||!this.state.sticky&&!this.state.absolute?"auto;":this.state.bounds.height+"px;",o="height:"+n;o+="auto;"===n?"":(this.state.style["margin-top"]?"margin-top:"+this.state.style["margin-top"]+"px;":"0;")+(this.state.style["margin-bottom"]?"margin-bottom"+this.state.style["margin-bottom"]+"px;":"0;"),this.state.absolute!==this.lastState.absolute&&(o+=this.state.absolute?"position:relative;":"",t[this.options.absoluteClass]=this.state.absolute,i+=this.state.absolute?null!==this.state.style.top?"margin-top:"+(this.state.restrict.height-(this.state.bounds.height+this.state.style.top)+(this.state.restrict.top-this.state.bounds.top))+"px;":"margin-top:0;"+(null!==this.state.style.bottom?"margin-bottom:"+(this.state.restrict.height-(this.state.bounds.height+this.state.style.bottom)+(this.state.restrict.bottom-this.state.bounds.bottom))+"px;":"margin-bottom:0;"):"margin-bottom:0;margin-top:0;"),null===this.state.style.top&&null===this.state.style.bottom||!this.hasOwnScrollTarget||this.state.absolute||this.lastState.fixedOffset===this.state.fixedOffset||(i+="margin-top:"+(this.state.fixedOffset?this.state.fixedOffset:"0;")),this.state.wrapperStyle!==o&&(this.state.wrapperStyle=o,this.wrapper.style.cssText+=o),this.state.elementStyle!==i&&(this.state.elementStyle=i,this.el.style.cssText+=i)}t[this.options.stateClassName]=this.state.sticky,t=this.getScrollClasses(t);var r=(0,u.default)(this.el.className,t);return this.el.className!==r&&(this.el.className=r),this.el}},a(e,null,[{key:"native",get:function(){return T.sticky}}]),e}(p.default),k=null,T=function(){function t(){o(this,t)}return a(t,null,[{key:"sticky",get:function(){if(null!==k)return k;if("undefined"!=typeof window){if(window.Modernizr&&window.Modernizr.hasOwnProperty("csspositionsticky"))return k=window.Modernizr.csspositionsticky;var t=document.documentElement,e=document.createElement("div");t.appendChild(e);var i=["sticky","-webkit-sticky"];k=!1;for(var n=0;n<i.length&&(e.style.position=i[n],!(k=!!window.getComputedStyle(e).position.match("sticky")));n++);t.removeChild(e)}return k}}]),t}(),O=function(t){function e(){o(this,e);var i=r(this,t.call(this));return i.items=[],i}return s(e,t),e.prototype.push=function(t){this.items.push(t)},e.prototype.update=function(){for(var t=-1;++t<this.items.length;)this.items[t].update()},e.prototype.addListener=function(t,e){for(var i=-1;++i<this.items.length;)this.items[i].addListener(t,e);return this},e.prototype.removeListener=function(t,e){for(var i=-1;++i<this.items.length;)this.items[i].removeListener(t,e);return this},e}(p.default);e.default=b,t.exports=e.default},197:function(t,e,i){"use strict";function n(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}var o=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},i=0;i<10;i++)e["_"+String.fromCharCode(i)]=i;if("0123456789"!==Object.getOwnPropertyNames(e).map(function(t){return e[t]}).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach(function(t){n[t]=t}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(t){return!1}}()?Object.assign:function(t,e){for(var i,s,a=n(t),l=1;l<arguments.length;l++){i=Object(arguments[l]);for(var c in i)o.call(i,c)&&(a[c]=i[c]);if(Object.getOwnPropertySymbols){s=Object.getOwnPropertySymbols(i);for(var h=0;h<s.length;h++)r.call(i,s[h])&&(a[s[h]]=i[s[h]])}}return a}},210:function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=function(){function t(e){var i=e.tracker,o=e.params,r=e.alternativeAppsSelector;n(this,t);var s=o.showAlternativeModule,a=s.active,l=s.appSlug;this._tracker=i,this._app={slug:l},this._active=a,this._alternativeAppsSelector=r}return o(t,[{key:"start",value:function(){if("1"===this._active){var t=document.querySelectorAll(this._alternativeAppsSelector).length;this._tracker.track("showAlternativeRecommendations",{app:this._app,amountAlternativeApps:t})}}}]),t}();e.default=r},25:function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}var o=i(196),r=n(o),s=i(19),a=n(s),l=i(81),c=n(l),h=i(210),u=n(h),d=i(189),p=n(d),f=i(190),g=n(f);t.exports={register:function(t){t.service("stickyComponent",function(){return{start:function(){var t=document.querySelectorAll(".app-page-sticky");Array.from(t).forEach(function(t){return new r.default(t,{stateClassName:"app-page-sticky--moving",absoluteClass:"app-page-sticky--stopped"})})}}}),t.service("modalComponent",function(){return new c.default({domDelegate:a.default})}),t.service("alternativeAppsTracking",function(){return new u.default({tracker:t.get("tracker"),params:t.get("trackingConfig"),alternativeAppsSelector:".alternative-apps-content .cu-app"})}),t.service("downloadModuleDisplayer",function(){return{start:function(){setTimeout(function(){return document.getElementById("js-app-download-info").classList.remove("is-hidden")},1800)}}}),t.service("downloadLauncher",function(t){var e=new g.default({cts:t.get("cts"),trackingConfig:t.get("trackingConfig"),tracker:t.get("tracker"),storage:t.get("sessionStorage")});return new p.default({downloadDataAttribute:"data-download",buttonSelector:".js-launch-download",downloadTracker:e,storage:t.get("sessionStorage"),domDelegate:a.default})})},boot:function(t){var e=t.get("sam");e.cmd.push(function(){e.display("top-leaderboard-app-download-page-desktop").then(function(){var t=document.getElementById("top-leaderboard-app-download-page-desktop");t&&(t.style.display="inline-block")}).catch(console.log)}),e.cmd.push(function(){e.display("aside-top-app-download-page-desktop").then(function(){var t=document.getElementById("aside-top-app-download-page-desktop");t&&(t.style.display="inline-block")}).catch(console.log)}),t.get("stickyComponent").start(),t.get("modalComponent").start(),t.get("alternativeAppsTracking").start(),t.get("downloadModuleDisplayer").start(),t.get("downloadLauncher").start()}}}});
//# sourceMappingURL=chunk3-25d25.js.map