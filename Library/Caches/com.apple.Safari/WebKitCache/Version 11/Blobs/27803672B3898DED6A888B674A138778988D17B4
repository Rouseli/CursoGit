var iapiVersion="14.1.1.0";var iapiERR_OK=0;var iapiERR_NOK=-1;var iapiERR_BLOCKED=-2;var iapiCALLOUT_LOGIN='Login';var iapiCALLOUT_TEMPORARYTOKEN='GetTemporaryAuthenticationToken';var iapiCALLOUT_SESSIONVALIDATION='ValidateLoginSession';var iapiCALLOUT_MESSAGES='GetWaitingMessages';var iapiCALLOUT_SUBMITDIALOG='SubmitDialog';var iapiCALLOUT_FORGOTPASSWORD='ForgotPassword';var iapiCALLOUT_GETLOGGEDINPLAYER='GetLoggedInPlayer';var iapiCALLOUT_LOGOUT='Logout';var iapiEVENT_TIMER=10;var iapiUsername=null;var iapiPassword=null;var iapiRealMode=1;var iapiLanguageCode=null;var iapiAuthenticationType=null;var iapiDivname='iapidiv';var iapiIframename='iapiiframe';var iapiRealCookieIframe='iapirealcookieiframe';var iapiFunCookieIframe='iapifuncookieiframe';var iapiGetLoggedInPlayerRequestIdReal=1234567890;var iapiGetLoggedInPlayerRequestIdFun=9876543210;var iapiClientParams=[];var iapiWaitingMessagesId=0;var iapiCalloutFunctions=[];var iapiRequestIds=[];var iapiLoginSuccess=false;var iapiSessionValid=0;var iapiNextLogin=null;var iapiLoginModeDownload=false;var iapiLoginModeFlash=false;var iapiFlashLoginClientType=null;var iapiFlashLoginGameType=null;var iapiMessagesSupported=false;var iapiMessagesAnswered=false;function iapiLogin(aa,ba,ca,da){iapiLoginModeDownload=false;iapiLoginModeFlash=false;iapiAuthenticationType=iapiConf['authenticationType']
iapiBaseLogin(aa,ba,ca,da);return iapiERR_OK;};function iapiLoginExternalToken(ea,fa,ga){iapiLoginModeDownload=false;iapiLoginModeFlash=false;iapiAuthenticationType='externalToken';iapiBaseLogin(null,ea,fa,ga);return iapiERR_OK;}
function iapiLoginAdminUsername(ha,ia,ja,ka){iapiLoginModeDownload=false;iapiLoginModeFlash=false;iapiAuthenticationType='adminUsername';iapiBaseLogin(ha,ia,ja,ka);return iapiERR_OK;}
function iapiLaunchClient(la,ma,na,oa,pa,qa){if(iapiConf['clientUrl_'+la]){var ra=iapiConf['clientUrl_'+la];if(ma){ra=iapiAddUrlParams(ra,'game='+ma);}
if(na){ra=iapiAddUrlParams(ra,'preferedmode='+na);}
if(iapiClientParams['clientParams_'+la]){ra=iapiAddUrlParams(ra,iapiClientParams['clientParams_'+la]);}
if(iapiLoginModeFlash){document.location=ra;return;}
var sa='width=800,height=600';if(pa!=undefined&&qa!=undefined){if(pa==-1&&qa==-1){sa='';if(navigator.appName=='Microsoft Internet Explorer'||(navigator.userAgent.indexOf('Safari')>=0&&navigator.userAgent.indexOf('Chrome')<0)){sa='left=0,top=0,';};var ta=screen.width;var ua=screen.height;if(screen.availWidth!=undefined){ta=screen.availWidth;ua=screen.availHeight;}
if(typeof(innerWidth)=='number'&&typeof(outerWidth)=='number'){ta-=(outerWidth-innerWidth);ua-=(outerWidth-innerWidth);}
sa+='width='+ta+',height='+ua;}
else{sa='width='+pa+',height='+qa;};}
else if(iapiConf['windowSize_'+la]){var va=iapiConf['windowSize_'+la][ma];if(va==undefined){va=iapiConf['windowSize_'+la]['default'];};if(va!=undefined&&iapiConf['windowSizes'][va]){sa=iapiConf['windowSizes'][va];};};if(oa!=null&&oa.length>0){var w=document.getElementById(oa);if(w){w.src=ra;return iapiERR_OK;};}
else{oa='';};var wa='toolbar=no,menubar=no,scrollbars=no,resizable=no';if(iapiConf['windowParams_'+la]){wa=iapiConf['windowParams_'+la];};windowParams=sa+','+wa;var xa=window.open(ra,oa,windowParams);if(xa==null||xa.closed){return iapiERR_BLOCKED;};return iapiERR_OK;}
return iapiERR_NOK;};function iapiSetClientParams(ya,za){iapiClientParams['clientParams_'+ya]=za;};function iapiRequestTemporaryToken(Aa,Ba,Ca){iapiClearRedirectRequests(iapiCALLOUT_TEMPORARYTOKEN,Aa);var Da='GetTemporaryAuthenticationToken.php?'+'casinoname='+iapiConf['casinoname'];if(Ca!=undefined){Da+='&serviceType='+Ca;}
else{Da+='&serviceType='+iapiConf['serviceType'];};if(Ba!=undefined){Da+='&systemId='+Ba;}
else{Da+='&systemId='+iapiConf['systemId'];};if(Aa!=undefined){Da+='&realMode='+Aa;};if(iapiGWMode){jsonObject=new Object();jsonObject.ID=30001;if(Ca!=undefined){jsonObject.serviceType=Ca;}
else{jsonObject.serviceType=iapiConf['serviceType'];};if(Ba!=undefined){jsonObject.systemId=Ba;}
else{jsonObject.systemId=iapiConf['systemId'];};Da=iapiEncodeGWJson(jsonObject,Aa);};iapiMakeRedirectRequest(Da,null,iapiCALLOUT_TEMPORARYTOKEN);return iapiERR_OK;};function iapiDownloadLogin(Ea,Fa,Ga,Ha){iapiLoginModeDownload=true;iapiLoginModeFlash=false;iapiBaseLogin(Ea,Fa,Ga,Ha);return iapiERR_OK;};function iapiFlashLogin(Ia,Ja,Ka,La,Ma,Na){iapiLoginModeFlash=true;iapiLoginModeDownload=false;iapiFlashLoginClientType=Ma;iapiFlashLoginGameType=Na;iapiBaseLogin(Ia,Ja,Ka,La);return iapiERR_OK;};function iapiLogout(Oa,Pa){iapiUsername=null;iapiPassword=null;iapiClearRedirectRequests(iapiCALLOUT_LOGIN,Pa);if(Pa==1){iapiWriteClientCookie('loginSuccess=0&errorCode=0&expire=-1',1);}
else{iapiWriteClientCookie('loginSuccess=0&errorCode=0&expire=-1',0);};var Qa='Logout.php?'+'allSessions='+Oa+'&casinoname='+iapiConf['casinoname'];if(Pa!=undefined){Qa+='&realMode='+Pa;};if(iapiGWMode){jsonObject=new Object();jsonObject.ID=31013;Qa=iapiEncodeGWJson(jsonObject,Pa);};iapiMakeRedirectRequest(Qa,null,iapiCALLOUT_LOGOUT);return iapiERR_OK;};function iapiSetCallout(id,Ra){iapiCalloutFunctions[id]=Ra;return iapiERR_OK;};function iapiGetWaitingMessages(Sa,Ta){iapiClearRedirectRequests(iapiCALLOUT_MESSAGES,0);iapiClearRedirectRequests(iapiCALLOUT_MESSAGES,1);if(!Sa){Sa='login,bonus,alert';};var Ua='GetWaitingMessages.php?'+'messageTypes='+Sa+'&casinoname='+iapiConf['casinoname']+'&realMode='+Ta;if(iapiGWMode){jsonObject=new Object();jsonObject.ID=31013;jsonObject.messageTypes=Sa;Ua=iapiEncodeGWJson(jsonObject,Ta);};iapiMakeRedirectRequest(Ua,null,iapiCALLOUT_MESSAGES);return iapiERR_OK;};function iapiBonusConfirmation(Va,Wa,Xa){var Ya='SubmitDialog.php?'+'dialogType='+'BonusConfirmation'+'&casinoname='+iapiConf['casinoname'];if(Xa!=undefined){Ya+='&realMode='+Xa;};var Za=[];Za['bonusIdentifier']=Va;if(Wa){Za['accept']=1;}
else{Za['accept']=0;};if(iapiGWMode){jsonObject=new Object();jsonObject.ID=31022;if(Wa){jsonObject.accept='true';}
else{jsonObject.accept='false';};jsonObject.bonusIdentifier=Va;Ya=iapiEncodeGWJson(jsonObject,Xa);};iapiMakeRedirectRequest(Ya,Za,iapiCALLOUT_SUBMITDIALOG);return iapiERR_OK;};function iapiValidateTCVersion($a,ab,bb){var cb='ValidateLoginSession.php?'+'validationType='+'TCVersion'+'&casinoname='+iapiConf['casinoname'];if(bb!=undefined){cb+='&realMode='+bb;};var db=[];db['termVersionReference']=$a;if(ab){db['accept']=1;}
else{db['accept']=0;}
if(iapiGWMode){jsonObject=new Object();jsonObject.ID=31011;if(ab){jsonObject.accept='true';}
else{jsonObject.accept='false';};jsonObject.termVersionReference=$a;cb=iapiEncodeGWJson(jsonObject,bb);};iapiMakeRedirectRequest(cb,db,iapiCALLOUT_SESSIONVALIDATION);return iapiERR_OK;};function iapiValidatePasswordChange(eb,fb,gb,hb){var ib='ValidateLoginSession.php?'+'validationType='+'PasswordChange'+'&casinoname='+iapiConf['casinoname'];if(hb!=undefined){ib+='&realMode='+hb;};var jb=[];jb['oldPassword']=eb;jb['newPassword']=fb;if(gb){jb['changePassword']=1;}
if(iapiGWMode){jsonObject=new Object();jsonObject.ID=31028;jsonObject.newPassword=fb;jsonObject.oldPassword=eb;ib=iapiEncodeGWJson(jsonObject,hb);};iapiMakeRedirectRequest(ib,jb,iapiCALLOUT_SESSIONVALIDATION);return iapiERR_OK;};function iapiForgotPassword(kb,lb,mb,nb){var ob='ForgotPassword.php?'+'casinoname='+iapiConf['casinoname']+'&realMode='+nb;var pb=[];pb['username']=kb;pb['email']=lb;pb['birthDate']=mb;if(iapiGWMode){jsonObject=new Object();jsonObject.ID=31058;jsonObject.userName=kb;jsonObject.email=lb;jsonObject.birthDate=mb;ob=iapiEncodeGWJson(jsonObject,nb);};iapiMakeRedirectRequest(ob,pb,iapiCALLOUT_FORGOTPASSWORD);return iapiERR_OK;};function iapiGetLoggedInPlayer(qb){var rb='GetLoggedInPlayer.php?'+'casinoname='+iapiConf['casinoname']+'&realMode='+qb;if(iapiGWMode){jsonObject=new Object();jsonObject.ID=60006;rb=iapiEncodeGWJson(jsonObject,qb);};iapiMakeRedirectRequest(rb,null,iapiCALLOUT_GETLOGGEDINPLAYER);return iapiERR_OK;};function iapiSetAuthenticationType(sb){iapiConf['authenticationType']=sb;};function iapiSetClientSkin(tb){iapiConf['clientSkin']=tb;};function iapiSetClientType(ub){iapiConf['clientType']=ub;};function iapiSetClientVersion(vb){iapiConf['clientVersion']=vb;};function iapiSetClientChannel(wb){iapiConf['clientChannel']=wb;};function iapiSetGameType(xb){iapiConf['gameType']=xb;};function iapiSetGameTypePrefix(yb){iapiConf['gameTypePrefix']=yb;};function iapiSetClientPlatform(zb){iapiConf['clientPlatform']=zb;};function iapiSetSystemId(Ab){iapiConf['systemId']=Ab;};function iapiSetServiceType(Bb){iapiConf['serviceType']=Bb;};function iapiCallbackWaitingMessages(Cb){var Db=iapiGetRequest(iapiWaitingMessagesId);if(!Db){return;};var Eb={"errorCode":6,"errorText":"Invalid response.","playerMessage":""};if(Cb){if(Cb.errorCode){Eb={"errorCode":Cb.errorCode,"errorText":Cb.errorText,"playerMessage":Cb.playerMessage};}
else{Eb=null;}}
else{Cb=Eb;}
if(Eb&&Eb.errorCode==6){if(Db[3].length<iapiConf['loginDomainRetryCount']){var Fb=(new Date().getTime())+Math.round(Math.random()*1000000);var Gb=setTimeout('iapiRequestFailed('+Fb+')',iapiConf['loginDomainRetryInterval']*1000);iapiRegisterRequestId(Fb,iapiCALLOUT_MESSAGES,Gb,Db[3],Db[4],Db[5]);return;}}
if(iapiCalloutFunctions[iapiCALLOUT_MESSAGES]){setTimeout(function(){iapiCalloutFunctions[iapiCALLOUT_MESSAGES](Cb);},iapiEVENT_TIMER);};};function iapiBaseLogin(Hb,Ib,Jb,Kb){if((iapiHasRedirectRequest(iapiCALLOUT_LOGIN))&&iapiRealMode!=Jb){iapiNextLogin=[Hb,Ib,Jb,Kb];return iapiERR_OK;};iapiUsername=Hb;iapiPassword=Ib;if(Jb==1){iapiRealMode=1;}
else{iapiRealMode=0;};iapiLanguageCode=Kb;iapiLoginSuccess=false;iapiWriteClientCookie('loginInProgress=1',iapiRealMode);iapiContinueLogin();return iapiERR_OK;};function iapiContinueLogin(){iapiClearRedirectRequests(iapiCALLOUT_LOGIN,0);iapiClearRedirectRequests(iapiCALLOUT_LOGIN,1);var Lb='Login.php?'+'casinoname='+iapiConf['casinoname']+'&clientType='+iapiConf['clientType']+'&clientVersion='+iapiConf['clientVersion']+'&languageCode='+iapiLanguageCode;if(iapiLoginModeDownload){Lb+='&clientPlatform=download';}
else if(iapiConf['clientPlatform']){Lb+='&clientPlatform='+iapiConf['clientPlatform'];}
else{Lb+='&clientPlatform=flash';};if(iapiConf['clientSkin']){Lb+='&clientSkin='+iapiConf['clientSkin'];};if(iapiConf['clientChannel']){Lb+='&clientChannel='+iapiConf['clientChannel'];};if(iapiConf['gameType']){Lb+='&gameType='+iapiConf['gameType'];};if(iapiConf['gameTypePrefix']){Lb+='&gameTypePrefix='+iapiConf['gameTypePrefix'];};if(iapiRealMode==1){Lb+='&realMode=1';}
else{Lb+='&realMode=0';};var Mb=[];if(iapiAuthenticationType&&iapiAuthenticationType=='externalToken'){if(iapiUsername){Mb['username']=iapiUsername;}
Mb['externalToken']=iapiPassword;}
else if(iapiAuthenticationType&&iapiAuthenticationType=='adminUsername'){if(iapiUsername){Mb['adminUsername']=iapiUsername;}
Mb['externalToken']=iapiPassword;}
else{Mb['username']=iapiUsername;Mb['password']=iapiPassword;};if(iapiGWMode){jsonObject=new Object();jsonObject.ID=31001;jsonObject.userName=iapiUsername;if(iapiAuthenticationType&&iapiAuthenticationType=='externalToken'){jsonObject.externalToken=iapiPassword;}
else{jsonObject.password=iapiPassword;};jsonObject.clientVersion=iapiConf['clientVersion'];jsonObject.languageCode=iapiLanguageCode;Lb=iapiEncodeGWJson(jsonObject,iapiRealMode);};iapiMakeRedirectRequest(Lb,Mb,iapiCALLOUT_LOGIN);};function iapiWriteClientCookie(Nb,Ob){if(iapiLoginModeDownload){return;}
var Pb=iapiConf['clientCookieUrl'];if(!Pb){return;}
if(Pb.indexOf('://')<0){Pb=location.protocol+'//'+Pb;}
var Qb=Pb+'?'+Nb+'&casinoname='+iapiConf['casinoname']+'&realMode='+Ob;var Rb=iapiRealCookieIframe;if(Ob==0){Rb=iapiFunCookieIframe;}
iapiCreateDiv(iapiDivname);iapiCreateIframe(iapiDivname,Rb);iapiGet(Rb,Qb);};function iapiCreateDiv(id){if(document.getElementById(id)){return;};var Sb=document.createElement('div');Sb.setAttribute('id',id);Sb.setAttribute('style','DISPLAY:none;');document.body.appendChild(Sb);};function iapiCreateIframe(Tb,Ub){var l=document.getElementById(Tb);if(document.getElementById(Ub)){if(Ub==iapiIframename+'_'+iapiGetLoggedInPlayerRequestIdReal||Ub==iapiIframename+'_'+iapiGetLoggedInPlayerRequestIdFun){return true;}
l.removeChild(document.getElementById(Ub));}
var Vb;try{Vb=document.createElement("<iframe name='"+Ub+"'>");}
catch(err){Vb=document.createElement('iframe');};Vb.setAttribute('id',Ub);Vb.setAttribute('name',Ub);Vb.setAttribute('style','DISPLAY: none; LEFT: 0px; POSITION: absolute; TOP: 0px');Vb.setAttribute('width','0px');Vb.setAttribute('height','0px');Vb.setAttribute('border','0px');Vb.setAttribute('frameborder','0');Vb.setAttribute('src','javascript:false;');l.appendChild(Vb);return false;};function iapiPost(Wb,Xb,Yb){var Zb="<html><head></head><body><form id='formid' target='"+Wb+"' method='POST' action='"+Xb+"'>";var $b;for($b in Yb){if(typeof(Yb[$b])!='function'){Zb+="<input type='hidden' name='"+$b+"' value='"+Yb[$b]+"'>";};};Zb+="</form><script type='text/javascript'>setTimeout(function(){document.getElementById('formid').submit();},100);</script></body></html>";iapiPostWindow(Wb,Zb);};function iapiPostWindow(ac,bc){var cc=document.getElementById(ac);if(cc){try{cc.contentWindow.document.open();cc.contentWindow.document.write(bc);cc.contentWindow.document.close();}
catch(e){var s="<script>document.domain='"+document.domain+"';</script>"+bc;var u="javascript:'<script>window.onload=function(){var ed=\\'"+escape(escape(s))+"\\';document.write(unescape(ed));document.close();};<\/script>'";cc.src=u;};};};function iapiMakeRedirectRequest(dc,ec,fc,gc){if(!gc){gc=[];}
else if(gc.length>=iapiConf['loginDomainRetryCount']){return false;};var hc=iapiConf['loginServer'].split('|');if(gc.length<hc.length){var i;for(i in gc){var s=gc[i];var j;for(j in hc){if(hc[j]==s&&typeof(hc[j])==='string'){hc.splice(j,1);break;}}}}
var ic=hc[Math.floor(Math.random()*hc.length)];gc.push(ic);requestUrl='https://'+ic+'/'+dc;var jc=(new Date().getTime())+Math.round(Math.random()*1000000);if(fc==iapiCALLOUT_GETLOGGEDINPLAYER){if(dc.indexOf('realMode=1')>0){jc=iapiGetLoggedInPlayerRequestIdReal;}
else{jc=iapiGetLoggedInPlayerRequestIdFun;}};if(iapiConf['redirectUrl']&&fc!=iapiCALLOUT_MESSAGES){requestUrl+='&redirectUrl='+escape(location.protocol+'//'+location.hostname+(location.port?':'+location.port:'')+iapiConf['redirectUrl']+'#requestId='+jc);}
else{requestUrl+='&cacheBreaker='+(new Date().getTime());};var kc=setTimeout('iapiRequestFailed('+jc+')',iapiConf['loginDomainRequestTimeout']*1000);iapiRegisterRequestId(jc,fc,kc,gc,dc,ec);if(iapiGWMode){requestUrl=iapiMakeGWRequestUrl(jc,dc);iapiCallGW(jc,requestUrl);return true;}
if(fc==iapiCALLOUT_MESSAGES){iapiWaitingMessagesId=jc;iapiJsonp(requestUrl,'iapiCallbackWaitingMessages');}
else{var lc=iapiIframename+'_'+jc;iapiCreateDiv(iapiDivname);var mc=iapiCreateIframe(iapiDivname,lc);if(!iapiMessagesSupported){initMessageListener();};if(iapiMessagesSupported){requestUrl+='&messagesSupported=1';if(mc&&iapiMessagesAnswered){var nc=document.getElementById(lc);if(nc.contentWindow.postMessage){nc.contentWindow.postMessage(fc,"https://"+ic);return true;};};};if(ec){iapiPost(lc,requestUrl,ec);}
else{iapiGet(lc,requestUrl);};};return true;};function iapiJsonp(oc,pc){scriptElement=document.createElement('SCRIPT');scriptElement.type='text/javascript';scriptElement.src=oc+'&jsoncallback='+pc+'&responseType=json';document.getElementsByTagName('HEAD')[0].appendChild(scriptElement);};function iapiGet(qc,rc){var sc=document.getElementById(qc);if(sc){sc.src=rc;};};function iapiAddUrlParams(tc,uc){if(tc.indexOf('?')>0){tc+='&';}
else{tc+='?';};return tc+uc;};function iapiLoginFailedActions(vc){iapiPassword=null;iapiLoginSuccess=false;iapiSessionValid=0;var wc=vc.errorCode;iapiWriteClientCookie('loginSuccess=0&errorCode='+wc,iapiRealMode);if(iapiCalloutFunctions['login']){setTimeout(function(){iapiCalloutFunctions['login'](0,0,wc,iapiRealMode);},iapiEVENT_TIMER);};if(iapiCalloutFunctions[iapiCALLOUT_LOGIN]){setTimeout(function(){iapiCalloutFunctions[iapiCALLOUT_LOGIN](vc);},iapiEVENT_TIMER);};if(iapiLoginModeDownload){iapiDownloadHtcmd(0,0,wc,'');};iapiCheckNextLogin();}
function iapiTokenFailedActions(xc){if(iapiCalloutFunctions['temporarytoken']){setTimeout(function(){iapiCalloutFunctions['temporarytoken'](0,null);},iapiEVENT_TIMER);};if(iapiCalloutFunctions[iapiCALLOUT_TEMPORARYTOKEN]){setTimeout(function(){iapiCalloutFunctions[iapiCALLOUT_TEMPORARYTOKEN](xc);},iapiEVENT_TIMER);};if(iapiLoginModeDownload){iapiDownloadHtcmd(1,iapiSessionValid,0,'');};};function iapiCheckNextLogin(){if(iapiNextLogin!=null){var yc=iapiNextLogin[0];var zc=iapiNextLogin[1];var Ac=iapiNextLogin[2];var Bc=iapiNextLogin[3];iapiNextLogin=null;setTimeout(function(){iapiLogin(yc,zc,Ac,Bc);},iapiEVENT_TIMER);};};function iapiDownloadHtcmd(Cc,Dc,Ec,Fc){if(Cc&&Fc){var Gc='htcmd:login?';Gc=Gc+'username='+encodeURIComponent(iapiUsername);Gc=Gc+'&password='+encodeURIComponent(Fc);Gc=Gc+'&realmode='+iapiRealMode;Gc=Gc+'&type='+3;document.location=Gc;};};function iapiRedirectCallback(Hc){var Ic=String(Hc['requestId']);var Jc=Hc['requestReady'];if(Jc){iapiSendToGWSucceeded(Ic);return;};var Kc=iapiGetRequest(Ic);if(!Kc){return;};var Lc=Kc[1];var Mc=null;try{Mc=JSON.parse(Hc['redirectResponse']);}
catch(err){};if(Mc==null){try{Mc=eval('('+Hc['redirectResponse']+')');}
catch(err){};};var Nc={"errorCode":6,"errorText":"Invalid response.","playerMessage":""};if(Mc){if(Mc.errorCode){Nc={"errorCode":Mc.errorCode,"errorText":Mc.errorText,"playerMessage":Mc.playerMessage};}
else{Nc=null;}}
else{Mc=Nc;}
if(Nc&&Nc.errorCode==6){if(Kc[3].length<iapiConf['loginDomainRetryCount']){var Ic=(new Date().getTime())+Math.round(Math.random()*1000000);var Oc=setTimeout('iapiRequestFailed('+Ic+')',iapiConf['loginDomainRetryInterval']*1000);iapiRegisterRequestId(Ic,Lc,Oc,Kc[3],Kc[4],Kc[5]);return;}}
if(Lc==iapiCALLOUT_LOGIN){if(Nc==null){iapiPassword=null;iapiLoginSuccess=true;iapiError=null;iapiSessionValid=1;var Pc=Mc.sessionValidationData;if(Pc){iapiSessionValid=0;};var Qc='loginSuccess=1&sessionValid='+iapiSessionValid+'&loginDomain='+iapiConf['loginServer'];iapiWriteClientCookie(Qc,iapiRealMode);if(iapiCalloutFunctions['login']){setTimeout(function(){iapiCalloutFunctions['login'](1,iapiSessionValid,0,iapiRealMode);},iapiEVENT_TIMER);};if(iapiCalloutFunctions[iapiCALLOUT_LOGIN]){setTimeout(function(){iapiCalloutFunctions[iapiCALLOUT_LOGIN](Mc);},iapiEVENT_TIMER);};if(iapiLoginModeDownload){if(iapiSessionValid){iapiRequestTemporaryToken(iapiRealMode);}
else{iapiDownloadHtcmd(1,0,0,'');};}
else if(iapiLoginModeFlash){if(iapiSessionValid){var Rc='real';if(!iapiRealMode){Rc='fun';}
iapiLaunchClient(iapiFlashLoginClientType,iapiFlashLoginGameType,Rc);}
else{iapiRedirectToWeblogin();};};iapiCheckNextLogin();}
else{iapiError=Nc;iapiLoginFailedActions(Mc);};}
else if(Lc==iapiCALLOUT_TEMPORARYTOKEN){if(Nc==null&&Mc.sessionToken&&Mc.sessionToken.sessionToken){if(iapiCalloutFunctions['temporarytoken']){setTimeout(function(){iapiCalloutFunctions['temporarytoken'](1,Mc.sessionToken.sessionToken);},iapiEVENT_TIMER);};if(iapiCalloutFunctions[iapiCALLOUT_TEMPORARYTOKEN]){setTimeout(function(){iapiCalloutFunctions[iapiCALLOUT_TEMPORARYTOKEN](Mc);},iapiEVENT_TIMER);};if(iapiLoginModeDownload){iapiDownloadHtcmd(1,1,0,Mc.sessionToken.sessionToken);};}
else{iapiTokenFailedActions(Mc);};}
else if(iapiCalloutFunctions[Lc]){setTimeout(function(){iapiCalloutFunctions[Lc](Mc);},iapiEVENT_TIMER);};};function iapiRequestFailed(Sc){var Tc=iapiGetRequest(Sc);if(!Tc){return;};var Uc=Tc[1];if(iapiMakeRedirectRequest(Tc[4],Tc[5],Uc,Tc[3])){return;}
var Vc={"errorCode":6,"errorText":"Request timed out.","playerMessage":""};if(Uc==iapiCALLOUT_LOGIN){if(iapiCalloutFunctions[iapiCALLOUT_LOGIN]){iapiLoginFailedActions(Vc);};}
else if(Uc==iapiCALLOUT_TEMPORARYTOKEN){if(iapiCalloutFunctions[iapiCALLOUT_TEMPORARYTOKEN]){iapiTokenFailedActions(Vc);};}
else if(iapiCalloutFunctions[Uc]){setTimeout(function(){iapiCalloutFunctions[Uc](Vc);},iapiEVENT_TIMER);};};function iapiRegisterRequestId(Wc,Xc,Yc,Zc,$c,ad){iapiRequestIds.push([Wc,Xc,Yc,Zc,$c,ad]);};function iapiGetRequest(bd){var i;for(i in iapiRequestIds){arr=iapiRequestIds[i]
if(arr[0]==bd){iapiRequestIds.splice(i,1);if(arr[2]){clearTimeout(arr[2]);}
var cd=document.getElementById(iapiIframename+'_'+bd);if(cd&&bd!=iapiGetLoggedInPlayerRequestIdReal&&bd!=iapiGetLoggedInPlayerRequestIdFun){document.getElementById(iapiDivname).removeChild(cd);};return arr;};};return null;};function iapiClearRedirectRequests(dd,ed){var i=0;while(i<iapiRequestIds.length){arr=iapiRequestIds[i];if(arr[1]==dd){var rm=0;if(arr[4].indexOf('realMode=1')>0){rm=1;}
if(rm==ed){iapiRequestIds.splice(i,1);if(arr[2]){clearTimeout(arr[2]);}
var fd=document.getElementById(iapiIframename+'_'+arr[0]);if(fd){document.getElementById(iapiDivname).removeChild(fd);};continue;}};i++;};};function iapiHasRedirectRequest(gd){var i=0;while(i<iapiRequestIds.length){arr=iapiRequestIds[i]
if(arr[1]==gd){return true;};i++;};return false;};function initMessageListener(){if(iapiConf['useMessages']=='1'&&window.postMessage){if(window.addEventListener){window.addEventListener('message',iapiOnMessage,false);iapiMessagesSupported=true;}
else{if(window.attachEvent){window.attachEvent('onmessage',iapiOnMessage);iapiMessagesSupported=true;};};};};function iapiOnMessage(e){if(e.origin=="https://"+iapiConf['loginServer']){var hd=e.data;var jd=hd.split("&");var kd=[];for(var i=0;i<jd.length;i++){var ld=jd[i].indexOf("=");if(ld>0){kd[jd[i].substring(0,ld)]=decodeURIComponent(jd[i].substring(ld+1).replace(/\+/g,'%20'));};};if(document.getElementById(iapiDivname)){for(i=0;i<document.getElementById(iapiDivname).childNodes.length;i++){if(document.getElementById(iapiDivname).childNodes[i].contentWindow==e.source){var md=document.getElementById(iapiDivname).childNodes[i].id.split('_');if(md.length>0){kd['requestId']=md[1];};break;};};};iapiMessagesAnswered=true;iapiRedirectCallback(kd);};};function iapiRedirectToWeblogin(){}
var iapiGWWaitingCalls=[];var iapiGWTimer=1;var iapiGWId=(new Date().getTime())+Math.round(Math.random()*10000);var iapiGWRedirectIframe='gwredirect_'+iapiGWId;var iapiGWMode=false;var iapiGWCreated=false;if(iapiConf['gwUrl']){iapiGWMode=true;}
function iapiCreateGW(){iapiCreateDiv(iapiDivname);iapiCreateIframe(iapiDivname,iapiIframename+'gw'+'_'+iapiGWId);var nd=iapiConf['gwUrl'];nd+='#redirectUrl='+escape(location.protocol+'//'+location.hostname+iapiConf['redirectUrl']+'#');nd+='&iframeName='+iapiGWId;iapiGet(iapiIframename+'gw'+'_'+iapiGWId,nd);}
function iapiCallGW(od,pd){if(!iapiGWCreated){iapiGWCreated=true;iapiCreateGW();}
iapiGWWaitingCalls.push([od,pd]);iapiSendToGW();}
function iapiEncodeGWJson(qd,rd){if(rd==1){qd.realMode=1;}
else{qd.realMode=0;};qd.casinoName=iapiConf['casinoname'];var sd=null;try{sd=JSON.stringify(qd);}
catch(err){};if(sd==null){try{sd=iapiJsonStringify(qd);}
catch(err){};};var td=encodeURIComponent(sd);return td;};function iapiMakeGWRequestUrl(ud,vd){var wd=iapiConf['gwRedirectUrl'];wd+='#jsonObject='+vd;wd+='&UUID='+ud;return wd;};function iapiSendToGW(){if(iapiGWTimer){return;};if(iapiGWWaitingCalls.length>0){var xd=iapiGWWaitingCalls[0];iapiGWWaitingCalls.splice(0,1);var yd=xd[0];var zd=xd[1];iapiGWTimer=setTimeout('iapiSendToGWFailed('+0+')',10000);setTimeout(function(){window.open(zd,iapiGWRedirectIframe);},10);};};function iapiSendToGWFailed(id){iapiGWTimer=0;iapiSendToGW();};function iapiSendToGWSucceeded(id){clearTimeout(iapiGWTimer);iapiGWTimer=0;iapiSendToGW();};function iapiJsonStringify(Ad){var t=typeof(Ad);if(t!="object"||Ad===null){if(t=="string")Ad='"'+Ad+'"';return String(Ad);}
else{var n,v,json=[],arr=(Ad&&Ad.constructor==Array);for(n in Ad){v=Ad[n];t=typeof(v);if(t=="string")v='"'+v+'"';else if(t=="object"&&v!==null)v=JSON.stringify(v);json.push((arr?"":'"'+n+'":')+String(v));}
return(arr?"[":"{")+String(json)+(arr?"]":"}");}};